/*! For license information please see 29.9e34b1b7f5.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[29,2,9,11],{101:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=(e,t,n,a="text/plain")=>{const r=((e,t)=>`${e.trim().toLowerCase().replace(/\s/g,"_")}${t}`)(t,n),s=new Blob([e],{type:a}),i=document.createElement("a");i.href=window.URL.createObjectURL(s),i.target="_blank",i.download=r,document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)},r=(e,t)=>{const n=document.createElement("a");"string"==typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y}));var a=n(2),r=n.n(a),s=n(199),i=n(54),o=n(48),l=n(15),c=n.n(l),u=n(5),d=n(3);var m=({loading:e})=>{const[t,n]=Object(a.useState)(!1),[s,i]=Object(a.useState)(0),o=c()("view-loading-spinner--timer",{visible:s>5});return Object(a.useEffect)(()=>{(e===u.RemoteDataState.Done||u.RemoteDataState.Error)&&(i(0),n(!1)),e===u.RemoteDataState.Loading&&n(!0)},[e]),Object(a.useEffect)(()=>{let e=null;return t?e=setInterval(()=>{i(e=>e+.1)},100):t||0===s||clearInterval(e),()=>clearInterval(e)},[t,s]),e===u.RemoteDataState.Loading?r.a.createElement("div",{className:"view-loading-spinner"},r.a.createElement(d.TechnoSpinner,{diameterPixels:66,strokeWidth:d.ComponentSize.Medium}),r.a.createElement("div",{className:o},`${Math.round(10*s)/10}s`)):null};const p=({properties:e,result:t,loading:n,error:i,isInitial:l,timeRange:c,annotations:u,cellID:d})=>{var m,p;if(!(null===(m=x[e.type])||void 0===m?void 0:m.component))throw new Error("Unknown view type in <View /> ");const h="check"!==e.type&&e.showNoteWhenEmpty?e.note:null,g=!!(null===(p=null==t?void 0:t.table)||void 0===p?void 0:p.length);return r.a.createElement(s.b,{loading:n,errorMessage:i,errorFormat:s.a.Scroll,hasResults:g,isInitialFetch:l||!1,fallbackNote:h},Object(a.createElement)(x[e.type].component,{result:t,properties:e,timeRange:c||o.b,annotations:u,cellID:d}))};var h=e=>r.a.createElement(i.a,null,r.a.createElement(m,{loading:e.loading||u.RemoteDataState.Done}),r.a.createElement(p,Object.assign({},e)));var g=({properties:e,results:t,update:n})=>{if(x[e.type].options)return r.a.createElement(i.a,null,r.a.createElement("div",{className:"view-options"},Object(a.createElement)(x[e.type].options,{properties:e,results:t,update:n})))},f=n(82),b=n(23);var y=({viewType:e,onUpdateType:t,filter:n=[]})=>{const a=Object.values(x).filter(e=>!n.includes(e.type)).filter(e=>!e.disabled).filter(e=>!e.featureFlag||Object(b.c)(e.featureFlag)).filter(e=>e.options).sort((e,t)=>e.name.localeCompare(t.name)).map(n=>r.a.createElement(d.Dropdown.Item,{key:`view-type--${n.type}`,testID:`view-type--${n.type}`,value:n.type,onClick:t,selected:n.type===e},r.a.createElement("div",{className:"view-type-dropdown--graphic"},n.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},n.name)));return r.a.createElement(d.Dropdown,{style:{width:"215px"},className:"view-type-dropdown",testID:"view-type--dropdown",button:(t,n)=>{var a,s;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n,status:"check"===e?f.d.Disabled:f.d.Valid},r.a.createElement("div",{className:"view-type-dropdown--graphic"},null===(a=x[e])||void 0===a?void 0:a.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},null===(s=x[e])||void 0===s?void 0:s.name))},menu:e=>r.a.createElement(d.Dropdown.Menu,{onCollapse:e,theme:d.DropdownMenuTheme.Onyx},a)})};const x=(()=>{const e={},t=n(250);return t.keys().forEach(n=>{t(n).default(t=>{e[t.type]=t})}),e})()},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>{const t=Object(a.useRef)(!0),[n,r]=Object(a.useState)(e);return Object(a.useEffect)(()=>{t.current?t.current=!1:r(e)},[e]),[n,r]}},110:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return D})),n.d(t,"b",(function(){return I}));var a=n(25),r=n(16),s=n(46),i=n(5),o=n(211),l=n(39),c=n(9),u=n(13),d=n(6),m=n(23),p=n(185),h=n(11),g=n(40),f=n(12);let b=null,y=null,x=null;d.f&&(b=n(41).getBucketsSchemaMeasurements,y=n(41).MeasurementSchemaCreateRequest,x=n(41).postBucketsSchemaMeasurement);const v=()=>async(e,t)=>{try{const n=t();Object(u.h)(n,i.ResourceType.Buckets)===i.RemoteDataState.NotStarted&&e(Object(p.h)(i.RemoteDataState.Loading));const a=Object(c.a)(n);let r;r=Object(m.c)("fetchAllBuckets")?await Object(o.a)(a.id,-1):await Object(o.a)(a.id),e(Object(p.h)(i.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(p.h)(i.RemoteDataState.Error)),e(Object(h.c)(Object(f.Ob)()))}},w=e=>async(t,n)=>{try{const i=Object(c.a)(n()),o=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:i.id})});if(201!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data,s.i);t(Object(p.e)(l)),t(Object(g.b)())}catch(e){console.error(e);const n=Object(l.b)(e);t(Object(h.c)(Object(f.C)(n)))}},k=(e,t,n)=>async(i,o)=>{try{const l=Object(c.a)(o()),u=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:l.id})});if(201!==u.status)throw new Error(u.data.message);const d=Object(a.a)(u.data,s.i);i(Object(p.e)(d)),i(Object(g.b)()),n&&n.length&&n.forEach(e=>{j(u.data.id,e,l.id,u.data.name,i)}),t(d.entities.buckets[u.data.id])}catch(e){console.error(e);const t=Object(l.b)(e);i(Object(h.c)(Object(f.C)(t)))}},E=e=>async()=>{try{const t=await b({bucketID:e});if(200!==t.status)throw new Error(t.data.message);return t.data}catch(e){return console.error("error while retrieving schemas",e),null}},S=e=>async(t,n)=>{try{const i=n(),o=N(i,e),l=await r.patchBucket({bucketID:e.id,data:o});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,s.i);t(Object(p.f)(c)),t(Object(h.c)(Object(f.I)(e.name)))}catch(e){console.error(e);const n=Object(l.b)(e);t(Object(h.c)(Object(f.H)(n)))}},C=(e,t)=>async(n,i)=>{try{const e=i(),o=N(e,t),l=await r.patchBucket({bucketID:t.id,data:o});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,s.i);n(Object(p.f)(c)),n(Object(h.c)(Object(f.G)(t.name)))}catch(t){console.error(t),n(Object(h.c)(Object(f.F)(e)))}},T=(e,t)=>async n=>{try{const t=await r.deleteBucket({bucketID:e});if(204!==t.status)throw new Error(t.data.message);n(Object(p.g)(e)),n(Object(g.b)())}catch(e){console.error(e),n(Object(h.c)(Object(f.E)(t)))}},O=(e,t)=>async n=>{try{const i=await r.postBucketsLabel({bucketID:e,data:{labelID:t.id}});if(201!==i.status)throw new Error(i.data.message);const o=await r.getBucket({bucketID:e});if(200!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data,s.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(f.o)()))}},D=(e,t)=>async n=>{try{const i=await r.deleteBucketsLabel({bucketID:e,labelID:t.id});if(204!==i.status)throw new Error(i.data.message);const o=await r.getBucket({bucketID:e});if(200!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data,s.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(f.Vc)()))}};async function j(e,t,n,a,r){var s;const i={bucketID:e,data:t,query:{orgID:n}};try{const e=await x(i);if(201!==e.status){const t=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.message;throw console.error("error adding measurement schema:",e),new Error(t)}r(Object(h.c)(Object(f.vc)(a,t.name)))}catch(e){console.error(e);const n=Object(l.b)(e);r(Object(h.c)(Object(f.uc)(a,t.name,n)))}}const I=(e,t,n,a)=>r=>{j(e,a,t,n,r)},N=(e,t)=>{const n=Object(u.g)(e,t.labels);return Object.assign(Object.assign({},t),{labels:n})}},111:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return I})),n.d(t,"c",(function(){return N})),n.d(t,"n",(function(){return _})),n.d(t,"j",(function(){return R})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return M})),n.d(t,"a",(function(){return F})),n.d(t,"d",(function(){return $})),n.d(t,"l",(function(){return L}));var a=n(214),r=n(8),s=n(12),i=n(25),o=n(7),l=n(137),c=n(16),u=n(5),d=n(55),m=n(9),p=n(13),h=n(108),g=n(26),f=n(37),b=n(176),y=n(185),x=n(11),v=n(53),w=n(28),k=n(46);const E=e=>t=>{a.a.cancelFindValues(e),a.a.cancelFindKeys(e),t(Object(b.b)(e)),t(C(e))},S=e=>async(t,n)=>{const s=Date.now(),i=n(),{buckets:l,tags:c}=Object(g.c)(i).builderConfig,d=c.slice(0,e);if(!l[0])return;const f=l[0],y=Object(p.a)(i,u.ResourceType.Buckets).find(e=>e.name===f),x=Object(o.get)(y,"orgID",Object(m.a)(n()).id);t(Object(b.n)(e,u.RemoteDataState.Loading));try{const o=Object(h.c)(i),l=Object(g.c)(n()).builderConfig.tags[e].key,u=Object(g.d)(n()).queryBuilder.tags[e].valuesSearchTerm,m=await a.a.findValues(e,{url:"/api/v2/query",orgID:x,bucket:f,tagsSelections:d,key:l,searchTerm:u,timeRange:o}),{values:p}=c[e];for(const e of p)m.includes(e)||m.unshift(e);t(Object(b.l)(e,m)),t(C(e+1)),Object(r.a)("loadTagSelectorValues function",{time:s},{duration:Date.now()-s})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(b.n)(e,u.RemoteDataState.Error))}},C=e=>async(t,n)=>{const s=Date.now(),{buckets:i,tags:l}=Object(g.c)(n()).builderConfig;if(!l[e]||!i[0])return;t(Object(b.k)(e,u.RemoteDataState.Loading));const c=n(),d=l.slice(0,e),f=i[0],y=Object(p.a)(n(),u.ResourceType.Buckets).find(e=>e.name===f),x=Object(o.get)(y,"orgID",Object(m.a)(n()).id);try{const n=Object(h.c)(c),i=Object(g.d)(c).queryBuilder.tags[e].keysSearchTerm,o=await a.a.findKeys(e,{url:"/api/v2/query",orgID:x,bucket:f,tagsSelections:d,searchTerm:i,timeRange:n}),{key:u}=l[e];if(u)o.includes(u)||o.unshift(u);else{let n;n=0===e&&o.includes("_measurement")?"_measurement":o[0],t(Object(b.i)(e,n))}t(Object(b.j)(e,o)),t(S(e)),Object(r.a)("loadTagSelector function",{time:s},{duration:Date.now()-s})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(b.k)(e,u.RemoteDataState.Error))}},T=()=>async(e,t)=>{Object(p.h)(t(),u.ResourceType.Buckets)===u.RemoteDataState.NotStarted&&e(Object(y.h)(u.RemoteDataState.Loading));const n=Date.now(),a=Object(m.a)(t()).id;e(Object(b.h)(u.RemoteDataState.Loading));try{const s=await c.getBuckets({query:{orgID:a,limit:v.c}});if(200!==s.status)throw new Error(s.data.message);const o=await Object(l.b)(),d=Object(i.a)([...s.data.buckets,...o],k.a);e(Object(y.h)(u.RemoteDataState.Done,d));const m=[...s.data.buckets,...o].map(e=>e.name),p=m.filter(e=>e.startsWith("_")),h=[...m.filter(e=>!e.startsWith("_")),...p],f=Object(g.c)(t()).builderConfig.buckets[0];e(Object(b.g)(h)),f&&h.includes(f)?e(j(f)):e(j(h[0],!0)),Object(r.a)("loadBuckets function",{time:n},{duration:Date.now()-n})}catch(t){if("CancellationError"===t.name)return;console.error(t),e(Object(b.h)(u.RemoteDataState.Error))}},O=e=>(t,n)=>{if("custom"===e){const e=Object(g.n)(n());t(Object(b.d)(e))}"auto"===e&&t(Object(b.d)(w.a))},D=e=>t=>{t(Object(b.d)(e)),t(Object(d.i)(e))},j=(e,t=!1)=>n=>{n(Object(b.f)(e,t)),n(C(0))},I=(e,t)=>(n,a)=>{const r=a(),{timeMachines:{activeTimeMachineID:s}}=r,i=Object(g.c)(r).builderConfig.tags,o=i[e],l=o.values;let c;c=l.includes(t)?l.filter(e=>e!==t):"alerting"===s&&"_field"===o.key?[t]:[...l,t],n(Object(b.m)(e,c)),"group"!==o.aggregateFunctionType&&(e===i.length-1&&c.length?n(F()):n(C(e+1)))},N=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(g.d)(n()),i=a[r].builderConfig.functions,o=i.map(e=>e.name);o.includes(e)?i.length>1?t(Object(b.p)(o.filter(t=>t!=e))):t(Object(x.c)(Object(s.Rc)())):t(Object(b.p)([...o,e]))},_=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(g.d)(n()),s=a[r].builderConfig.functions,i=s.map(e=>e.name);i.includes(e)?s.length>1&&t(Object(b.p)(i.filter(t=>t!=e))):t(Object(b.p)([e]))},R=(e,t)=>n=>{n(Object(b.i)(e,t)),n(S(e))},A=e=>t=>{t(S(e))},M=e=>t=>{t(C(e))},F=()=>(e,t)=>{e(Object(b.a)());const n=Object(g.c)(t()).builderConfig.tags.length-1;e(C(n))},$=()=>e=>{e(Object(b.o)(u.RemoteDataState.Loading)),e(C(0))},L=e=>(t,n)=>{Object(p.a)(n(),u.ResourceType.Buckets).find(t=>t.name===e)&&(t(Object(f.d)()),t(Object(b.f)(e,!0)))}},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),s=n(369),i=n.n(s),o=n(6);const l=()=>o.A,c=({src:e,alt:t})=>r.a.createElement("div",null,r.a.createElement("img",{src:e,alt:t})),u=({className:e="",text:t})=>o.f?r.a.createElement(i.a,{className:e,components:{img:l}},t):r.a.createElement(i.a,{className:e,components:{img:c}},t)},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return E}));var a=n(2),r=n.n(a),s=n(4),i=n(60),o=n(79),l=n(9),c=n(110),u=n(221),d=n(13),m=n(22),p=n(588),h=n(48),g=n(291),f=n(162),b=n(5);const y={basic:(e,t)=>{},query:(e,t)=>Promise.resolve({}),cancel:e=>{}},x=r.a.createContext(y),v=(e,t,n=[])=>e?(t(e)&&n.push(e),Object.values(e).forEach(e=>{Array.isArray(e)?e.forEach(e=>{v(e,t,n)}):"object"==typeof e&&v(e,t,n)}),n):n,w=(e,t,n=[])=>e?(Object.entries(e).forEach(([a,r])=>{if(Array.isArray(r)){let e=0;for(;e<r.length;)t(r[e])?(n.push(r[e]),r.splice(e,1)):(w(r[e],t,n),e++)}else"object"==typeof r&&(r&&t(r)?delete e[a]:w(r,t,n))}),n):n,k=(e,t={},n={})=>v(e,e=>{var t;return"MemberExpression"===(null==e?void 0:e.type)&&"v"===(null===(t=null==e?void 0:e.object)||void 0===t?void 0:t.name)}).map(e=>e.property.name).reduce((e,n)=>e.hasOwnProperty(n)?e:t[n]?(e[n]=t[n],"query"===e[n].arguments.type&&k(Object(o.parse)(e[n].arguments.values.query),t,e),e):(e[n]=null,e),n),E=(e,t={})=>{try{const n=Object(o.parse)(e),a=k(n,t),r=Object.values(a).reduce((e,t)=>{var n;let a;if(!t)return e;if(t.id===f.e)return e[t.id]=((null===(n=t.arguments)||void 0===n?void 0:n.values)||[1e4])[0]+"ms",e;if(t.id===f.c||t.id===f.d){const n=t.arguments.values[0];return isNaN(Date.parse(n))?"string"==typeof n?(n&&(e[t.id]=n),e):(a="-"+n[0].magnitude+n[0].unit,"-"!==a&&(e[t.id]=a),e):(e[t.id]=new Date(n).toISOString(),e)}if("map"===t.arguments.type)return a=t.arguments.values[t.selected?t.selected[0]:Object.keys(t.arguments.values)[0]],a&&(e[t.id]=a),e;if("constant"===t.arguments.type)return a=t.selected?t.selected[0]:t.arguments.values[0],a&&(e[t.id]=a),e;if("query"===t.arguments.type){if(!t.selected||!t.selected[0])return;return e[t.id]=t.selected[0],e}return e},{}),s=w(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),i=Object.keys(a).reduce((e,t)=>(r.hasOwnProperty(t)&&(e[t]=r[t]),s.hasOwnProperty(t)&&(e[t]=s[t]),e),{}),l=Object.entries(i).map(([e,t])=>`${e}: ${t}`).join(",\n"),c=Object(o.parse)(`option v = {\n${l}\n}\n`);l.length&&n.body.unshift(c.body[0]);const u=w(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reverse().reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});if(Object.keys(u).length){const e=Object.entries(u).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(o.parse)(`option task = {\n${e}\n}\n`);n.body.unshift(t.body[0])}return a.hasOwnProperty("windowPeriod")&&((e,t)=>{const n=v(e,e=>{var t,n;return"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"range"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)}).map(t=>{var n;return((null===(n=t.arguments[0])||void 0===n?void 0:n.properties)||[]).reduce((t,n)=>("start"===n.key.name&&(t.start=Object(p.b)(e,n.value,Date.now())),"stop"===n.key.name&&(t.stop=Object(p.b)(e,n.value,Date.now())),t),{start:"",stop:Date.now()})});if(!n.length)return void t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:15e3,unit:"ms"}]}});const a=n.map(e=>e.start),r=n.map(e=>e.stop),s=a.map(e=>r.map(t=>[e,t])),i=[].concat(...s).map(([e,t])=>t-e).filter(e=>e>0),o=Math.min(...i),l=h.d.find(e=>1e3*e.seconds===o);l?t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:l.windowPeriod,unit:"ms"}]}}):t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:Math.round(o/360),unit:"ms"}]}})})(n,c),Object(o.format_from_js_file)(n)}catch(e){return""}};t.b=({children:e})=>{const t=Object(s.e)(e=>Object(u.b)(e)),n=Object(s.e)(e=>Object(d.h)(e,b.ResourceType.Buckets)),[p,h]=Object(a.useState)({}),f=Object(s.e)(l.a),y=Object(s.d)();Object(a.useEffect)(()=>{n===b.RemoteDataState.NotStarted&&y(Object(c.h)())},[n,y]),Object(a.useEffect)(()=>()=>{Object.values(p).forEach(e=>e())},[]);const w=(e,n)=>{const a=E(e,(null==n?void 0:n.vars)||{}),r=(null==n?void 0:n.org)||(e=>{var n;const a=v(e,e=>{var t,n,a,r,s;return"CallExpression"===(null==e?void 0:e.type)&&"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"from"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)&&"bucket"===(null===(s=null===(r=null===(a=null==e?void 0:e.arguments[0])||void 0===a?void 0:a.properties[0])||void 0===r?void 0:r.key)||void 0===s?void 0:s.name)}).map(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.arguments[0])||void 0===t?void 0:t.properties[0])||void 0===n?void 0:n.value.value});return(null===(n=t.find(e=>a.includes(e.name)))||void 0===n?void 0:n.orgID)||f.id})(Object(o.parse)(a)),s=`${(null==n?void 0:n.region)||window.location.origin}/api/v2/query?${new URLSearchParams({orgID:r})}`,l={"Content-Type":"application/json","Accept-Encoding":"gzip"};(null==n?void 0:n.token)&&(l.Authorization=`Token ${n.token}`);const c={query:a,dialect:{annotations:["group","datatype","default"]}},u=new AbortController,d=Object(i.v4)(),m=fetch(s,{method:"POST",headers:l,body:JSON.stringify(c),signal:u.signal}).then(e=>{if(200===e.status)return e.text().then(e=>(p[d]&&(delete p[d],h(Object.assign({},p))),{type:"SUCCESS",csv:e,bytesRead:e.length,didTruncate:!1}));if(e.status===g.d){const t=e.headers.get("Retry-After");return Promise.resolve({type:"RATE_LIMIT_ERROR",retryAfter:t?parseInt(t):null,message:g.e})}return e.text().then(e=>{try{const t=JSON.parse(e);return{type:"UNKNOWN_ERROR",message:t.message||t.error,code:t.code}}catch(e){return{type:"UNKNOWN_ERROR",message:"Failed to execute Flux query"}}})}).catch(e=>"AbortError"===e.name?Promise.reject(new b.CancellationError):Promise.reject(e));return p[d]=()=>{u.abort()},h(Object.assign({},p)),{id:d,promise:m,cancel:()=>{k(d)}}},k=e=>{if(!e)return Object.values(p).forEach(e=>e()),void h({});p.hasOwnProperty(e)&&(p[e](),delete p[e],h(p))};return n!==b.RemoteDataState.Done?null:r.a.createElement(x.Provider,{value:{query:(e,t)=>w(e,t).promise.then(e=>{if("SUCCESS"!==e.type)throw new Error(e.message);return e}).then(t=>new Promise((n,a)=>{requestAnimationFrame(()=>{try{const a=Object(m.fromFlux)(t.csv);n({source:e,parsed:a,error:null})}catch(e){a(e)}})})),cancel:k,basic:w}},e)}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),r=n(393),s=n.n(r),i=n(36);const o=e=>{const[t,n,a]=s()(e).rgb();return(t+n+a)/3>128?"#292933":"#ffffff"},l=(e,t)=>{const n=Object(a.sortBy)(e,e=>Number(e.value));return t<0?n[0]:n.filter(e=>t>=e.value).pop()},c=({colors:e,lastValue:t,cellType:n="line"})=>{const a={bgColor:null,textColor:"table"===n?"#BEC2CC":i.l[11].hex},r=Number(t)||0;if(!e||!e.length)return a;const s=e.find(e=>e.id===i.a)||{hex:a.textColor};if(!t&&0!==t)return Object.assign(Object.assign({},a),{textColor:s.hex});if("line-plus-single-stat"===n)return s?{bgColor:null,textColor:s.hex}:a;const c=!!e.find(e=>e.type===i.n);if(c&&1===e.length&&s)return{bgColor:null,textColor:s.hex};if(c&&1===e.length)return a;if(c&&e.length>1){return{bgColor:null,textColor:l(e,r).hex}}if(1===e.length)return{bgColor:s.hex,textColor:o(s.hex)};if(e.length>1){const t=l(e,r),n=t?t.hex:s.hex;return{bgColor:n,textColor:o(n)}}return{bgColor:null,textColor:s.hex}}},1214:function(e,t,n){var a=n(2209);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},122:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(34),i=n(3),o=n(169),l=n(19),c=n(8);n(252);const u="visualization.customize.staticlegend";t.a=({properties:e,update:t})=>{const{staticLegend:n={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{valueAxis:d}=n,{colorizeRows:m=!1,heightRatio:p=l.v,opacity:h=l.h,orientationThreshold:g=l.l,show:f}=n,[b,y]=Object(a.useState)(f),x=a=>{y(a===l.o.SHOW),t({staticLegend:Object.assign(Object.assign({},n),{show:a===l.o.SHOW})}),Object(c.a)(`${u}.${a}`,{type:e.type})},v=e=>{t({staticLegend:Object.assign(Object.assign({},n),{valueAxis:e})})};return r.a.createElement(i.Form.Element,{label:"Display Static Legend",className:"static-legend-options",testID:"static-legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"static-legend-hide",id:"radio_static_legend_hide",titleText:"Hide",active:!b,onClick:x,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"static-legend-show",id:"radio_static_legend_show",titleText:"Show",active:b,onClick:x,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"static-legend-options--show"},r.a.createElement(o.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:g,parentName:"static-legend",handleSetOrientation:e=>{let a;a="number"!=typeof e||e!=e||e>0?l.m:l.n,t({staticLegend:Object.assign(Object.assign({},n),{orientationThreshold:a})})},testID:"static-legend-orientation-toggle"}),r.a.createElement(o.b,{legendOpacity:h,handleSetOpacity:a=>{const r=Object(s.a)(a);isNaN(r)||r<l.j?(t({staticLegend:Object.assign(Object.assign({},n),{opacity:l.i})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({staticLegend:Object.assign(Object.assign({},n),{opacity:r})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:r}))},testID:"static-legend-opacity-slider"}),r.a.createElement(o.a,{legendColorizeRows:m,handleSetColorization:()=>{t({staticLegend:Object.assign(Object.assign({},n),{colorizeRows:!m})}),Object(c.a)(`${u}.colorizeRows.${!m}`,{type:e.type})},testID:"static-legend-colorize-rows-toggle"}),r.a.createElement(i.InputLabel,{className:"latest-axis-label"},"Displayed Value"),r.a.createElement(i.Toggle,{tabIndex:1,value:"y",id:"latest-y-axis",className:"latest-y-axis",name:"valueAxis",checked:"x"!==d,onChange:v,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"!==d,htmlFor:"latest-y-axis"},"Latest Y Axis")),r.a.createElement(i.Toggle,{tabIndex:2,value:"x",id:"latest-x-axis",className:"latest-x-axis",name:"valueAxis",checked:"x"===d,onChange:v,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"===d,htmlFor:"latest-x-axis"},"Latest X Axis")),r.a.createElement(i.Form.Element,{className:"static-legend-height-slider",label:(e=>`Height: ${(100*e).toFixed(0)}%`)(p)},r.a.createElement(i.RangeSlider,{max:l.t,min:l.u,step:l.w,value:p,onChange:a=>{const r=Object(s.a)(a);isNaN(r)||r<l.u?(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:l.v})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:l.v})):(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:r})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:r}))},hideLabels:!0,testID:"static-legend-height-slider"}))))))}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),r=n(2),s=n(4),i=n(37),o=n(26),l=n(19),c=n(24),u=n(8);const d=e=>{const{isViewingVisOptions:t}=Object(s.e)(o.d),n=Object(s.d)(),d=Object(r.useCallback)(t=>{n(Object(i.p)(Object.assign(Object.assign({},e.staticLegend),t)))},[n,e.staticLegend]);return Object(r.useMemo)(()=>{const{legendColorizeRows:n=l.f,legendOpacity:r=l.h,legendOrientationThreshold:s=l.l}=e,{staticLegend:i={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{colorizeRows:o=!1,heightRatio:m=l.v,opacity:p=l.h,orientationThreshold:h=s,show:g=l.x}=i,f=Object(a.c)(i,["colorizeRows","heightRatio","opacity","orientationThreshold","show"]);if(t&&!g&&m===l.v){let e,t=l.h;"number"==typeof r&&r==r&&r>=l.j&&r<=l.i&&(t=r),e="number"!=typeof s||s!=s||s>0?l.m:l.n,d({colorizeRows:n,opacity:t,orientationThreshold:e})}return Object.assign(Object.assign(Object.assign(Object.assign({},f),{colorizeRows:o,heightRatio:m,hide:(b=g,!b),opacity:p,orientationThreshold:h}),l.y),{renderEffect:t=>{const{staticLegendHeight:n,totalHeight:a,legendDataLength:r,lineCount:s,padding:i,headerTextMetrics:o,sampleTextMetrics:m}=t,p=o.height,g=m.height;if(n===l.v){let t=l.s;if(h===l.m&&(t=s*g+p+i/2),h===l.n){t=(r-c.a.length>0?r-c.a.length:r)*g+i}let n=t/a;n>l.t&&(n=l.t),n<l.u&&(n=l.u),"number"==typeof n&&n==n||(n=l.s),Object(u.a)("visualization.customize.staticlegend.heightRatio.autoAdjust",{type:e.type,updatedHeightRatio:n}),d({heightRatio:n})}}});var b},[e,t,d])}},124:function(e,t,n){var a=n(256);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},125:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(33),i=n(7);const o=new Set(["_start","_stop","_time","table","result",""]),l=e=>{const t=e.columnKeys.sort((e,t)=>{return a=t,(n=e).includes("_value")?-1:a.includes("_value")?1:n.localeCompare(a);var n,a}).filter(t=>((e,t)=>{const n=e.getColumnType(t),a=e.getColumnName(t);return("number"===n||"time"===n||"string"===n)&&!o.has(a)})(e,t)).map(t=>e.getColumn(t));if(!t.length)return[];const n=e.columnKeys;let a=[];if(n.includes("_time")?a=e.getColumn("_time","number"):n.includes("_stop")&&(a=e.getColumn("_stop","number")),!a&&1!==e.length)return[];const r=1===e.length?[0]:((e,t)=>{let n=[],a=-1/0;for(const r of e){const e=t(r);e>a?(n=[r],a=e):e===a&&e!==-1/0&&n.push(r)}return n})(Object(i.range)(e.length),e=>{const n=a[e];return n&&t.some(t=>Number.isFinite(t[e])||"string"==typeof t[e])?n:-1/0});return Object(i.flatMap)(r,e=>t.map(t=>t[e])).filter(e=>Number.isFinite(e)||"string"==typeof e)};t.a=({table:e,quiet:t=!1,children:n,allowString:i})=>{const o=Object(a.useMemo)(()=>l(e),[e]);if(0===o.length&&t)return null;if(0===o.length)return r.a.createElement(s.a,{message:"No latest value found"});const c=o[0];return"string"==typeof c&&!i&&t?null:"string"!=typeof c||i?n(c):r.a.createElement(s.a,{message:"String value cannot be displayed in this graph type"})}},127:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const a=e=>e.app.persisted.timeZone||"Local",r=e=>e.app.persisted.theme||"dark",s=e=>e.app.persisted.navBarState||"collapsed",i=e=>e.app.persisted.versionInfo||{},o=e=>e.app.ephemeral.hasUpdatedTimeRangeInVEO||!1,l=e=>e.app.ephemeral.inPresentationMode||!1,c=e=>e.app.persisted.flowsCTA||{explorer:!0,tasks:!0,alerts:!0}},134:function(e,t,n){"use strict";n.d(t,"i",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"f",(function(){return T})),n.d(t,"r",(function(){return O})),n.d(t,"q",(function(){return D})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return I})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return _})),n.d(t,"j",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"p",(function(){return M})),n.d(t,"m",(function(){return F})),n.d(t,"h",(function(){return $})),n.d(t,"l",(function(){return L})),n.d(t,"g",(function(){return P})),n.d(t,"d",(function(){return z})),n.d(t,"k",(function(){return B}));var a=n(366),r=n(25),s=n(79),i=n(16),o=n(368),l=n(142),c=n(11),u=n(246),d=n(12),m=n(292),p=n(5),h=n(39),g=n(7);const f=async(e,t)=>{var n,a;if(!e.includes("import"))return`${t}\n\n${e}`;const r=await Object(i.postQueryAst)({data:{query:e}});if(200!==r.status)throw new Error(r.data.message);const s=r.data.ast,o=null!==(a=null===(n=null==s?void 0:s.files[0])||void 0===n?void 0:n.imports)&&void 0!==a?a:[],l=Object(g.get)(s,"files.0.body",[]);return`${o.map(e=>e.location.source).join("\n")}\n${t}\n\n${l.map(e=>e.location.source).join("\n\n")}`};var b=n(166),y=n(52),x=n(40),v=n(9),w=n(13),k=n(74),E=n(53);const S=(e=E.e)=>async(t,n)=>{try{const a=n();Object(w.h)(a,p.ResourceType.Tasks)===p.RemoteDataState.NotStarted&&t(Object(u.G)(p.RemoteDataState.Loading));const s={orgID:Object(v.a)(a).id,limit:e},l=await i.getTasks({query:s});if(200!==l.status)throw new Error(l.data.message);const c=Object(r.a)(l.data.tasks,o.a);t(Object(u.G)(p.RemoteDataState.Done,c))}catch(e){t(Object(u.G)(p.RemoteDataState.Error));const n=Object(h.b)(e);console.error(e),t(Object(c.c)(d.Bd(n)))}},C=(e,t)=>async n=>{try{const a=await i.postTasksLabel({taskID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=await i.getTask({taskID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(r.a)(s.data,o.b);n(Object(u.u)(l))}catch(e){console.error(e),n(Object(c.c)(d.q()))}},T=(e,t)=>async n=>{try{const a=await i.deleteTasksLabel({taskID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);const s=await i.getTask({taskID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(r.a)(s.data,o.b);n(Object(u.u)(l))}catch(e){console.error(e),n(Object(c.c)(d.Wc()))}},O=e=>async t=>{try{const n=await i.patchTask({taskID:e.id,data:{status:e.status}});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,o.b);t(Object(u.u)(a)),t(Object(c.c)(d.Ad()))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.zd(n)))}},D=(e,t)=>async n=>{try{const a=await i.patchTask({taskID:t,data:{name:e}});if(200!==a.status)throw new Error(a.data.message);const s=Object(r.a)(a.data,o.b);n(Object(u.u)(s)),n(Object(c.c)(d.Ad()))}catch(e){console.error(e);const t=Object(h.b)(e);n(Object(c.c)(d.zd(t)))}},j=e=>async t=>{try{const n=await i.deleteTask({taskID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(u.v)(e)),t(Object(c.c)(d.rd()))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.qd(n)))}},I=e=>async(t,n)=>{try{const a=n(),l=await i.getTask({taskID:e.id});if(200!==l.status)throw new Error(l.data.message);const h=l.data.name,g=Object(w.a)(a,p.ResourceType.Tasks).map(e=>e.name),f=Object(k.a)(g,h),{flux:b}=l.data,y=Object(m.a)(b);y.body=y.body.map(e=>{var t;return"OptionStatement"===e.type&&"VariableAssignment"===e.assignment.type&&"task"===e.assignment.id.name&&"ObjectExpression"===e.assignment.init.type&&(e.assignment.init.properties=null===(t=e.assignment.init)||void 0===t?void 0:t.properties.map(e=>{var t,n;return"Identifier"===e.key.type&&"name"===e.key.name&&(null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.location)||void 0===n?void 0:n.source)&&(e.value.location.source=`"${f}"`),e})),e});const v=Object(s.format_from_js_file)(y),E=await i.postTask({data:Object.assign(Object.assign({},l.data),{flux:v})});if(201!==E.status)throw new Error(E.data.message);const S=Object(r.a)(E.data,o.b);t(Object(c.c)(d.od(e.name))),t(Object(u.r)(S)),t(Object(x.g)())}catch(n){if(console.error(n),Object(y.r)(n))t(Object(c.c)(d.cd("tasks")));else{const a=Object(h.b)(n);t(Object(c.c)(d.nd(e.name,a)))}}},N=e=>async t=>{try{const n=await i.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,o.b);t(Object(u.y)(a))}catch(e){console.error(e),t(R());const n=Object(h.b)(e);t(Object(c.c)(d.ud(n)))}},_=e=>async t=>{try{const n=await i.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,o.b);t(Object(u.w)(a))}catch(e){console.error(e),t(R());const n=Object(h.b)(e);t(Object(c.c)(d.ud(n)))}},R=()=>(e,t)=>{const n=Object(v.a)(t());e(Object(a.e)(`/orgs/${n.id}/tasks/`))},A=()=>e=>{e(Object(u.s)()),e(Object(a.c)())},M=()=>async(e,t)=>{try{const n=t(),{tasks:{currentScript:r,currentTask:s,taskOptions:o,currentPage:l}}=n.resources,m={flux:r,name:o.name,offset:o.offset,token:null};o.taskScheduleType===p.TaskSchedule.interval?(m.every=o.interval,m.cron=null):(m.cron=o.cron,m.every=null);const h=await i.patchTask({taskID:s.id,data:m});if(200!==h.status)throw new Error(h.data.message);l===u.q.TasksPage?e(R()):l===u.q.TaskRunsPage&&e((e,t)=>{const n=t(),{tasks:{currentTask:r}}=n.resources,s=Object(v.a)(t());e(Object(a.e)(`/orgs/${s.id}/tasks/${r.id}/runs`))}),e(Object(u.s)()),e(Object(c.c)(d.Ad()))}catch(t){console.error(t);const n=Object(h.b)(t);e(Object(c.c)(d.zd(n)))}},F=(e,t)=>async(n,a)=>{try{const r=await f(e,t),s=Object(v.a)(a()),o=await i.postTask({data:{orgID:s.id,flux:r}});if(201!==o.status)throw new Error(o.data.message);n(Object(u.B)("")),n(Object(u.t)()),n(Object(c.c)(d.pd())),n(Object(x.g)())}catch(e){if(console.error(e),Object(y.r)(e))n(Object(c.c)(d.cd("tasks")));else{const t=Object(h.b)(e);n(Object(c.c)(d.td(t)))}}},$=e=>async t=>{try{t(Object(u.C)([],p.RemoteDataState.Loading)),t(N(e));const n=await i.getTasksRuns({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data.runs.map(e=>{const t=new Date(e.finishedAt),n=new Date(e.startedAt);return Object.assign(Object.assign({},e),{duration:`${V(t,n)}`})});t(Object(u.C)(a,p.RemoteDataState.Done))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.sd(n))),t(Object(u.C)([],p.RemoteDataState.Error))}},L=e=>async t=>{try{const n=await i.postTasksRun({taskID:e});if(201!==n.status)throw new Error(n.data.message);t(Object(c.c)(d.yd()))}catch(e){const n=Object(h.b)(e);throw t(Object(c.c)(d.xd(n))),console.error(e),n}},P=(e,t)=>async n=>{try{const a=await i.getTasksRunsLogs({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(u.A)(a.data.events))}catch(e){console.error(e),n(Object(u.A)([]))}},z=e=>async(t,n)=>{try{t(Object(l.l)(p.RemoteDataState.Loading));const a=await i.getTask({taskID:e});if(200!==a.status)throw new Error(a.data.message);const{entities:s,result:c}=Object(r.a)(a.data,o.b),u=Object(b.b)(n(),s.tasks[c]);t(Object(l.l)(p.RemoteDataState.Done,u))}catch(e){t(Object(l.l)(p.RemoteDataState.Error)),t(Object(c.c)(d.db(e)))}},B=(e,t)=>async n=>{try{const a=await i.postTasksRunsRetry({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(c.c)(d.wd(t)))}catch(e){n(Object(c.c)(d.vd(e)))}},V=(e,t)=>{let n="seconds";if(isNaN(e.getTime())||isNaN(t.getTime()))return"";let a=(e.getTime()-t.getTime())/1e3;return a>60&&(a=Math.round(a/60),n="minutes"),a+" "+n}},136:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(71);const o="duration-input--suggestion";t.a=({suggestions:e,onSubmit:t,value:n,placeholder:l,status:c,submitInvalid:u=!0,showDivider:d=!0,testID:m="duration-input",validFunction:p,customClass:h,dividerText:g,dividerOnClick:f})=>{const[b,y]=Object(a.useState)(!1),[x,v]=Object(a.useState)(n);Object(a.useEffect)(()=>{v(n)},[n,v]);const w=e=>{v(e),t(e),y(!1)},k=e=>p?p(e):Object(i.e)(e);let E=c||s.ComponentStatus.Default;E!==s.ComponentStatus.Default||k(x)||(E=s.ComponentStatus.Error);return r.a.createElement("div",{className:`duration-input ${h}`},r.a.createElement(s.ClickOutside,{onClickOutside:e=>{e.target.classList.contains(o)||e.target.parentNode.classList.contains(o)||y(!1)}},r.a.createElement(s.Input,{placeholder:l,value:x,status:E,onChange:e=>{return n=e.target.value,v(n),void((u||!u&&k(n))&&t(n));var n},onFocus:()=>y(!0),testID:m})),b&&r.a.createElement(s.DropdownMenu,{className:"duration-input--menu",noScrollX:!0},d&&g&&f&&r.a.createElement(s.Dropdown.Item,{value:"Customize",key:"Customize",onClick:f,className:o,testID:"custom-duration-input-button"},g),r.a.createElement(s.DropdownDivider,{text:""}),e.map(e=>r.a.createElement(s.DropdownItem,{key:e,value:e,className:o,onClick:w},e))))}},137:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return b}));var a=n(7),r=n(16),s=n(23),i=n(6),o=n(53),l=n(25),c=n(46);let u=null,d=null,m=null;i.f&&(u=n(16).getExperimentalSampledataBuckets,d=n(16).postExperimentalSampledataBucketsMember,m=n(16).deleteExperimentalSampledataBucketsMembers);const p=async()=>{if(!i.f||!u)return[];const e=await u({});if(200!==e.status)throw new Error(e.data.message);const t=Object(a.get)(e.data,"buckets",null);if(!Array.isArray(t))throw new Error("Could not reach demodata endpoint");return t.filter(e=>"user"==e.type)},h=async e=>{if(!i.f||!d)return;const t=await d({bucketID:e});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data.message)},g=async e=>{if(i.f&&m)try{const t=await m({bucketID:e});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data.message)}catch(e){throw console.error(e),e}},f=async()=>{if(!Object(s.c)("demodata")||!i.f)return[];try{const e=await p(),t=Object(a.get)(e,"[0].orgID");if(!t)throw new Error("Could not get demodata orgID");const n=await Object(r.getBuckets)({query:{orgID:t,limit:o.c}});if(200!==n.status)throw new Error(n.data.message);return n.data.buckets.map(e=>Object.assign(Object.assign({},e),{type:"demodata",labels:[]}))}catch(e){return console.error(e),[]}},b=async e=>{const t=await Object(r.getBucket)({bucketID:e});if(200!==t.status)throw new Error(`Request for demo data bucket membership did not succeed: ${t.data.message}`);const n=Object.assign(Object.assign({},t.data),{type:"demodata",labels:[]});return Object(l.a)(n,c.i)}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(2),r=n.n(a),s=n(76),i=n(5);const o={loading:i.RemoteDataState.NotStarted,buckets:[]},l=Object(a.createContext)(o),c=({panel:e,children:t})=>{var n,o;const[c,u]=Object(a.useState)(i.RemoteDataState.NotStarted),[d,m]=Object(a.useState)([]),{getPanelQueries:p}=Object(a.useContext)(s.a),h=null!==(o=null===(n=p(e))||void 0===n?void 0:n.scope)&&void 0!==o?o:{};return Object(a.useEffect)(()=>{if(!h.region||!h.org)return;u(i.RemoteDataState.Loading);const e={"Content-Type":"application/json","Accept-Encoding":"gzip"};h.token&&(e.Authorization=`Token ${h.token}`),fetch(`${h.region}/api/v2/buckets?limit=100&orgID=${h.org}`,{method:"GET",headers:e}).then(e=>e.json()).then(e=>{const t=e.buckets.map(e=>({id:e.id,orgID:e.orgID,type:e.type,name:e.name})).reduce((e,t)=>("system"===t.type?e.system.push(t):e.user.push(t),e),{system:[],user:[],sample:[{type:"sample",name:"Air Sensor Data",id:"airSensor"},{type:"sample",name:"Coinbase bitcoin price",id:"bitcoin"},{type:"sample",name:"Bird Migration",id:"birdMigration"},{type:"sample",name:"NOAA National Buoy Data",id:"noaa"},{type:"sample",name:"USGS Earthquakes",id:"usgs"}]});t.system.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),t.user.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),t.sample.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),u(i.RemoteDataState.Done),m([...t.user,...t.system,...t.sample])}).catch(()=>{})},[h.region,h.org]),r.a.createElement(l.Provider,{value:{loading:c,buckets:d}},t)}},144:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3);t.a=e=>{const{items:t,selectedItems:n,onSelectItem:a,multiSelect:i,children:o,testID:l,wrapText:c}=e;return r.a.createElement(s.List,{autoHideScrollbars:!0,testID:l,style:{flex:"1 0 0"},scrollToSelected:!0},t.map(e=>{const t=n.includes(e),o=i&&r.a.createElement(s.List.Indicator,{type:"checkbox"});return r.a.createElement(s.List.Item,{className:"selector-list--item",testID:`selector-list ${e}`,key:e,value:e,onClick:a,title:e,selected:t,size:s.ComponentSize.ExtraSmall,gradient:s.Gradients.GundamPilot,wrapText:c},o,e)}),o)}},145:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o}));const a=()=>new Map,r=e=>{const t=a();return e.forEach((e,n)=>{t.set(n,e)}),t},s=(e,t,n)=>{let a=e.get(t);return void 0===a&&e.set(t,a=n()),a},i=(e,t)=>{const n=[];for(const[a,r]of e)n.push(t(r,a));return n},o=(e,t)=>{for(const[n,a]of e)if(t(a,n))return!0;return!1}},146:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return w}));var a=n(194),r=n(195),s=n(90);class i{constructor(e){this.arr=e,this.pos=0}}const o=e=>new i(e),l=e=>e.pos!==e.arr.length,c=(e,t)=>{const n=a.c(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},u=e=>c(e,m(e)),d=e=>e.arr[e.pos++],m=e=>{let t=0,n=0;for(;;){const a=e.arr[e.pos++];if(t|=(a&r.k)<<n,n+=7,a<r.g)return t>>>0;if(n>35)throw new Error("Integer out of range!")}},p=e=>{let t=e.arr[e.pos++],n=t&r.j,a=6;const s=(t&r.f)>0?-1:1;if(0==(t&r.g))return s*n;for(;;){if(t=e.arr[e.pos++],n|=(t&r.k)<<a,a+=7,t<r.g)return s*(n>>>0);if(a>41)throw new Error("Integer out of range!")}},h=e=>{let t=m(e);if(0===t)return"";{let n=String.fromCodePoint(d(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(d(e));else for(;t>0;){const a=t<1e4?t:1e4,r=e.arr.subarray(e.pos,e.pos+a);e.pos+=a,n+=String.fromCodePoint.apply(null,r),t-=a}return decodeURIComponent(escape(n))}},g=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},f=[e=>{},e=>null,p,e=>g(e,4).getFloat32(0,!1),e=>g(e,8).getFloat64(0,!1),e=>g(e,8).getBigInt64(0,!1),e=>!1,e=>!0,h,e=>{const t=m(e),n={};for(let a=0;a<t;a++){n[h(e)]=b(e)}return n},e=>{const t=m(e),n=[];for(let a=0;a<t;a++)n.push(b(e));return n},u],b=e=>f[127-d(e)](e);class y extends i{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),l(this)?this.count=m(this)+1:this.count=-1),this.count--,this.s}}class x extends i{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=p(this);const e=s.d(this.s);this.count=1,e&&(this.s=-this.s,this.count=m(this)+2)}return this.count--,this.s}}class v extends i{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=p(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=m(this)+2)}return this.s+=this.diff,this.count--,this.s}}class w{constructor(e){this.decoder=new x(e),this.str=h(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},147:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return O}));var a=n(194),r=n(90),s=n(195);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,s.h;const i=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&r.c(e)===e);Number.isNaN;class o{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const l=()=>new o,c=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},u=e=>{const t=new Uint8Array(c(e));let n=0;for(let a=0;a<e.bufs.length;a++){const r=e.bufs[a];t.set(r,n),n+=r.length}return t.set(a.c(e.cbuf.buffer,0,e.cpos),n),t},d=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},m=d,p=(e,t)=>{for(;t>s.k;)d(e,s.g|s.k&t),t>>>=7;d(e,s.k&t)},h=(e,t)=>{const n=r.d(t);for(n&&(t=-t),d(e,(t>s.j?s.g:0)|(n?s.f:0)|s.j&t),t>>>=6;t>0;)d(e,(t>s.k?s.g:0)|s.k&t),t>>>=7},g=(e,t)=>{const n=unescape(encodeURIComponent(t)),a=n.length;p(e,a);for(let t=0;t<a;t++)d(e,n.codePointAt(t))},f=(e,t)=>b(e,u(t)),b=(e,t)=>{const n=e.cbuf.length,a=e.cpos,s=r.g(n-a,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),a),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r.f(2*n,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},y=(e,t)=>{p(e,t.byteLength),b(e,t)},x=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(a.c(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*r.f(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},v=new DataView(new ArrayBuffer(4)),w=(e,t)=>{switch(typeof t){case"string":d(e,119),g(e,t);break;case"number":i(t)&&t<=s.h?(d(e,125),h(e,t)):(n=t,v.setFloat32(0,n),v.getFloat32(0)===n?(d(e,124),((e,t)=>{x(e,4).setFloat32(0,t,!1)})(e,t)):(d(e,123),((e,t)=>{x(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":d(e,122),((e,t)=>{x(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)d(e,126);else if(t instanceof Array){d(e,117),p(e,t.length);for(let n=0;n<t.length;n++)w(e,t[n])}else if(t instanceof Uint8Array)d(e,116),y(e,t);else{d(e,118);const n=Object.keys(t);p(e,n.length);for(let a=0;a<n.length;a++){const r=n[a];g(e,r),w(e,t[r])}}break;case"boolean":d(e,t?120:121);break;default:d(e,127)}var n};class k extends o{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&p(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const E=e=>{e.count>0&&(h(e.encoder,1===e.count?e.s:-e.s),e.count>1&&p(e.encoder,e.count-2))};class S{constructor(){this.encoder=new o,this.s=0,this.count=0}write(e){this.s===e?this.count++:(E(this),this.count=1,this.s=e)}toUint8Array(){return E(this),u(this.encoder)}}const C=e=>{if(e.count>0){const t=e.diff<<1|(1===e.count?0:1);h(e.encoder,t),e.count>1&&p(e.encoder,e.count-2)}};class T{constructor(){this.encoder=new o,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(C(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return C(this),u(this.encoder)}}class O{constructor(){this.sarr=[],this.s="",this.lensE=new S}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new o;return this.sarr.push(this.s),this.s="",g(e,this.sarr.join("")),b(e,this.lensE.toUint8Array()),u(e)}}},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(2),r=n.n(a);const s=r.a.createContext({launch:()=>{},data:null,element:null,closeFn:()=>{}}),i=()=>{const{element:e}=Object(a.useContext)(s);return e||null},o=({children:e})=>{const[t,n]=Object(a.useState)(null),[i,o]=Object(a.useState)(null);return r.a.createElement(s.Provider,{value:{launch:(e,t)=>{n(e),o(t)},data:i,element:t,closeFn:()=>{n(null),o(null)}}},e)}},150:function(e,t,n){"use strict";var a=n(10),r=n(2),s=n.n(r),i=n(7),o=n(3),l=n(14),c=n(54);let u=class extends r.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(i.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t}=this.props,{searchTerm:n}=this.state;return s.a.createElement(c.a,null,s.a.createElement(o.Input,{icon:o.IconFont.Search,placeholder:e,value:n,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input"}))}};u.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget"},u=Object(a.a)([l.a,Object(a.b)("design:paramtypes",[Object])],u),t.a=u},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g}));var a=n(22),r=n(175),s=n(338),i=n(388),o=n(165),l=n(8);const c=n(48).h;function u({orgID:e}){return Object(l.a)("runQuery",{context:"queryBuilder-findBuckets"}),p(Object(r.a)(e,'buckets()\n  |> sort(columns: ["name"])\n  |> limit(n: 200)'),"name")}function d({orgID:e,bucket:t,tagsSelections:n,searchTerm:a="",timeRange:s=c,limit:i=200}){const o=h(n),u=function(e){const t=e.map(({key:e})=>e);if(!t.length)return"";return`\n  |> filter(fn: (r) => ${t.map(e=>`r._value != "${e}"`).join(" and ")})`}(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${g(s)})\n  |> filter(fn: ${o})\n  |> keys()\n  |> keep(columns: ["_value"])\n  |> distinct()${a?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${a}") + ")"))`:""}${u}\n  |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n  |> sort()\n  |> limit(n: ${i})`;return Object(l.a)("runQuery",{context:"queryBuilder-findKeys"}),p(Object(r.a)(e,d),"_value")}function m({orgID:e,bucket:t,tagsSelections:n,key:a,searchTerm:s="",timeRange:i=c,limit:o=200}){const u=h(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${g(i)})\n  |> filter(fn: ${u})\n  |> keep(columns: ["${a}"])\n  |> group()\n  |> distinct(column: "${a}")${s?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${s}") + ")"))`:""}\n  |> limit(n: ${o})\n  |> sort()`;return Object(l.a)("runQuery",{context:"queryBuilder-findValues"}),p(Object(r.a)(e,d),"_value")}function p(e,t){return{promise:e.promise.then(e=>"SUCCESS"!==e.type?Promise.reject(new Error(e.message)):function(e,t){const{table:n}=Object(a.fromFlux)(e);return n.getColumn(t,"string")||[]}(e.csv,t)),cancel:e.cancel}}function h(e){const t=e.filter(({key:e,values:t})=>e&&t.length);return t.length?`(r) => ${t.map(e=>`(${Object(o.g)(e)})`).join(" and ")}`:"(r) => true"}function g(e){const[t,n]=Object(s.b)(e).map(e=>Object(i.a)(e.init));return`start: ${t}, stop: ${n}`}},167:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a="This is a test notification",r={},s=n(475);s.keys().forEach(e=>{s(e).default(e=>{if(r.hasOwnProperty(e.type))throw new Error(`Endpoint of type [${e.type}] has already been registered`);r[e.type]=Object.assign({},e)})})},168:function(e,t,n){"use strict";var a=n(2),r=n.n(a);const s=e=>({background:`linear-gradient(to right, ${e.map((t,n)=>`${t} ${Math.round(n/(e.length-1)*100)}%`).join(", ")})`});t.a=({name:e,colors:t})=>r.a.createElement("div",{className:"color-scheme-dropdown-item"},r.a.createElement("div",{className:"color-scheme-dropdown-item--swatches",style:s(t)}),r.a.createElement("div",{className:"color-scheme-dropdown-item--name"},e))},169:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),s=n(3),i=n(19),o=n(8);n(170);const l=({eventName:e,graphType:t,legendOrientation:n,parentName:a,handleSetOrientation:l,testID:c="orientation-toggle"})=>{const u=n=>{l("vertical"===n?i.n:i.m),Object(o.a)(`${e}.${n}`,{type:t})};return r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Column,margin:s.ComponentSize.Large,alignItems:s.AlignItems.FlexStart,className:"legend-orientation-toggle",testID:c},r.a.createElement(s.InputLabel,{className:"legend-orientation-label"},"Orientation"),r.a.createElement(s.Toggle,{tabIndex:1,value:"horizontal",className:"legend-orientation--horizontal",id:`${a}-orientation--horizontal`,name:`${a}-orientation--horizontal`,checked:n===i.m,onChange:u,type:s.InputToggleType.Radio,size:s.ComponentSize.ExtraSmall,color:s.ComponentColor.Primary,appearance:s.Appearance.Outline},r.a.createElement(s.InputLabel,{active:n===i.m,htmlFor:`${a}-orientation--horizontal`},"Horizontal")),r.a.createElement(s.Toggle,{tabIndex:2,value:"vertical",className:"legend-orientation--vertical",id:`${a}-orientation--vertical`,name:`${a}-orientation--vertical`,checked:n<=0,onChange:u,type:s.InputToggleType.Radio,size:s.ComponentSize.ExtraSmall,color:s.ComponentColor.Primary,appearance:s.Appearance.Outline},r.a.createElement(s.InputLabel,{active:n<=0,htmlFor:`${a}-orientation--vertical`},"Vertical")))},c=({legendOpacity:e,handleSetOpacity:t,testID:n="opacity-slider"})=>{let a=i.h;"number"==typeof e&&e==e&&e>=i.j&&e<=i.i&&(a=e);const o=(100*a).toFixed(0);return r.a.createElement(s.Form.Element,{className:"legend-opacity-slider",label:`Opacity: ${o}%`,testID:n},r.a.createElement(s.RangeSlider,{max:i.i,min:i.j,step:i.k,value:a,onChange:t,hideLabels:!0}))},u=({legendColorizeRows:e,handleSetColorization:t,testID:n="colorize-rows-toggle"})=>{return r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,alignItems:s.AlignItems.Center,margin:s.ComponentSize.Medium,stretchToFitWidth:!0,className:"legend-colorize-rows-toggle",testID:n},r.a.createElement(s.SlideToggle,{active:e,size:s.ComponentSize.ExtraSmall,onChange:t}),r.a.createElement(s.InputLabel,{style:(a=e,a?{color:s.InfluxColors.Cloud}:{color:s.InfluxColors.Sidewalk})},"Colorize Rows"));var a}},170:function(e,t,n){var a=n(251);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},171:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({label:e,checked:t,onSetChecked:n,testID:a})=>r.a.createElement("label",{className:`fancy-checkbox ${t?"checked":""}`},r.a.createElement("input",{"data-testid":a||"checkbox",type:"checkbox",checked:!!t,onChange:()=>n(!t)}),e)},172:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(168);t.a=({colorSchemes:e,selectedColorScheme:t,onSelectColorScheme:n})=>{const a=e.find(e=>e.colors.length===t.length&&e.colors.every((e,n)=>e===t[n]));let o,l;return a?(o=a.name,l=e):(o="Custom",l=[...e,{name:"Custom",colors:t}]),r.a.createElement(s.Dropdown,{className:"color-scheme-dropdown",button:(e,n)=>r.a.createElement(s.Dropdown.Button,{active:e,onClick:n},r.a.createElement(i.a,{name:o,colors:t})),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e,theme:s.DropdownMenuTheme.Onyx},l.map(({name:e,colors:t})=>r.a.createElement(s.Dropdown.Item,{key:e,id:e,value:t,onClick:n,selected:o===e},r.a.createElement(i.a,{name:e,colors:t}))))})}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return re})),n.d(t,"b",(function(){return fe})),n.d(t,"c",(function(){return ye})),n.d(t,"d",(function(){return Ee}));var a=n(263),r=n(264),s=n(90),i=n(145),o=n(147),l=n(146);"undefined"==typeof window||void 0!==window.performance&&window.performance;const c="undefined"==typeof crypto?null:crypto,u=null!==c?e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);return c.getRandomValues(n),t}:e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);for(let t=0;t<e;t++)n[t]=Math.ceil(4294967295*Math.random()>>>0);return t},d=(Math.random,()=>new Uint32Array(u(4))[0]),m=[1e7]+-1e3+-4e3+-8e3+-1e11;var p=n(194);const h=e=>new Error(e),g=()=>{throw h("Method unimplemented")},f=()=>{throw h("Unexpected case")};var b=n(195),y=n(196),x=n(348),v=n(351);const w=Symbol;class k{constructor(e,t){this.left=e,this.right=t}}const E=(e,t)=>new k(e,t),S="undefined"!=typeof document?document:{},C=("undefined"!=typeof DOMParser&&new DOMParser,e=>i.d(e,(e,t)=>`${t}:${e};`).join(""));S.ELEMENT_NODE,S.TEXT_NODE,S.CDATA_SECTION_NODE,S.COMMENT_NODE,S.DOCUMENT_NODE,S.DOCUMENT_TYPE_NODE,S.DOCUMENT_FRAGMENT_NODE,JSON.stringify,JSON.parse;const T=e=>class{constructor(e){this._=e}destroy(){e(this._)}};T(clearTimeout),T(clearInterval),T(e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)),T(e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e));var O=n(200);const D=w(),j=w(),I=w(),N=w(),_=w(),R=w(),A=w(),M=w(),F=w(),$={[D]:E("font-weight","bold"),[j]:E("font-weight","normal"),[I]:E("color","blue"),[_]:E("color","green"),[N]:E("color","grey"),[R]:E("color","red"),[A]:E("color","purple"),[M]:E("color","orange"),[F]:E("color","black")},L={[D]:"[1m",[j]:"[2m",[I]:"[34m",[_]:"[32m",[N]:"[37m",[R]:"[31m",[A]:"[35m",[M]:"[38;5;208m",[F]:"[0m"},P=v.c?e=>{const t=[],n=[];let a=0;for(;a<e.length;a++){const n=e[a],r=L[n];if(void 0!==r)t.push(r);else{if(n.constructor!==String&&n.constructor!==Number)break;t.push(n)}}for(a>0&&(t.push("[0m"),n.push(t.join("")));a<e.length;a++){const t=e[a];t instanceof Symbol||n.push(t)}return n}:e=>{const t=[],n=[],a=i.c();let r=[],s=0;for(;s<e.length;s++){const r=e[s],i=$[r];if(void 0!==i)a.set(i.left,i.right);else{if(r.constructor!==String&&r.constructor!==Number)break;{const e=C(a);s>0||e.length>0?(t.push("%c"+r),n.push(e)):t.push(r)}}}for(s>0&&(r=n,r.unshift(t.join("")));s<e.length;s++){const t=e[s];t instanceof Symbol||r.push(t)}return r},z=(...e)=>{console.log(...P(e)),B.forEach(t=>t.print(e))},B=new Set;O.a();const V=e=>({[Symbol.iterator](){return this},next:e}),G=(e,t)=>V(()=>{const{done:n,value:a}=e.next();return{done:n,value:n?void 0:t(a)}});var U=n(265);a.a;class q{constructor(e,t){this.clock=e,this.len=t}}class H{constructor(){this.clients=new Map}}const Y=(e,t,n)=>t.clients.forEach((t,a)=>{const r=e.doc.store.clients.get(a);for(let a=0;a<t.length;a++){const s=t[a];He(e,r,s.clock,s.len,n)}}),W=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,a=e.length-1;for(;n<=a;){const r=s.c((n+a)/2),i=e[r],o=i.clock;if(o<=t){if(t<o+i.len)return r;n=r+1}else a=r-1}return null})(n,t.clock)},K=e=>{e.clients.forEach(e=>{let t,n;for(e.sort((e,t)=>e.clock-t.clock),t=1,n=1;t<e.length;t++){const a=e[n-1],r=e[t];a.clock+a.len>=r.clock?a.len=s.f(a.len,r.clock+r.len-a.clock):(n<t&&(e[n]=r),n++)}e.length=n})},X=e=>{const t=new H;for(let n=0;n<e.length;n++)e[n].clients.forEach((a,s)=>{if(!t.clients.has(s)){const i=a.slice();for(let t=n+1;t<e.length;t++)r.a(i,e[t].clients.get(s)||[]);t.clients.set(s,i)}});return K(t),t},Z=(e,t,n,a)=>{i.e(e.clients,t,()=>[]).push(new q(n,a))},Q=()=>new H,J=e=>{const t=Q();return e.clients.forEach((e,n)=>{const a=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const r=n.id.clock;let s=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])s+=n.length;a.push(new q(r,s))}}a.length>0&&t.clients.set(n,a)}),t},ee=(e,t)=>{o.n(e.restEncoder,t.clients.size),t.clients.forEach((t,n)=>{e.resetDsCurVal(),o.n(e.restEncoder,n);const a=t.length;o.n(e.restEncoder,a);for(let n=0;n<a;n++){const a=t[n];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},te=e=>{const t=new H,n=l.k(e.restDecoder);for(let a=0;a<n;a++){e.resetDsCurVal();const n=l.k(e.restDecoder),a=l.k(e.restDecoder);if(a>0){const r=i.e(t.clients,n,()=>[]);for(let t=0;t<a;t++)r.push(new q(e.readDsClock(),e.readDsLen()))}}return t},ne=(e,t,n)=>{const a=new H,r=l.k(e.restDecoder);for(let s=0;s<r;s++){e.resetDsCurVal();const r=l.k(e.restDecoder),s=l.k(e.restDecoder),i=n.clients.get(r)||[],o=Pe(n,r);for(let n=0;n<s;n++){const n=e.readDsClock(),s=n+e.readDsLen();if(n<o){o<s&&Z(a,r,o,s-o);let e=Be(i,n),l=i[e];for(!l.deleted&&l.id.clock<n&&(i.splice(e+1,0,Tn(t,l,n-l.id.clock)),e++);e<i.length&&(l=i[e++],l.id.clock<s);)l.deleted||(s<l.id.clock+l.length&&i.splice(e,0,Tn(t,l,s-l.id.clock)),l.delete(t))}else Z(a,r,n,s-n)}}if(a.clients.size>0){const e=new me;return o.n(e.restEncoder,0),ee(e,a),e.toUint8Array()}return null},ae=d;class re extends a.a{constructor({guid:e=m.replace(/[018]/g,e=>(e^d()&15>>e/4).toString(16)),gc:t=!0,gcFilter:n=(()=>!0),meta:a=null,autoLoad:r=!1}={}){super(),this.gc=t,this.gcFilter=n,this.clientID=ae(),this.guid=e,this.share=new Map,this.store=new $e,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=r,this.autoLoad=r,this.meta=a}load(){const e=this._item;null===e||this.shouldLoad||et(e.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,t=null){et(this,e,t)}get(e,t=xt){const n=i.e(this.share,e,()=>{const e=new t;return e._integrate(this,null),e}),a=n.constructor;if(t!==xt&&a!==t){if(a===xt){const a=new t;a._map=n._map,n._map.forEach(e=>{for(;null!==e;e=e.left)e.parent=a}),a._start=n._start;for(let e=a._start;null!==e;e=e.right)e.parent=a;return a._length=n._length,this.share.set(e,a),a._integrate(this,null),a}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,$t)}getText(e=""){return this.get(e,Jt)}getMap(e=""){return this.get(e,Pt)}getXmlFragment(e=""){return this.get(e,tn)}toJSON(){const e={};return this.share.forEach((t,n)=>{e[n]=t.toJSON()}),e}destroy(){r.c(this.subdocs).forEach(e=>e.destroy());const e=this._item;if(null!==e){this._item=null;const t=e.content;e.deleted?t.doc=null:(t.doc=new re({guid:this.guid,...t.opts}),t.doc._item=e),et(e.parent.doc,n=>{e.deleted||n.subdocsAdded.add(t.doc),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class se{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return l.k(this.restDecoder)}readDsLen(){return l.k(this.restDecoder)}}class ie extends se{readLeftID(){return Ne(l.k(this.restDecoder),l.k(this.restDecoder))}readRightID(){return Ne(l.k(this.restDecoder),l.k(this.restDecoder))}readClient(){return l.k(this.restDecoder)}readInfo(){return l.h(this.restDecoder)}readString(){return l.j(this.restDecoder)}readParentInfo(){return 1===l.k(this.restDecoder)}readTypeRef(){return l.k(this.restDecoder)}readLen(){return l.k(this.restDecoder)}readAny(){return l.g(this.restDecoder)}readBuf(){return p.a(l.l(this.restDecoder))}readJSON(){return JSON.parse(l.j(this.restDecoder))}readKey(){return l.j(this.restDecoder)}}class oe{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=l.k(this.restDecoder),this.dsCurrVal}readDsLen(){const e=l.k(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class le extends oe{constructor(e){super(e),this.keys=[],l.k(e),this.keyClockDecoder=new l.a(l.l(e)),this.clientDecoder=new l.d(l.l(e)),this.leftClockDecoder=new l.a(l.l(e)),this.rightClockDecoder=new l.a(l.l(e)),this.infoDecoder=new l.b(l.l(e),l.h),this.stringDecoder=new l.c(l.l(e)),this.parentInfoDecoder=new l.b(l.l(e),l.h),this.typeRefDecoder=new l.d(l.l(e)),this.lenDecoder=new l.d(l.l(e))}readLeftID(){return new je(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new je(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return l.g(this.restDecoder)}readBuf(){return l.l(this.restDecoder)}readJSON(){return l.g(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class ce{constructor(){this.restEncoder=o.e()}toUint8Array(){return o.g(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){o.n(this.restEncoder,e)}writeDsLen(e){o.n(this.restEncoder,e)}}class ue extends ce{writeLeftID(e){o.n(this.restEncoder,e.client),o.n(this.restEncoder,e.clock)}writeRightID(e){o.n(this.restEncoder,e.client),o.n(this.restEncoder,e.clock)}writeClient(e){o.n(this.restEncoder,e)}writeInfo(e){o.j(this.restEncoder,e)}writeString(e){o.m(this.restEncoder,e)}writeParentInfo(e){o.n(this.restEncoder,e?1:0)}writeTypeRef(e){o.n(this.restEncoder,e)}writeLen(e){o.n(this.restEncoder,e)}writeAny(e){o.h(this.restEncoder,e)}writeBuf(e){o.o(this.restEncoder,e)}writeJSON(e){o.m(this.restEncoder,JSON.stringify(e))}writeKey(e){o.m(this.restEncoder,e)}}class de{constructor(){this.restEncoder=o.e(),this.dsCurrVal=0}toUint8Array(){return o.g(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,o.n(this.restEncoder,t)}writeDsLen(e){0===e&&f(),o.n(this.restEncoder,e-1),this.dsCurrVal+=e}}class me extends de{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new o.a,this.clientEncoder=new o.d,this.leftClockEncoder=new o.a,this.rightClockEncoder=new o.a,this.infoEncoder=new o.b(o.j),this.stringEncoder=new o.c,this.parentInfoEncoder=new o.b(o.j),this.typeRefEncoder=new o.d,this.lenEncoder=new o.d}toUint8Array(){const e=o.e();return o.n(e,0),o.o(e,this.keyClockEncoder.toUint8Array()),o.o(e,this.clientEncoder.toUint8Array()),o.o(e,this.leftClockEncoder.toUint8Array()),o.o(e,this.rightClockEncoder.toUint8Array()),o.o(e,o.g(this.infoEncoder)),o.o(e,this.stringEncoder.toUint8Array()),o.o(e,o.g(this.parentInfoEncoder)),o.o(e,this.typeRefEncoder.toUint8Array()),o.o(e,this.lenEncoder.toUint8Array()),o.k(e,o.g(this.restEncoder)),o.g(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){o.h(this.restEncoder,e)}writeBuf(e){o.o(this.restEncoder,e)}writeJSON(e){o.h(this.restEncoder,e)}writeKey(e){void 0===this.keyMap.get(e)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const pe=(e,t,n)=>{const a=new Map;n.forEach((e,n)=>{Pe(t,n)>e&&a.set(n,e)}),Le(t).forEach((e,t)=>{n.has(t)||a.set(t,0)}),o.n(e.restEncoder,a.size),Array.from(a.entries()).sort((e,t)=>t[0]-e[0]).forEach(([n,a])=>{((e,t,n,a)=>{a=s.f(a,t[0].id.clock);const r=Be(t,a);o.n(e.restEncoder,t.length-r),e.writeClient(n),o.n(e.restEncoder,a);const i=t[r];i.write(e,a-i.id.clock);for(let n=r+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(n),n,a)})},he=(e,t,n,a=new le(e))=>et(t,e=>{e.local=!1;let t=!1;const n=e.doc,r=n.store,s=((e,t,n)=>{const a=[];let r=Array.from(n.keys()).sort((e,t)=>e-t);if(0===r.length)return null;const s=()=>{if(0===r.length)return null;let e=n.get(r[r.length-1]);for(;e.refs.length===e.i;){if(r.pop(),!(r.length>0))return null;e=n.get(r[r.length-1])}return e};let l=s();if(null===l&&0===a.length)return null;const c=new $e,u=new Map,d=(e,t)=>{const n=u.get(e);(null==n||n>t)&&u.set(e,t)};let m=l.refs[l.i++];const p=new Map,h=()=>{for(const e of a){const t=e.id.client,a=n.get(t);a?(a.i--,c.clients.set(t,a.refs.slice(a.i)),n.delete(t),a.i=0,a.refs=[]):c.clients.set(t,[e]),r=r.filter(e=>e!==t)}a.length=0};for(;;){if(m.constructor!==In){const r=i.e(p,m.id.client,()=>Pe(t,m.id.client))-m.id.clock;if(r<0)a.push(m),d(m.id.client,m.id.clock-1),h();else{const s=m.getMissing(e,t);if(null!==s){a.push(m);const e=n.get(s)||{refs:[],i:0};if(e.refs.length!==e.i){m=e.refs[e.i++];continue}d(s,Pe(t,s)),h()}else(0===r||r<m.length)&&(m.integrate(e,r),p.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(null!==l&&l.i<l.refs.length)m=l.refs[l.i++];else{if(l=s(),null===l)break;m=l.refs[l.i++]}}if(c.clients.size>0){const e=new me;return pe(e,c,new Map),o.n(e.restEncoder,0),{missing:u,update:e.toUint8Array()}}return null})(e,r,((e,t)=>{const n=i.c(),a=l.k(e.restDecoder);for(let r=0;r<a;r++){const a=l.k(e.restDecoder),r=new Array(a),s=e.readClient();let i=l.k(e.restDecoder);n.set(s,{i:0,refs:r});for(let n=0;n<a;n++){const a=e.readInfo();switch(b.i&a){case 0:{const t=e.readLen();r[n]=new ln(Ne(s,i),t),i+=t;break}case 10:{const t=l.k(e.restDecoder);r[n]=new In(Ne(s,i),t),i+=t;break}default:{const o=0==(a&(b.f|b.g)),l=new On(Ne(s,i),null,(a&b.g)===b.g?e.readLeftID():null,null,(a&b.f)===b.f?e.readRightID():null,o?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,o&&(a&b.e)===b.e?e.readString():null,Dn(e,a));r[n]=l,i+=l.length}}}}return n})(a,n)),c=r.pendingStructs;if(c){for(const[e,n]of c.missing)if(n<Pe(r,e)){t=!0;break}if(s){for(const[e,t]of s.missing){const n=c.missing.get(e);(null==n||n>t)&&c.missing.set(e,t)}c.update=st([c.update,s.update])}}else r.pendingStructs=s;const u=ne(a,e,r);if(r.pendingDs){const t=new le(l.e(r.pendingDs));l.k(t.restDecoder);const n=ne(t,e,r);r.pendingDs=u&&n?st([u,n]):u||n}else r.pendingDs=u;if(t){const t=r.pendingStructs.update;r.pendingStructs=null,ge(e.doc,t)}},n,!1),ge=(e,t,n,a=le)=>{const r=l.e(t);he(r,e,n,new a(r))},fe=(e,t,n)=>ge(e,t,n,ie),be=(e,t=new Uint8Array([0]),n=new me)=>{((e,t,n=new Map)=>{pe(e,t.store,n),ee(e,J(t.store))})(n,e,ve(t));const a=[n.toUint8Array()];if(e.store.pendingDs&&a.push(e.store.pendingDs),e.store.pendingStructs&&a.push(it(e.store.pendingStructs.update,t)),a.length>1){if(n.constructor===ue)return at(a.map((e,t)=>0===t?e:ut(e)));if(n.constructor===me)return st(a)}return a[0]},ye=(e,t)=>be(e,t,new ue),xe=e=>{const t=new Map,n=l.k(e.restDecoder);for(let a=0;a<n;a++){const n=l.k(e.restDecoder),a=l.k(e.restDecoder);t.set(n,a)}return t},ve=e=>xe(new se(l.e(e))),we=(e,t)=>(o.n(e.restEncoder,t.size),t.forEach((t,n)=>{o.n(e.restEncoder,n),o.n(e.restEncoder,t)}),e),ke=(e,t=new de)=>(e instanceof Map?we(t,e):((e,t)=>{we(e,Le(t.store))})(t,e),t.toUint8Array()),Ee=e=>ke(e,new ce);class Se{constructor(){this.l=[]}}const Ce=()=>new Se,Te=(e,t)=>e.l.push(t),Oe=(e,t)=>{const n=e.l,a=n.length;e.l=n.filter(e=>t!==e),a===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},De=(e,t,n)=>y.a(e.l,[t,n]);class je{constructor(e,t){this.client=e,this.clock=t}}const Ie=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Ne=(e,t)=>new je(e,t),_e=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw f()};class Re{constructor(e,t){this.ds=e,this.sv=t}}const Ae=(e,t)=>new Re(e,t),Me=(Ae(Q(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!W(t.ds,e.id)),Fe=(e,t)=>{const n=i.e(e.meta,Fe,x.a),a=e.doc.store;n.has(t)||(t.sv.forEach((t,n)=>{t<Pe(a,n)&&Ue(e,Ne(n,t))}),Y(e,t.ds,e=>{}),n.add(t))};class $e{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Le=e=>{const t=new Map;return e.clients.forEach((e,n)=>{const a=e[e.length-1];t.set(n,a.id.clock+a.length)}),t},Pe=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const a=n[n.length-1];return a.id.clock+a.length},ze=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw f()}n.push(t)},Be=(e,t)=>{let n=0,a=e.length-1,r=e[a],i=r.id.clock;if(i===t)return a;let o=s.c(t/(i+r.length-1)*a);for(;n<=a;){if(r=e[o],i=r.id.clock,i<=t){if(t<i+r.length)return o;n=o+1}else a=o-1;o=s.c((n+a)/2)}throw f()},Ve=(e,t)=>{const n=e.clients.get(t.client);return n[Be(n,t.clock)]},Ge=(e,t,n)=>{const a=Be(t,n),r=t[a];return r.id.clock<n&&r instanceof On?(t.splice(a+1,0,Tn(e,r,n-r.id.clock)),a+1):a},Ue=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Ge(e,n,t.clock)]},qe=(e,t,n)=>{const a=t.clients.get(n.client),r=Be(a,n.clock),s=a[r];return n.clock!==s.id.clock+s.length-1&&s.constructor!==ln&&a.splice(r+1,0,Tn(e,s,n.clock-s.id.clock+1)),s},He=(e,t,n,a,r)=>{if(0===a)return;const s=n+a;let i,o=Ge(e,t,n);do{i=t[o++],s<i.id.clock+i.length&&Ge(e,t,s),r(i)}while(o<t.length&&t[o].id.clock<s)};class Ye{constructor(e,t,n){this.doc=e,this.deleteSet=new H,this.beforeState=Le(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const We=(e,t)=>!(0===t.deleteSet.clients.size&&!i.a(t.afterState,(e,n)=>t.beforeState.get(n)!==e))&&(K(t.deleteSet),((e,t)=>{pe(e,t.doc.store,t.beforeState)})(e,t),ee(e,t.deleteSet),!0),Ke=(e,t,n)=>{const a=t._item;(null===a||a.id.clock<(e.beforeState.get(a.id.client)||0)&&!a.deleted)&&i.e(e.changed,t,x.a).add(n)},Xe=(e,t)=>{const n=e[t-1],a=e[t];n.deleted===a.deleted&&n.constructor===a.constructor&&n.mergeWith(a)&&(e.splice(t,1),a instanceof On&&null!==a.parentSub&&a.parent._map.get(a.parentSub)===a&&a.parent._map.set(a.parentSub,n))},Ze=(e,t,n)=>{for(const[a,r]of e.clients.entries()){const e=t.clients.get(a);for(let a=r.length-1;a>=0;a--){const s=r[a],i=s.clock+s.len;for(let a=Be(e,s.clock),r=e[a];a<e.length&&r.id.clock<i;r=e[++a]){const r=e[a];if(s.clock+s.len<=r.id.clock)break;r instanceof On&&r.deleted&&!r.keep&&n(r)&&r.gc(t,!1)}}}},Qe=(e,t)=>{e.clients.forEach((e,n)=>{const a=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=s.g(a.length-1,1+Be(a,n.clock+n.len-1)),t=a[e];e>0&&t.id.clock>=n.clock;t=a[--e])Xe(a,e)}})},Je=(e,t)=>{if(t<e.length){const n=e[t],a=n.doc,r=a.store,i=n.deleteSet,o=n._mergeStructs;try{K(i),n.afterState=Le(n.doc.store),a._transaction=null,a.emit("beforeObserverCalls",[n,a]);const l=[];n.changed.forEach((e,t)=>l.push(()=>{null!==t._item&&t._item.deleted||t._callObserver(n,e)})),l.push(()=>{n.changedParentTypes.forEach((e,t)=>l.push(()=>{null!==t._item&&t._item.deleted||((e=e.filter(e=>null===e.target._item||!e.target._item.deleted)).forEach(e=>{e.currentTarget=t}),e.sort((e,t)=>e.path.length-t.path.length),De(t._dEH,e,n))})),l.push(()=>a.emit("afterTransaction",[n,a]))}),Object(y.a)(l,[])}finally{a.gc&&Ze(i,r,a.gcFilter),Qe(i,r),n.afterState.forEach((e,t)=>{const a=n.beforeState.get(t)||0;if(a!==e){const e=r.clients.get(t),n=s.f(Be(e,a),1);for(let t=e.length-1;t>=n;t--)Xe(e,t)}});for(let e=0;e<o.length;e++){const{client:t,clock:n}=o[e].id,a=r.clients.get(t),s=Be(a,n);s+1<a.length&&Xe(a,s+1),s>0&&Xe(a,s)}if(n.local||n.afterState.get(a.clientID)===n.beforeState.get(a.clientID)||(a.clientID=ae(),z(M,D,"[yjs] ",j,R,"Changed the client-id because another client seems to be using it.")),a.emit("afterTransactionCleanup",[n,a]),a._observers.has("update")){const e=new ue;We(e,n)&&a.emit("update",[e.toUint8Array(),n.origin,a,n])}if(a._observers.has("updateV2")){const e=new me;We(e,n)&&a.emit("updateV2",[e.toUint8Array(),n.origin,a,n])}n.subdocsAdded.forEach(e=>a.subdocs.add(e)),n.subdocsRemoved.forEach(e=>a.subdocs.delete(e)),a.emit("subdocs",[{loaded:n.subdocsLoaded,added:n.subdocsAdded,removed:n.subdocsRemoved}]),n.subdocsRemoved.forEach(e=>e.destroy()),e.length<=t+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,e])):Je(e,t+1)}}},et=(e,t,n=null,a=!0)=>{const r=e._transactionCleanups;let s=!1;null===e._transaction&&(s=!0,e._transaction=new Ye(e,n,a),r.push(e._transaction),1===r.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{s&&r[0]===e._transaction&&Je(r,0)}};a.a;class tt{constructor(e,t){this.gen=function*(e){const t=l.k(e.restDecoder);for(let n=0;n<t;n++){const t=l.k(e.restDecoder),n=e.readClient();let a=l.k(e.restDecoder);for(let r=0;r<t;r++){const t=e.readInfo();if(10===t){const t=l.k(e.restDecoder);yield new In(Ne(n,a),t),a+=t}else if(0!=(b.i&t)){const r=0==(t&(b.f|b.g)),s=new On(Ne(n,a),null,(t&b.g)===b.g?e.readLeftID():null,null,(t&b.f)===b.f?e.readRightID():null,r?e.readParentInfo()?e.readString():e.readLeftID():null,r&&(t&b.e)===b.e?e.readString():null,Dn(e,t));yield s,a+=s.length}else{const t=e.readLen();yield new ln(Ne(n,a),t),a+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===In);return this.curr}}class nt{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const at=e=>st(e,ie,ue),rt=(e,t)=>{if(e.constructor===ln){const{client:n,clock:a}=e.id;return new ln(Ne(n,a+t),e.length-t)}if(e.constructor===In){const{client:n,clock:a}=e.id;return new In(Ne(n,a+t),e.length-t)}{const n=e,{client:a,clock:r}=n.id;return new On(Ne(a,r+t),null,Ne(a,r+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},st=(e,t=le,n=me)=>{if(1===e.length)return e[0];const a=e.map(e=>new t(l.e(e)));let r=a.map(e=>new tt(e,!0)),s=null;const i=new n,o=new nt(i);for(;r=r.filter(e=>null!==e.curr),r.sort((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===In?1:-1:n}return t.curr.id.client-e.curr.id.client}),0!==r.length;){const e=r[0],t=e.curr.id.client;if(null!==s){let n=e.curr,a=!1;for(;null!==n&&n.id.clock+n.length<=s.struct.id.clock+s.struct.length&&n.id.client>=s.struct.id.client;)n=e.next(),a=!0;if(null===n||n.id.client!==t||a&&n.id.clock>s.struct.id.clock+s.struct.length)continue;if(t!==s.struct.id.client)lt(o,s.struct,s.offset),s={struct:n,offset:0},e.next();else if(s.struct.id.clock+s.struct.length<n.id.clock)if(s.struct.constructor===In)s.struct.length=n.id.clock+n.length-s.struct.id.clock;else{lt(o,s.struct,s.offset);const e=n.id.clock-s.struct.id.clock-s.struct.length;s={struct:new In(Ne(t,s.struct.id.clock+s.struct.length),e),offset:0}}else{const t=s.struct.id.clock+s.struct.length-n.id.clock;t>0&&(s.struct.constructor===In?s.struct.length-=t:n=rt(n,t)),s.struct.mergeWith(n)||(lt(o,s.struct,s.offset),s={struct:n,offset:0},e.next())}}else s={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===s.struct.id.clock+s.struct.length&&n.constructor!==In;n=e.next())lt(o,s.struct,s.offset),s={struct:n,offset:0}}null!==s&&(lt(o,s.struct,s.offset),s=null),ct(o);const c=a.map(e=>te(e)),u=X(c);return ee(i,u),i.toUint8Array()},it=(e,t,n=le,a=me)=>{const r=ve(t),i=new a,o=new nt(i),c=new n(l.e(e)),u=new tt(c,!1);for(;u.curr;){const e=u.curr,t=e.id.client,n=r.get(t)||0;if(u.curr.constructor!==In)if(e.id.clock+e.length>n)for(lt(o,e,s.f(n-e.id.clock,0)),u.next();u.curr&&u.curr.id.client===t;)lt(o,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===t&&u.curr.id.clock+u.curr.length<=n;)u.next();else u.next()}ct(o);const d=te(c);return ee(i,d),i.toUint8Array()},ot=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:o.g(e.encoder.restEncoder)}),e.encoder.restEncoder=o.e(),e.written=0)},lt=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&ot(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),o.n(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},ct=e=>{ot(e);const t=e.encoder.restEncoder;o.n(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const a=e.clientStructs[n];o.n(t,a.written),o.k(t,a.restEncoder)}},ut=e=>((e,t,n)=>{const a=new t(l.e(e)),r=new tt(a,!1),s=new n,i=new nt(s);for(let e=r.curr;null!==e;e=r.next())lt(i,e,0);ct(i);const o=te(a);return ee(s,o),s.toUint8Array()})(e,le,ue);class dt{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null}get path(){return mt(this.currentTarget,this.target)}deletes(e){return W(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){const e=new Map,t=this.target;this.transaction.changed.get(t).forEach(n=>{if(null!==n){const a=t._map.get(n);let s,i;if(this.adds(a)){let e=a.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(a)){if(null===e||!this.deletes(e))return;s="delete",i=r.d(e.content.getContent())}else null!==e&&this.deletes(e)?(s="update",i=r.d(e.content.getContent())):(s="add",i=void 0)}else{if(!this.deletes(a))return;s="delete",i=r.d(a.content.getContent())}e.set(n,{action:s,oldValue:i})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){const t=this.target,n=x.a(),a=x.a(),r=[];if(e={added:n,deleted:a,delta:r,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null;const s=()=>{e&&r.push(e)};for(let r=t._start;null!==r;r=r.right)r.deleted?this.deletes(r)&&!this.adds(r)&&(null!==e&&void 0!==e.delete||(s(),e={delete:0}),e.delete+=r.length,a.add(r)):this.adds(r)?(null!==e&&void 0!==e.insert||(s(),e={insert:[]}),e.insert=e.insert.concat(r.content.getContent()),n.add(r)):(null!==e&&void 0!==e.retain||(s(),e={retain:0}),e.retain+=r.length);null!==e&&void 0===e.retain&&s()}this._changes=e}return e}}const mt=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,a=t._item.parent._start;for(;a!==t._item&&null!==a;)a.deleted||e++,a=a.right;n.unshift(e)}t=t._item.parent}return n};let pt=0;class ht{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=pt++}}const gt=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=pt++},ft=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce((e,n)=>s.a(t-e.index)<s.a(t-n.index)?e:n);let a=e._start,r=0;for(null!==n&&(a=n.p,r=n.index,(e=>{e.timestamp=pt++})(n));null!==a.right&&r<t;){if(!a.deleted&&a.countable){if(t<r+a.length)break;r+=a.length}a=a.right}for(;null!==a.left&&r>t;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);for(;null!==a.left&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);return null!==n&&s.a(n.index-r)<a.parent.length/80?(gt(n,a,r),n):((e,t,n)=>{if(e.length>=80){const a=e.reduce((e,t)=>e.timestamp<t.timestamp?e:t);return gt(a,t,n),a}{const a=new ht(t,n);return e.push(a),a}})(e._searchMarker,a,r)},bt=(e,t,n)=>{for(let a=e.length-1;a>=0;a--){const r=e[a];if(n>0){let t=r.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(r.index-=t.length);if(null===t||!0===t.marker){e.splice(a,1);continue}r.p=t,t.marker=!0}(t<r.index||n>0&&t===r.index)&&(r.index=s.f(t,r.index+n))}},yt=(e,t,n)=>{const a=e,r=t.changedParentTypes;for(;i.e(r,e,()=>[]).push(n),null!==e._item;)e=e._item.parent;De(a._eH,n,t)};class xt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ce(),this._dEH=Ce(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw g()}clone(){throw g()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Te(this._eH,e)}observeDeep(e){Te(this._dEH,e)}unobserve(e){Oe(this._eH,e)}unobserveDeep(e){Oe(this._dEH,e)}toJSON(){}}const vt=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let a=n-t;const r=[];let s=e._start;for(;null!==s&&a>0;){if(s.countable&&!s.deleted){const e=s.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&a>0;n++)r.push(e[n]),a--;t=0}}s=s.right}return r},wt=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},kt=(e,t)=>{let n=0,a=e._start;for(;null!==a;){if(a.countable&&!a.deleted){const r=a.content.getContent();for(let a=0;a<r.length;a++)t(r[a],n++,e)}a=a.right}},Et=(e,t)=>{const n=[];return kt(e,(a,r)=>{n.push(t(a,r,e))}),n},St=e=>{let t=e._start,n=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),a=0,t=t.right}const e=n[a++];return n.length<=a&&(n=null),{done:!1,value:e}}}},Ct=(e,t)=>{const n=ft(e,t);let a=e._start;for(null!==n&&(a=n.p,t-=n.index);null!==a;a=a.right)if(!a.deleted&&a.countable){if(t<a.length)return a.content.getContent()[t];t-=a.length}},Tt=(e,t,n,a)=>{let r=n;const s=e.doc,i=s.clientID,o=s.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(r=new On(Ne(i,Pe(o,i)),r,r&&r.lastId,l,l&&l.id,t,null,new gn(c)),r.integrate(e,0),c=[])};a.forEach(n=>{switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:r=new On(Ne(i,Pe(o,i)),r,r&&r.lastId,l,l&&l.id,t,null,new cn(new Uint8Array(n))),r.integrate(e,0);break;case re:r=new On(Ne(i,Pe(o,i)),r,r&&r.lastId,l,l&&l.id,t,null,new dn(n)),r.integrate(e,0);break;default:if(!(n instanceof xt))throw new Error("Unexpected content type in insert operation");r=new On(Ne(i,Pe(o,i)),r,r&&r.lastId,l,l&&l.id,t,null,new Cn(n)),r.integrate(e,0)}}}),u()},Ot=h("Length exceeded!"),Dt=(e,t,n,a)=>{if(n>t._length)throw Ot;if(0===n)return t._searchMarker&&bt(t._searchMarker,n,a.length),Tt(e,t,null,a);const r=n,s=ft(t,n);let i=t._start;for(null!==s&&(i=s.p,0===(n-=s.index)&&(i=i.prev,n+=i&&i.countable&&!i.deleted?i.length:0));null!==i;i=i.right)if(!i.deleted&&i.countable){if(n<=i.length){n<i.length&&Ue(e,Ne(i.id.client,i.id.clock+n));break}n-=i.length}return t._searchMarker&&bt(t._searchMarker,r,a.length),Tt(e,t,i,a)},jt=(e,t,n,a)=>{if(0===a)return;const r=n,s=a,i=ft(t,n);let o=t._start;for(null!==i&&(o=i.p,n-=i.index);null!==o&&n>0;o=o.right)!o.deleted&&o.countable&&(n<o.length&&Ue(e,Ne(o.id.client,o.id.clock+n)),n-=o.length);for(;a>0&&null!==o;)o.deleted||(a<o.length&&Ue(e,Ne(o.id.client,o.id.clock+a)),o.delete(e),a-=o.length),o=o.right;if(a>0)throw Ot;t._searchMarker&&bt(t._searchMarker,r,-s+a)},It=(e,t,n)=>{const a=t._map.get(n);void 0!==a&&a.delete(e)},Nt=(e,t,n,a)=>{const r=t._map.get(n)||null,s=e.doc,i=s.clientID;let o;if(null==a)o=new gn([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:o=new gn([a]);break;case Uint8Array:o=new cn(a);break;case re:o=new dn(a);break;default:if(!(a instanceof xt))throw new Error("Unexpected content type");o=new Cn(a)}new On(Ne(i,Pe(s.store,i)),r,r&&r.lastId,null,null,t,n,o).integrate(e,0)},_t=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Rt=e=>{const t={};return e._map.forEach((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])}),t},At=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Mt=e=>{return t=e.entries(),n=e=>!e[1].deleted,V(()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e});var t,n};class Ft extends dt{constructor(e,t){super(e,t),this._transaction=t}}class $t extends xt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new $t;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new $t}clone(){const e=new $t;return e.insert(0,this.toArray().map(e=>e instanceof xt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),yt(this,e,new Ft(this,e))}insert(e,t){null!==this.doc?et(this.doc,n=>{Dt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?et(this.doc,n=>{jt(n,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return Ct(this,e)}toArray(){return wt(this)}slice(e=0,t=this.length){return vt(this,e,t)}toJSON(){return this.map(e=>e instanceof xt?e.toJSON():e)}map(e){return Et(this,e)}forEach(e){kt(this,e)}[Symbol.iterator](){return St(this)}_write(e){e.writeTypeRef(yn)}}class Lt extends dt{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Pt extends xt{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((e,t)=>{this.set(t,e)}),this._prelimContent=null}_copy(){return new Pt}clone(){const e=new Pt;return this.forEach((t,n)=>{e.set(n,t instanceof xt?t.clone():t)}),e}_callObserver(e,t){yt(this,e,new Lt(this,e,t))}toJSON(){const e={};return this._map.forEach((t,n)=>{if(!t.deleted){const a=t.content.getContent()[t.length-1];e[n]=a instanceof xt?a.toJSON():a}}),e}get size(){return[...Mt(this._map)].length}keys(){return G(Mt(this._map),e=>e[0])}values(){return G(Mt(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return G(Mt(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){return this._map.forEach((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}),{}}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return _t(this,e)}has(e){return At(this,e)}clear(){null!==this.doc?et(this.doc,e=>{this.forEach((function(t,n,a){It(e,a,n)}))}):this._prelimContent.clear()}_write(e){e.writeTypeRef(xn)}}const zt=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&U.a(e,t);class Bt{constructor(e,t,n,a){this.left=e,this.right=t,this.index=n,this.currentAttributes=a}forward(){switch(null===this.right&&f(),this.right.content.constructor){case mn:case fn:this.right.deleted||(this.index+=this.right.length);break;case pn:this.right.deleted||qt(this.currentAttributes,this.right.content)}this.left=this.right,this.right=this.right.right}}const Vt=(e,t,n)=>{for(;null!==t.right&&n>0;){switch(t.right.content.constructor){case mn:case fn:t.right.deleted||(n<t.right.length&&Ue(e,Ne(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break;case pn:t.right.deleted||qt(t.currentAttributes,t.right.content)}t.left=t.right,t.right=t.right.right}return t},Gt=(e,t,n)=>{const a=new Map,r=ft(t,n);if(r){const t=new Bt(r.p.left,r.p,r.index,a);return Vt(e,t,n-r.index)}{const r=new Bt(null,t._start,0,a);return Vt(e,r,n)}},Ut=(e,t,n,a)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===pn&&zt(a.get(n.right.content.key),n.right.content.value));)n.right.deleted||a.delete(n.right.content.key),n.forward();const r=e.doc,s=r.clientID;a.forEach((a,i)=>{const o=n.left,l=n.right,c=new On(Ne(s,Pe(r.store,s)),o,o&&o.lastId,l,l&&l.id,t,null,new pn(i,a));c.integrate(e,0),n.right=c,n.forward()})},qt=(e,t)=>{const{key:n,value:a}=t;null===a?e.delete(n):e.set(n,a)},Ht=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===pn&&zt(t[e.right.content.key]||null,e.right.content.value));)e.forward()},Yt=(e,t,n,a)=>{const r=e.doc,s=r.clientID,i=new Map;for(const o in a){const l=a[o],c=n.currentAttributes.get(o)||null;if(!zt(c,l)){i.set(o,c);const{left:a,right:u}=n;n.right=new On(Ne(s,Pe(r.store,s)),a,a&&a.lastId,u,u&&u.id,t,null,new pn(o,l)),n.right.integrate(e,0),n.forward()}}return i},Wt=(e,t,n,a,r)=>{n.currentAttributes.forEach((e,t)=>{void 0===r[t]&&(r[t]=null)});const s=e.doc,i=s.clientID;Ht(n,r);const o=Yt(e,t,n,r),l=a.constructor===String?new fn(a):new mn(a);let{left:c,right:u,index:d}=n;t._searchMarker&&bt(t._searchMarker,n.index,l.getLength()),u=new On(Ne(i,Pe(s.store,i)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),Ut(e,t,n,o)},Kt=(e,t,n,a,r)=>{const s=e.doc,i=s.clientID;Ht(n,r);const o=Yt(e,t,n,r);for(;a>0&&null!==n.right;){if(!n.right.deleted)switch(n.right.content.constructor){case pn:{const{key:t,value:a}=n.right.content,s=r[t];void 0!==s&&(zt(s,a)?o.delete(t):o.set(t,a),n.right.delete(e));break}case mn:case fn:a<n.right.length&&Ue(e,Ne(n.right.id.client,n.right.id.clock+a)),a-=n.right.length}n.forward()}if(a>0){let r="";for(;a>0;a--)r+="\n";n.right=new On(Ne(i,Pe(s.store,i)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new fn(r)),n.right.integrate(e,0),n.forward()}Ut(e,t,n,o)},Xt=(e,t,n,a,r)=>{for(;n&&n.content.constructor!==fn&&n.content.constructor!==mn;)n.deleted||n.content.constructor!==pn||qt(r,n.content),n=n.right;let s=0;for(;t!==n;){if(!t.deleted){const n=t.content;switch(n.constructor){case pn:{const{key:i,value:o}=n;(r.get(i)||null)===o&&(a.get(i)||null)!==o||(t.delete(e),s++);break}}}t=t.right}return s},Zt=(e,t,n)=>{const a=n,r=i.b(t.currentAttributes),s=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case mn:case fn:n<t.right.length&&Ue(e,Ne(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}s&&Xt(e,s,t.right,r,i.b(t.currentAttributes));const o=(t.left||t.right).parent;return o._searchMarker&&bt(o._searchMarker,t.index,-a+n),t};class Qt extends dt{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)})}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];et(e,e=>{const n=new Map,a=new Map;let r=this.target._start,s=null;const i={};let o="",l=0,c=0;const u=()=>{if(null!==s){let e;switch(s){case"delete":e={delete:c},c=0;break;case"insert":e={insert:o},n.size>0&&(e.attributes={},n.forEach((t,n)=>{null!==t&&(e.attributes[n]=t)})),o="";break;case"retain":if(e={retain:l},Object.keys(i).length>0){e.attributes={};for(const t in i)e.attributes[t]=i[t]}l=0}t.push(e),s=null}};for(;null!==r;){switch(r.content.constructor){case mn:this.adds(r)?this.deletes(r)||(u(),s="insert",o=r.content.embed,u()):this.deletes(r)?("delete"!==s&&(u(),s="delete"),c+=1):r.deleted||("retain"!==s&&(u(),s="retain"),l+=1);break;case fn:this.adds(r)?this.deletes(r)||("insert"!==s&&(u(),s="insert"),o+=r.content.str):this.deletes(r)?("delete"!==s&&(u(),s="delete"),c+=r.length):r.deleted||("retain"!==s&&(u(),s="retain"),l+=r.length);break;case pn:{const{key:t,value:o}=r.content;if(this.adds(r)){if(!this.deletes(r)){const l=n.get(t)||null;zt(l,o)?r.delete(e):("retain"===s&&u(),zt(o,a.get(t)||null)?delete i[t]:i[t]=o)}}else if(this.deletes(r)){a.set(t,o);const e=n.get(t)||null;zt(e,o)||("retain"===s&&u(),i[t]=e)}else if(!r.deleted){a.set(t,o);const n=i[t];void 0!==n&&(zt(n,o)?r.delete(e):("retain"===s&&u(),null===o?i[t]=o:delete i[t]))}r.deleted||("insert"===s&&u(),qt(n,r.content));break}}r=r.right}for(u();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}}),this._delta=t}return this._delta}}class Jt extends xt{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(e=>e())}catch(e){console.error(e)}this._pending=null}_copy(){return new Jt}clone(){const e=new Jt;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new Qt(this,e,t),a=e.doc;if(yt(this,e,n),!e.local){let t=!1;for(const[n,r]of e.afterState.entries()){const s=e.beforeState.get(n)||0;if(r!==s&&(He(e,a.store.clients.get(n),s,r,e=>{e.deleted||e.content.constructor!==pn||(t=!0)}),t))break}t||Y(e,e.deleteSet,e=>{e instanceof ln||t||e.parent===this&&e.content.constructor===pn&&(t=!0)}),et(a,e=>{t?(e=>{let t=0;et(e.doc,n=>{let a=e._start,r=e._start,s=i.c();const o=i.b(s);for(;r;){if(!1===r.deleted)switch(r.content.constructor){case pn:qt(o,r.content);break;case mn:case fn:t+=Xt(n,a,r,s,o),s=i.b(o),a=r}r=r.right}})})(this):Y(e,e.deleteSet,t=>{t instanceof ln||t.parent===this&&((e,t)=>{for(;t&&t.right&&(t.right.deleted||t.right.content.constructor!==fn&&t.right.content.constructor!==mn);)t=t.right;const n=new Set;for(;t&&(t.deleted||t.content.constructor!==fn&&t.content.constructor!==mn);){if(!t.deleted&&t.content.constructor===pn){const a=t.content.key;n.has(a)?t.delete(e):n.add(a)}t=t.left}})(e,t)})})}}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===fn&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?et(this.doc,n=>{const a=new Bt(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const s=e[r];if(void 0!==s.insert){const i=t||"string"!=typeof s.insert||r!==e.length-1||null!==a.right||"\n"!==s.insert.slice(-1)?s.insert:s.insert.slice(0,-1);("string"!=typeof i||i.length>0)&&Wt(n,this,a,i,s.attributes||{})}else void 0!==s.retain?Kt(n,this,a,s.retain,s.attributes||{}):void 0!==s.delete&&Zt(n,a,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,n){const a=[],r=new Map,s=this.doc;let i="",o=this._start;function l(){if(i.length>0){const e={};let t=!1;r.forEach((n,a)=>{t=!0,e[a]=n});const n={insert:i};t&&(n.attributes=e),a.push(n),i=""}}return et(s,s=>{for(e&&Fe(s,e),t&&Fe(s,t);null!==o;){if(Me(o,e)||void 0!==t&&Me(o,t))switch(o.content.constructor){case fn:{const a=r.get("ychange");void 0===e||Me(o,e)?void 0===t||Me(o,t)?void 0!==a&&(l(),r.delete("ychange")):void 0!==a&&a.user===o.id.client&&"added"===a.state||(l(),r.set("ychange",n?n("added",o.id):{type:"added"})):void 0!==a&&a.user===o.id.client&&"removed"===a.state||(l(),r.set("ychange",n?n("removed",o.id):{type:"removed"})),i+=o.content.str;break}case mn:{l();const e={insert:o.content.embed};if(r.size>0){const t={};e.attributes=t,r.forEach((e,n)=>{t[n]=e})}a.push(e);break}case pn:Me(o,e)&&(l(),qt(r,o.content))}o=o.right}l()},Fe),a}insert(e,t,n){if(t.length<=0)return;const a=this.doc;null!==a?et(a,a=>{const r=Gt(a,this,e);n||(n={},r.currentAttributes.forEach((e,t)=>{n[t]=e})),Wt(a,this,r,t,n)}):this._pending.push(()=>this.insert(e,t,n))}insertEmbed(e,t,n={}){if(t.constructor!==Object)throw new Error("Embed must be an Object");const a=this.doc;null!==a?et(a,a=>{const r=Gt(a,this,e);Wt(a,this,r,t,n)}):this._pending.push(()=>this.insertEmbed(e,t,n))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?et(n,n=>{Zt(n,Gt(n,this,e),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,n){if(0===t)return;const a=this.doc;null!==a?et(a,a=>{const r=Gt(a,this,e);null!==r.right&&Kt(a,this,r,t,n)}):this._pending.push(()=>this.format(e,t,n))}removeAttribute(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return _t(this,e)}getAttributes(e){return Rt(this)}_write(e){e.writeTypeRef(vn)}}class en{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==nn&&t.constructor!==tn||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class tn extends xt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new tn}clone(){const e=new tn;return e.insert(0,this.toArray().map(e=>e instanceof xt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new en(this,e)}querySelector(e){e=e.toUpperCase();const t=new en(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new en(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){yt(this,e,new an(this,t,e))}toString(){return Et(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const a=e.createDocumentFragment();return void 0!==n&&n._createAssociation(a,this),kt(this,r=>{a.insertBefore(r.toDOM(e,t,n),null)}),a}insert(e,t){null!==this.doc?et(this.doc,n=>{Dt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)et(this.doc,n=>{const a=e&&e instanceof xt?e._item:e;Tt(n,this,a,t)});else{const n=this._prelimContent,a=null===e?0:n.findIndex(t=>t===e)+1;if(0===a&&null!==e)throw h("Reference item not found");n.splice(a,0,...t)}}delete(e,t=1){null!==this.doc?et(this.doc,n=>{jt(n,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return wt(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Ct(this,e)}slice(e=0,t=this.length){return vt(this,e,t)}_write(e){e.writeTypeRef(kn)}}class nn extends tn{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((e,t)=>{this.setAttribute(t,e)}),this._prelimAttrs=null}_copy(){return new nn(this.nodeName)}clone(){const e=new nn(this.nodeName),t=this.getAttributes();for(const n in t)e.setAttribute(n,t[n]);return e.insert(0,this.toArray().map(e=>e instanceof xt?e.clone():e)),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const a=n.length;for(let r=0;r<a;r++){const a=n[r];t.push(a+'="'+e[a]+'"')}const r=this.nodeName.toLocaleLowerCase();return`<${r}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${r}>`}removeAttribute(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return _t(this,e)}hasAttribute(e){return At(this,e)}getAttributes(e){return Rt(this)}toDOM(e=document,t={},n){const a=e.createElement(this.nodeName),r=this.getAttributes();for(const e in r)a.setAttribute(e,r[e]);return kt(this,r=>{a.appendChild(r.toDOM(e,t,n))}),void 0!==n&&n._createAssociation(a,this),a}_write(e){e.writeTypeRef(wn),e.writeKey(this.nodeName)}}class an extends dt{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)})}}class rn extends Pt{constructor(e){super(),this.hookName=e}_copy(){return new rn(this.hookName)}clone(){const e=new rn(this.hookName);return this.forEach((t,n)=>{e.set(n,t)}),e}toDOM(e=document,t={},n){const a=t[this.hookName];let r;return r=void 0!==a?a.createDom(this):document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(En),e.writeKey(this.hookName)}}class sn extends Jt{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new sn}clone(){const e=new sn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const a=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(a,this),a}toString(){return this.toDelta().map(e=>{const t=[];for(const n in e.attributes){const a=[];for(const t in e.attributes[n])a.push({key:t,value:e.attributes[n][t]});a.sort((e,t)=>e.key<t.key?-1:1),t.push({nodeName:n,attrs:a})}t.sort((e,t)=>e.nodeName<t.nodeName?-1:1);let n="";for(let e=0;e<t.length;e++){const a=t[e];n+=`<${a.nodeName}`;for(let e=0;e<a.attrs.length;e++){const t=a.attrs[e];n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Sn)}}class on{constructor(e,t){this.id=e,this.length=t}get deleted(){throw g()}mergeWith(e){return!1}write(e,t,n){throw g()}integrate(e,t){throw g()}}class ln extends on{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),ze(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class cn{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new cn(this.content)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class un{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new un(this.len)}splice(e){const t=new un(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){Z(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}class dn{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new dn(this.doc)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class mn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new mn(this.embed)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class pn{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new pn(this.key,this.value)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){t.parent._searchMarker=null}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class hn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new hn(this.arr)}splice(e){const t=new hn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}class gn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gn(this.arr)}splice(e){const t=new gn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeAny(t)}}getRef(){return 8}}class fn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new fn(this.str)}splice(e){const t=new fn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",t.str="�"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const bn=[e=>new $t,e=>new Pt,e=>new Jt,e=>new nn(e.readKey()),e=>new tn,e=>new rn(e.readKey()),e=>new sn],yn=0,xn=1,vn=2,wn=3,kn=4,En=5,Sn=6;class Cn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Cn(this.type._copy())}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;null!==t;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Tn=(e,t,n)=>{const{client:a,clock:r}=t.id,s=new On(Ne(a,r+n),t,Ne(a,r+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&s.markDeleted(),t.keep&&(s.keep=!0),null!==t.redone&&(s.redone=Ne(t.redone.client,t.redone.clock+n)),t.right=s,null!==s.right&&(s.right.left=s),e._mergeStructs.push(s),null!==s.parentSub&&null===s.right&&s.parent._map.set(s.parentSub,s),t.length=n,s};class On extends on{constructor(e,t,n,a,r,s,i,o){super(e,o.getLength()),this.origin=n,this.left=t,this.right=a,this.rightOrigin=r,this.parent=s,this.parentSub=i,this.redone=null,this.content=o,this.info=this.content.isCountable()?b.b:0}set marker(e){(this.info&b.d)>0!==e&&(this.info^=b.d)}get marker(){return(this.info&b.d)>0}get keep(){return(this.info&b.a)>0}set keep(e){this.keep!==e&&(this.info^=b.a)}get countable(){return(this.info&b.b)>0}get deleted(){return(this.info&b.c)>0}set deleted(e){this.deleted!==e&&(this.info^=b.c)}markDeleted(){this.info|=b.c}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Pe(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Pe(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===je&&this.id.client!==this.parent.client&&this.parent.clock>=Pe(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=qe(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ue(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ln||this.right&&this.right.constructor===ln)&&(this.parent=null),this.parent){if(this.parent.constructor===je){const e=Ve(t,this.parent);e.constructor===ln?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===On&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===On&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=qe(e,e.doc.store,Ne(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const a=new Set,r=new Set;for(;null!==t&&t!==this.right;){if(r.add(t),a.add(t),Ie(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,a.clear();else if(Ie(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!r.has(Ve(e.doc.store,t.origin)))break;a.has(Ve(e.doc.store,t.origin))||(n=t,a.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ze(e.doc.store,this),this.content.integrate(e,this),Ke(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new ln(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:Ne(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Ie(e.origin,this.lastId)&&this.right===e&&Ie(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach(t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),Z(e.deleteSet,this.id.client,this.id.clock,this.length),Ke(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw f();this.content.gc(e),t?((e,t,n)=>{const a=e.clients.get(t.id.client);a[Be(a,t.id.clock)]=n})(e,this,new ln(this.id,this.length)):this.content=new un(this.length)}write(e,t){const n=t>0?Ne(this.id.client,this.id.clock+t-1):this.origin,a=this.rightOrigin,r=this.parentSub,s=this.content.getRef()&b.i|(null===n?0:b.g)|(null===a?0:b.f)|(null===r?0:b.e);if(e.writeInfo(s),null!==n&&e.writeLeftID(n),null!==a&&e.writeRightID(a),null===n&&null===a){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=_e(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===je?(e.writeParentInfo(!1),e.writeLeftID(t)):f();null!==r&&e.writeString(r)}this.content.write(e,t)}}const Dn=(e,t)=>jn[t&b.i](e),jn=[()=>{f()},e=>new un(e.readLen()),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new hn(n)},e=>new cn(e.readBuf()),e=>new fn(e.readString()),e=>new mn(e.readJSON()),e=>new pn(e.readString(),e.readJSON()),e=>new Cn(bn[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++)n.push(e.readAny());return new gn(n)},e=>new dn(new re({guid:e.readString(),...e.readAny()})),()=>{f()}];class In extends on{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){f()}write(e,t){e.writeInfo(10),o.n(e.restEncoder,this.length-t)}getMissing(e,t){return null}}},178:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(109),o=n(5);t.a=function({sortDirection:e,sortKey:t,sortType:n,onSelect:a,resourceType:l,width:c=210}){const u=(e=>{switch(e){case o.ResourceType.Dashboards:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Modified (Oldest)",sortKey:"meta.updatedAt",sortType:i.a.Date,sortDirection:s.Sort.Ascending},{label:"Modified (Newest)",sortKey:"meta.updatedAt",sortType:i.a.Date,sortDirection:s.Sort.Descending}];case o.ResourceType.Tasks:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Active",sortKey:"status",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Inactive",sortKey:"status",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Completed (Oldest)",sortKey:"latestCompleted",sortType:i.a.Date,sortDirection:s.Sort.Ascending},{label:"Completed (Newest)",sortKey:"latestCompleted",sortType:i.a.Date,sortDirection:s.Sort.Descending},{label:"Schedule (Most Often)",sortKey:"every",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Schedule (Least Often)",sortKey:"every",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Variables:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Type (A → Z)",sortKey:"arguments.type",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Type (Z → A)",sortKey:"arguments.type",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Secrets:return[{label:"Name (A → Z)",sortKey:"id",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"id",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Labels:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"properties.description",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"properties.description",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Templates:return[{label:"Name (A → Z)",sortKey:"meta.name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"meta.name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"meta.description",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"meta.description",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Buckets:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Retention (Ascending)",sortKey:"retentionRules[0].everySeconds",sortType:i.a.Float,sortDirection:s.Sort.Ascending},{label:"Retention (Descending)",sortKey:"retentionRules[0].everySeconds",sortType:i.a.Float,sortDirection:s.Sort.Descending}];case o.ResourceType.Telegrafs:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Description (Ascending)",sortKey:"description",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Descending)",sortKey:"description",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Scrapers:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"URL (Ascending)",sortKey:"url",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"URL (Descending)",sortKey:"url",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Bucket (Ascending)",sortKey:"bucket",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Bucket (Descending)",sortKey:"bucket",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Authorizations:return[{label:"Description (A → Z)",sortKey:"description",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"description",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Status (Active)",sortKey:"status",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Status (Inactive)",sortKey:"status",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Date Created (Oldest)",sortKey:"createdAt",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Date Created (Newest)",sortKey:"createdAt",sortType:i.a.String,sortDirection:s.Sort.Descending}];case o.ResourceType.Flows:return[{label:"Name (A → Z)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:i.a.String,sortDirection:s.Sort.Descending},{label:"Created (Oldest)",sortKey:"createdAt",sortType:i.a.Date,sortDirection:s.Sort.Ascending},{label:"Created (Newest)",sortKey:"createdAt",sortType:i.a.Date,sortDirection:s.Sort.Descending}]}})(l),{label:d}=u.find(a=>a.sortKey===t&&a.sortDirection===e&&a.sortType===n),m=e=>{const{sortKey:t,sortDirection:n,sortType:r}=e;a(t,n,r)};return r.a.createElement(s.Dropdown,{button:(e,t)=>r.a.createElement(s.Dropdown.Button,{onClick:t,active:e,testID:"resource-sorter--button"},`Sort by ${d}`),menu:a=>r.a.createElement(s.Dropdown.Menu,{onCollapse:a},u.map(a=>r.a.createElement(s.Dropdown.Item,{key:`${a.sortKey}${a.sortDirection}`,value:a,onClick:m,testID:`resource-sorter--${a.sortKey}-${a.sortDirection}`,selected:a.sortKey===t&&a.sortType===n&&a.sortDirection===e},a.label))),style:{flexBasis:`${c}px`,width:`${c}px`},testID:"resource-sorter"})}},187:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(454),i=n(4),o=n(213),l=n(3),c=(n(439),n(140)),u=n(108),d=n(45),m=n(222),p=n(367);const h=e=>Object(m.c)(e,"YYYY-MM-DD HH:mm")||Object(m.c)(e,"YYYY-MM-DD HH:mm:ss")||Object(m.c)(e,"YYYY-MM-DD HH:mm:ss.sss")||Object(m.c)(e,"YYYY-MM-DD")||Object(p.b)(e),g=e=>Object(m.c)(e,"YYYY-MM-DD")?"YYYY-MM-DD":Object(m.c)(e,"YYYY-MM-DD HH:mm")?"YYYY-MM-DD HH:mm":Object(m.c)(e,"YYYY-MM-DD HH:mm:ss")?"YYYY-MM-DD HH:mm:ss":Object(m.c)(e,"YYYY-MM-DD HH:mm:ss.sss")?"YYYY-MM-DD HH:mm:ss.sss":Object(p.b)(e)?d.b:null;class f extends a.PureComponent{constructor(){super(...arguments),this.inCurrentMonth=!1,this.state={inputValue:null,inputFormat:null},this.dayClassName=e=>(1===e.getDate()&&(this.inCurrentMonth=!this.inCurrentMonth),this.inCurrentMonth?"range-picker--day-in-month":"range-picker--day"),this.overrideInputState=()=>{const{dateTime:e,timeZone:t}=this.props,{inputFormat:n}=this.state;let a=new Date(e).toISOString();if(n){a=Object(c.a)(n,t).format(e)}this.setState({inputValue:a,inputFormat:g(a)})},this.handleSelectDate=e=>{const{onSelectDate:t,timeZone:n}=this.props;"UTC"===n&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),this.overrideInputState()},this.handleChangeInput=e=>{const{onSelectDate:t,timeZone:n}=this.props,a=e.target.value;if(h(a)){let e;return e=Object(p.b)(a)?new Date(o.DateTime.fromISO(a)):new Date(o.DateTime.fromFormat(a,Object(m.a)(g(a)))),"UTC"!==n||Object(p.b)(a)||e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),void this.setState({inputValue:a,inputFormat:g(a)})}this.setState({inputValue:a,inputFormat:null})}}componentDidUpdate(){this.isInputValueInvalid&&this.props.onInvalidInput()}render(){const{dateTime:e,label:t,maxDate:n,minDate:a,timeZone:i}=this.props,o=new Date(e);return"UTC"===i&&o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),r.a.createElement("div",{className:"range-picker--date-picker"},r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthXS:l.Columns.Twelve},r.a.createElement(l.Form.Element,{label:t,errorMessage:this.inputErrorMessage},r.a.createElement(l.Input,{size:l.ComponentSize.Medium,className:"range-picker--input react-datepicker-ignore-onclickoutside",titleText:t,value:this.inputValue,onChange:this.handleChangeInput,status:this.inputStatus,testID:"timerange--input"})),r.a.createElement("div",{className:"range-picker--popper-container"},r.a.createElement(s.a,{inline:!0,selected:o,onChange:this.handleSelectDate,startOpen:!0,dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",shouldCloseOnSelect:!1,disabledKeyboardNavigation:!0,calendarClassName:"range-picker--calendar",dayClassName:this.dayClassName,timeIntervals:60,fixedHeight:!0,minDate:new Date(a),maxDate:new Date(n)})))))}get inputValue(){const{dateTime:e,timeZone:t}=this.props,{inputValue:n,inputFormat:a}=this.state;if(this.isInputValueInvalid)return n;if(Object(p.b)(e)&&a===d.b)return e;if(a){return Object(c.a)(a,t).format(new Date(e))}return Object(c.a)(d.a,t).format(new Date(e))}get isInputValueInvalid(){const{inputValue:e}=this.state;return null!==e&&!h(e)}get inputErrorMessage(){return this.isInputValueInvalid?"Format must be YYYY-MM-DD HH:mm:ss":"  "}get inputStatus(){return this.isInputValueInvalid?l.ComponentStatus.Error:l.ComponentStatus.Default}}t.a=Object(i.c)(e=>({timeZone:Object(u.d)(e)}))(f)},188:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),s=n(4),i=n(55),o=n(13),l=n(5);const c=r.a.createContext({id:"",type:"custom",query:null,statuses:[],thresholds:[],updateStatuses:()=>{},updateThresholds:()=>{}}),u=({children:e})=>{const{type:t,thresholds:n}=Object(s.e)(e=>e.alertBuilder),[i,o]=Object(a.useState)([]);return r.a.createElement(c.Provider,{value:{id:"new",type:t,query:null,statuses:i,thresholds:n,updateStatuses:o,updateThresholds:()=>{}}},e)};t.c=({id:e,children:t})=>{const n=Object(s.d)(),u=Object(s.e)(t=>Object(o.f)(t,l.ResourceType.Checks,e)),[d,m]=Object(a.useState)([]),p=Object(a.useCallback)(e=>{n(Object(i.q)(e))},[n]);return r.a.createElement(c.Provider,{value:{id:e,type:u.type,query:u.query,statuses:d,thresholds:"threshold"===u.type?u.thresholds:[],updateStatuses:m,updateThresholds:p}},t)}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),s=n(15),i=n.n(s),o=n(91),l=n(116);const c=/((http|https)?:\/\/[^\s]+)/g;function u(e){if(!1===(`${e}`.includes("http://")||`${e}`.includes("https://")))return e;const t=RegExp(c.source,c.flags),n=[];let a,s,i=0;do{s=t.exec(e),s&&(s.index-i>0&&n.push(e.slice(i,s.index)),a=e.slice(s.index,s.index+s[1].length),n.push(r.a.createElement("a",{href:a,target:"_blank",rel:"noreferrer"},a)),i=s.index+s[1].length)}while(s);return e.slice(i).length>0&&n.push(e.slice(i)),n}class d extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{data:e}=this.props;return this.isFieldName&&"string"==typeof e?this.props.onClickFieldName(e):null}}render(){const{data:e,rowIndex:t,columnIndex:n,onHover:a}=this.props;return 0===t?r.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,"data-testid":`${e}-table-header`,onMouseOver:a,title:this.contents},this.contents):r.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,onMouseOver:a,title:this.contents},u(this.contents))}get isFieldName(){return this.props.isVerticalTimeAxis?this.isFirstRow:this.isFirstCol}get isHighlightedRow(){const{parent:e,rowIndex:t,hoveredRowIndex:n}=this.props;return t===e.props.scrollToRow||t===n&&n>0}get isHighlightedColumn(){const{columnIndex:e,hoveredColumnIndex:t}=this.props;return e===t&&t>0}get isTimeData(){return this.props.isTimeVisible&&(this.props.isVerticalTimeAxis?!this.isFirstRow&&this.props.columnIndex===this.timeFieldIndex:this.props.rowIndex===this.timeFieldIndex&&this.isFirstCol)}get class(){return i()("table-graph-cell",{"table-graph-cell__fixed-row":this.isFixedRow,"table-graph-cell__fixed-column":this.isFixedColumn,"table-graph-cell__fixed-corner":this.isFixedCorner,"table-graph-cell__highlight-row":this.isHighlightedRow,"table-graph-cell__highlight-column":this.isHighlightedColumn,"table-graph-cell__numerical":!this.isNaN,"table-graph-cell__field-name":this.isFieldName,"table-graph-cell__sort-asc":this.isFieldName&&this.isSorted&&this.isAscending,"table-graph-cell__sort-desc":this.isFieldName&&this.isSorted&&!this.isAscending})}get isSorted(){const{sortOptions:e,data:t}=this.props;return e.field===t}get isAscending(){const{sortOptions:e}=this.props;return e.direction===o.a}get isFirstRow(){const{rowIndex:e}=this.props;return 0===e}get isFirstCol(){const{columnIndex:e}=this.props;return 0===e}get isFixedRow(){return this.isFirstRow&&!this.isFirstCol}get isFixedColumn(){return this.props.isFirstColumnFixed&&!this.isFirstRow&&this.isFirstCol}get isFixedCorner(){return this.isFirstRow&&this.isFirstCol}get isTimestamp(){return"dateTime:RFC3339"===this.props.dataType}get isNaN(){return isNaN(Number(this.props.data))}get isFixed(){return this.isFixedRow||this.isFixedColumn||this.isFixedCorner}get timeFieldIndex(){const{resolvedFieldOptions:e}=this.props;let t=0;return e.findIndex(({internalName:e,visible:n})=>(n||(t+=1),e===o.f.internalName))-t}get style(){const{style:e,properties:t,data:n}=this.props,{colors:a}=t;if(this.isFixed||this.isTimeData||this.isTimestamp||this.isNaN)return e;const r={colors:a,lastValue:n,cellType:"table"},{bgColor:s,textColor:i}=Object(l.a)(r);return Object.assign(Object.assign({},e),{backgroundColor:s,color:i})}get fieldName(){const{data:e,resolvedFieldOptions:t=[o.f]}=this.props,n=this.isFieldName&&t.find(({internalName:t})=>t===e);return n&&(n.displayName||n.internalName)}get contents(){const{properties:e,data:t,dataType:n,timeFormatter:a}=this.props,{decimalPlaces:r}=e;return t&&n.includes("dateTime")&&!this.isFieldName?a(t):"string"==typeof t&&this.isFieldName?(this.fieldName||"").toString():!isNaN(+t)&&r.isEnforced&&r.digits<100?(+t).toFixed(r.digits):(t||"").toString()}}t.b=d},191:function(e,t,n){"use strict";var a=n(2),r=n.n(a);const s={offset:0,size:0,maxSize:0,total:0,totalPages:0,next:()=>{},previous:()=>{},setSize:e=>{},setMaxSize:e=>{},setPage:e=>{},setTotalPages:e=>{}},i=Object(a.createContext)(s),o=({total:e,children:t})=>{const[n,o]=Object(a.useState)(s.offset),[l,c]=Object(a.useState)(s.size),[u,d]=Object(a.useState)(s.maxSize),[m,p]=Object(a.useState)(s.totalPages),h=Object(a.useCallback)(()=>{o(e?((e,t,n)=>n<=e+t?e:e+t)(n,l,e):n+l)},[n,l,o]),g=Object(a.useCallback)(()=>{o(((e,t)=>Math.max(e-t,0))(n,l))},[n,l,o]),f=Object(a.useCallback)(t=>{o(((e,t,n)=>Math.min(Math.max(0,(e-1)*t),n-1))(t,u,e))},[n,u,o]);return r.a.createElement(i.Provider,{value:{offset:n,size:l,maxSize:u,total:e,totalPages:m,next:h,previous:g,setSize:c,setMaxSize:d,setPage:f,setTotalPages:p}},t)};var l=n(3);var c=()=>{const{offset:e,size:t,total:n,totalPages:s,setPage:o}=Object(a.useContext)(i);return r.a.createElement("div",{className:"visualization--simple-table--paging"},n&&t>0&&r.a.createElement(l.PaginationNav.PaginationNav,{totalPages:s,currentPage:Math.min(Math.floor(e/t)+1,s),pageRangeOffset:1,onChange:o}))};var u=({table:e})=>{const t=Object.values(e.cols).map(t=>"table"===t.name?r.a.createElement(l.Table.HeaderCell,{key:"htable",verticalAlignment:l.VerticalAlignment.Top},"table",r.a.createElement("label",null,e.yield)):r.a.createElement(l.Table.HeaderCell,{key:`h${t.name}`},t.name,r.a.createElement("label",null,t.group?"group":"no group"),r.a.createElement("label",null,t.fluxDataType))),n=Array(e.end-e.start).fill(null).map((t,n)=>{const a=Object.values(e.cols).map(e=>{let t=e.data[n];return t&&"time"===e.type&&(t=new Date(t).toISOString()),t&&"boolean"===e.type&&(t=t?"true":"false"),r.a.createElement(l.Table.Cell,{key:`h${e.name}:r${n}`,testID:`table-cell ${e.data[n]}`},null==t?void 0:t.toString())});return r.a.createElement(l.Table.Row,{key:`r${n}`},a)});return r.a.createElement(l.Table,{fontSize:l.ComponentSize.Small,striped:!0,highlight:!0,testID:"simple-table"},r.a.createElement(l.Table.Header,null,r.a.createElement(l.Table.Row,null,t)),r.a.createElement(l.Table.Body,null,n))};const d=(e,t,n)=>{if(0===n)return 0;let a,r,s,i=14,o=t;for(;o<e.table.length;)if(e.table.columns.table.data[o]===a){if(i+=25,i>=n)break;o++}else{if(s=Object.values(e.table.columns).map(t=>`${t.name}::${t.fluxDataType}::${e.fluxGroupKeyUnion.includes(t.name)}`).join("|"),s!==r){if(i+=51,void 0!==a&&(i+=10),i>=n)break;r=s}a=e.table.columns.table.data[o]}return Math.max(0,o-t)};var m=({result:e,properties:t})=>{const{offset:n,setSize:s,maxSize:o,setMaxSize:c,setPage:m,setTotalPages:p}=Object(a.useContext)(i),[h,g]=Object(a.useState)(0),f=Object(a.useRef)();Object(a.useEffect)(()=>{if(!f||!f.current)return;let e;const t=new ResizeObserver(t=>{e&&clearTimeout(e),e=setTimeout(()=>{requestAnimationFrame(()=>{g(t[0].contentRect.height)})},200)});t.observe(f.current);const n=(null==f?void 0:f.current)||{},a=null==n?void 0:n.getBoundingClientRect();return a&&a.height!==h&&g(a.height),()=>{t.disconnect(),e&&clearTimeout(e)}},[null==f?void 0:f.current]);const b=Object(a.useMemo)(()=>d(e,n,h),[e,n,h]),y=Object(a.useMemo)(()=>((e,t,n,a)=>{const r=Object.values(e.table.columns).map(a=>Object.assign(Object.assign({},a),{group:e.fluxGroupKeyUnion.includes(a.name),data:a.data.slice(t,t+n)})).filter(e=>!!e.data.filter(e=>void 0!==e).length).reduce((e,t)=>e[t.name]?(e[t.name].push(t),e):(e[t.name]=[t],e),{}),s=[];let i;for(let e=0;e<n;e++)`y${r.result[0].data[e]}:t${r.table[0].data[e]}`!==i&&(i=`y${r.result[0].data[e]}:t${r.table[0].data[e]}`,s.length&&(s[s.length-1].end=e),s.push({idx:r.table[0].data[e],yield:r.result[0].data[e],cols:[],signature:"",start:e,end:-1}));return s.length&&(s[s.length-1].end=n),s.reduce((e,t)=>(t.cols=[r.table,r._measurement,r._field,r._value].filter(e=>!!e).concat(Object.entries(r).filter(([e,t])=>!["result","table","_measurement","_field","_value"].includes(e)&&(a||!["_start","_stop"].includes(e))).sort((e,t)=>e[0].toLowerCase().localeCompare(t[0].toLowerCase())).map(e=>e[1])).map(e=>e.map(e=>Object.assign(Object.assign({},e),{data:e.data.slice(t.start,t.end)})).filter(e=>!!e.data.filter(e=>void 0!==e).length)).reduce((e,t)=>t.length?(e[t[0].name]=t[0],e):e,{}),t.signature=Object.values(t.cols).map(e=>`${e.name}::${e.fluxDataType}::${e.group}`).join("|"),e.push(t),e),[]).reduce((e,t)=>{const n=e[e.length-1];return n&&t.yield===n.yield&&t.signature===n.signature?(Object.values(n.cols).forEach(e=>{n.cols[e.name]=Object.assign(Object.assign({},e),{data:[...e.data,...t.cols[e.name].data]})}),n.end=t.end,e):(e.push(t),e)},[])})(e,n,b,t.showAll),[e,n,b]);Object(a.useEffect)(()=>{s(b)},[b]),Object(a.useEffect)(()=>{c(d(e,0,h))},[h,e]),Object(a.useEffect)(()=>{m(1)},[e]),Object(a.useEffect)(()=>{var t,n;o&&p(Math.ceil((null!==(n=null===(t=null==e?void 0:e.table)||void 0===t?void 0:t.length)&&void 0!==n?n:0)/o))},[o,e]);const x=!!b&&y.map((e,t)=>r.a.createElement(u,{table:e,key:`table${t}`}));return r.a.createElement("div",{className:"visualization--simple-table--results",ref:f},r.a.createElement(l.DapperScrollbars,{noScrollY:!0},x))};n(257);t.a=({properties:e,result:t})=>{var n;return r.a.createElement("div",{className:"visualization--simple-table","data-testid":"simple-table"},r.a.createElement(o,{total:(null===(n=null==t?void 0:t.table)||void 0===n?void 0:n.length)||0},r.a.createElement(m,{properties:e,result:t}),r.a.createElement(c,null)))}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=(n(71),n(104)),s=n(24),i=n(7);const o=(e,t)=>{const n=Object(a.useMemo)(()=>Object(s.g)(e),[e]),o=Object(a.useMemo)(()=>{const e=Object(i.flatMap)(t||[],e=>[e.value,e.min,e.max]).filter(e=>null!=e).concat(n);return Object(s.g)(e)},[n,t]),[l,c]=Object(r.a)(o);return[l,c,()=>c(o)]}},194:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(350),r=n(351);n(147),n(146);const s=e=>new Uint8Array(e),i=(e,t,n)=>new Uint8Array(e,t,n),o=e=>new Uint8Array(e),l=r.b?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=a.b(e[n]);return btoa(t)}:t=>e.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),c=r.b?e=>{const t=atob(e),n=s(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}:t=>{const n=e.from(t,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)},u=e=>{const t=s(e.byteLength);return t.set(e),t}}).call(this,n(349).Buffer)},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"h",(function(){return h}));const a=1,r=2,s=4,i=8,o=32,l=64,c=128,u=31,d=63,m=127,p=255,h=2147483647},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));n(264);var a=n(265);const r=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&r(e,t,n+1)}},s=()=>{},i=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!i(e.get(n),t.get(n)))return!1;break;case Object:if(a.c(e)!==a.c(t))return!1;for(const n in e)if(!a.b(e,n)||!i(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;break;default:return!1}return!0}},198:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),s=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&s.includes("json")?JSON.stringify(n.data):n.data,o=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,o,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let g;return g=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,g)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),s=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t)=>{const n=new URLSearchParams({});if((null==e?void 0:e.startTime)&&n.append("startTime",e.startTime),(null==e?void 0:e.endTime)&&n.append("endTime",e.endTime),null==e?void 0:e.stream){const a="delete"===t?"stream":"streamIncludes";n.append(a,e.stream)}return(null==e?void 0:e.stickers)&&Object.keys(e.stickers).forEach(t=>{n.append(`stickerIncludes[${t}]`,e.stickers[t])}),`${n.toString()}`}),o=async(e,t)=>{var n;const a={data:e.map(e=>Object.assign(Object.assign({},e),{startTime:new Date(e.startTime).toISOString(),endTime:new Date(e.endTime).toISOString()})),query:{orgID:t}},r=await((e,t={})=>s("POST","/api/v2private/annotations",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(a);if(r.status>=300)throw new Error(null===(n=r.data)||void 0===n?void 0:n.message);const[{startTime:i,endTime:o,summary:l,message:c,stickers:u,stream:d}]=r.data;return[{startTime:i,endTime:o,summary:l,message:c,stickers:u,stream:d}]},l=async(e,t)=>{const n={query:{AnnotationListFilter:i({stream:t}),orgID:e}},a=await((e,t={})=>s("GET","/api/v2private/annotations",e,t))(n);if(a.status>=300)throw new Error(a.data.message);return a.data.map(e=>({stream:e.stream,annotations:e.annotations}))},c=async e=>{var t;const n={annotationID:e.id,data:e},a=await((e,t={})=>s("PUT",`/api/v2private/annotations/${e.annotationID}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.data},u=async e=>{var t;const n={annotationID:e.id},a=await((e,t={})=>s("DELETE",`/api/v2private/annotations/${e.annotationID}`,e,t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.status};var d=n(385),m=n(9);const p=()=>async(e,t)=>{const n=Object(m.a)(t()),a=await l(n.id);e(Object(d.i)(a))},h=e=>async(t,n)=>{const a=Object(m.a)(n());await o(e,a.id),p()(t,n)},g=e=>async t=>{await u(Object.assign(Object.assign({},e),{endTime:e.startTime})),t(Object(d.f)(e))},f=e=>async t=>{let{endTime:n}=e;"point"===e.type&&(n=e.startTime);const a=await c(Object.assign(Object.assign({},e),{endTime:n}));t(Object(d.g)(a))}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var a=n(2),r=n.n(a),s=n(33),i=n(95),o=n.n(i),l=n(3);var c=({message:e,testID:t})=>{const[n,s]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default,u=()=>{s(!0),setTimeout(()=>s(!1),2e3)},d=Object(a.useRef)(null);return r.a.createElement("div",{className:"cell--view-empty error","data-testid":t},r.a.createElement("div",{ref:d},r.a.createElement("span",{className:`icon ${l.IconFont.AlertTriangle} empty-graph-error--icon`}),r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheRight,triggerRef:d,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"emptygraph-popover",contents:()=>r.a.createElement("pre",null,r.a.createElement(o.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:u,className:"empty-graph-error--copy"})),r.a.createElement("code",null,e))})))};var u=({message:e,testID:t})=>{const[n,s]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default;return r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("div",{className:"empty-graph-error","data-testid":"empty-graph-error"},r.a.createElement(o.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:()=>{s(!0),setTimeout(()=>s(!1),2e3)},className:"empty-graph-error--copy"})),r.a.createElement(l.DapperScrollbars,{className:"empty-graph-error--scroll",autoHide:!0},r.a.createElement("pre",null,r.a.createElement(l.Icon,{glyph:l.IconFont.AlertTriangle}),r.a.createElement("code",{className:"cell--error-message"}," ",e)))))},d=n(237),m=n(7);const p=Object(m.sample)(["Looks like you don’t have any queries. Be a lot cooler if you did!","Create a query. Go on!","Create a query. Have fun!"]);var h,g=n(5);!function(e){e.Tooltip="tooltip",e.Scroll="scroll"}(h||(h={}));class f extends a.PureComponent{render(){const{errorMessage:e,isInitialFetch:t,loading:n,queries:a,fallbackNote:i,hasResults:o,errorFormat:l}=this.props;if(n===g.RemoteDataState.NotStarted||a&&!a.length)return r.a.createElement(s.a,{message:p,testID:"empty-graph--no-queries"});if(e){if(l===h.Tooltip)return r.a.createElement(c,{message:e,testID:"empty-graph--error"});if(l===h.Scroll)return r.a.createElement(u,{message:e,testID:"empty-graph--error"})}return!t&&o||n!==g.RemoteDataState.Loading?!o&&i?r.a.createElement(d.a,{text:i}):o?this.props.children:r.a.createElement(s.a,{message:"No Results",testID:"empty-graph--no-results"}):r.a.createElement(s.a,{message:""})}}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(90);const a=Date.now},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),s=n(65),i=n(295),o=n(5);const l={id:"",data:{},range:null,update:()=>{},loading:o.RemoteDataState.NotStarted,results:{source:"",parsed:{}},readOnly:!1},c=r.a.createContext(l),u=({id:e,children:t})=>{const{flow:n,updateData:u}=Object(a.useContext)(s.a),{results:d,statuses:m}=Object(a.useContext)(i.a),p=Object(a.useCallback)(t=>{u(e,t)},[n,u]);return Object(a.useMemo)(()=>r.a.createElement(c.Provider,{value:{id:e,data:n.data.byID[e],range:n.range,update:p,results:d[e]||Object.assign({},l.results),loading:m[e]||o.RemoteDataState.NotStarted,readOnly:n.readOnly}},t),[n,e,d,m,t,p])}},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(25),r=n(16),s=n(137),i=n(46),o=n(6),l=n(53);const c=async(e,t=l.a)=>{const n=await Object(r.getBuckets)({query:{orgID:e,limit:t}});if(200!==n.status)throw new Error(n.data.message);let c=[];return o.f&&(c=await Object(s.b)()),Object(a.a)([...n.data.buckets,...c],i.a)}},212:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({text:e,className:t})=>r.a.createElement("div",{className:`waiting-text ${t||""}`},e)},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(156);const r=new class{constructor(){this.findKeysQueries=[],this.findValuesQueries=[],this.findKeysCache={},this.findValuesCache={},this.findBucketsCache={}}async findBuckets(e){this.cancelFindBuckets();const t=JSON.stringify(e),n=this.findBucketsCache[t];if(n)return Promise.resolve(n);const r=Object(a.a)(e);return r.promise.then(e=>{this.findBucketsCache[t]=e}).catch(()=>{}),r.promise}cancelFindBuckets(){this.findBucketsQuery&&this.findBucketsQuery.cancel()}async findKeys(e,t){this.cancelFindKeys(e);const n=JSON.stringify(t),r=this.findKeysCache[n];if(r)return Promise.resolve(r);const s=Object(a.b)(t);return this.findKeysQueries[e]=s,s.promise.then(e=>{this.findKeysCache[n]=e}).catch(()=>{}),s.promise}cancelFindKeys(e){this.findKeysQueries[e]&&this.findKeysQueries[e].cancel()}async findValues(e,t){this.cancelFindValues(e);const n=JSON.stringify(t),r=this.findValuesCache[n];if(r)return Promise.resolve(r);const s=Object(a.c)(t);return this.findValuesQueries[e]=s,s.promise.then(e=>{this.findValuesCache[n]=e}).catch(()=>{}),s.promise}cancelFindValues(e){this.findValuesQueries[e]&&this.findValuesQueries[e].cancel()}clearCache(){this.findBucketsCache={},this.findKeysCache={},this.findValuesCache={}}}},2207:function(e,t,n){var a=n(2208);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},2208:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-menu--clone {\n  margin-right: 8px;\n}\n\n.cf-resource-card .cf-resource-card--context-menu {\n  position: relative;\n  top: 0;\n  right: 0;\n}\n.cf-resource-card .cf-resource-card--context-menu .flow-context--wrapper {\n  align-items: center;\n}",""])},2209:function(e,t,n){t=e.exports=n(17)(!1);var a=n(550),r=a(n(2210)),s=a(n(2211)),i=a(n(2212)),o=a(n(2213));t.push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\nh3 {\n  margin: 0px 0px 12px;\n  color: white;\n}\n\nh4 {\n  margin: 12px 0px 0px;\n  text-align: left;\n}\n\n.flows-index--presetContainer {\n  border: 1px solid #383846;\n  border-radius: 7px;\n  padding: 30px;\n  margin: 0px 0px 12px;\n}\n\n.flows-index--presetList {\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 5%;\n}\n\n.flows-index--presetCard {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-evenly;\n}\n.flows-index--presetCard:hover .flows-index--presetHeader {\n  color: white;\n}\n\n.flows-index--presetButton {\n  height: 100px;\n  border: 1px solid #383846;\n}\n.flows-index--presetButton:after {\n  background: inherit;\n}\n\n.flows-index--presetCard:first-child .flows-index--presetButton:after {\n  background: #00a3ff;\n  background: -moz-linear-gradient(45deg, #00a3ff 0%, #00c9ff 100%);\n  background: -webkit-linear-gradient(45deg, #00a3ff 0%, #00c9ff 100%);\n  background: linear-gradient(45deg, #00a3ff 0%, #00c9ff 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="$startColor", endColorstr="$endColor",GradientType=1 );\n}\n.flows-index--presetCard:first-child .flows-index--presetButton .cf-button-icon {\n  font-size: 23px;\n}\n\n.flows-index--presetCard:nth-child(2) .flows-index--presetButton {\n  background-image: url('+r+");\n  background-size: contain;\n}\n\n.flows-index--presetCard:nth-child(3) .flows-index--presetButton {\n  background-image: url("+s+");\n  background-size: contain;\n}\n\n.flows-index--presetCard:nth-child(4) .flows-index--presetButton {\n  background-image: url("+i+");\n  background-size: contain;\n}\n\n.flows-index--presetCard:nth-child(5) .flows-index--presetButton {\n  background-image: url("+o+");\n  background-size: contain;\n}\n\n@media screen and (max-width: 1080px) {\n  .flows-index--presetList {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .flows-index--presetcontainer {\n    padding: 5px 40px 25px;\n  }\n\n  .flows-index--presetCard:nth-child(5) {\n    padding-bottom: 16px;\n  }\n}",""])},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(5),r=n(13);const s=(e,t)=>Object(r.a)(e,a.ResourceType.Buckets).find(e=>e.name===t),i=(e,t)=>{const n=`${e.name}`.toLowerCase(),a=`${t.name}`.toLowerCase();return n===a?0:n<a?-1:n>a?1:0},o=e=>{const t=[],n=[];return Object(r.a)(e,a.ResourceType.Buckets).forEach(e=>{"system"===e.type?t.push(e):n.push(e)}),t.sort(i),n.sort(i),n.concat(t)}},2210:function(e,t,n){e.exports=n.p+"8efb94a2b3.png"},2211:function(e,t,n){e.exports=n.p+"25a355b51e.png"},2212:function(e,t,n){e.exports=n.p+"9763d95516.png"},2213:function(e,t,n){e.exports=n.p+"cf358a7db9.png"},2214:function(e,t,n){var a=n(2215);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},2215:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flows-index--control-bar .cf-page-control-bar--fixed {\n  padding: 0px;\n}\n.flows-index--control-bar .cf-dropdown-menu {\n  position: fixed;\n  max-width: 210px;\n}\n\n.buttonMode {\n  animation: fadeIn 0.5s;\n}\n\n.flows-index--presetButtons {\n  animation: fadeIn 0.5s;\n  display: block;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n.withButtonHeader {\n  flex: 1;\n  height: auto;\n}\n.withButtonHeader .cf-page-header--fixed {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.flows-preset--buttonmode {\n  width: 148px;\n}\n\n.buttonModeList {\n  grid-gap: 0;\n  width: 50%;\n  margin-bottom: 14px;\n}",""])},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n(213),r=n(45);const s={[r.a]:{format:"yyyy-MM-dd H:mm:ss",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/},"YYYY-MM-DD":{format:"yyyy-MM-dd",regex:/\d{4}-\d{2}-\d{2}/},"YYYY-MM-DD HH:mm":{format:"yyyy-MM-dd H:mm",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/},"YYYY-MM-DD HH:mm:ss.sss":{format:"yyyy-MM-dd H:mm:ss.SSS",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3}/},"YYYY-MM-DD hh:mm:ss a ZZ":{format:"yyyy-MM-dd h:mm:ss a ZZZ",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"DD/MM/YYYY HH:mm:ss.sss":{format:"dd/MM/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"DD/MM/YYYY hh:mm:ss.sss a":{format:"dd/MM/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MM/DD/YYYY HH:mm:ss.sss":{format:"MM/dd/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"MM/DD/YYYY hh:mm:ss.sss a":{format:"MM/dd/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"YYYY/MM/DD HH:mm:ss":{format:"yyyy/MM/dd H:mm:ss",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/},"YYYY/MM/DD hh:mm:ss a":{format:"yyyy/MM/dd h:mm:ss a",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2} \w{2}/},"HH:mm":{format:"H:mm",regex:/\d{2}:\d{2}/},"hh:mm a":{format:"h:mm a",regex:/\d{2}:\d{2} \w{2}/},"HH:mm:ss":{format:"H:mm:ss",regex:/\d{2}:\d{2}:\d{2}/},"hh:mm:ss a":{format:"h:mm:ss a",regex:/\d{2}:\d{2}:\d{2} \w{2}/},"HH:mm:ss ZZ":{format:"h:mm:ss ZZZ",regex:/\d{2}:\d{2}:\d{2} -?\+?\d{4}/},"hh:mm:ss a ZZ":{format:"h:mm:ss a ZZZ",regex:/\d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"HH:mm:ss.sss":{format:"H:mm:ss.SSS",regex:/\d{2}:\d{2}:\d{2}.\d{3}/},"hh:mm:ss.sss a":{format:"h:mm:ss.SSS a",regex:/\d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MMMM D, YYYY HH:mm:ss":{format:"LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"MMMM D, YYYY hh:mm:ss a":{format:"LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/},"dddd, MMMM D, YYYY HH:mm:ss":{format:"EEEE, LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"dddd, MMMM D, YYYY hh:mm:ss a":{format:"EEEE, LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/}},i=e=>s[e].format?s[e].format:s[r.a].format,o=(e,t)=>{const n=i(t);return a.DateTime.fromFormat(e,n).isValid},l=(e,t)=>{const n=i(t);return((e,t)=>s[t].regex.test(e))(e,t)&&a.DateTime.fromFormat(e,n).isValid}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n.n(a);const s="tooltip-portal";t.b=()=>r.a.createElement("div",{id:s})},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.replace(/&gt;/g,">").replace(/&#39;/g,"'")},228:function(e,t,n){"use strict";n.r(t),n.d(t,"PinnedItemTypes",(function(){return d})),n.d(t,"PinnedItemsContext",(function(){return m})),n.d(t,"getPinnedItems",(function(){return p})),n.d(t,"addPinnedItem",(function(){return h})),n.d(t,"deletePinnedItemByParam",(function(){return g})),n.d(t,"deletePinnedItem",(function(){return f})),n.d(t,"updatePinnedItemByParam",(function(){return b}));var a=n(2),r=n.n(a),s=n(6),i=n(23);let o,l,c,u;if(s.f){const e=n(322);o=e.getPinned,l=e.putPinned,u=e.postPinned,c=e.deletePinned}var d;!function(e){e.Dashboard="dashboard",e.Cell="cell",e.Notebook="notebook",e.Task="task",e.Alert="alert",e.UploadCSV="uploadCsv",e.UploadLP="uploadLP",e.ClientLibrary="clientLibrary"}(d||(d={}));const m=Object(a.createContext)(null),p=async()=>{const e=await o({});if(200!==e.status)throw new Error("Unable to retrieve pinned items");return e.data},h=async e=>{if(200!==(await u({data:e})).status)throw new Error("Unable to retrieve pinned items")},g=async e=>{if(s.f&&Object(i.c)("pinnedItems"))try{const t=(await p()).find(t=>Object.values(t.metadata).includes(e));t&&await c({id:t.id})}catch(e){throw new Error("Unable to delete item under those parameters")}},f=async e=>{try{await c({id:e})}catch(e){throw new Error("Unable to delete pinned item")}},b=async(e,t)=>{if(!s.f||!Object(i.c)("pinnedItems"))return;const n=await p(),a=null==n?void 0:n.find(t=>Object.values(t.metadata).includes(e));if(a)try{await l({id:a.id,data:{metadata:Object.assign(Object.assign({},a.metadata),t)}})}catch(e){throw new Error("Unable to update item with those parameters")}};t.default=Object(a.memo)(({children:e})=>{const[t,n]=Object(a.useState)([]),[s,i]=Object(a.useState)(""),o=Object(a.useCallback)(async e=>{await f(e),n(t.filter(t=>t.id!==e))},[t]);return Object(a.useEffect)(()=>{p().then(e=>n(e)).catch(e=>{console.error(e.message),i("Failed to retrieve pinned items.")})},[]),r.a.createElement(m.Provider,{value:{pinnedItems:t,deletePinnedItemsHelper:o,pinnedItemsError:s}},e)})},236:function(e,t,n){"use strict";function a(e,t,n){const a=e.length;let r,s;for(void 0===n?(r=1,s=e[0]):(r=0,s=n);r<a;r++)s=t(s,e[r],r,e);return s}function r(e,t){const n=e.length,a=new Array(n);for(let r=0;r<n;r++)a[r]=t(e[r],r,e);return a}function s(e,t){const n=e.length,a=[];for(let r=0;r<n;r++)t(e[r],r,e)&&a.push(e[r]);return a}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}))},237:function(e,t,n){"use strict";var a=n(10),r=n(2),s=n.n(r),i=n(3),o=n(225),l=n(14),c=n(114);let u=class extends r.PureComponent{render(){const{text:e}=this.props;return s.a.createElement(i.DapperScrollbars,{className:"markdown-cell",autoHide:!0},s.a.createElement("div",{className:"markdown-cell--contents"},s.a.createElement(c.a,{text:Object(o.a)(e),className:"markdown-format"})))}};u=Object(a.a)([l.a],u),t.a=u},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return I}));var a=n(2),r=n.n(a),s=n(4);const i={};var o={get(e,t){var n,a;try{return null!==(n=i[e])&&void 0!==n?n:"undefined"===(a=localStorage.getItem(e))?void 0:JSON.parse(null!=a?a:"")}catch(e){return t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),i[e]=void 0,!0}catch(n){return i[e]=t,!1}},remove(e){i[e]=void 0,localStorage.removeItem(e)}};var l=n(60),c=n(9),u=n(48),d=n(6),m=n(42),p=n(443),h=n(412),g=n(12),f=n(11);const b={id:"",data:{}};let y=b,x=null,v=null;const w=async e=>{const t=await Object(h.e)(e);if(200!=t.status)throw new Error(t.data.message)},k=async e=>{const t=await Object(h.f)(e);if(200!=t.status)throw new Error(t.data.message);return t.data};var E=n(74);const S={name:m.a,range:u.b,refresh:d.b,data:{byID:{},allIDs:[]},meta:{byID:{},allIDs:[]},readOnly:!1},C={flows:{},add:e=>{},clone:e=>{},update:(e,t)=>{},remove:e=>{},change:e=>{},getAll:()=>{},currentID:null},T=function(e,t){const n=[];return function(){const[r,s,i]=function(e,t){const[n]=Object(a.useState)(()=>"function"==typeof t?t():t),r=Object(a.useCallback)(()=>({value:o.get(e,n),isPersistent:(()=>{if("undefined"==typeof window)return!0;try{return localStorage.setItem("__ulss","#"),localStorage.removeItem("__ulss"),!0}catch(e){return!1}})()}),[n,e]),[s,i]=Object(a.useState)(r),l=Object(a.useMemo)(()=>{const t=t=>{i("function"==typeof t?n=>({value:t(n.value),isPersistent:o.set(e,t(n.value))}):{value:t,isPersistent:o.set(e,t)})};return t.reset=()=>{o.remove(e),i(e=>({value:n,isPersistent:e.isPersistent}))},t},[e,n]);Object(a.useEffect)(()=>{const t=t=>{t.storageArea===localStorage&&t.key===e&&i({value:o.get(e,n),isPersistent:!0})};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e,n]);const c=Object(a.useRef)(!0);return Object(a.useEffect)(()=>{c.current?c.current=!1:i(r())},[r]),[s.value,l,s.isPersistent]}(e,t),l=Object(a.useMemo)(()=>{const e=e=>{for(const t of n)t(e)};return e.reset=()=>{for(const e of n)e.reset()},e},[]);return Object(a.useEffect)(()=>(n.push(s),()=>{n.splice(n.indexOf(s),1)}),[s]),[r,l,i]}}("flows",C.flows),O=r.a.createContext(C);function D(e,t){return{data:{orgID:t,name:e.name,spec:{name:e.name,readOnly:e.readOnly,range:e.range,refresh:e.refresh,createdAt:e.createdAt,updatedAt:e.updatedAt,pipes:e.data.allIDs.map(t=>{const n=e.meta.byID[t];let a={};return n&&(a=Object.assign(Object.assign({},e.data.byID[t]),{id:t,title:n.title,visible:n.visible}),n.layout&&(a.layout=n.layout)),a})}}}}function j(e){var t;const n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(S))),{name:e.name||S.name,range:e.spec.range,refresh:e.spec.refresh,readOnly:e.spec.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy});return e.id&&(n.id=e.id),(null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.pipes)?(e.spec.pipes.forEach(e=>{const t=e.id||`local_${Object(l.v4)()}`;n.data.allIDs.push(t),n.meta.allIDs.push(t);const a={title:e.title,visible:e.visible};e.layout&&(a.layout=e.layout,delete e.layout),delete e.title,delete e.visible,n.data.byID[t]=e,n.meta.byID[t]=a}),n):n}const I=({children:e})=>{const[t,n]=T(),[i,o]=Object(a.useState)(C.currentID),u=Object(s.e)(c.a),d=Object(s.d)();Object(a.useEffect)(()=>{R(),N()},[]);const S=async e=>{let a;a=e?{name:e.name,range:e.range,refresh:e.refresh,data:e.data,meta:e.meta,readOnly:e.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt}:j(Object.assign(Object.assign({},p.a.default.init()),{name:m.a}));const r=D(a,u.id);let s=`local_${Object(l.v4)()}`;try{const e=await k(r);s=e.id,a=j(e)}catch(e){d(Object(f.c)(Object(g.Cc)()))}return new Promise(e=>{setTimeout(()=>{n(Object.assign(Object.assign({},t),{[s]:a})),o(s),e(s)},200)})},I=Object(a.useCallback)((e,a)=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);n(t=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),a)}));const r=D(Object.assign(Object.assign({},t[e]),a),u.id);(e=>{y=e,x&&(clearTimeout(x),x=null),v||(v=setTimeout(()=>{v=null,y!==b&&(clearTimeout(x),x=null,w(y),y=b)},5e3)),x=setTimeout(()=>{w(y),y=b},500)})(Object.assign({id:e},r))},[n,u.id,t]),N=Object(a.useCallback)(async()=>{const e=await(async e=>{const t=await Object(h.c)({query:{orgID:e}});if(200!=t.status)throw new Error(t.data.message);return t.data})(u.id);if(e&&e.flows){const t={};e.flows.forEach(e=>{t[e.id]=j(e)}),n(t)}},[u.id,n]),_=Object(a.useCallback)(e=>{Object.keys(t).length||N(),o(e)},[o,t]),R=async()=>{const e=await(async(e,t,n,a)=>{const r=Object.keys(t).filter(e=>e.includes("local"));return r.length&&await Promise.all(r.map(async a=>{const r=t[a],s=n(r,e),{id:i}=await k(s);delete t[a],t[i]=r})).catch(()=>{a(Object(f.c)(Object(g.Gc)()))}),t})(u.id,t,D,d);n(Object.assign({},e)),i&&i.includes("local")&&o(Object.keys(e)[0])};return r.a.createElement(O.Provider,{value:{flows:t,add:S,clone:async e=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);const n=t[e],a=Object.values(t).map(e=>e.name),r=Object(E.a)(a,n.name),s=Object.assign(Object.assign({},n),{name:r});return await S(s)},update:I,remove:async e=>{const a=Object.assign({},t);try{await(async e=>{const t=await Object(h.a)(e);if(204!=t.status)throw new Error(t.data.message)})({id:e})}catch(e){d(Object(f.c)(Object(g.Dc)()))}delete a[e],i===e&&o(null),n(a)},getAll:N,currentID:i,change:_}},e)}},249:function(e,t,n){var a=n(479);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},250:function(e,t,n){var a={"./Band/index.tsx":276,"./Check/index.tsx":270,"./Gauge/index.tsx":272,"./Graph/index.tsx":277,"./Heatmap/index.tsx":278,"./Histogram/index.tsx":279,"./Map/index.tsx":273,"./Mosaic/index.tsx":280,"./Scatter/index.tsx":274,"./SimpleTable/index.tsx":283,"./SingleStat/index.tsx":281,"./SingleStatWithLine/index.tsx":282,"./Table/index.tsx":271};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=250},2505:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(243),o=n(42);n(600);var l=()=>r.a.createElement(s.EmptyState,{size:s.ComponentSize.ExtraSmall},r.a.createElement("div",{className:"flow-empty"},r.a.createElement("div",{className:"flow-empty--graphic"}),r.a.createElement(s.EmptyState.Text,{className:"margin-bottom-zero"},"You haven't created any ",o.e," yet"))),c=n(155),u=n(4),d=(n(2207),n(30)),m=n(82),p=n(8),h=n(228),g=n(23),f=n(6),b=n(12),y=n(11);var x=({id:e,name:t,isPinned:n})=>{const{remove:l,clone:x}=Object(a.useContext)(i.a),{orgID:v}=Object(c.h)(),w=Object(u.e)(d.a),k=Object(c.f)(),E=Object(u.d)();return r.a.createElement("div",{className:"flow-context--wrapper"},r.a.createElement(m.e,null,r.a.createElement(s.Button,{text:"Clone",icon:s.IconFont.Duplicate,color:s.ComponentColor.Secondary,size:s.ComponentSize.ExtraSmall,titleText:"Clone",testID:"flow-button--clone",onClick:async()=>{Object(p.a)("clone_notebook");const t=await x(e);k.push(`/orgs/${v}/${o.e.toLowerCase()}/${t}`)},className:"flow-menu--clone"}),Object(g.c)("pinnedItems")&&f.f&&r.a.createElement(m.e.Menu,{icon:s.IconFont.Star,color:s.ComponentColor.Success,testID:"context-pin-menu"},r.a.createElement(m.e.Item,{label:"Pin to Homepage",action:()=>{try{Object(h.addPinnedItem)({orgID:v,userID:w.id,metadata:{flowID:e,name:t},type:h.PinnedItemTypes.Notebook}),E(Object(y.c)(Object(b.Pc)("notebook","added")))}catch(e){E(Object(y.c)(Object(b.Oc)(e.message,"create")))}},testID:"context-pin-flow",disabled:n})),r.a.createElement(m.e.Menu,{icon:s.IconFont.Trash,color:s.ComponentColor.Danger,shape:s.ButtonShape.Default,text:"Delete",testID:`context-delete-menu ${t}`},r.a.createElement(m.e.Item,{label:"Confirm",action:()=>{Object(p.a)("delete_notebook"),Object(h.deletePinnedItemByParam)(e),l(e)},testID:`context-delete-flow ${t}`}))))};var v=({id:e,isPinned:t})=>{const{update:n,flows:l}=Object(a.useContext)(i.a),d=l[e],{orgID:m}=Object(c.h)(),p=Object(c.f)(),v=Object(u.d)(),w=r.a.createElement(x,{id:e,name:d.name,isPinned:t}),k=[];return(null==d?void 0:d.createdBy)&&k.push(r.a.createElement(r.a.Fragment,{key:`${d.id}--created-by`},"Created by ",d.createdBy)),(null==d?void 0:d.createdAt)&&k.push(r.a.createElement(r.a.Fragment,{key:`${d.id}--created-at`},"Created at ",d.createdAt)),(null==d?void 0:d.updatedAt)&&k.push(r.a.createElement(r.a.Fragment,{key:`${d.id}--updated-at`},"Last Modified at ",d.updatedAt)),r.a.createElement(s.ResourceCard,{key:`flow-card--${e}`,contextMenu:w,testID:`flow-card--${d.name}`},r.a.createElement(s.ResourceCard.EditableName,{name:d.name||o.a,onClick:t=>{const n=`/orgs/${m}/${o.e.toLowerCase()}/${e}`;t.metaKey?window.open(n,"_blank","noopener"):p.push(n)},onUpdate:t=>{if(n(e,Object.assign(Object.assign({},d),{name:t})),Object(g.c)("pinnedItems")&&f.f)try{Object(h.updatePinnedItemByParam)(e,{name:t}),v(Object(y.c)(Object(b.Pc)("notebook","updated")))}catch(e){v(Object(y.c)(Object(b.Oc)(e.message,"update")))}},buttonTestID:"flow-card--name-button"}),r.a.createElement(s.ResourceCard.Meta,null,k))};let w;f.f&&(w=n(228).getPinnedItems);const k=()=>r.a.createElement(s.EmptyState,{size:s.ComponentSize.Large},r.a.createElement(s.EmptyState.Text,null,`No ${o.e} match your query`));var E=({flows:e,search:t})=>{const[n,i]=Object(a.useState)([]);return Object(a.useEffect)(()=>{Object(g.c)("pinnedItems")&&f.f&&w().then(e=>i(e)).catch(e=>{console.error(e.message)})},[]),r.a.createElement(s.Grid,null,r.a.createElement(s.Grid.Row,null,r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve,widthSM:s.Columns.Eight,widthMD:s.Columns.Ten},r.a.createElement(s.ResourceList,null,r.a.createElement(s.ResourceList.Body,{emptyState:t?r.a.createElement(k,null):r.a.createElement(l,null)},Object.keys(e.flows).map(e=>r.a.createElement(v,{key:e,id:e,isPinned:!!n.find(t=>(null==t?void 0:t.metadata.flowID)===e)})))))))},S=n(150),C=n(178),T=n(109);n(1214);var O=()=>r.a.createElement(s.Panel,{gradient:s.Gradients.PolarExpress,border:!0},r.a.createElement(s.Panel.Header,null,r.a.createElement("h5",null,"What are ",o.e.toLowerCase(),"?")),r.a.createElement(s.Panel.Body,{alignItems:s.AlignItems.FlexStart},r.a.createElement("p",null,o.e," are a tool to help you explore, visualize, and process your data. Learn how to downsample data and other handy tutorials:"),r.a.createElement(s.Button,{icon:s.IconFont.TextBlock,onClick:()=>{window.open(o.b,"_blank")},color:s.ComponentColor.Secondary,text:"Notebooks Docs",style:{margin:"30px 0px 10px 0px"}})));const D=[{title:"New Notebook",href:"/notebook/from/default",testID:"new"},{title:"Set an Alert",href:"/notebook/from/notification",testID:"alert"},{title:"Schedule a Task",href:"/notebook/from/task",testID:"task"},{title:"Write a Flux Script",href:"/notebook/from/flux",testID:"script"}];var j=()=>{const e=Object(c.f)();return r.a.createElement(s.Grid,null,r.a.createElement(s.Grid.Row,null,r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve,widthSM:s.Columns.Eight,widthMD:s.Columns.Ten},r.a.createElement("div",{className:"flows-index--presetContainer"},r.a.createElement("h3",null,"Create a Notebook"),r.a.createElement("div",{className:"flows-index--presetList"},D.map((t,n)=>r.a.createElement("div",{key:t.testID,className:"flows-index--presetCard"},0===n?r.a.createElement(s.Button,{titleText:t.title,color:s.ComponentColor.Primary,icon:s.IconFont.Plus,className:"flows-index--presetButton",testID:`preset-${t.testID}`,onClick:()=>e.push(t.href)}):r.a.createElement(s.Button,{titleText:t.title,text:" ",className:"flows-index--presetButton",testID:`preset-${t.testID}`,onClick:()=>e.push(t.href)}),r.a.createElement("h4",{className:"flows-index--presetHeader"},t.title)))))),r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve,widthSM:s.Columns.Four,widthMD:s.Columns.Two},r.a.createElement(O,null))))},I=n(64),N=n(5);n(2214);var _=()=>{const e=Object(c.f)();return r.a.createElement(s.Grid,null,r.a.createElement(s.Grid.Row,null,r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve,widthSM:s.Columns.Eight,widthMD:s.Columns.Ten},r.a.createElement("div",{className:"flows-index--presetList buttonModeList"},D.map((t,n)=>r.a.createElement("div",{key:t.title,className:"flows-index--presetButtons"},0===n?r.a.createElement(s.Button,{color:s.ComponentColor.Primary,icon:s.IconFont.Plus,text:t.title,testID:`preset-${t.testID}`,onClick:()=>e.push(t.href),className:"flows-preset--buttonmode"}):r.a.createElement(s.Button,{text:t.title,color:s.ComponentColor.Tertiary,onClick:()=>e.push(t.href),testID:`preset-${t.testID}`,className:"flows-preset--buttonmode"})))))))};const R=()=>{const e=Object(a.useRef)(),[t,n]=Object(a.useState)(!1);const{flows:l}=Object(a.useContext)(i.a),[c,u]=Object(a.useState)(""),[d,m]=Object(a.useState)({sortKey:"name",sortType:T.a.String,sortDirection:s.Sort.Ascending}),p={flows:Object.keys(l).filter(e=>l[e].name.toLowerCase().includes(c.toLowerCase().trim())).sort((e,t)=>l[e][d.sortKey].toLowerCase().localeCompare(l[t][d.sortKey].toLowerCase())*(d.sortDirection===s.Sort.Ascending?1:-1)).reduce((e,t)=>(e[t]=l[t],e),{})},h=(e,t,n)=>{m({sortKey:e,sortType:n,sortDirection:t})};return r.a.createElement(s.Page,{titleTag:Object(I.a)([o.e]),testID:"flows-index",className:"flows-index"},r.a.createElement(s.PageHeader,{style:{flex:0,margin:"16px 0px"},fullWidth:!1,className:`${t&&"withButtonHeader"}`},r.a.createElement(s.Page.Title,{title:o.e}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(s.Page.ControlBar,{className:"flows-index--control-bar buttonMode",fullWidth:!1},r.a.createElement(s.Page.ControlBarLeft,null,r.a.createElement(S.a,{placeholderText:`Filter ${o.e}...`,onSearch:u,searchTerm:c}),r.a.createElement(C.a,{resourceType:N.ResourceType.Flows,sortDirection:d.sortDirection,sortKey:d.sortKey,sortType:d.sortType,onSelect:h}))))),r.a.createElement(s.DapperScrollbars,{onScroll:function(){const a=e.current;a&&(e=>{const a=document.getElementsByClassName("cf-page-header")[0];if(!a)return;const r=window.pageYOffset+e.getBoundingClientRect().top+e.getBoundingClientRect().height-a.getBoundingClientRect().height,s=e.offsetHeight,i=document.documentElement.scrollTop;let o=1;i>r&&(o=1-(i-r)/s*1.8),o>=0&&(e.style.opacity=o),r<a.getBoundingClientRect().height?(n(!0),e.style.opacity=0):t&&n(!1)})(a)},className:"flows-index--main"},r.a.createElement(s.Page.Contents,{fullWidth:!1,id:"fadebox",ref:e},r.a.createElement(j,null),r.a.createElement(s.Page.ControlBar,{className:"flows-index--control-bar",fullWidth:!1},r.a.createElement(s.Page.ControlBarLeft,null,r.a.createElement(S.a,{placeholderText:`Filter ${o.e}...`,onSearch:u,searchTerm:c}),r.a.createElement(C.a,{resourceType:N.ResourceType.Flows,sortDirection:d.sortDirection,sortKey:d.sortKey,sortType:d.sortType,onSelect:h})))),r.a.createElement(s.Page.Contents,{fullWidth:!1},r.a.createElement(E,{flows:p,search:c}))))};t.default=()=>r.a.createElement(i.b,null,r.a.createElement(R,null))},251:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.hover-legend-toggle,\n.legend-orientation-toggle,\n.legend-opacity-slider,\n.legend-colorize-rows-toggle {\n  margin-top: 8px;\n  margin-bottom: 16px;\n}\n.hover-legend-toggle label.legend-orientation-label,\n.legend-orientation-toggle label.legend-orientation-label,\n.legend-opacity-slider label.legend-orientation-label,\n.legend-colorize-rows-toggle label.legend-orientation-label {\n  color: #999dab;\n}\n\n.legend-orientation--horizontal {\n  margin-bottom: 8px !important;\n}",""])},252:function(e,t,n){var a=n(253);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},253:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.static-legend-options .latest-axis-label {\n  color: #999dab;\n}\n\n.latest-y-axis {\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n\n.latest-x-axis,\n.static-legend-height-slider {\n  margin-bottom: 16px;\n}",""])},255:function(e,t){},256:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'.mapTypeOptions {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n}\n\n.allowPanAndZoom {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  width: 100%;\n}\n\n.allowPanZoomInput {\n  left: 20px;\n  justify-self: end;\n}\n\n.geo-dropdowns {\n  flex: "0 0 120px";\n  padding-bottom: 10px;\n}',""])},257:function(e,t,n){var a=n(258);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},258:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.visualization--simple-table {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-family: "IBMPlexMono", monospace;\n  user-select: text;\n}\n.visualization--simple-table .cf-dapper-scrollbars {\n  border-bottom: 2px solid #202028;\n}\n.visualization--simple-table .cf-dapper-scrollbars--track-x {\n  background-color: rgba(41, 41, 51, 0.5) !important;\n}\n.visualization--simple-table .cf-table {\n  border: 2px solid #434453;\n  margin-bottom: 10px;\n  width: 100%;\n}\n.visualization--simple-table .cf-table--header-cell,\n.visualization--simple-table .cf-table--cell {\n  padding: 4px 10px;\n  white-space: nowrap;\n}\n.visualization--simple-table .cf-table--header-cell label {\n  display: block;\n  font-size: 10px;\n  text-transform: uppercase;\n  color: #757888;\n  font-weight: 500;\n}\n.visualization--simple-table .cf-table--header-cell label:first-of-type {\n  padding-top: 2px;\n}\n\n.visualization--simple-table--results {\n  flex: 1 0 0;\n  position: relative;\n  margin-top: 8px;\n}\n\n.visualization--simple-table--paging {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin: 0 auto;\n}\n\n.visualization--simple-table--paging-label {\n  display: inline-block;\n  margin-right: 8px;\n  color: #bec2cc;\n  font-weight: 500;\n  width: 189px;\n}',""])},259:function(e,t,n){var a=n(260);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},260:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.single-stat {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  padding: 8px;\n  color: #00c9ff;\n  user-select: none !important;\n  -moz-user-select: none !important;\n  -webkit-user-select: none !important;\n  -ms-user-select: none !important;\n  -o-user-select: none !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 4px;\n}\n.single-stat, .single-stat:hover {\n  cursor: default;\n}\n\n.single-stat--resizer {\n  display: flex;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.dygraph-child .single-stat--resizer {\n  height: 100%;\n  margin-top: 0;\n}\n\n.single-stat--text {\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 300;\n  letter-spacing: -0.05em;\n}',""])},261:function(e,t,n){var a=n(262);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},262:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Modules\n   -----------------------------------------------------------------------------\n   You most likely need these to make components look good\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Variables\n   -----------------------------------------------------------------------------\n*/\n/* Page Layout */\n/* Z Variables */\n/* Motifs */\n/* Typography */\n/* Form Element Sizing */\n/* Empty State */\n/* Event Markers */\n/* Icon Formatting */\n/*\n   Helpers\n   -----------------------------------------------------------------------------\n   So handy, much dandy\n*/\n.text-left {\n  text-align: left;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.u-flex {\n  display: flex;\n  flex-wrap: wrap;\n}\n.u-flex.u-jc-flex-start {\n  justify-content: flex-start;\n}\n.u-flex.u-jc-flex-end {\n  justify-content: flex-end;\n}\n.u-flex.u-jc-center {\n  justify-content: center;\n}\n.u-flex.u-jc-space-between {\n  justify-content: space-between;\n}\n.u-flex.u-jc-space-around {\n  justify-content: space-around;\n}\n.u-flex.u-ai-flex-start {\n  align-items: flex-start;\n}\n.u-flex.u-ai-flex-end {\n  align-items: flex-end;\n}\n.u-flex.u-ai-center {\n  align-items: center;\n}\n.u-flex.u-ai-stretch {\n  align-items: stretch;\n}\n.u-flex.u-ai-baseline {\n  align-items: baseline;\n}\n.u-flex.u-ac-flex-start {\n  align-content: flex-start;\n}\n.u-flex.u-ac-flex-end {\n  align-content: flex-end;\n}\n.u-flex.u-ac-center {\n  align-content: center;\n}\n.u-flex.u-ac-stretch {\n  align-content: stretch;\n}\n.u-flex.u-ac-space-between {\n  align-content: space-between;\n}\n.u-flex.u-ac-space-around {\n  align-content: space-around;\n}\n\n.margin-zero {\n  margin: 0 !important;\n}\n\n.margin-bottom-zero {\n  margin-bottom: 0 !important;\n}\n\n.margin-top-zero {\n  margin-top: 0 !important;\n}\n\n.margin-left-zero {\n  margin-left: 0 !important;\n}\n\n.margin-right-zero {\n  margin-right: 0 !important;\n}\n\n.padding-zero {\n  padding: 0 !important;\n}\n\n.padding-bottom-zero {\n  padding-bottom: 0 !important;\n}\n\n.padding-top-zero {\n  padding-top: 0 !important;\n}\n\n.padding-left-zero {\n  padding-left: 0 !important;\n}\n\n.padding-right-zero {\n  padding-right: 0 !important;\n}\n\n.customizable-field {\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  height: 30px;\n  margin-top: 4px;\n}\n.customizable-field:first-of-type {\n  margin-top: 0;\n}\n.customizable-field.dragging {\n  border-radius: 4px;\n  opacity: 0.4;\n  background: #00a3ff;\n  background: -moz-linear-gradient(left, #00a3ff 0%, #be2ee4 100%);\n  background: -webkit-linear-gradient(left, #00a3ff 0%, #be2ee4 100%);\n  background: linear-gradient(to right, #00a3ff 0%, #be2ee4 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="$startColor", endColorstr="$endColor",GradientType=1 );\n}\n.customizable-field.dragging > * {\n  opacity: 0;\n}\n\n.customizable-field--label,\n.customizable-field--label__hidden {\n  user-select: none !important;\n  -moz-user-select: none !important;\n  -webkit-user-select: none !important;\n  -ms-user-select: none !important;\n  -o-user-select: none !important;\n  height: 30px;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  padding: 0 11px 0 0;\n  border-radius: 4px;\n  width: 100%;\n  transition: background-color 0.25s ease, color 0.25s ease;\n}\n.customizable-field--label, .customizable-field--label:hover,\n.customizable-field--label__hidden,\n.customizable-field--label__hidden:hover {\n  cursor: default;\n}\n.customizable-field--label > span,\n.customizable-field--label__hidden > span {\n  margin-right: 5px;\n}\n\n.customizable-field--label {\n  color: #c6cad3;\n  background-color: #383846;\n}\n\n.customizable-field--label__hidden {\n  background-color: #31313d;\n  color: #545667;\n  font-style: italic;\n}\n\n.customizable-field--input {\n  margin-left: 4px;\n  width: calc(40% - 4px);\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.customizable-field .input-cte__empty {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.customizable-field--name {\n  flex: 1 0 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  font-size: 13px;\n  margin-left: 6px;\n}\n\n.customizable-field--drag,\n.customizable-field--visibility {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  position: relative;\n}\n.customizable-field--drag:hover,\n.customizable-field--visibility:hover {\n  cursor: grab;\n}\n\n.customizable-field--visibility {\n  width: 18px;\n}\n\n.customizable-field--drag .hamburger,\n.customizable-field--visibility .cf-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.customizable-field--drag .hamburger {\n  width: 10px;\n  height: 2px;\n  background-color: #999dab;\n  transition: background-color 0.25s ease;\n  border-radius: 1px;\n}\n.customizable-field--drag .hamburger:before, .customizable-field--drag .hamburger:after {\n  position: absolute;\n  display: block;\n  content: "";\n  width: 100%;\n  height: 100%;\n  background-color: #999dab;\n  transition: background-color 0.25s ease;\n  border-radius: 1px;\n  left: 0;\n}\n.customizable-field--drag .hamburger:before {\n  top: -4px;\n}\n.customizable-field--drag .hamburger:after {\n  top: 4px;\n}\n\n.customizable-field--label__hidden .customizable-field--drag .hamburger, .customizable-field--label__hidden .customizable-field--drag .hamburger:before, .customizable-field--label__hidden .customizable-field--drag .hamburger:after {\n  background-color: #545667;\n}',""])},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(145),r=n(348),s=n(264);class i{constructor(){this._observers=a.c()}on(e,t){a.e(this._observers,e,r.a).add(t)}once(e,t){const n=(...a)=>{this.off(e,n),t(...a)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return s.c((this._observers.get(e)||a.c()).values()).forEach(e=>e(...t))}destroy(){this._observers=a.c()}}},264:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a=e=>e[e.length-1],r=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},s=Array.from,i=(e,t)=>{return e.length===t.length&&(n=(e,n)=>e===t[n],e.every(n));var n}},265:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));Object.assign;const a=Object.keys,r=(e,t)=>{const n=[];for(const a in e)n.push(t(e[a],a));return n},s=e=>a(e).length,i=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o=(e,t)=>e===t||s(e)===s(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,(e,n)=>(void 0!==e||i(t,n))&&t[n]===e)},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),r=n.n(a),s=n(4),i=n(180),o=n(127),l=n(11),c=n(6),u=n(12);const d=r.a.createContext({timeZone:"Local",theme:"dark",presentationMode:!1,navbarMode:"collapsed",flowsCTA:{alerts:!0,explorer:!0,tasks:!0},setTimeZone:e=>{},setTheme:e=>{},setPresentationMode:e=>{},setNavbarMode:e=>{},setFlowsCTA:e=>{}}),m=({children:e})=>{const{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h}=Object(s.e)(e=>({timeZone:Object(o.g)(e),theme:Object(o.f)(e),presentationMode:Object(o.b)(e),navbarMode:Object(o.e)(e),flowsCTA:Object(o.a)(e)})),g=Object(s.d)(),f=Object(a.useCallback)(e=>{g(Object(i.i)(e))},[g]),b=Object(a.useCallback)(e=>{g(Object(i.h)(e))},[g]),y=Object(a.useCallback)(e=>{e?setTimeout(()=>{g(Object(i.d)()),g(Object(l.c)(Object(u.Qc)()))},c.C):g(Object(i.b)())},[g]),x=Object(a.useCallback)(e=>{g(Object(i.g)(e))},[g]),v=Object(a.useCallback)(e=>{g(Object(i.f)(e))},[g]);return r.a.createElement(d.Provider,{value:{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h,setTimeZone:f,setTheme:b,setPresentationMode:y,setNavbarMode:x,setFlowsCTA:v}},e)}},270:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(29),o=n(28),l={type:"check",shape:"chronograf-v2",checkID:"",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.a,note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}}},c=n(22),u=n(7),d=n(33);var m=({level:e,y:t,onDrag:n,onMouseUp:s})=>{const i=(e=>({onMouseDown:Object(a.useCallback)(t=>{t.stopPropagation(),e({type:"dragStart",x:t.pageX,y:t.pageY});const n=t=>{e({type:"drag",x:t.pageX,y:t.pageY})},a=t=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),e({type:"dragStop",x:t.pageX,y:t.pageY})};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)},[e])}))(n),o=`threshold-marker--${e.toLowerCase()}`,l={top:`${t}px`};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:`threshold-marker--line ${o}`,style:l}),r.a.createElement("div",Object.assign({className:`threshold-marker--handle ${o}`,style:l},i,{onMouseUp:s})))};var p=({level:e,top:t,height:n})=>r.a.createElement("div",{className:`threshold-marker--area threshold-marker--${e.toLowerCase()}`,style:{top:`${t}px`,height:`${n}px`}}),h=n(24);var g=({yScale:e,yDomain:t,threshold:{level:n,within:a,min:s,max:i},onChangeMinPos:o,onChangeMaxPos:l,onMouseUp:c})=>{const u=e(Object(h.b)(s,t)),d=e(Object(h.b)(i,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(s,t)&&r.a.createElement(m,{level:n,y:u,onDrag:o,onMouseUp:c}),Object(h.o)(i,t)&&r.a.createElement(m,{level:n,y:d,onDrag:l,onMouseUp:c}),a?r.a.createElement(p,{level:n,top:d,height:u-d}):r.a.createElement(r.a.Fragment,null,i<=t[1]&&r.a.createElement(p,{level:n,top:e(t[1]),height:d-e(t[1])}),s>=t[0]&&r.a.createElement(p,{level:n,top:u,height:e(t[0])-u})))};var f=({yScale:e,yDomain:t,threshold:{level:n,value:a},onChangePos:s,onMouseUp:i})=>{const o=e(Object(h.b)(a,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,t)&&r.a.createElement(m,{level:n,y:o,onDrag:s,onMouseUp:i}),a>=t[0]&&r.a.createElement(p,{level:n,top:o,height:e(t[0])-o}))};var b=({yDomain:e,yScale:t,threshold:{level:n,value:a},onChangePos:s,onMouseUp:i})=>{const o=t(Object(h.b)(a,e));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,e)&&r.a.createElement(m,{level:n,y:o,onDrag:s,onMouseUp:i}),a<=e[1]&&r.a.createElement(p,{level:n,top:t(e[1]),height:o-t(e[1])}))};var y=({yScale:e,yDomain:t,thresholds:n,onSetThresholds:s})=>{const i=Object(a.useRef)(null),o={},[l,c]=Object(a.useState)(o),d=Object(u.debounce)(()=>{s(n.map((e,t)=>l.index!==t?e:"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{max:e.value}):"range"===e.type?Object.assign(Object.assign({},e),{max:l.maxValue,min:l.minValue}):void 0))},500),m=(a,r,l)=>{o.index=a;const d=l-i.current.getBoundingClientRect().top,m=Object(h.b)(e.invert(d),t),p=Object.assign(Object.assign({},n[a]),{[r]:m});if("range"===p.type&&p.min>p.max){const e=p.min;p.min=p.max,p.max=e}const g=n.map((e,t)=>t===a?p:e).map(e=>"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{value:Object(u.round)(e.value,2),max:t[1]}):"range"===e.type?"maxValue"===r?(o.maxValue=Object(u.round)(e.maxValue,2),o.minValue=Object(u.round)(e.min,2),Object.assign(Object.assign({},e),{max:Object(u.round)(t[1],2),min:Object(u.round)(e.min,2)})):(o.maxValue=Object(u.round)(e.max,2),o.minValue=Object(u.round)(e.minValue,2),Object.assign(Object.assign({},e),{max:Object(u.round)(e.max,2),min:t[0]?Object(u.round)(t[0],2):0})):void 0);c(o),s(g)};return r.a.createElement("div",{className:"threshold-markers",ref:i},n.map((n,a)=>{const s=({y:e})=>m(a,"value",e),i=({y:e})=>m(a,"maxValue",e),o=({y:e})=>m(a,"minValue",e);switch(n.type){case"greater":return r.a.createElement(b,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:s,onMouseUp:d});case"lesser":return r.a.createElement(f,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:s,onMouseUp:d});case"range":return r.a.createElement(g,{key:a,yScale:e,yDomain:t,threshold:Object.assign(Object.assign({},n),{min:l.minValue?l.minValue:Object(u.round)(n.min,2),max:l.maxValue?l.maxValue:Object(u.round)(n.max,2)}),onChangeMinPos:o,onChangeMaxPos:i,onMouseUp:d});default:throw new Error("Unknown threshold type in <ThresholdMarkers /> ")}}))},x=n(100),v=n(223),w=n(3);var k=({triggerRect:e,children:t,maxWidth:n=300,color:s=w.ComponentColor.Primary})=>{const i=Object(a.useRef)(null);return Object(a.useLayoutEffect)(()=>{const t=i.current;if(!t||!e)return;const a=t.getBoundingClientRect();let r=Math.floor(e.left-a.width)-2,o="left";r<0&&(r=e.left+e.width,o="right");let l=e.top+e.height/2-a.height/2;l<0&&(l=0),l+a.height>window.innerHeight&&(l=window.innerHeight-a.height),t.setAttribute("style",`visibility: visible; top: ${l}px; left: ${r}px; max-width: ${n}px;`);const c=e.top+e.height/2-l;t.querySelector(".box-tooltip--caret").setAttribute("style",`top: ${c}px;`),t.className=`box-tooltip  box-tooltip__${s} ${o}`}),Object(x.createPortal)(r.a.createElement("div",{className:`box-tooltip box-tooltip__${s}`,ref:i,style:{maxWidth:n}},t,r.a.createElement("div",{className:"box-tooltip--caret-container"},r.a.createElement("div",{className:"box-tooltip--caret"}))),document.querySelector(`#${v.a}`))},E=n(78);var S=({events:e})=>{const t=(e,t)=>{if(!t)return;return{color:E.l[`${e.toUpperCase()}`]}};return r.a.createElement("div",{className:"box-tooltip--contents event-marker-tooltip"},r.a.createElement("div",{className:"event-marker-tooltip--table"},["time","checkName","level","message"].map(n=>r.a.createElement("div",{key:n,className:"event-marker-tooltip--column"},r.a.createElement("div",{className:"event-marker-tooltip--header"},n),e.map((e,s)=>{const{time:i,checkName:o,level:l}=e;return r.a.createElement(a.Fragment,{key:`${i}-${o}-${l}-${s}`},r.a.createElement("div",{className:"event-marker-tooltip--cell",style:t(l,"level"===n)},e[n]))})))))};var C=({xScale:e,xDomain:t,events:n,xFormatter:s})=>{const i=Object(a.useRef)(null),[o,l]=Object(a.useState)(!1);let c=null;i.current&&(c=i.current.getBoundingClientRect());const{time:u}=n[0],d={left:`${Math.ceil(e(u))}px`},m=`event-marker--line__${(e=>{const t=["crit","warn","info","ok","unknown"],n=e.map(e=>e.level);for(const e of t)if(n.includes(e))return e;return"unknown"})(n).toLowerCase()}`,p=n.map(e=>Object.assign(Object.assign({},e),{time:s(e.time)}));return Object(h.o)(u,t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m,style:d},r.a.createElement("div",{className:"event-marker--line-rect",ref:i,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)}})),o&&i.current&&r.a.createElement(k,{triggerRect:c,maxWidth:50*p[0].message.length},r.a.createElement(S,{events:p})))};const T=(e,t,n,a,r,s)=>e.map(e=>e.length&&e.filter(e=>"ok"===e.level&&t||"info"===e.level&&n||"warn"===e.level&&a||"crit"===e.level&&r||"unknown"===e.level&&s)).filter(e=>e&&e.length);var O=({xScale:e,xDomain:t,eventsArray:n,xFormatter:s})=>{const[i,o]=Object(a.useState)(!1),[l,c]=Object(a.useState)(!0),[u,d]=Object(a.useState)(!0),[m,p]=Object(a.useState)(!0),[h,g]=Object(a.useState)(!0),[f,b]=Object(a.useState)(T(n,i,l,u,m,h));Object(a.useEffect)(()=>{b(T(n,i,l,u,m,h))},[n,i,l,u,m,h]);const y=e=>e?w.IconFont.EyeOpen:w.IconFont.EyeClosed,x=r.a.createElement("div",{className:"event-marker--vis-selector"},"Toggle markers:",r.a.createElement("span",{onClick:()=>o(!i),"data-testid":"event-marker-vis-toggle-ok"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:E.l.OK},glyph:y(i),testID:"event-marker-vis-icon-ok"})),r.a.createElement("span",{onClick:()=>d(!u),"data-testid":"event-marker-vis-toggle-warn"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:E.l.WARN},glyph:y(u)})),r.a.createElement("span",{onClick:()=>c(!l),"data-testid":"event-marker-vis-toggle-info"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:E.l.INFO},glyph:y(l)})),r.a.createElement("span",{onClick:()=>p(!m),"data-testid":"event-marker-vis-toggle-crit"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:E.l.CRIT},glyph:y(m)})),r.a.createElement("span",{onClick:()=>g(!h),"data-testid":"event-marker-vis-toggle-unknown"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:E.l.UNKNOWN},glyph:y(h)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"event-markers","data-testid":"event-markers"},f.map((n,a)=>r.a.createElement(C,{key:a,xScale:e,xDomain:t,events:n,xFormatter:s}))),x)},D=n(38),j=n(188),I=n(27),N=n(6),_=n(19),R=n(193);var A=({properties:e,result:t})=>{const{statuses:n,thresholds:s,updateThresholds:o}=Object(a.useContext)(j.b),{theme:l,timeZone:m}=Object(a.useContext)(I.a),[p,g,f]=Object(R.a)(t.table.getColumn("_value","number"),s),b=t.table.columnKeys;if(!(b.includes("_time")&&b.includes("_value")))return r.a.createElement(d.a,{message:_.e});const x=[...t.fluxGroupKeyUnion,"result"],v=Object(D.a)(t.table.getColumnType("_time"),{timeZone:m,trimZeros:!1}),w=Object(D.a)(t.table.getColumnType("_value"),{timeZone:m,trimZeros:!1}),k=Object(h.h)([...x,"_time","_value"],t.table),E=Object(u.flatMap)(s,e=>[e.value,e.minValue,e.maxValue]).filter(e=>void 0!==e),S=E.length?E:null,C=e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),T="light"===l?N.J:N.I;return r.a.createElement("div",{className:"time-series-container time-series-container--alert-check"},r.a.createElement(c.Plot,{config:Object.assign(Object.assign({},T),{table:t.table,legendColumns:k,yTicks:S,yDomain:p,onSetYDomain:g,onResetYDomain:f,valueFormatters:{_time:v,_value:w},layers:[{type:"line",x:"_time",y:"_value",fill:x,interpolation:"linear",colors:C},{type:"custom",render:({yScale:e,yDomain:t})=>r.a.createElement(y,{key:"thresholds",thresholds:s,onSetThresholds:o,yScale:e,yDomain:t})},{type:"custom",render:({xScale:e,xDomain:t})=>r.a.createElement(O,{key:"events",eventsArray:n,xScale:e,xDomain:t,xFormatter:v})}]})}))};t.default=e=>{e({type:"check",name:"Check",disabled:!0,graphic:s,component:A,initial:l})}},271:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"}))),i=n(28),o=n(22),l={type:"table",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},colors:o.DEFAULT_TABLE_COLORS,fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1},c=n(453),u=n(2528),d=n(3),m=n(44),p=n(36),h=n(10),g=n(100),f=n(2600),b=n(2601),y=n(14);const x={beginDrag:e=>({id:e.id,index:e.index})},v={hover(e,t,n){const a=t.getItem().index,r=e.index;if(a===r)return;const s=Object(g.findDOMNode)(n).getBoundingClientRect(),i=(s.bottom-s.top)/2,o=t.getClientOffset().y-s.top;a<r&&o<i||a>r&&o>i||(e.onMoveColumn(a,r),t.getItem().index=r)}};let w=class extends a.Component{constructor(e){super(e),this.handleColumnRename=e=>{const{onUpdateColumn:t,internalName:n,visible:a}=this.props;t({internalName:n,displayName:e.target.value,visible:a})},this.handleToggleVisible=()=>{const{onUpdateColumn:e,internalName:t,displayName:n,visible:a}=this.props;e({internalName:t,displayName:n,visible:!a})},this.handleColumnRename=this.handleColumnRename.bind(this),this.handleToggleVisible=this.handleToggleVisible.bind(this)}render(){const{internalName:e,displayName:t,connectDragPreview:n,connectDropTarget:a}=this.props;return n(a(r.a.createElement("div",{className:this.columnClassName},r.a.createElement("div",{className:this.labelClassName},this.dragHandle,this.visibilityToggle,r.a.createElement("div",{className:"customizable-field--name"},e)),r.a.createElement(d.Input,{className:"customizable-field--input",id:"internalName",value:t,onChange:this.handleColumnRename,placeholder:`Rename ${e}`,status:this.inputStatus}))))}get inputStatus(){const{visible:e}=this.props;return e?d.ComponentStatus.Default:d.ComponentStatus.Disabled}get dragHandle(){const{connectDragSource:e}=this.props;return e(r.a.createElement("div",{className:"customizable-field--drag"},r.a.createElement("span",{className:"hamburger"})))}get visibilityToggle(){const{visible:e,internalName:t}=this.props;return e?r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to HIDE ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeOpen})):r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to SHOW ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeClosed}))}get labelClassName(){const{visible:e}=this.props;return e?"customizable-field--label":"customizable-field--label__hidden"}get columnClassName(){const{isDragging:e}=this.props;return e?"customizable-field dragging":"customizable-field"}};var k,E,S,C,T,O;w=Object(h.a)([y.a,(C="column",T=v,O=e=>({connectDropTarget:e.dropTarget()}),e=>Object(f.a)(C,T,O)(e)),(k="column",E=x,S=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}),e=>Object(b.a)(k,E,S)(e)),Object(h.b)("design:paramtypes",[Object])],w);var D=w,j=n(19),I=n(34),N=n(83);const _=(e,t,n)=>{if(t===n)return e.slice();const a=e[t],r=[...e.slice(0,t),...e.slice(t+1)];return[...r.slice(0,n),a,...r.slice(n)]};n(261);var R=({properties:e,results:t,update:n})=>{var s;const i=(e.fieldOptions||[]).reduce((e,t)=>(e[t.internalName]=t,e),{});t.table.columnKeys.filter(e=>!i.hasOwnProperty(e)).filter(e=>!["result","","table","time"].includes(e)).forEach(e=>{i[e]={internalName:e,displayName:e,visible:!0}});const o=Object.keys(i).map(e=>i[e]),l=Object(a.useCallback)(t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})},[n,e.decimalPlaces]),h=Object(a.useCallback)(e=>{e===d.AutoInputMode.Auto?l(null):l(2)},[l]),g=Object(a.useCallback)(t=>{n({tableOptions:Object.assign(Object.assign({},e.tableOptions),t)})},[n,e.tableOptions]),f=Object(a.useCallback)(t=>{t===p.m?n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.m}):e)}):n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.n}):e)})},[n,e.colors]),b=e=>"time"!==e.internalName&&""!==e.internalName&&"result"!==e.internalName&&"table"!==e.internalName,y=Object(a.useCallback)(e=>{n({fieldOptions:o.map(t=>t.internalName!==e.internalName?t:Object.assign({},e))})},[n,o]),x=Object(a.useCallback)((e,t)=>{n({fieldOptions:_(o.filter(b),e,t)})},[n,o]),v=(null===(s=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===s?void 0:s.type)||"text",w=Object(a.useMemo)(()=>o.filter(b).map((e,t)=>r.a.createElement(D,{key:e.internalName,index:t,id:e.internalName,internalName:e.internalName,displayName:e.displayName,visible:e.visible,onUpdateColumn:y,onMoveColumn:x})),[o]);return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Formatting"),r.a.createElement(d.Form.Element,{label:"Default Sort Field"},r.a.createElement(d.Dropdown,{className:"dropdown-stretch",button:(t,n)=>{var a,s;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},(null===(s=null===(a=e.tableOptions)||void 0===a?void 0:a.sortBy)||void 0===s?void 0:s.displayName)||"Choose a sort field")},menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},o.filter(e=>!!e.internalName).map(t=>{var n,a;return r.a.createElement(d.Dropdown.Item,{key:t.internalName,id:t.internalName,value:t,onClick:e=>{g({sortBy:e})},selected:t.internalName===(null===(a=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===a?void 0:a.internalName)},t.displayName)}))})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:h,inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{l(Object(I.a)(e))},value:e.decimalPlaces.digits,min:j.q,max:j.p,type:d.InputType.Number})})),r.a.createElement("h5",{className:"view-options--header"},"Colorized Thresholds"),r.a.createElement(N.a,{thresholds:e.colors,onSetThresholds:e=>{n({colors:e})}}),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:v===p.m,onClick:f,value:p.m},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:v===p.n,onClick:f,value:p.n},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Column Settings"),r.a.createElement(d.Form.Element,{label:"First Column"},r.a.createElement(d.Form.Box,null,r.a.createElement(d.FlexBox,{direction:d.FlexDirection.Row,margin:d.ComponentSize.Small},r.a.createElement(d.InputLabel,null,"Scroll with table"),r.a.createElement(d.SlideToggle,{active:e.tableOptions.fixFirstColumn,onChange:()=>{g({fixFirstColumn:!e.tableOptions.fixFirstColumn})},size:d.ComponentSize.ExtraSmall}),r.a.createElement(d.InputLabel,null,"Fixed")))),r.a.createElement(d.Form.Element,{label:"Table Columns"},r.a.createElement(u.a,{backend:c.a},r.a.createElement("div",null,w.length?w:r.a.createElement(d.Form.Box,null,r.a.createElement(d.EmptyState,{size:d.ComponentSize.Small},r.a.createElement(d.EmptyState.Text,null,"This query returned no columns")))))))))},A=n(15),M=n.n(A),F=n(131);var $=class{constructor(e={}){this.columnWidth=({index:e})=>{this.cellMeasurerCache.columnWidth({index:e+this.columnIndexOffset})},this.rowHeight=({index:e})=>{this.cellMeasurerCache.rowHeight({index:e+this.rowIndexOffset})};const{cellMeasurerCache:t,columnIndexOffset:n=0,rowIndexOffset:a=0}=e;this.cellMeasurerCache=t,this.columnIndexOffset=n,this.rowIndexOffset=a}clear(e,t){this.cellMeasurerCache.clear(e+this.rowIndexOffset,t+this.columnIndexOffset)}clearAll(){this.cellMeasurerCache.clearAll()}get defaultHeight(){return this.cellMeasurerCache.defaultHeight}get defaultWidth(){return this.cellMeasurerCache.defaultWidth}hasFixedHeight(){return this.cellMeasurerCache.hasFixedHeight()}hasFixedWidth(){return this.cellMeasurerCache.hasFixedWidth()}getHeight(e,t=0){return this.cellMeasurerCache.getHeight(e+this.rowIndexOffset,t+this.columnIndexOffset)}getWidth(e,t=0){return this.cellMeasurerCache.getWidth(e+this.rowIndexOffset,t+this.columnIndexOffset)}has(e,t=0){return this.cellMeasurerCache.has(e+this.rowIndexOffset,t+this.columnIndexOffset)}set(e,t,n,a){this.cellMeasurerCache.set(e+this.rowIndexOffset,t+this.columnIndexOffset,n,a)}};class L extends r.a.PureComponent{constructor(e,t){super(e,t),this.deferredInvalidateColumnIndex=0,this.deferredInvalidateRowIndex=0,this.leftGridWidth=0,this.topGridHeight=0,this.lastRenderedFixedColumnCount=0,this.lastRenderedFixedRowCount=0,this.lastRenderedHeight=0,this.lastRenderedWidth=0,this.cellRendererBottomLeftGrid=e=>{var{rowIndex:t}=e,n=Object(h.c)(e,["rowIndex"]);const{cellRenderer:a,fixedRowCount:s,rowCount:i}=this.props;return t===i-s?r.a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{height:20})}):a(Object.assign(Object.assign({},n),{parent:this,rowIndex:t+s}))},this.onScrollbarsScroll=e=>{this.onScroll(e)},this.onScroll=e=>{const{scrollLeft:t,scrollTop:n}=e;this.setState({scrollLeft:t,scrollTop:n});const{onScroll:a}=this.props;a&&a(e)},this.onScrollLeft=e=>{const{scrollLeft:t}=e;this.onScroll({scrollLeft:t,scrollTop:this.state.scrollTop})},this.rowHeightBottomGrid=({index:e})=>{const{fixedRowCount:t,rowCount:n,rowHeight:a}=this.props,{scrollbarSize:r,showVerticalScrollbar:s}=this.state;return s&&e===n-t?r:"function"==typeof a?a({index:e+t}):a},this.topLeftGridRef=e=>{this.topLeftGrid=e},this.topRightGridRef=e=>{this.topRightGrid=e},this.bottomLeftGridRef=e=>{this.bottomLeftGrid=e},this.bottomRightGridRef=e=>{this.bottomRightGrid=e},this.cellRendererBottomRightGrid=e=>{var{columnIndex:t,rowIndex:n}=e,a=Object(h.c)(e,["columnIndex","rowIndex"]);const{cellRenderer:r,fixedColumnCount:s,fixedRowCount:i}=this.props;return r(Object.assign(Object.assign({},a),{columnIndex:t+s,parent:this,rowIndex:n+i}))},this.cellRendererTopRightGrid=e=>{var{columnIndex:t}=e,n=Object(h.c)(e,["columnIndex"]);const{cellRenderer:a,columnCount:s,fixedColumnCount:i}=this.props;return t===s-i?r.a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{width:20})}):a(Object.assign(Object.assign({},n),{columnIndex:t+i,parent:this}))},this.columnWidthRightGrid=({index:e})=>{const{columnCount:t,fixedColumnCount:n,columnWidth:a}=this.props,{scrollbarSize:r,showHorizontalScrollbar:s}=this.state;return s&&e===t-n?r:"function"==typeof a?a({index:e+n}):a},this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1};const{deferredMeasurementCache:n,fixedColumnCount:a,fixedRowCount:s}=e;this.maybeCalculateCachedStyles(!0),n&&(this.deferredMeasurementCacheBottomLeftGrid=s>0?new $({cellMeasurerCache:n,columnIndexOffset:0,rowIndexOffset:s}):n,this.deferredMeasurementCacheBottomRightGrid=a>0||s>0?new $({cellMeasurerCache:n,columnIndexOffset:a,rowIndexOffset:s}):n,this.deferredMeasurementCacheTopRightGrid=a>0?new $({cellMeasurerCache:n,columnIndexOffset:a,rowIndexOffset:0}):n)}static getDerivedStateFromProps(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}forceUpdateGrids(){this.bottomLeftGrid&&this.bottomLeftGrid.forceUpdate(),this.bottomRightGrid&&this.bottomRightGrid.forceUpdate(),this.topLeftGrid&&this.topLeftGrid.forceUpdate(),this.topRightGrid&&this.topRightGrid.forceUpdate()}invalidateCellSizeAfterRender({columnIndex:e=0,rowIndex:t=0}={}){this.deferredInvalidateColumnIndex="number"==typeof this.deferredInvalidateColumnIndex?Math.min(this.deferredInvalidateColumnIndex,e):e,this.deferredInvalidateRowIndex="number"==typeof this.deferredInvalidateRowIndex?Math.min(this.deferredInvalidateRowIndex,t):t}measureAllCells(){this.bottomLeftGrid&&this.bottomLeftGrid.measureAllCells(),this.bottomRightGrid&&this.bottomRightGrid.measureAllCells(),this.topLeftGrid&&this.topLeftGrid.measureAllCells(),this.topRightGrid&&this.topRightGrid.measureAllCells()}recomputeGridSize({columnIndex:e=0,rowIndex:t=0}={}){const{fixedColumnCount:n,fixedRowCount:a}=this.props,r=Math.max(0,e-n),s=Math.max(0,t-a);this.bottomLeftGrid&&this.bottomLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:s}),this.bottomRightGrid&&this.bottomRightGrid.recomputeGridSize({columnIndex:r,rowIndex:s}),this.topLeftGrid&&this.topLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:t}),this.topRightGrid&&this.topRightGrid.recomputeGridSize({columnIndex:r,rowIndex:t}),this.leftGridWidth=null,this.topGridHeight=null,this.maybeCalculateCachedStyles(!0)}componentDidMount(){const{scrollLeft:e,scrollTop:t}=this.props;if(e>0||t>0){const n={};e>0&&(n.scrollLeft=e),t>0&&(n.scrollTop=t),this.setState(Object.assign(Object.assign({},this.state),n))}this.handleInvalidatedGridSize()}componentDidUpdate(){this.handleInvalidatedGridSize()}render(){const e=this.props,{onScroll:t,onSectionRendered:n,scrollToRow:a,scrollToColumn:s}=e,i=Object(h.c)(e,["onScroll","onSectionRendered","scrollToRow","scrollToColumn"]);if(this.prepareForRender(),0===this.props.width||0===this.props.height)return null;const{scrollLeft:o,scrollTop:l}=this.state;return r.a.createElement("div",{style:this.containerOuterStyle},r.a.createElement("div",{style:this.containerTopStyle},this.renderTopLeftGrid(i),this.renderTopRightGrid(Object.assign(Object.assign(Object.assign({},i),t),{scrollLeft:o}))),r.a.createElement("div",{style:this.containerBottomStyle},this.renderBottomLeftGrid(Object.assign(Object.assign({},i),{onScroll:t,scrollTop:l})),this.renderBottomRightGrid(Object.assign(Object.assign({},i),{onScroll:t,onSectionRendered:n,scrollLeft:o,scrollToColumn:s,scrollToRow:a,scrollTop:l}))))}getBottomGridHeight(e){const{height:t}=e;return t-this.getTopGridHeight(e)}getLeftGridWidth(e){const{fixedColumnCount:t,columnWidth:n}=e;if(null==this.leftGridWidth)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.leftGridWidth=e}else this.leftGridWidth=n*t;return this.leftGridWidth}getRightGridWidth(e){const{width:t}=e;return t-this.getLeftGridWidth(e)}getTopGridHeight(e){const{fixedRowCount:t,rowHeight:n}=e;if(null==this.topGridHeight)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.topGridHeight=e}else this.topGridHeight=n*t;return this.topGridHeight}renderBottomLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n,rowCount:a}=e;if(!t)return null;const s=this.getLeftGridWidth(e),i=this.getBottomGridHeight(e);return r.a.createElement(F.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:t,deferredMeasurementCache:this.deferredMeasurementCacheBottomLeftGrid,onScroll:this.onScroll,height:i,ref:this.bottomLeftGridRef,rowCount:Math.max(0,a-n),rowHeight:this.rowHeightBottomGrid,style:Object.assign({},this.bottomLeftGridStyle),tabIndex:null,width:s}))}renderBottomRightGrid(e){const{columnCount:t,fixedColumnCount:n,fixedRowCount:a,rowCount:s,scrollToColumn:i,scrollToRow:o}=e,l=this.getRightGridWidth(e),c=this.getBottomGridHeight(e);return r.a.createElement(d.DapperScrollbars,{style:Object.assign(Object.assign({},this.bottomRightGridStyle),{width:l,height:c}),autoHide:!0,scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft,onScroll:this.onScrollbarsScroll},r.a.createElement(F.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheBottomRightGrid,height:c,ref:this.bottomRightGridRef,rowCount:Math.max(0,s-a),rowHeight:this.rowHeightBottomGrid,onScroll:this.onScroll,scrollToColumn:i-n,scrollToRow:o-a,style:Object.assign(Object.assign({},this.bottomRightGridStyle),{overflowX:!1,overflowY:!0,left:0}),width:l})))}renderTopLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n}=e;return t&&n?r.a.createElement(F.c,Object.assign({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this.getTopGridHeight(e),ref:this.topLeftGridRef,rowCount:n,style:this.topLeftGridStyle,tabIndex:null,width:this.getLeftGridWidth(e)})):null}renderTopRightGrid(e){const{columnCount:t,enableFixedRowScroll:n,fixedColumnCount:a,fixedRowCount:s,scrollLeft:i}=e;if(!s)return null;const o=this.getRightGridWidth(e),l=this.getTopGridHeight(e);return r.a.createElement(F.c,Object.assign({},e,{cellRenderer:this.cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-a),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheTopRightGrid,height:l,onScroll:n?this.onScrollLeft:void 0,ref:this.topRightGridRef,rowCount:s,scrollLeft:i,style:this.topRightGridStyle,tabIndex:null,width:o}))}maybeCalculateCachedStyles(e){const{columnWidth:t,height:n,fixedColumnCount:a,fixedRowCount:r,rowHeight:s,style:i,styleBottomLeftGrid:o,styleBottomRightGrid:l,styleTopLeftGrid:c,styleTopRightGrid:u,width:d}=this.props,m=e||n!==this.lastRenderedHeight||d!==this.lastRenderedWidth,p=e||t!==this.lastRenderedColumnWidth||a!==this.lastRenderedFixedColumnCount,h=e||r!==this.lastRenderedFixedRowCount||s!==this.lastRenderedRowHeight;(e||m||i!==this.lastRenderedStyle)&&(this.containerOuterStyle=Object.assign({height:n,overflow:"visible",width:d},i)),(e||m||h)&&(this.containerTopStyle={height:this.getTopGridHeight(this.props),position:"relative",width:d},this.containerBottomStyle={height:n-this.getTopGridHeight(this.props),overflow:"visible",position:"relative",width:d}),(e||o!==this.lastRenderedStyleBottomLeftGrid)&&(this.bottomLeftGridStyle=Object.assign({left:0,overflowY:"hidden",overflowX:"hidden",position:"absolute"},o)),(e||p||l!==this.lastRenderedStyleBottomRightGrid)&&(this.bottomRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),position:"absolute"},l)),(e||c!==this.lastRenderedStyleTopLeftGrid)&&(this.topLeftGridStyle=Object.assign({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},c)),(e||p||u!==this.lastRenderedStyleTopRightGrid)&&(this.topRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},u)),this.lastRenderedColumnWidth=t,this.lastRenderedFixedColumnCount=a,this.lastRenderedFixedRowCount=r,this.lastRenderedHeight=n,this.lastRenderedRowHeight=s,this.lastRenderedStyle=i,this.lastRenderedStyleBottomLeftGrid=o,this.lastRenderedStyleBottomRightGrid=l,this.lastRenderedStyleTopLeftGrid=c,this.lastRenderedStyleTopRightGrid=u,this.lastRenderedWidth=d}handleInvalidatedGridSize(){if("number"==typeof this.deferredInvalidateColumnIndex){const e=this.deferredInvalidateColumnIndex,t=this.deferredInvalidateRowIndex;this.deferredInvalidateColumnIndex=null,this.deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}prepareForRender(){this.lastRenderedColumnWidth===this.props.columnWidth&&this.lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this.leftGridWidth=null),this.lastRenderedFixedRowCount===this.props.fixedRowCount&&this.lastRenderedRowHeight===this.props.rowHeight||(this.topGridHeight=null),this.maybeCalculateCachedStyles(!1),this.lastRenderedColumnWidth=this.props.columnWidth,this.lastRenderedFixedColumnCount=this.props.fixedColumnCount,this.lastRenderedFixedRowCount=this.props.fixedRowCount,this.lastRenderedRowHeight=this.props.rowHeight}}L.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{}};var P=L,z=n(189),B=n(38),V=n(7),G=n(236),U=n(91),q=n(45);const H=e=>7*e.length;var Y;!function(e){e.MetaQueryCombo="MetaQueryCombo",e.GeneralError="Error"}(Y||(Y={}));const W=(e,t,n,a,r)=>{const s=(e=>(e=Object(V.replace)(e,"MMMM","September"),e=Object(V.replace)(e,"dddd","Wednesday"),e=Object(V.replace)(e,"A","AM"),e=Object(V.replace)(e,"h","00"),e=Object(V.replace)(e,"X","1522286058"),e=Object(V.replace)(e,"x","1536106867461"),H(e)+U.b))(""===n?q.a:n);return Object(G.c)(e,(n,i,o)=>((e,t,n,a,r,s,i,o)=>Object(G.c)(e,(e,l,c)=>{const u=r.find(e=>e.internalName===l);let d=`${l}`;u&&u.displayName?d=u.displayName:!isNaN(+l)&&o.isEnforced&&(d=(+l).toFixed(o.digits));const m=n[c],p=m===U.f.internalName,h=n[0]===U.f.internalName,g=p&&i&&!a||!i&&a&&h&&0!==c?s:H(d.toString().trim())+U.b,{widths:f}=t,b=Object(V.get)(f,`${m}`,0);return(a||g>b)&&(e.widths[m]=g,e.totalWidths+=g-b),e},Object.assign({},t)))(i,n,e[0],0===o,t,s,a,r),{widths:{},totalWidths:0})},K=(e,t,n,a,r,s)=>{const{verticalTimeAxis:i}=a,o=(e=>{const t=e[0],n=["","result","table"].map(e=>t.indexOf(e));return e.map(e=>e.filter((e,t)=>!n.includes(t)))})(e),l=((e,t)=>{let n=[];return t.forEach(e=>{const t={internalName:e,displayName:"",visible:!0};n=[...n,t]}),[...e.filter(e=>n.find(t=>t.internalName===e.internalName)),...n.filter(t=>!e.find(e=>e.internalName===t.internalName))]})(n,o[0]),{sortedData:c,sortedTimeVals:u}=((e,t)=>{const n=new Set(e[0]);let a=0;if(n.has(t.field))a=e[0].indexOf(t.field);else if(!t.field)return{sortedData:[...e],sortedTimeVals:e.map(e=>e[0])};const r=e.slice(1),s=[e[0],...Object(V.orderBy)(r,e=>{const t=e[a];return isNaN(Number(t))?t:Number(t)},[t.direction])];return{sortedData:s,sortedTimeVals:Object(G.b)(s,e=>e[a])}})(o,t),d=((e,t)=>{const n=t.map(t=>e[0].findIndex(e=>e===t.internalName)).filter(e=>-1!==e),a=Object(G.b)(e,e=>e.map((e,t,a)=>a[n[t]]));return a[0].length?a:[[]]})(((e,t)=>{const n={},a=Object(G.b)(e,(e,a)=>Object(G.a)(e,(e,r)=>{if(0===a){const a=t.find(t=>t.internalName===e);n[r]=!a||a.visible}return n[r]}));return a[0].length?a:[[]]})(c,l),l),m=i?d:Object(V.unzip)(d);return{transformedData:m,sortedTimeVals:u,columnWidths:W(m,l,r,i,s),resolvedFieldOptions:l,sortOptions:t}},X=(e,t)=>Math.abs(e-new Date(t).valueOf());var Z=n(27);var Q=({properties:e,sort:t,updateSort:n,table:s})=>{var i,o,l;const c=Object(a.useMemo)(()=>K(s.data,t,e.fieldOptions.map(e=>Object.assign(Object.assign({},e),{dataType:s.dataTypes[e.internalName]})),e.tableOptions,e.timeFormat,e.decimalPlaces),[s.data,t,e.fieldOptions,e.timeFormat,e.decimalPlaces]),{theme:u,timeZone:d}=Object(a.useContext)(Z.a),[p,h]=Object(a.useState)(0),[g,f]=Object(a.useState)(U.j),[b,y]=Object(a.useState)(U.j),[x,v]=Object(a.useState)(0),w=M()("time-machine-table",{"time-machine-table__light-mode":"light"===u}),k=Object(B.a)("time",{timeZone:"Local"===d?void 0:d,timeFormat:Object(m.b)(e.timeFormat)}),E=(null===(i=null==c?void 0:c.transformedData[0])||void 0===i?void 0:i.length)||0,S=0===E?0:(null===(o=null==c?void 0:c.transformedData)||void 0===o?void 0:o.length)||0,C=Object(a.useMemo)(()=>{var t;return 1!==c.resolvedFieldOptions.length&&1!==c.resolvedFieldOptions.reduce((e,t)=>(t.visible&&(e+=1),e),0)&&(void 0===(null===(t=null==e?void 0:e.tableOptions)||void 0===t?void 0:t.fixFirstColumn)?U.d:e.tableOptions.fixFirstColumn)},[e.tableOptions,c]),T=e.tableOptions.verticalTimeAxis||U.g,O=(null===(l=c.resolvedFieldOptions.find(e=>e.internalName===U.f.internalName))||void 0===l?void 0:l.visible)||!1,D=Object(a.useCallback)(e=>t=>{if(C&&0===t.index)return c.columnWidths[c.transformedData[0][t.index]]||0;if(E<=1)return e;const n=p/(E-(C?1:0));return(c.columnWidths[c.transformedData[0][t.index]]||0)+n},[C,c,p,E]),j=Object(a.useCallback)(e=>{const{dataset:t}=e.target;if(!T||0!==parseFloat(t.rowIndex)){if(O){const e=T?c.sortedTimeVals[t.rowIndex]:c.sortedTimeVals[t.columnIndex];v(Date.parse(e))}f(parseFloat(t.columnIndex)),y(parseFloat(t.rowIndex))}},[c,f,y,v,T,O]),I=Object(a.useCallback)(()=>{v(0),f(U.j),y(U.j)},[f,y,v]),[N,_]=Object(a.useMemo)(()=>{if(!x||g!==U.j||!O)return[0,-1];const e=((e,t)=>{if(e.length<2)return-1;const n=X(t,e[1]);return Object(G.c)(e,(e,n,a)=>{const r=X(t,n);return r<e.diff?{index:a,diff:r}:e},{index:1,diff:n}).index})(c.sortedTimeVals,x);return[T?-1:e,T?e:null]},[c.sortedTimeVals,x,g,O,T]);return s?r.a.createElement("div",{className:w,ref:e=>{e&&h(e.clientWidth)},onMouseLeave:I},S>0&&r.a.createElement(F.a,null,({width:t,height:a})=>r.a.createElement(F.b,{columnCount:E-(C?1:0),columnMinWidth:U.c,width:t},({adjustedWidth:t,columnWidth:i,registerChild:o})=>r.a.createElement(P,{height:a,ref:o,rowCount:S,width:t,rowHeight:U.k,scrollToRow:_,columnCount:E,scrollToColumn:N,fixedColumnCount:C&&E>1?1:0,cellRenderer:t=>{const a=_>=0?_:b;return r.a.createElement(z.b,Object.assign({},t,{sortOptions:c.sortOptions,onHover:j,isTimeVisible:O,data:c.transformedData[t.rowIndex][t.columnIndex],dataType:s.dataTypes[c.transformedData[0][t.columnIndex]]||"n/a",hoveredRowIndex:a,properties:e,resolvedFieldOptions:c.resolvedFieldOptions,hoveredColumnIndex:g,isFirstColumnFixed:C,isVerticalTimeAxis:T,onClickFieldName:n,timeFormatter:k}))},classNameBottomRightGrid:"table-graph--scroll-window",columnWidth:D(i)})))):null},J=n(33),ee=(n(293),n(60)),te=n.n(ee);n(130);const ne=e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,r=["result","table",...a.filter(e=>"result"!==e&&"table"!==e)],s=n.getColumn("table"),i=n.getColumn("result");let o=0,l=0;const c=new Set(["result",...t]),u={"":"#datatype"};let d,m,p;r.forEach(e=>{u[e]=n.getOriginalColumnType(e)});let h,g=r.filter(e=>(d=n.getColumnType(e),p=n.getColumn(e,d),void 0!==p[o])),f={};g.forEach(e=>{d=n.getColumnType(e),m=n.getOriginalColumnType(e),p=n.getColumn(e,d),h=p[o],"dateTime:RFC3339"!==m||"number"!=typeof h||isNaN(h)||(h=new Date(h).toISOString()),c.has(e)&&(f[e]=h)}),g.unshift("");let b=[];b.push(g);let y,x,v,w,k=`${i[o]}`,E=Object.entries(f).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),S={id:te.a.v4(),name:E,data:b,result:k,groupKey:f,dataTypes:u},C=[];const T=[];for(let e=0;e<s.length;e++){i[e]===i[o]&&s[e]===s[l]||(T.push(S),f={},o=e,l=e,g=r.filter(t=>(d=n.getColumnType(t),p=n.getColumn(t,d),void 0!==p[e])),g.forEach(t=>{d=n.getColumnType(t),m=n.getOriginalColumnType(w),p=n.getColumn(t,d),h=p[e],"dateTime:RFC3339"!==m||"number"!=typeof h||isNaN(h)||(h=new Date(h).toISOString()),c.has(t)&&(f[t]=h)}),g.unshift(""),b=[],b.push(g),k=`${i[e]}`,E=Object.entries(f).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),S={id:te.a.v4(),name:E,data:b,result:k,groupKey:f,dataTypes:u}),C=[""];for(let t=0;t<g.length;t++)w=g[t],""!==w&&(y=n.getColumnType(w),x=n.getOriginalColumnType(w),v=n.getColumn(w,y)[e],"dateTime:RFC3339"!==x||"number"!=typeof v||isNaN(v)||(v=new Date(v).toISOString()),"result"===w&&(v=""),C.push(`${v}`));b.push(C)}return T.push(S),T};var ae=n(23);var re=({properties:e,result:t})=>{var n,s,i;const[l,c]=Object(a.useState)(null),[u,m]=Object(a.useState)(""),[p,h]=Object(a.useState)({field:null===(s=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===s?void 0:s.internalName,direction:U.a}),{theme:g}=Object(a.useContext)(Z.a),f=Object(a.useMemo)(()=>(c(null),ne(t)),[t]),b=f.find(e=>e.name===l)||f[0],y=Object(a.useCallback)(e=>{const t=Object.assign({},p);e===t.field?t.direction===U.h?(t.field="",t.direction=U.a):t.direction=U.h:(t.field=e,t.direction=U.e),h(t)},[p,h]),x=M()("time-machine-sidebar",{"time-machine-sidebar__light":"light"===g}),v=f.filter(e=>e.name.includes(u)),{timeZone:w}=Object(a.useContext)(Z.a);if(Object(ae.c)("useGiraffeGraphs")){const n={fluxResponse:(e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,r=["result","table",...a.filter(e=>"result"!==e&&"table"!==e)],s=n.getColumn("table"),i=n.getColumn("result");let o=null,l=null,c=[];const u=[];let d,m,p,h,g=[];const f=new Set(t);let b=0;for(let e=0;e<s.length;e++){if(i[e]!==o||s[e]!==l){o=i[e],l=s[e],c=r.filter(t=>{const a=n.getColumnType(t);return void 0!==n.getColumn(t,a)[e]});const t=["#datatype"],a=["#default",`${i[e]}`],d=["#group"];let m;u.push([],d,t,a,["",...c]);for(let e=0;e<c.length;e++)m=c[e],d.push(`${f.has(m)}`),t.push(n.getOriginalColumnType(m));b=Math.max(d.length,t.length,b)}g=[""];for(let t=0;t<c.length;t++)h=c[t],d=n.getColumnType(h),m=n.getOriginalColumnType(h),p=n.getColumn(h,d)[e],"dateTime:RFC3339"!==m||"number"!=typeof p||isNaN(p)||(p=new Date(p).toISOString()),"result"===h&&(p=""),g.push(`${p}`);u.push(g)}return u.shift(),{tableData:u,max:b}})(t).tableData.join("\n"),layers:[{type:"table",properties:e,timeZone:w,tableTheme:g}]};return r.a.createElement(o.HoverTimeProvider,null,r.a.createElement(o.Plot,{config:n}))}return r.a.createElement("div",{className:"time-machine-tables"},f.length>1&&r.a.createElement("div",{className:x},!!(null===(i=null==b?void 0:b.data)||void 0===i?void 0:i.length)&&r.a.createElement("div",{className:"time-machine-sidebar--heading"},r.a.createElement(d.Input,{icon:d.IconFont.Search,onChange:e=>{m(e.target.value)},placeholder:"Filter tables...",value:u,className:"time-machine-sidebar--filter"})),r.a.createElement(d.DapperScrollbars,{autoHide:!0,className:"time-machine-sidebar--scroll"},r.a.createElement("div",{className:"time-machine-sidebar--items"},v.map(e=>{const t=`time-machine-sidebar-item ${l===e.name?"active":""}`,n=Object.entries(e.groupKey).filter(([e])=>!U.i.includes(e)).map(([e,t],n)=>r.a.createElement(a.Fragment,{key:n},r.a.createElement("span",{className:"key"},e),r.a.createElement("span",{className:"equals"},"="),r.a.createElement("span",{className:"value"},t)));return r.a.createElement("div",{key:e.id,className:t,onClick:()=>(e=>{c(e===l?null:e)})(e.name)},n)})))),!!b&&r.a.createElement(Q,{key:null==b?void 0:b.name,table:b,sort:p,updateSort:y,properties:e}),(!b||!b.data.length)&&r.a.createElement(J.a,{message:"This table has no data"}))};t.default=e=>{e({type:"table",name:"Table",graphic:s,initial:l,component:re,options:R})}},272:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--gauge"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M110.9,110.9c19.9-19.9,19.9-52,0-71.9s-52-19.9-71.9,0s-19.9,52,0,71.9"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"110.9",x2:"35",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"110.9",x2:"115",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"94.5",x2:"127.2",y2:"96.6"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"125.8",y1:"75",x2:"131.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"55.5",x2:"127.2",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"39.1",x2:"115",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"94.5",y1:"28",x2:"96.6",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"75",y1:"24.2",x2:"75",y2:"18.5"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"55.5",y1:"28",x2:"53.4",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"39.1",x2:"35",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"55.5",x2:"22.8",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"24.2",y1:"75",x2:"18.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"94.5",x2:"22.8",y2:"96.6"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M78.6,73.4L75,56.3l-3.6,17.1c-0.2,0.5-0.3,1-0.3,1.6c0,2.2,1.8,3.9,3.9,3.9s3.9-1.8,3.9-3.9C78.9,74.4,78.8,73.9,78.6,73.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}))),i=n(36),o=n(28),l={type:"gauge",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.e,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(83),d=n(19),m=n(34);var p=({properties:e,update:t})=>{const n=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Prefix"},r.a.createElement(c.Input,{testID:"prefix-input",value:e.prefix,onChange:e=>{t({prefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Suffix"},r.a.createElement(c.Input,{testID:"suffix-input",value:e.suffix,onChange:e=>{t({suffix:e.target.value})},placeholder:"%, MPH, etc."})))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Prefix"},r.a.createElement(c.Input,{testID:"tick-prefix-input",value:e.tickPrefix,onChange:e=>{t({tickPrefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Suffix"},r.a.createElement(c.Input,{testID:"tick-suffix-input",value:e.tickSuffix,onChange:e=>{t({tickSuffix:e.target.value})},placeholder:"%, MPH, etc."})))),e.decimalPlaces&&r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n(null):n(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(m.a)(e))},value:e.decimalPlaces.digits,min:d.q,max:d.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(u.a,{thresholds:e.colors,onSetThresholds:e=>{t({colors:e})}})))))},h=n(22),g=n(23),f=n(131);const b={degree:5/4*Math.PI,labelColor:`${c.InfluxColors.Storm}`,labelFontSize:13,lineColor:`${c.InfluxColors.Platinum}`,lineCount:5,lineStrokeLarge:3,lineStrokeSmall:1,minFontSize:22,minLineWidth:24,needleColor0:`${c.InfluxColors.Wolf}`,needleColor1:`${c.InfluxColors.Smoke}`,smallLineCount:10,tickSizeLarge:18,tickSizeSmall:9,valueColor:`${c.InfluxColors.Graphite}`,overflowDelta:.03},y={degree:5/4*Math.PI,labelColor:`${c.InfluxColors.Wolf}`,labelFontSize:13,lineColor:`${c.InfluxColors.Graphite}`,lineCount:5,lineStrokeLarge:3,lineStrokeSmall:1,minFontSize:22,minLineWidth:24,needleColor0:`${c.InfluxColors.Smoke}`,needleColor1:`${c.InfluxColors.White}`,smallLineCount:10,tickSizeLarge:18,tickSizeSmall:9,valueColor:`${c.InfluxColors.White}`,overflowDelta:.03},x=1.5*Math.PI;var v=n(27),w=n(10),k=n(14);const E=(e,{decimalPlaces:t,prefix:n,suffix:a}={})=>{let r,s;if(s=t&&t.isEnforced?t.digits:(e=>-1===e.toString().indexOf(".")?0:2)(e),s=Math.min(s,d.p),"number"==typeof e){const[t,n]=Number(e).toFixed(s).split(".");r=Number(t).toLocaleString(void 0,{maximumFractionDigits:d.p}),n&&(r+=`.${n}`)}else{if("string"!=typeof e)return"Data cannot be displayed";r=e}return r=(e=>-0===Number(e)?"number"==typeof e?0:e.replace(/-/g,""):e)(r),`${n||""}${r}${a||""}`};let S=class extends a.Component{constructor(e){super(e),this.updateCanvas=()=>{var e,t;this.resetCanvas();const n=this.canvasRef.current.getContext("2d"),{width:a,height:r}=this.props,s=a/2,o=r/2*1.13,l=Math.min(a,r)/2*.5,{minLineWidth:c,minFontSize:u}=this.props.theme,d=Math.max(c,l/4),m=Math.max(u,l/4),{colors:p}=this.props;if(!p||0===p.length)return;const h=(null===(e=p.find(e=>e.type===i.c))||void 0===e?void 0:e.value)||i.j,g=(null===(t=p.find(e=>e.type===i.b))||void 0===t?void 0:t.value)||i.i;p.length===i.k?this.drawGradientGauge(n,s,o,l,d):this.drawSegmentedGauge(n,s,o,l,h,g,d),this.drawGaugeLines(n,s,o,l,d),this.drawGaugeLabels(n,l,d,h,g),this.drawGaugeValue(n,l,m),this.drawNeedle(n,l,h,g)},this.resetCanvas=()=>{const e=this.canvasRef.current,t=e.getContext("2d"),{width:n,height:a}=this.props,r=window.devicePixelRatio||1;e.width=n*r,e.height=a*r,e.style.width=`${n}px`,e.style.height=`${a}px`,t.scale(r,r),t.clearRect(0,0,n,a)},this.drawGradientGauge=(e,t,n,a,r)=>{const{colors:s}=this.props,i=s.sort((e,t)=>e.value-t.value),o=.75*Math.PI,l=o+1.5*Math.PI,c=t+Math.cos(o)*a,u=n+Math.sin(o)*a,d=t+Math.cos(l)*a,m=n+Math.sin(l)*a,p=e.createLinearGradient(c,u,d,m);p.addColorStop(0,i[0].hex),p.addColorStop(1,i[1].hex),e.beginPath(),e.lineWidth=r,e.strokeStyle=p,e.arc(t,n,a,o,l),e.stroke()},this.drawSegmentedGauge=(e,t,n,a,r,s,i)=>{const{colors:o}=this.props,l=o.sort((e,t)=>e.value-t.value),c=Math.abs(s-r),u=1.5*Math.PI;let d=.75*Math.PI;for(let s=0;s<l.length-1;s++){const o=l[s],m=l[s+1],p=Number(o.value)-r,h=Number(m.value)-r,g=u*(Math.abs(p-h)/c);e.beginPath(),e.lineWidth=i,e.strokeStyle=o.hex,e.arc(t,n,a,d,d+g),e.stroke(),d+=g}},this.drawGaugeLines=(e,t,n,a,r)=>{const{degree:s,lineCount:i,lineColor:o,lineStrokeSmall:l,lineStrokeLarge:c,tickSizeSmall:u,tickSizeLarge:d,smallLineCount:m}=this.props.theme,p=.75*Math.PI,h=1.5*Math.PI,g=p+h,f=i*m,b=135*s,y=h/i,x=h/f,v=a+.8*r;e.beginPath(),e.arc(t,n,v,p,g),e.lineWidth=3,e.lineCap="round",e.strokeStyle=o,e.stroke(),e.closePath(),e.translate(t,n);for(let t=0;t<=i;t++)e.rotate(b),e.rotate(t*y),e.beginPath(),e.lineWidth=c,e.lineCap="round",e.strokeStyle=o,e.moveTo(v,0),e.lineTo(v+d,0),e.stroke(),e.closePath(),e.rotate(-t*y),e.rotate(-b);for(let t=0;t<=f;t++)e.rotate(b),e.rotate(t*x),e.beginPath(),e.lineWidth=l,e.lineCap="round",e.strokeStyle=o,e.moveTo(v,0),e.lineTo(v+u,0),e.stroke(),e.closePath(),e.rotate(-t*x),e.rotate(-b)},this.drawGaugeLabels=(e,t,n,a,r)=>{const{tickPrefix:s,tickSuffix:i,decimalPlaces:o}=this.props,{degree:l,lineCount:c,labelColor:u,labelFontSize:d}=this.props.theme,m=Math.abs(r-a)/c,p=[...Array(c).fill(0).map((e,t)=>a+t*m),r].map(e=>E(e,{decimalPlaces:o,prefix:s,suffix:i})),h=135*l,g=1.5*Math.PI/c;let f;e.font=`bold ${d}px Rubik`,e.fillStyle=u,e.textBaseline="middle",e.textAlign="right";for(let a=0;a<=c;a++)3===a?(e.textAlign="center",f=t+n+30):f=t+n+23,a>3&&(e.textAlign="left"),e.rotate(h),e.rotate(a*g),e.translate(f,0),e.rotate(a*-g),e.rotate(-h),e.fillText(p[a],0,0),e.rotate(h),e.rotate(a*g),e.translate(-f,0),e.rotate(a*-g),e.rotate(-h)},this.drawGaugeValue=(e,t,n)=>{const{gaugePosition:a,prefix:r,suffix:s,decimalPlaces:i}=this.props,{valueColor:o}=this.props.theme;e.font=`${n}px Rubik`,e.fillStyle=o,e.textBaseline="middle",e.textAlign="center";const l=t,c=E(a,{decimalPlaces:i,prefix:r,suffix:s});e.fillText(c,0,l)},this.drawNeedle=(e,t,n,a)=>{const{gaugePosition:r}=this.props,{degree:s,needleColor0:i,needleColor1:o,overflowDelta:l}=this.props.theme,c=1.5*Math.PI;let u;u=r<n?0-l:r>=a?1+l:(r-n)/(a-n);const d=e.createLinearGradient(0,-10,0,t);d.addColorStop(0,i),d.addColorStop(1,o),e.rotate(45*s),e.rotate(c*u),e.beginPath(),e.fillStyle=d,e.arc(0,0,10,0,Math.PI,!0),e.lineTo(0,t),e.lineTo(10,0),e.fill()},this.canvasRef=r.a.createRef()}componentDidMount(){this.updateCanvas()}componentDidUpdate(){this.updateCanvas()}render(){const{width:e,height:t}=this.props;return r.a.createElement("canvas",{className:"gauge",width:e,height:t,ref:this.canvasRef})}};S.defaultProps={theme:y},S=Object(w.a)([k.a,Object(w.b)("design:paramtypes",[Object])],S);var C=S,T=n(125);var O=({result:e,properties:t})=>{const{colors:n,prefix:s,tickPrefix:i,suffix:o,tickSuffix:l,decimalPlaces:c}=t,{theme:u}=Object(a.useContext)(v.a),d="light"===u?b:y;if(Object(g.c)("useGiraffeGraphs")){const t={table:e.table,layers:[{type:"gauge",prefix:s,suffix:o,tickPrefix:i,tickSuffix:l,decimalPlaces:c,gaugeColors:n,gaugeSize:x,gaugeTheme:{valuePositionYOffset:1.5}}]};return r.a.createElement(h.Plot,{config:t})}return r.a.createElement(T.a,{table:e.table,allowString:!1},e=>r.a.createElement(f.a,null,({width:t,height:a})=>r.a.createElement("div",{className:"gauge"},r.a.createElement(C,{width:t,height:a,colors:n,prefix:s,tickPrefix:i,suffix:o,tickSuffix:l,gaugePosition:e,decimalPlaces:c,theme:d}))))};t.default=e=>{e({type:"gauge",name:"Gauge",graphic:s,initial:l,component:O,options:p})}},273:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}))),i=n(28),o=n(36),l={type:"geo",queries:[{text:"",editMode:"builder",name:"",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],shape:"chronograf-v2",center:{lat:0,lon:0},zoom:0,allowPanAndZoom:!0,detectCoordinateFields:!1,mapStyle:"",note:"",showNoteWhenEmpty:!1,layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:o.f,isClustered:!1,tooltipColumns:[]}],useS2CellID:!0,s2Column:"",latLonColumns:{lat:{key:"",column:""},lon:{key:"",column:""}}},c=n(22),u=n(3),d=n(7),m=n(24),p=n(8),h=n(6);let g=null;h.f&&(g=n(255).getMapToken);var f=({result:e,properties:t})=>{const{layers:n,zoom:s,allowPanAndZoom:i,mapStyle:o,useS2CellID:l,s2Column:f,latLonColumns:b}=t,{lat:y,lon:x}=t.center,[v,w]=Object(a.useState)(u.RemoteDataState.NotStarted),[k,E]=Object(a.useState)(""),[S,C]=Object(a.useState)(u.RemoteDataState.NotStarted),[T,O]=Object(a.useState)({lat:y,lon:x});Object(a.useEffect)(()=>{if(h.f){(async()=>{try{w(u.RemoteDataState.Loading);const e=await g({});if(200!==e.status)throw new Error(e.data.message);E(e.data.token),w(u.RemoteDataState.Done),Object(p.a)("mapplot.map_token_request.success")}catch(e){w(u.RemoteDataState.Error),Object(p.a)("mapplot.map_token_request.failure")}})()}},[]),Object(a.useEffect)(()=>{try{if(C(u.RemoteDataState.Loading),h.f){const t=Object(m.j)(e.table,0,l,f,b);O(t)}C(u.RemoteDataState.Done),Object(p.a)("mapplot.get_geo_coordinates.success")}catch(e){C(u.RemoteDataState.Error),Object(p.a)("mapplot.get_geo_coordinates.failure")}},[l,f,b,e.table]);let D="";if(v===u.RemoteDataState.NotStarted||S===u.RemoteDataState.NotStarted||v===u.RemoteDataState.Loading||S===u.RemoteDataState.Loading)return null;if(v===u.RemoteDataState.Error)return D="We are having issues connecting to the Maps Server. Please try again later",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},D);if(S===u.RemoteDataState.Error)return D="Map type is not supported with the data provided. Please use customization options to select correct fields to use for lat/lon",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},D);const j={tileServerUrl:k?`https://api.mapbox.com/styles/v1/influxdata/cklspghhd1opp17mmz0yk7rcy/tiles/256/{z}/{x}/{y}@2x?access_token=${k}`:"",bingKey:""};let I=n;n.length||(I=[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:[],isClustered:!1,tooltipColumns:[]}]);const N=Object(d.isEmpty)(I[0].tooltipColumns)?e.fluxGroupKeyUnion:I[0].tooltipColumns;I[0]=Object.assign(Object.assign({},I[0]),{tooltipColumns:N});let _,R=s;return 0===s&&(R=6),h.f&&(_={table:e.table,showAxes:!1,layers:[{type:"geo",lat:T.lat,lon:T.lon,zoom:R,allowPanAndZoom:i,detectCoordinateFields:!0,mapStyle:o,layers:I,tileServerConfiguration:j,useS2CellID:l,s2Column:f,latLonColumns:b}]}),r.a.createElement(c.Plot,{config:_})},b=n(83);const y=(e,t=!1)=>e.columnKeys.reduce((n,a)=>"time"===e.getColumnType(a)||"_measurement"===a||"id"===a||"_field"===a||"result"===a||t&&"s2_cell_id"===a?n:Object.assign(Object.assign({},n),{[a]:{key:"tag",column:e.getColumnName(a)}}),{});n(124);const x=({properties:e,update:t,results:n})=>{const{s2Column:a}=e,s=y(n.table),i=e=>{t({s2Column:e})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},a||"Select S2 Column"),menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(s).map(e=>{const t=s[e];return r.a.createElement(u.Dropdown.Item,{id:t.column,key:t.column,value:t.column,selected:t.column===a,onClick:i},t.column)}))}))},v=({properties:e,update:t,results:n})=>{const{latLonColumns:a}=e,s=Object.assign(Object.assign({},(e=>{const t={},n=e.getColumn("_field");if(n){new Set([...n]).forEach(e=>{t[e]={key:"field",column:e}})}return t})(n.table)),y(n.table,!0)),i=e=>{const n={lat:e,lon:a.lon};t({latLonColumns:n})},o=e=>{const n={lat:a.lat,lon:e};t({latLonColumns:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lat)||void 0===n?void 0:n.column)?a.lat.column:"Select Lat Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(s).map(e=>{var t;const n=s[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lat)||void 0===t?void 0:t.column),onClick:i},n.column)}))}),r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lon)||void 0===n?void 0:n.column)?a.lon.column:"Select Lon Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(s).map(e=>{var t;const n=s[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lon)||void 0===t?void 0:t.column),onClick:o},n.column)}))}))};var w;!function(e){e.Point="pointMap",e.Circle="circleMap",e.Heat="heatmap",e.Track="trackMap"}(w||(w={}));const k=({properties:e,update:t,results:n})=>{const{useS2CellID:a}=e;return h.f?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Grid.Column,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.FlexBox,{direction:u.FlexDirection.Row,alignItems:u.AlignItems.Center,margin:u.ComponentSize.Medium,stretchToFitWidth:!0,style:{marginTop:"0.5em",marginBottom:"1.5em"},testID:"hover-legend-toggle"},r.a.createElement(u.SlideToggle,{active:a,size:u.ComponentSize.ExtraSmall,onChange:()=>{t({useS2CellID:!a})}}),r.a.createElement(u.InputLabel,{style:(s=a,s?{color:u.InfluxColors.Cloud}:{color:u.InfluxColors.Sidewalk})},"Use S2 Cell ID for lat/lon")),a?r.a.createElement(x,{properties:e,update:t,results:n}):r.a.createElement(v,{properties:e,update:t,results:n})),r.a.createElement(u.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(b.a,{thresholds:e.layers[0].colors.filter(e=>"scale"!==e.type),onSetThresholds:e=>{t({layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:e,isClustered:!1}]})}})))):r.a.createElement(u.Grid.Column,null,r.a.createElement("h4",{className:"view-options--header"},"Customize Geo Options"),r.a.createElement("p",null,"To display properly, your data will need to contain fields named 'lat' and 'lon' or a tag named 's2_cell_id'. For help customizing your query, please see our"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/visualize-data/visualization-types/map/",rel:"noreferrer",target:"_blank"},"documentation")));var s};t.default=e=>{e({type:"geo",name:"Map",graphic:s,initial:l,component:f,options:k})}},274:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--scatter"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Scatter",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"77.6",cy:"91.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"47.5",cy:"110.9",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"111.6",cy:"46.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"17.5",cy:"118.5",r:"7.5"}),r.a.createElement("rect",{x:"77.6",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"108.3",y:"83.6",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"125",y:"54",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"123.2",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"49.5,68.6 42,81.4 57,81.4 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"61.1,25.7 53.6,38.6 68.6,38.6 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"93.8,19.2 86.3,32.2 101.3,32.2 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"78.8,47.5 71.3,60.5 86.3,60.5 "}))),i=n(22),o=n(28),l=n(19),c={type:"scatter",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,symbolColumns:null,xColumn:null,xDomain:null,yColumn:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(172),p=n(56),h=n(70),g=n(50);const f=e=>Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1],b=({setDomain:e,xDomain:t,table:n})=>{const[s,i]=Object(a.useState)(!1),[o]=Object(g.a)(t,n.getColumn("_time","number"));return r.a.createElement("div",{"data-testid":"time-domain-toggle"},r.a.createElement(u.SlideToggle,{size:u.ComponentSize.ExtraSmall,active:s,onChange:()=>{e("x",s?[null,null]:o),i(!s)},disabled:!f(o),testID:"time-domain-toggle-slide"}))};var y=n(44),x=n(6),v=n(24);var w=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),s=a.length?u.ComponentStatus.Default:u.ComponentStatus.Disabled,i=Object(v.c)(t.table,e.xColumn),o=Object(v.d)(t.table,e.yColumn);let l=a,c=a;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(l=e.fillColumns),e.symbolColumns&&e.symbolColumns.every(e=>a.includes(e))&&(c=e.symbolColumns);const g=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),f=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"Symbol Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:c,onSelect:e=>{const t=c.find(t=>t===e);let a=c;a=t?c.filter(t=>t!==e):[...c,e],n({symbolColumns:a})},buttonStatus:s})),r.a.createElement(u.Form.Element,{label:"Fill Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find(t=>t===e);let a=l;a=t?l.filter(t=>t!==e):[...l,e],n({fillColumns:a})},buttonStatus:s})),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:g,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==g.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:g,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==g.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:y.a.map(e=>e.text),selectedOption:Object(y.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),"_time"===i&&r.a.createElement(u.Form.Element,{label:"Auto Scale Domain"},r.a.createElement(b,{xDomain:e.xDomain,setDomain:f,table:t.table})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(u.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{colorSchemes:x.r,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(u.Form.Element,{label:"X Axis Label"},r.a.createElement(u.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(h.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.xDomain,onSetDomain:e=>{f("x",e)},label:"X Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(u.Input,{value:e.yPrefix,onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(u.Input,{value:e.ySuffix,onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(h.a,{axisName:"y",columnType:o,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.yDomain,onSetDomain:e=>{f("y",e)},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},k=n(4),E=n(33),S=n(68),C=n(38),T=n(57),O=n(27),D=n(49),j=n(29),I=n(47);var N=({properties:e,result:t,timeRange:n})=>{const{theme:s,timeZone:o}=Object(a.useContext)(O.a),c=e.fillColumns||t.fluxGroupKeyUnion||[],u=e.symbolColumns||t.fluxGroupKeyUnion||[],d=e.xColumn||Object(v.c)(t.table),m=e.yColumn||Object(v.d)(t.table),p=t.table.columnKeys,h=Object(S.a)(e),f=Object(T.a)(e.legendOpacity),b=e.legendColorizeRows,y=e.legendOrientationThreshold;let w;"_time"===d&&(w=n);const[N,_,R]=Object(g.a)(e.xDomain,t.table.getColumn(d,"number"),w),[A,M,F]=Object(g.b)(e.yDomain,t.table.getColumn(m,"number")),$=Object(k.d)(),L=Object(k.e)(I.a);if(!(d&&p.includes(d)&&m&&p.includes(m)&&c.every(e=>p.includes(e))&&u.every(e=>p.includes(e))))return r.a.createElement(E.a,{message:l.e});const P=e.colors&&e.colors.length?e.colors:j.a.map(e=>e.hex),z=Object(C.a)(t.table.getColumnType(d),{prefix:e.xPrefix,suffix:e.xSuffix,timeZone:o,timeFormat:e.timeFormat}),B=Object(C.a)(t.table.getColumnType(m),{prefix:e.yPrefix,suffix:e.ySuffix,timeZone:o,timeFormat:e.timeFormat}),V="light"===s?x.J:x.I,G=Object.assign(Object.assign(Object.assign(Object.assign({},V),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:N,onSetXDomain:_,onResetXDomain:R,yDomain:A,onSetYDomain:M,onResetYDomain:F}),h),{legendOpacity:f,legendOrientationThreshold:y,legendColorizeRows:b,valueFormatters:{[d]:z,[m]:B},layers:[{type:"scatter",x:d,y:m,colors:P,fill:c,symbol:u}]});return L&&(G.interactionHandlers={singleClick:()=>{$(Object(D.b)("Scatter Plot"))}}),r.a.createElement(i.Plot,{config:G})};t.default=e=>{e({type:"scatter",name:"Scatter",graphic:s,initial:c,component:N,options:w})}},276:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--band-chart"},r.a.createElement("svg",{id:"Band Chart",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-e",d:"M10,127V52.6v-8c0-1.8,0.8-3.5,2.2-4.6l25-18.3c1.6-1.2,3.7-0.9,5,0.5l24.6,26.9c1.8,1.9,4.5,2.1,6.5,0.5\n\tL104,23c1.8-1.5,7.1-1.5,8.3,0.6l16.5,27c0.7,1.2,2,1.9,3.3,1.9h7.9v5.5V127H10z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M39.5,22c0.8,0,1.5,0.3,2.1,1l24.6,26.9c1.1,1.2,2.7,1.9,4.3,1.9c1.3,0,2.6-0.5,3.7-1.3l30.5-26.7\n\tc0.6-0.5,1.9-0.8,3.3-0.8c1.7,0,3.1,0.5,3.5,1.2l16.5,27c0.9,1.5,2.5,2.4,4.2,2.4h6.9v4.5V126H11V52.6v-8c0-1.5,0.7-2.9,1.8-3.7\n\tl25-18.3C38.3,22.2,38.9,22,39.5,22 M39.5,21c-0.8,0-1.5,0.2-2.2,0.7L12.2,40c-1.4,1-2.2,2.7-2.2,4.6v8V127h130V58.1v-5.5h-7.9\n\tc-1.3,0-2.6-0.7-3.3-1.9l-16.5-27c-0.7-1.1-2.5-1.7-4.4-1.7c-1.6,0-3.1,0.4-4,1.1L73.5,49.7c-0.9,0.7-1.9,1.1-3,1.1\n\tc-1.3,0-2.6-0.5-3.5-1.6L42.3,22.3C41.5,21.4,40.5,21,39.5,21L39.5,21z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-e",d:"M10,91h0.2c1.2,0,2.4-0.4,3.3-1.2L35.6,71c2-1.7,5-1.6,6.9,0.3L66.6,96c2.1,2.1,5.6,2,7.5-0.3l29.2-34.4\n\tc2.2-2.6,6.4-2.3,8.2,0.6l15,24.6c0.9,1.5,2.5,2.4,4.3,2.4h9.3"}))),i=n(29),o=n(28),l=n(19),c={type:"band",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},hoverDimension:"auto",upperColumn:"",mainColumn:o.b,lowerColumn:""},u=n(3),d=n(67),m=n(44),p=n(24),h=n(81),g=n(56),f=n(122),b=n(70);const{BASE_2:y,BASE_10:x}=l.a;var v=({properties:e,results:t,update:n})=>{var a;const s=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),i=Object(p.c)(null==t?void 0:t.table,e.xColumn),o=Object(p.d)(null==t?void 0:t.table,e.yColumn),l=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},c=e=>{n({upperColumn:e.target.value})},v=e=>{n({mainColumn:e.target.value})},w=e=>{n({lowerColumn:e.target.value})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Aggregate Functions"),r.a.createElement(u.Form.Element,{label:"Upper Column Name"},r.a.createElement(u.Input,{onChange:c,onFocus:c,placeholder:"Please enter upper column's function name",type:u.InputType.Text,value:e.upperColumn})),r.a.createElement(u.Form.Element,{label:"Main Column Name"},r.a.createElement(u.Input,{onChange:v,onFocus:v,placeholder:"Please enter main column's function name",status:e.mainColumn.length?u.ComponentStatus.Default:u.ComponentStatus.Error,type:u.InputType.Text,value:e.mainColumn})),r.a.createElement(u.Form.Element,{label:"Lower Column Name"},r.a.createElement(u.Input,{onChange:w,onFocus:w,placeholder:"Please enter lower column's function name",type:u.InputType.Text,value:e.lowerColumn}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:e=>{n({colors:e})}})),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{l("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{l("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:x,active:e.axes.y.base===x,titleText:"Format values using an International System of Units prefix",onClick:e=>{l("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:y,active:e.axes.y.base===y,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{l("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{l("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{l("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:o,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),l("y",{bounds:t})},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}))))},w=n(22),k=n(47),E=n(4),S=n(49),C=n(33),T=n(68),O=n(38),D=n(57),j=n(123),I=n(50),N=n(6),_=n(27);var R=({properties:e,result:t,annotations:n,cellID:s,timeRange:o})=>{const c=e.mainColumn,u=Object(j.a)(e),{theme:d,timeZone:m}=Object(a.useContext)(_.a),h=Object(E.d)(),g=Object(T.a)(e),f=Object(D.a)(e.legendOpacity),b=e.legendOrientationThreshold,y=e.legendColorizeRows,x=e.legendHide,v=Object(a.useMemo)(()=>Object(p.p)(e.axes.x.bounds),[e.axes.x.bounds]),R=Object(a.useMemo)(()=>Object(p.q)(e.axes.y.bounds),[e.axes.y.bounds]),A=e.xColumn||Object(p.c)(t.table,"_time"),M=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),F=t.table.columnKeys,$=A&&F.includes(A)&&M&&F.includes(M),L=e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),P=Object(p.i)(e.geom),z=[...t.fluxGroupKeyUnion,"result"],[B,V,G]=Object(I.a)(v,t.table.getColumn(A,"number"),o),U=Object(a.useMemo)(()=>t.table.getColumn(M,"number"),[t.table,M]),[q,H,Y]=Object(I.b)(R,U),W=Object(p.h)([...z,A,M],t.table),K=Object(E.e)(k.a),X=Object(O.a)(t.table.getColumnType(A),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:m,timeFormat:e.timeFormat}),Z=Object(O.a)(t.table.getColumnType(M),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:m,timeFormat:e.timeFormat}),Q="light"===d?N.J:N.I;if(!$)return r.a.createElement(C.a,{message:l.e});const J=Object.assign(Object.assign(Object.assign(Object.assign({},Q),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:B,onSetXDomain:V,onResetXDomain:G,yDomain:q,onSetYDomain:H,onResetYDomain:Y}),g),{legendColumns:W,legendOpacity:f,legendOrientationThreshold:b,legendColorizeRows:y,legendHide:x,staticLegend:u,valueFormatters:{[A]:X,[M]:Z},layers:[{type:"band",x:A,y:M,fill:z,interpolation:P,colors:L,lineWidth:l.c,lineOpacity:l.b,shadeOpacity:l.d,hoverDimension:e.hoverDimension,upperColumnName:e.upperColumn,mainColumnName:c,lowerColumnName:e.lowerColumn}]});return Object(S.a)(J,K,s,A,M,z,n,h,"band"),r.a.createElement(w.Plot,{config:J})};t.default=e=>{e({type:"band",name:"Band",graphic:s,initial:c,component:R,options:v})}},277:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(29),o=n(28),l=n(19),c={type:"xy",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(44),p=n(24),h=n(81),g=n(56),f=n(122),b=n(70),y=n(171);const{BASE_2:x,BASE_10:v}=l.a;var w=({properties:e,results:t,update:n})=>{var a,s,i;const o=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),l=Object(p.c)(null==t?void 0:t.table,e.xColumn),c=Object(p.d)(null==t?void 0:t.table,e.yColumn),w=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:c||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:null!==(i=null===(s=e.colors)||void 0===s?void 0:s.filter(e=>"scale"===e.type))&&void 0!==i?i:[],onChange:e=>{n({colors:e})}})),r.a.createElement(y.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{w("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{w("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:v,active:e.axes.y.base===v,titleText:"Format values using an International System of Units prefix",onClick:e=>{w("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:x,active:e.axes.y.base===x,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{w("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{w("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{w("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:c,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),w("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(u.Form.Element,{label:"Positioning"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(u.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}))))},k=n(4),E=n(22),S=n(33),C=n(27),T=n(47),O=n(6),D=n(68),j=n(38),I=n(57),N=n(123),_=n(50),R=n(49);var A=({properties:e,result:t,timeRange:n,annotations:s,cellID:o})=>{const{theme:c,timeZone:u}=Object(a.useContext)(C.a),d=Object(D.a)(e),m=Object(I.a)(e.legendOpacity),h=e.legendColorizeRows,g=e.legendHide,f=e.legendOrientationThreshold,b=Object(N.a)(e),y=Object(k.d)(),x=Object(k.e)(T.a),v=Object(a.useMemo)(()=>Object(p.p)(e.axes.x.bounds),[e.axes.x.bounds]),w=Object(a.useMemo)(()=>Object(p.q)(e.axes.y.bounds),[e.axes.y.bounds]),A=e.xColumn||Object(p.c)(t.table,"_time"),M=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),F=t.table.columnKeys,$=A&&F.includes(A)&&M&&F.includes(M),L=Object(a.useMemo)(()=>e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),[e.colors]),P=Object(p.i)(e.geom),z=Object(a.useMemo)(()=>[...t.fluxGroupKeyUnion,"result"],[t]),[B,V,G]=Object(_.a)(v,t.table.getColumn(A,"number"),n),U=Object(a.useMemo)(()=>{if("stacked"===e.position){const{lineData:n}=Object(E.lineTransform)(t.table,A,M,z,L,e.position),[a]=Object(E.createGroupIDColumn)(t.table,z);return Object(E.getDomainDataFromLines)(n,[...a],E.DomainLabel.Y)}return t.table.getColumn(M,"number")},[t.table,A,M,z,L,e.position]),[q,H,Y]=Object(_.b)(w,U),W=Object(p.h)("stacked"===e.position?[...z,A,M,`_${E.STACKED_LINE_CUMULATIVE}`,`_${E.LINE_COUNT}`]:[...z,A,M],t.table),K=Object(j.a)(t.table.getColumnType(A),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),X=Object(j.a)(t.table.getColumnType(M),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),Z="light"===c?O.J:O.I;if(!$)return r.a.createElement(S.a,{message:l.e});const Q=Object.assign(Object.assign(Object.assign(Object.assign({},Z),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:B,onSetXDomain:V,onResetXDomain:G,yDomain:q,onSetYDomain:H,onResetYDomain:Y}),d),{legendColumns:W,legendOpacity:m,legendOrientationThreshold:f,legendColorizeRows:h,legendHide:g,staticLegend:b,valueFormatters:{[A]:K,[M]:X},layers:[{type:"line",x:A,y:M,fill:z,interpolation:P,position:e.position,colors:L,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]});return Object(R.a)(Q,x,o,A,M,z,s,y),r.a.createElement(E.Plot,{config:Q})};t.default=e=>{e({type:"xy",name:"Graph",graphic:s,component:A,initial:c,options:w})}},278:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--heatmap"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",{id:"r"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"127.5,127.5 127.5,112.5 112.5,112.5 112.5,127.5 97.5,127.5 97.5,142.5 112.5,142.5 127.5,142.5\n\t\t142.5,142.5 142.5,127.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"67.5,127.5 52.5,127.5 52.5,112.5 37.5,112.5 37.5,97.5 22.5,97.5 22.5,112.5 22.5,127.5 7.5,127.5\n\t\t7.5,142.5 22.5,142.5 37.5,142.5 52.5,142.5 67.5,142.5 82.5,142.5 82.5,127.5 82.5,112.5 67.5,112.5 \t"})),r.a.createElement("g",{id:"rl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M126,114v13.5v1.5h1.5H141v12h-13.5h-15H99v-12h13.5h1.5v-1.5V114H126 M127.5,112.5h-15v15h-15v15h15h15h15\n\t\t\tv-15h-15V112.5L127.5,112.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M36,99v13.5v1.5h1.5H51v13.5v1.5h1.5h15H69v-1.5V114h12v13.5V141H67.5h-15h-15h-15H9v-12h13.5H24v-1.5v-15V99\n\t\t\tH36 M37.5,97.5h-15v15v15h-15v15h15h15h15h15h15v-15v-15h-15v15h-15v-15h-15V97.5L37.5,97.5z"}))),r.a.createElement("g",{id:"g"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"97.5,97.5 97.5,82.5 82.5,82.5 82.5,97.5 67.5,97.5 52.5,97.5 37.5,97.5 37.5,112.5 52.5,112.5\n\t\t52.5,127.5 67.5,127.5 67.5,112.5 82.5,112.5 82.5,127.5 82.5,142.5 97.5,142.5 97.5,127.5 112.5,127.5 112.5,112.5 97.5,112.5\n\t\t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"127.5,82.5 127.5,97.5 112.5,97.5 112.5,112.5 127.5,112.5 127.5,127.5 142.5,127.5 142.5,112.5\n\t\t142.5,97.5 142.5,82.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"37.5,67.5 22.5,67.5 22.5,82.5 7.5,82.5 7.5,97.5 7.5,112.5 7.5,127.5 22.5,127.5 22.5,112.5\n\t\t22.5,97.5 37.5,97.5 37.5,82.5 \t"})),r.a.createElement("g",{id:"gl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M96,84v13.5v15v1.5h1.5H111v12H97.5H96v1.5V141H84v-13.5v-15V111h-1.5h-15H66v1.5V126H54v-13.5V111h-1.5H39\n\t\t\tV99h13.5h15h15H84v-1.5V84H96 M97.5,82.5h-15v15h-15h-15h-15v15h15v15h15v-15h15v15v15h15v-15h15v-15h-15v-15V82.5L97.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M141,84v13.5v15V126h-12v-13.5V111h-1.5H114V99h13.5h1.5v-1.5V84H141 M142.5,82.5h-15v15h-15v15h15v15h15v-15\n\t\t\tv-15V82.5L142.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M36,69v13.5V96H22.5H21v1.5v15V126H9v-13.5v-15V84h13.5H24v-1.5V69H36 M37.5,67.5h-15v15h-15v15v15v15h15v-15\n\t\t\tv-15h15v-15V67.5L37.5,67.5z"}))),r.a.createElement("g",{id:"b"},r.a.createElement("rect",{x:"67.5",y:"82.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"52.5,67.5 37.5,67.5 37.5,82.5 37.5,97.5 52.5,97.5 52.5,82.5 67.5,82.5 67.5,67.5 \t"}),r.a.createElement("rect",{x:"127.5",y:"67.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"22.5,52.5 7.5,52.5 7.5,67.5 22.5,67.5 37.5,67.5 37.5,52.5 \t"}),r.a.createElement("rect",{x:"67.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"112.5,67.5 97.5,67.5 82.5,67.5 82.5,82.5 97.5,82.5 97.5,97.5 97.5,112.5 112.5,112.5 112.5,97.5\n\t\t127.5,97.5 127.5,82.5 112.5,82.5 \t"}),r.a.createElement("rect",{x:"82.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"112.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"37.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"127.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"22.5",y:"22.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"67.5",y:"7.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"})),r.a.createElement("g",{id:"bl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,84v12H69V84H81 M82.5,82.5h-15v15h15V82.5L82.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M66,69v12H52.5H51v1.5V96H39V82.5V69h13.5H66 M67.5,67.5h-15h-15v15v15h15v-15h15V67.5L67.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,69v12h-12V69H141 M142.5,67.5h-15v15h15V67.5L142.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,54v12H22.5H9V54h13.5H36 M37.5,52.5h-15h-15v15h15h15V52.5L37.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,54v12H69V54H81 M82.5,52.5h-15v15h15V52.5L82.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M111,69v13.5V84h1.5H126v12h-13.5H111v1.5V111H99V97.5v-15V81h-1.5H84V69h13.5H111 M112.5,67.5h-15h-15v15h15\n\t\t\tv15v15h15v-15h15v-15h-15V67.5L112.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M96,39v12H84V39H96 M97.5,37.5h-15v15h15V37.5L97.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M126,54v12h-12V54H126 M127.5,52.5h-15v15h15V52.5L127.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M51,39v12H39V39H51 M52.5,37.5h-15v15h15V37.5L52.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,39v12h-12V39H141 M142.5,37.5h-15v15h15V37.5L142.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,24v12H24V24H36 M37.5,22.5h-15v15h15V22.5L37.5,22.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,9v12H69V9H81 M82.5,7.5h-15v15h15V7.5L82.5,7.5z"}))))),i=n(22),o=n(19),l={queries:[],type:"heatmap",shape:"chronograf-v2",xColumn:null,yColumn:null,xDomain:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",colors:i.INFERNO,legendColorizeRows:o.f,legendOpacity:o.h,legendOrientationThreshold:o.l,binSize:10,note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},c=n(3),u=n(44),d=n(34),m=n(24),p=n(67),h=n(172),g=n(56),f=n(70);const b=[{name:"Magma",colors:i.MAGMA},{name:"Inferno",colors:i.INFERNO},{name:"Viridis",colors:i.VIRIDIS},{name:"Plasma",colors:i.PLASMA}];var y=({properties:e,results:t,update:n})=>{const[s,i]=Object(a.useState)(c.ComponentStatus.Default),[o,l]=Object(a.useState)(e.binSize),y=Object(m.c)(t.table,e.xColumn),x=Object(m.d)(t.table,e.yColumn),v=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),w=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:v,selectedOption:y||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==v.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Y Column"},r.a.createElement(c.SelectDropdown,{options:v,selectedOption:x||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==v.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Time Format"},r.a.createElement(c.SelectDropdown,{options:u.a.map(e=>e.text),selectedOption:Object(u.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(h.a,{colorSchemes:b,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Bin Size"},r.a.createElement(c.Input,{status:s,value:o,type:c.InputType.Number,onChange:e=>{const t=Object(d.a)(e);l(t),isNaN(t)||t<5?i(c.ComponentStatus.Error):(i(c.ComponentStatus.Default),n({binSize:t}))},testID:"bin-size-input"}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(f.a,{axisName:"x",columnType:y,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.xDomain,onSetDomain:e=>{w("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(c.Form.Element,{label:"Y Axis Label"},r.a.createElement(c.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(c.Input,{value:e.yPrefix,placeholder:"%, MPH, etc.",onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(c.Input,{value:e.ySuffix,placeholder:"%, MPH, etc.",onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(f.a,{axisName:"y",columnType:x,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.yDomain,onSetDomain:e=>{w("y",e)},label:"Y Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}))))},x=n(4),v=n(33),w=n(68),k=n(38),E=n(57),S=n(50),C=n(49),T=n(6),O=n(29),D=n(27),j=n(47);var I=({result:e,properties:t,timeRange:n})=>{const{theme:s,timeZone:l}=Object(a.useContext)(D.a),c=e.table.columnKeys,u=t.xColumn||["_time","_start","_stop"].filter(t=>e.table.columnKeys.includes(t))[0]||e.table.columnKeys[0],d=t.yColumn||["_value"].filter(t=>e.table.columnKeys.includes(t))[0]||e.table.columnKeys[0],m=Object(w.a)(t),p=Object(E.a)(t.legendOpacity),h=t.legendColorizeRows,g=t.legendOrientationThreshold,[f,b,y]=Object(S.a)(t.xDomain,e.table.getColumn(u,"number"),n),[I,N,_]=Object(S.b)(t.yDomain,e.table.getColumn(d,"number")),R=Object(x.d)(),A=Object(x.e)(j.a);if(!(u&&d&&c.includes(d)&&c.includes(u)))return r.a.createElement(v.a,{message:o.e});const M=t.colors&&t.colors.length?t.colors:O.a.map(e=>e.hex),F=Object(k.a)(e.table.getColumnType(u),{prefix:t.xPrefix,suffix:t.xSuffix,timeZone:l,timeFormat:t.timeFormat}),$=Object(k.a)(e.table.getColumnType(d),{prefix:t.yPrefix,suffix:t.ySuffix,timeZone:l,timeFormat:t.timeFormat}),L="light"===s?T.J:T.I,P=Object.assign(Object.assign(Object.assign(Object.assign({},L),{table:e.table,xAxisLabel:t.xAxisLabel,yAxisLabel:t.yAxisLabel,xDomain:f,onSetXDomain:b,onResetXDomain:y,yDomain:I,onSetYDomain:N,onResetYDomain:_}),m),{legendOpacity:p,legendOrientationThreshold:g,legendColorizeRows:h,valueFormatters:{[u]:F,[d]:$},layers:[{type:"heatmap",x:u,y:d,colors:M,binSize:t.binSize}]});return A&&(P.interactionHandlers={singleClick:()=>{R(Object(C.b)("Heatmap"))}}),r.a.createElement(i.Plot,{config:P})};t.default=e=>{e({type:"heatmap",name:"Heatmap",graphic:s,initial:l,component:I,options:y})}},279:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--histogram"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"5"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"5"})))),i=n(29),o=n(19),l={queries:[],type:"histogram",shape:"chronograf-v2",xColumn:"_value",xDomain:null,xAxisLabel:"",fillColumns:null,position:"stacked",binCount:30,colors:i.a,legendColorizeRows:o.f,legendOpacity:o.h,legendOrientationThreshold:o.l,note:"",showNoteWhenEmpty:!1},c=n(3),u=n(67),d=n(24),m=n(81),p=n(56),h=n(34);var g=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),s=a.length?c.ComponentStatus.Default:c.ComponentStatus.Disabled,i=Object(d.c)(t.table,e.xColumn),o=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n});let l=t.fluxGroupKeyUnion;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(l=e.fillColumns);return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:o,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==o.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Group By"},r.a.createElement(c.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find(t=>t===e);let a=l;a=t?l.filter(t=>t!==e):[...l,e],n({fillColumns:a})},buttonStatus:s}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{value:e.colors,onChange:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Positioning"},r.a.createElement(c.Dropdown,{button:(t,n)=>r.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(c.Dropdown.Menu,{onCollapse:t},r.a.createElement(c.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(c.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))})),r.a.createElement(c.Form.Element,{label:"Bins"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.binCount?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n({binCount:null}):n({binCount:30})},inputComponent:r.a.createElement(c.Input,{name:"binCount",value:e.binCount,placeholder:"Enter a number",type:c.InputType.Number,min:0,onChange:e=>{n({binCount:Object(h.a)(e)})}})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>n({xAxisLabel:e.target.value})})),r.a.createElement(u.a,{domain:e.xDomain,onSetDomain:e=>{((e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})})("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},f=n(4),b=n(22),y=n(33),x=n(57),v=n(50),w=n(38),k=n(27),E=n(49),S=n(6),C=n(47);var T=({result:e,properties:t})=>{const{theme:n,timeZone:s}=Object(a.useContext)(k.a),l=e.table.columnKeys,c=t.fillColumns||e.fluxGroupKeyUnion,u=Object(x.a)(t.legendOpacity),d=t.legendColorizeRows,m=t.legendOrientationThreshold,[p,h,g]=Object(v.a)(t.xDomain,e.table.getColumn(t.xColumn,"number")),T=Object(f.d)(),O=Object(f.e)(C.a);if(!(t.xColumn&&l.includes(t.xColumn)&&c.every(e=>l.includes(e))))return r.a.createElement(y.a,{message:o.e});const D=t.colors&&t.colors.length?t.colors.map(e=>e.hex):i.a.map(e=>e.hex),j=Object(w.a)(e.table.getColumnType(t.xColumn),{timeZone:s}),I="light"===n?S.J:S.I,N=Object.assign(Object.assign({},I),{table:e.table,xAxisLabel:t.xAxisLabel,xDomain:p,onSetXDomain:h,onResetXDomain:g,valueFormatters:{[t.xColumn]:j},legendOpacity:u,legendOrientationThreshold:m,legendColorizeRows:d,layers:[{type:"histogram",x:t.xColumn,colors:D,fill:t.fillColumns||[],binCount:t.binCount,position:t.position}]});return O&&(N.interactionHandlers={singleClick:()=>{T(Object(E.b)("Histogram"))}}),r.a.createElement(b.Plot,{config:N})};t.default=e=>{e({type:"histogram",name:"Histogram",graphic:s,initial:l,component:T,options:g})}},280:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--line vis-graphic--line-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--line vis-graphic--line-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--fill vis-graphic--fill-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--fill vis-graphic--fill-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--line vis-graphic--line-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--line vis-graphic--line-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--fill vis-graphic--fill-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--fill vis-graphic--fill-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--line vis-graphic--line-a",width:"13",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--fill vis-graphic--fill-a",width:"13",height:"34"}))),i=n(22),o=n(28),l=n(19),c={type:"mosaic",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"last"}],aggregateWindow:{period:o.a,fillValues:o.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,xColumn:null,xDomain:null,ySeriesColumns:[],yLabelColumns:[],yLabelColumnSeparator:"",yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(4),d=n(33),m=n(68),p=n(38),h=n(57),g=n(50),f=n(24),b=n(27),y=n(49),x=n(6),v=n(29),w=n(47);var k=({properties:e,result:t,timeRange:n})=>{const{theme:s,timeZone:o}=Object(a.useContext)(b.a),c=e.fillColumns||[],k=e.xColumn||Object(f.c)(t.table),E=e.ySeriesColumns||[],S=t.table.columnKeys,C=Object(m.a)(e),T=Object(h.a)(e.legendOpacity),O=e.legendColorizeRows,D=e.legendOrientationThreshold,[j,I,N]=Object(g.a)(e.xDomain,t.table.getColumn(k,"number"),n),[_,R,A]=Object(g.b)(e.yDomain,t.table.getColumn(E[0],"string")),M=Object(u.d)(),F=Object(u.e)(w.a);if(!(k&&S.includes(k)&&E.every(e=>S.includes(e))&&0!==c.length&&c.every(e=>S.includes(e))))return r.a.createElement(d.a,{message:l.e});const $=e.colors&&e.colors.length?e.colors:v.a.map(e=>e.hex),L=Object(p.a)(t.table.getColumnType(k),{timeZone:o,timeFormat:e.timeFormat}),P="light"===s?x.J:x.I,z=Object.assign(Object.assign(Object.assign(Object.assign({},P),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:j,onSetXDomain:I,onResetXDomain:N,yDomain:_,onSetYDomain:R,onResetYDomain:A}),C),{legendOpacity:T,legendOrientationThreshold:D,legendColorizeRows:O,valueFormatters:{[k]:L},layers:[{type:"mosaic",x:k,y:E,yLabelColumns:e.yLabelColumns,yLabelColumnSeparator:e.yLabelColumnSeparator,colors:$,fill:c}]});return F&&(z.interactionHandlers={singleClick:()=>{M(Object(y.b)("Mosaic"))}}),r.a.createElement(i.Plot,{config:z})},E=n(3),S=n(81),C=n(56),T=n(70),O=n(44);var D=e=>{var t;const{properties:n,results:a,update:s}=e;let i=[];const o=a.table.columnKeys.filter(e=>"result"!==e&&"table"!==e&&"string"===a.table.getColumnType(e)),l=((null===(t=null==a?void 0:a.table)||void 0===t?void 0:t.columnKeys)||[]).filter(e=>"_time"===e);if(Array.isArray(n.fillColumns)&&n.fillColumns.every(e=>o.includes(e)))i=n.fillColumns;else for(const e of o)if(e.startsWith("_value")){i=[e];break}const c=Object(f.c)(a.table,n.xColumn),u=Object(f.f)(a.table,n.ySeriesColumns),d=Object(f.e)(n.yLabelColumns,u),m=n.colors.map(e=>({hex:e})),p=(e,t,n)=>{const a=!!Array.isArray(t)&&t.find(e=>e===n);let r=t||[];return r=a?t.filter(e=>e!==n):e.includes(n)?[...r,n]:r,r};return r.a.createElement(E.Grid,null,r.a.createElement(E.Grid.Row,null,r.a.createElement(E.Grid.Column,{widthXS:E.Columns.Twelve,widthMD:E.Columns.Six,widthLG:E.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(E.Form.Element,{label:"Fill Column"},r.a.createElement(E.SelectDropdown,{options:o,selectedOption:(null==i?void 0:i[0])||"Build a query before selecting...",onSelect:e=>{s({fillColumns:[e]})},testID:"dropdown-fill",buttonStatus:0==o.length?E.ComponentStatus.Disabled:E.ComponentStatus.Default})),r.a.createElement(E.Form.Element,{label:"X Column"},r.a.createElement(E.SelectDropdown,{options:l,selectedOption:c||"Build a query before selecting...",onSelect:e=>{s({xColumn:e})},testID:"dropdown-x",buttonStatus:0===l.length?E.ComponentStatus.Disabled:E.ComponentStatus.Default})),r.a.createElement(E.Form.Element,{label:"Y Columns"},r.a.createElement(E.MultiSelectDropdown,{options:o,selectedOptions:u,onSelect:e=>{const t=!!Array.isArray(u)&&u.find(t=>t===e);let n=u||[];n=t?u.filter(t=>t!==e):[...n,e];const a=p(n,d,e);s({yLabelColumns:a,ySeriesColumns:n})},buttonStatus:E.ComponentStatus.Default})),r.a.createElement(E.Form.Element,{label:"Time Format"},r.a.createElement(E.SelectDropdown,{options:O.a.map(e=>e.text),selectedOption:Object(O.b)(n.timeFormat),onSelect:e=>{s({timeFormat:e})}}))),r.a.createElement(E.Grid.Column,{widthXS:E.Columns.Twelve,widthMD:E.Columns.Six,widthLG:E.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(E.Form.Element,{label:"Color Scheme"},r.a.createElement(S.a,{value:m,onChange:e=>{s({colors:e.map(e=>e.hex)})}})),r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(E.Form.Element,{label:"X Axis Label"},r.a.createElement(E.Input,{value:n.xAxisLabel,onChange:e=>s({xAxisLabel:e.target.value})})),r.a.createElement(T.a,{axisName:"x",columnType:c,label:"Generate X-Axis Tick Marks",properties:n,results:a,update:s}),r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(E.Form.Element,{label:"Y Axis Label"},r.a.createElement(E.Input,{value:n.yAxisLabel,onChange:e=>s({yAxisLabel:e.target.value})})),r.a.createElement(E.Form.Element,{label:"Y Label Separator"},r.a.createElement(E.Input,{value:n.yLabelColumnSeparator,onChange:e=>s({yLabelColumnSeparator:e.target.value})})),r.a.createElement(E.Form.Element,{label:"Y Labels"},r.a.createElement(E.MultiSelectDropdown,{options:u,selectedOptions:d,onSelect:e=>{s({yLabelColumns:p(u,d,e)})},buttonStatus:E.ComponentStatus.Default}))),r.a.createElement(E.Grid.Column,{widthXS:E.Columns.Twelve,widthMD:E.Columns.Six,widthLG:E.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(C.a,{properties:n,results:a,update:s}))))};t.default=e=>{e({type:"mosaic",name:"Mosaic",graphic:s,component:k,initial:c,options:D})}},281:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"SingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(28),o=n(36),l={type:"single-stat",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],colors:o.g,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(19),d=n(34),m=n(83);var p=({properties:e,update:t})=>{var n;const s=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})},i=Object(a.useCallback)(n=>{t({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:n===o.m?o.m:o.n}):e)})},[t,e.colors]),l=(null===(n=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===n?void 0:n.type)||"text";return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Prefix"},r.a.createElement(c.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{t({prefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Suffix"},r.a.createElement(c.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{t({suffix:e.target.value})}}))))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?s(null):s(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{s(Object(d.a)(e))},value:e.decimalPlaces.digits,min:u.q,max:u.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(m.a,{thresholds:e.colors.filter(e=>"scale"!==e.type),onSetThresholds:e=>{t({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(c.SelectGroup,{shape:c.ButtonShape.StretchToFit},r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:l===o.m,onClick:i,value:o.m},"Background"),r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:l===o.n,onClick:i,value:o.n},"Text"))))))},h=n(4),g=n(125),f=n(116),b=n(38),y=n(49),x=n(23),v=n(22),w=(n(259),n(27)),k=n(45),E=n(47);var S=({properties:e,result:t})=>{const{prefix:n,suffix:s,colors:i,decimalPlaces:o}=e,{timeZone:l}=Object(a.useContext)(w.a),c=Object(h.d)(),u=Object(h.e)(E.a);if(Object(x.c)("useGiraffeGraphs")){const e=Object(v.getLatestValues)(t.table)[0],{bgColor:a,textColor:l}=Object(f.a)({colors:i,lastValue:e,cellType:"single-stat"}),d={table:t.table,showAxes:!1,layers:[{type:"single stat",prefix:n,suffix:s,decimalPlaces:o,textColor:l,textOpacity:100,backgroundColor:a||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}}]};return u&&(d.interactionHandlers={singleClick:()=>{c(Object(y.b)("Single Stat"))}}),r.a.createElement(v.Plot,{config:d})}return r.a.createElement(g.a,{table:t.table,allowString:!0},e=>{const{bgColor:a,textColor:c}=Object(f.a)({colors:i,lastValue:e,cellType:"single-stat"}),u=Object(b.a)("time",{timeZone:"Local"===l?void 0:l,timeFormat:k.a}),d="time"===t.table.getColumnType("_value")?u(e):Object(v.formatStatValue)(e,{decimalPlaces:o,prefix:n,suffix:s});return r.a.createElement("div",{className:"single-stat",style:{backgroundColor:a},"data-testid":"single-stat"},r.a.createElement("div",{className:"single-stat--resizer"},r.a.createElement("svg",{width:"100%",height:"100%",viewBox:`0 0 ${55*d.length} 100`},r.a.createElement("text",{className:"single-stat--text","data-testid":"single-stat--text",fontSize:"100",y:"59%",x:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:c}},d))))})};t.default=e=>{e({type:"single-stat",name:"Single Stat",graphic:s,component:S,initial:l,options:p})}},282:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--line-plus-single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"LineAndSingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,88.2 111.5,95.5 75,25 38.5,54.7 2,66.7 2,125 148,125"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,66.7 38.5,54.7 75,25 111.5,95.5 148,88.2"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(36),o=n(29),l=n(28),c=n(19),u={type:"line-plus-single-stat",shape:"chronograf-v2",xColumn:null,yColumn:null,position:"overlaid",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:l.a,fillValues:l.c}}}],legendColorizeRows:c.f,legendOpacity:c.h,legendOrientationThreshold:c.l,staticLegend:{heightRatio:c.v,opacity:c.h,orientationThreshold:c.l,show:c.x,widthRatio:c.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},colors:[...o.a,...i.g],prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",decimalPlaces:{isEnforced:!0,digits:2},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},d=n(3),m=n(67),p=n(34),h=n(44),g=n(24),f=n(81),b=n(70),y=n(171),x=n(83),v=n(56),w=n(122);const{BASE_2:k,BASE_10:E}=c.a;var S=({properties:e,results:t,update:n})=>{var s;const o=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),l=Object(g.c)(t.table,e.xColumn),u=Object(g.d)(t.table,e.yColumn),S=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},C=t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})},T=t=>{var a;"scale"===(null===(a=t[0])||void 0===a?void 0:a.type)?n({colors:[...e.colors.filter(e=>"scale"!==e.type),...t]}):n({colors:[...e.colors.filter(e=>"scale"===e.type),...t]})},O=Object(a.useCallback)(t=>{n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:t===i.m?i.m:i.n}):e)})},[n,e.colors]),D=(null===(s=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===s?void 0:s.type)||"text";return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(d.Form.Element,{label:"X Column"},r.a.createElement(d.SelectDropdown,{options:o,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==o.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Y Column"},r.a.createElement(d.SelectDropdown,{options:o,selectedOption:u||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==o.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:h.a.map(e=>e.text),selectedOption:Object(h.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(d.Form.Element,{label:"Line Colors"},r.a.createElement(f.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:T})),r.a.createElement(y.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(d.Form.Element,{label:"Hover Dimension"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(d.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(d.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(d.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(d.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(d.Form.Element,{label:"Y Axis Label"},r.a.createElement(d.Input,{value:e.axes.y.label,onChange:e=>{S("y",{label:e.target.value})}})),r.a.createElement(d.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{S("y",{base:e})}},"None"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:E,active:e.axes.y.base===E,titleText:"Format values using an International System of Units prefix",onClick:e=>{S("y",{base:e})}},"SI"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:k,active:e.axes.y.base===k,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{S("y",{base:e})}},"Binary"))),r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(d.Input,{value:e.axes.y.prefix,onChange:e=>{S("y",{prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(d.Input,{value:e.axes.y.suffix,onChange:e=>{S("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:u,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(m.a,{domain:Object(g.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),S("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(d.Form.Element,{label:"Positioning"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(d.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Prefix"},r.a.createElement(d.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{n({prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Suffix"},r.a.createElement(d.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{n({suffix:e.target.value})}}))))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:e=>{e===d.AutoInputMode.Auto?C(null):C(2)},inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{C(Object(p.a)(e))},value:e.decimalPlaces.digits,min:c.q,max:c.p,type:d.InputType.Number})}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(x.a,{thresholds:e.colors.filter(e=>"scale"!==e.type),onSetThresholds:T})),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:D===i.m,onClick:O,value:i.m},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:D===i.n,onClick:O,value:i.n},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(v.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(w.a,{properties:e,results:t,update:n}))))},C=n(22),T=n(47),O=n(33),D=n(125),j=n(68),I=n(38),N=n(57),_=n(123),R=n(50),A=n(116),M=n(27),F=n(6),$=n(45),L=n(23),P=n(49),z=n(4);var B=({properties:e,result:t,timeRange:n,annotations:s,cellID:i})=>{const{theme:l,timeZone:u}=Object(a.useContext)(M.a),d=Object(j.a)(e),m=Object(N.a)(e.legendOpacity),p=e.legendColorizeRows,h=e.legendHide,f=e.legendOrientationThreshold,b=Object(_.a)(e),y=Object(z.e)(T.a),x=Object(z.d)(),v=Object(a.useMemo)(()=>Object(g.p)(e.axes.x.bounds),[e.axes.x.bounds]),w=Object(a.useMemo)(()=>Object(g.q)(e.axes.y.bounds),[e.axes.y.bounds]),k=e.xColumn||Object(g.c)(t.table,"_time"),E=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(g.d)(t.table),S=t.table.columnKeys,B=k&&S.includes(k)&&E&&S.includes(E),V=Object(a.useMemo)(()=>{const t=e.colors.filter(e=>"scale"===e.type);return t&&t.length?t.map(e=>e.hex):o.a.map(e=>e.hex)},[e.colors]),G=Object(g.i)("line"),U=Object(a.useMemo)(()=>[...t.fluxGroupKeyUnion,"result"],[t]),[q,H,Y]=Object(R.a)(v,t.table.getColumn(k,"number"),n),W=Object(a.useMemo)(()=>{if("stacked"===e.position){const{lineData:n}=Object(C.lineTransform)(t.table,k,E,U,V,e.position),[a]=Object(C.createGroupIDColumn)(t.table,U);return Object(C.getDomainDataFromLines)(n,[...a],C.DomainLabel.Y)}return t.table.getColumn(E,"number")},[t.table,k,E,U,V,e.position]),[K,X,Z]=Object(R.b)(w,W),Q=Object(g.h)("stacked"===e.position?[...U,k,E,`_${C.STACKED_LINE_CUMULATIVE}`,`_${C.LINE_COUNT}`]:[...U,k,E],t.table),J=Object(I.a)(t.table.getColumnType(k),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),ee=Object(I.a)(t.table.getColumnType(E),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),te="light"===l?F.J:F.I;if(!B)return r.a.createElement(O.a,{message:c.e});const ne=Object(C.getLatestValues)(t.table)[0],{bgColor:ae,textColor:re}=Object(A.a)({colors:e.colors,lastValue:ne,cellType:"single-stat"}),se=Object.assign(Object.assign(Object.assign(Object.assign({},te),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:q,onSetXDomain:H,onResetXDomain:Y,yDomain:K,onSetYDomain:X,onResetYDomain:Z}),d),{legendColumns:Q,legendOpacity:m,legendOrientationThreshold:f,legendColorizeRows:p,legendHide:h,staticLegend:b,valueFormatters:{[k]:J,[E]:ee},layers:[{type:"line",x:k,y:E,fill:U,interpolation:G,position:e.position,colors:V,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]});if(Object(L.c)("useGiraffeGraphs")){const t={type:"single stat",prefix:e.prefix,suffix:e.suffix,decimalPlaces:e.decimalPlaces,textColor:re,textOpacity:100,backgroundColor:ae||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}};return se.layers.push(t),Object(P.a)(se,y,i,k,E,U,s,x,"singleStatWline"),r.a.createElement(C.Plot,{config:se})}{const n=r.a.createElement(D.a,{table:t.table,allowString:!0},n=>{const{bgColor:a,textColor:s}=Object(A.a)({colors:e.colors.filter(e=>"scale"!==e.type),lastValue:n,cellType:"single-stat"}),i=Object(I.a)("time",{timeZone:"Local"===u?void 0:u,timeFormat:$.a}),o="time"===t.table.getColumnType("_value")?i(n):Object(C.formatStatValue)(n,{decimalPlaces:e.decimalPlaces,prefix:e.prefix,suffix:e.suffix});return r.a.createElement("div",{className:"single-stat",style:{backgroundColor:a},"data-testid":"single-stat"},r.a.createElement("div",{className:"single-stat--resizer"},r.a.createElement("svg",{width:"100%",height:"100%",viewBox:`0 0 ${55*o.length} 100`},r.a.createElement("text",{className:"single-stat--text","data-testid":"single-stat--text",fontSize:"100",y:"59%",x:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:s}},o))))});return r.a.createElement(C.Plot,{config:se},n)}};t.default=e=>{e({type:"line-plus-single-stat",name:"Graph + Single Stat",graphic:s,initial:u,component:B,options:S})}},283:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var s=()=>r.a.createElement("h5",null,"There is nothing to configure here"),i=n(191);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"})));t.default=e=>{e({type:"simple-table",name:"Simple Table",graphic:o,initial:{type:"simple-table",showAll:!1},component:i.a,options:s})}},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(2),r=n.n(a),s=n(65);const i={},o={results:i,setResult:(e,t)=>{},statuses:{},setStatuses:e=>{}},l=r.a.createContext(o),c=({children:e})=>{const{flow:t}=Object(a.useContext)(s.a),[n,o]=Object(a.useState)({}),[c,u]=Object(a.useState)(Object.assign({},i));Object(a.useEffect)(()=>{u(Object.assign({},i))},[null==t?void 0:t.id]);const d={results:c,setResult:(e,t)=>{c[e]=Object.assign(Object.assign({source:"",parsed:null},c[e]),t),u(Object.assign({},c))},statuses:n,setStatuses:e=>{Object.entries(e).reduce((e,[t,a])=>n[t]===a?e:(n[t]=a,!0),!1)&&o(Object.assign({},n))}};return r.a.createElement(l.Provider,{value:d},e)}},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(82),r=n(5);const s=e=>e===r.RemoteDataState.NotStarted?a.d.Disabled:e===r.RemoteDataState.Loading?a.d.Loading:e===r.RemoteDataState.Error?a.d.Error:a.d.Default},298:function(e,t,n){"use strict";var a=n(10),r=n(2),s=n.n(r),i=n(3),o=n(14);let l=class extends r.Component{constructor(){super(...arguments),this.handleChange=e=>{const{onChangeSearchTerm:t}=this.props;t&&t(e.target.value)}}render(){const{searchTerm:e,searchPlaceholder:t,buttonSize:n,buttonColor:a,buttonStatus:r,buttonTestID:o,selectedOption:l,testID:c,className:u,style:d,menuTheme:m,menuTestID:p}=this.props;return s.a.createElement(i.Dropdown,{testID:c,className:u,style:d,button:(e,t)=>s.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:o,color:a,size:n,status:r},r===i.ComponentStatus.Loading?"Loading...":l),menu:a=>s.a.createElement(i.Dropdown.Menu,{onCollapse:a,theme:m,testID:p},s.a.createElement("div",{className:"searchable-dropdown--input-container"},s.a.createElement(i.Input,{onChange:this.handleChange,value:e,placeholder:t,size:n,autoFocus:!0})),this.filteredMenuOptions)})}get filteredMenuOptions(){const{searchTerm:e,options:t,emptyText:n,selectedOption:a,onSelect:r}=this.props,o=t.filter(t=>`${t}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return o.length?o.map(e=>s.a.createElement(i.Dropdown.Item,{key:e,value:e,selected:e===a,onClick:r,testID:`searchable-dropdown--item ${e}`},e)):s.a.createElement("div",{className:"searchable-dropdown--empty"},n)}};l.defaultProps={buttonSize:i.ComponentSize.Small,buttonColor:i.ComponentColor.Default,buttonStatus:i.ComponentStatus.Default,menuTheme:i.DropdownMenuTheme.Onyx,testID:"searchable-dropdown",buttonTestID:"searchable-dropdown--button",menuTestID:"searchable-dropdown--menu"},l=Object(a.a)([o.a],l),t.a=l},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));const a=e=>e.me,r=e=>e.me.quartzMe,s=e=>{var t,n;const{quartzMe:a}=e.me,r=null!==(t=null==a?void 0:a.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(n=null==a?void 0:a.accountType)&&void 0!==n?n:"free")&&!1===r}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a,r=n(2),s=n.n(r),i=n(8);!function(e){e.Run="Run",e.Preview="Preview"}(a||(a={}));const o={runMode:a.Preview,setRunMode:()=>{}},l=Object(r.createContext)(o),c=({children:e})=>{const[t,n]=Object(r.useState)(a.Preview);return s.a.createElement(l.Provider,{value:{runMode:t,setRunMode:e=>{Object(i.a)("change_notebook_run_mode",{runMode:e}),n(e)}}},e)}},322:function(e,t,n){"use strict";n.r(t),n.d(t,"request",(function(){return s})),n.d(t,"setRequestHandler",(function(){return i})),n.d(t,"setResponseHandler",(function(){return o})),n.d(t,"getPinned",(function(){return l})),n.d(t,"postPinned",(function(){return c})),n.d(t,"putPinned",(function(){return u})),n.d(t,"deletePinned",(function(){return d}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),s=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&s.includes("json")?JSON.stringify(n.data):n.data,o=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,o,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let g;return g=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,g)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),s=r.request.bind(r),i=r.setRequestHandler.bind(r),o=r.setResponseHandler.bind(r),l=(e,t={})=>s("GET","/api/v2private/pinned",e,t),c=(e,t={})=>s("POST","/api/v2private/pinned",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),u=(e,t={})=>s("PUT",`/api/v2private/pinned/${e.id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),d=(e,t={})=>s("DELETE",`/api/v2private/pinned/${e.id}`,e,t)},33:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({message:e,testID:t})=>r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("h4",null,e))},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>""===e?NaN:Number(e),r=e=>a(e.target.value)},341:function(e,t,n){var a=n(463);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},343:function(e,t,n){var a=n(476);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},344:function(e,t,n){var a=n(480);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},345:function(e,t,n){var a=n(483);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},348:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>new Set},349:function(e,t,n){"use strict";(function(e){var a=n(413),r=n(414),s=n(415);function i(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=m(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|h(t,n),r=(e=o(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(a=t.length)!=a?o(e,0):m(e,t);if("Buffer"===t.type&&s(t.data))return m(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=o(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function m(e,t){var n=t.length<0?0:0|p(t.length);e=o(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(a)return z(e).length;t=(""+t).toLowerCase(),a=!0}}function g(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function f(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function b(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,r){var s,i=1,o=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,o/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){var u=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*i}else-1!==u&&(s-=s-u),u=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){for(var d=!0,m=0;m<l;m++)if(c(e,s+m)!==c(t,m)){d=!1;break}if(d)return s}return-1}function x(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");a>s/2&&(a=s/2);for(var i=0;i<a;++i){var o=parseInt(t.substr(2*i,2),16);if(isNaN(o))return i;e[n+i]=o}return i}function v(e,t,n,a){return V(z(t,e.length-n),e,n,a)}function w(e,t,n,a){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function k(e,t,n,a){return w(e,t,n,a)}function E(e,t,n,a){return V(B(t),e,n,a)}function S(e,t,n,a){return V(function(e,t){for(var n,a,r,s=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,r=n%256,s.push(r),s.push(a);return s}(t,e.length-n),e,n,a)}function C(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var s,i,o,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(s=e[r+1]))&&(l=(31&c)<<6|63&s)>127&&(u=l);break;case 3:s=e[r+1],i=e[r+2],128==(192&s)&&128==(192&i)&&(l=(15&c)<<12|(63&s)<<6|63&i)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[r+1],i=e[r+2],o=e[r+3],128==(192&s)&&128==(192&i)&&128==(192&o)&&(l=(15&c)<<18|(63&s)<<12|(63&i)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=4096));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof a?o(e,t).fill(n,a):o(e,t).fill(n):o(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,s=Math.min(n,a);r<s;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var i=e[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(a,r),r+=i.length}return a},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0),o=Math.min(s,i),c=this.slice(a,r),u=e.slice(t,n),d=0;d<o;++d)if(c[d]!==u[d]){s=c[d],i=u[d];break}return s<i?-1:i<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var s=!1;;)switch(a){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function D(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function j(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",s=t;s<n;++s)r+=P(e[s]);return r}function I(e,t,n){for(var a=e.slice(t,n),r="",s=0;s<a.length;s+=2)r+=String.fromCharCode(a[s]+256*a[s+1]);return r}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,a,r,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function R(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-n,2);r<s;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function A(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-n,4);r<s;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function M(e,t,n,a,r,s){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,s){return s||M(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function $(e,t,n,a,s){return s||M(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e],r=1,s=0;++s<t&&(r*=256);)a+=this[e+s]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e],r=1,s=0;++s<t&&(r*=256);)a+=this[e+s]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=t,r=1,s=this[e+--a];a>0&&(r*=256);)s+=this[e+--a]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}var s=0,i=1,o=0;for(this[t]=255&e;++s<n&&(i*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/i>>0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}var s=n-1,i=1,o=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/i>>0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,s=a-n;if(this===e&&n<t&&t<a)for(r=s-1;r>=0;--r)e[r+t]=this[r+n];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var i=l.isBuffer(e)?e:z(new l(e,a).toString()),o=i.length;for(s=0;s<n-t;++s)this[s+t]=i[s%o]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var a=e.length,r=null,s=[],i=0;i<a;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function B(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(128))},350:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=String.fromCharCode,r=(String.fromCodePoint,/^\s*/g),s=/([A-Z])/g,i=(e,t)=>(e=>e.replace(r,""))(e.replace(s,e=>`${t}${(e=>e.toLowerCase())(e)}`));"undefined"!=typeof TextEncoder&&new TextEncoder;let o="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});o&&1===o.decode(new Uint8Array).length&&(o=null)},351:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var a=n(145),r=n(350),s=n(503),i=n(352);const o=void 0!==e&&e.release&&/node|io\.js/.test(e.release.name),l="undefined"!=typeof window&&!o;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let c;const u=[],d=()=>{if(void 0===c)if(o){c=a.c();const t=e.argv;let n=null;for(let e=0;e<t.length;e++){const a=t[e];"-"===a[0]?(null!==n&&c.set(n,""),n=a):null!==n?(c.set(n,a),n=null):u.push(a)}null!==n&&c.set(n,"")}else"object"==typeof location?(c=a.c(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){const[t,n]=e.split("=");c.set(`--${r.a(t,"-")}`,n),c.set(`-${r.a(t,"-")}`,n)}})):c=a.c();return c},m=t=>o?s.a(e.env[t.toUpperCase()]):s.a(i.b.getItem(t));(e=>{(e=>d().has(e))("--"+e)||m(e)})("production")}).call(this,n(120))},352:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));let a=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},r=!0;try{"undefined"!=typeof localStorage&&(a=localStorage,r=!1)}catch(e){}const s=a,i=e=>r||addEventListener("storage",e)},360:function(e,t,n){"use strict";var a,r=n(2),s=n.n(r),i=n(3),o=n(21),l=n(149),c=n(4),u=n(79),d=n(12),m=n(291),p=n(16),h=n(134),g=n(11),f=n(40),b=n(8),y=n(39),x=n(9),v=n(115);!function(e){e.Create="create",e.Update="update"}(a||(a={}));const w={script:"",submit:()=>{},activeTab:a.Create,handleSetActiveTab:e=>{},selectedTask:void 0,handleSetTask:e=>{},taskName:"",handleSetTaskName:e=>{}},k=s.a.createContext(w),E=({type:e,children:t})=>{const n=Object(c.d)(),i=Object(c.e)(x.a),[o,w]=Object(r.useState)(a.Create),[E,S]=Object(r.useState)(void 0),[C,T]=Object(r.useState)(""),[O,D]=Object(r.useState)(""),{data:j,closeFn:I}=Object(r.useContext)(l.a),N=o===a.Create?O:null==E?void 0:E.name,_=C;Object(r.useEffect)(()=>{var e;const t=Object(u.parse)(null!==(e=null==j?void 0:j.query)&&void 0!==e?e:""),n=Object(v.d)(t,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>(e[t.key.name]=t.value.location.source,e),e),e},{});N?n.name=`"${N||"Name this task"}"`:o===a.Create&&D((n.name||"").replace(/^"(.*)"$/,"$1")||"Name this Task");const r=Object.entries(n).map(([e,t])=>`${e}: ${t}`).join(",\n"),s=Object(u.parse)(`option task = {${r}}\n`);t.body.unshift(s.body[0]),T(Object(u.format_from_js_file)(t))},[N,j.query]),Object(r.useEffect)(()=>{n(Object(h.i)())},[n]);const R=Object(r.useCallback)(e=>{w(e)},[]),A=Object(r.useCallback)(e=>{S(e)},[]),M=Object(r.useCallback)(e=>{D(e)},[]);return s.a.createElement(k.Provider,{value:{script:_,submit:async()=>{var t;if(o===a.Create?""!==O:null==E?void 0:E.name){if(o===a.Create){Object(b.a)("Export Task Completed",{exportType:"create",from:e});try{const e=await Object(p.postTask)({data:{orgID:i.id,flux:_}});if(201!==e.status)throw new Error(e.data.message);n(Object(g.c)(Object(d.pd)())),n(Object(f.g)())}catch(e){if((null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)===m.a)n(Object(g.c)(Object(d.cd)("tasks")));else{const t=Object(y.b)(e);n(Object(g.c)(Object(d.td)(t)))}}}else{Object(b.a)("Export Task Completed",{exportType:"update",from:e});try{const e=await Object(p.patchTask)({taskID:E.id,data:Object.assign(Object.assign({},E),{every:j.interval,offset:j.offset||"0s",flux:_})});if(200!==e.status)throw new Error(e.data.message);n(Object(g.c)(Object(d.Ad)()))}catch(e){const t=Object(y.b)(e);n(Object(g.c)(Object(d.zd)(t)))}}I()}},activeTab:o,handleSetActiveTab:R,selectedTask:E,handleSetTask:A,taskName:O,handleSetTaskName:M}},t)};var S=()=>{const{submit:e}=Object(r.useContext)(k),{closeFn:t}=Object(r.useContext)(l.a);return s.a.createElement(i.Form.Footer,null,s.a.createElement(i.Button,{text:"Cancel",onClick:t,titleText:"Cancel",type:i.ButtonType.Button}),s.a.createElement(i.Button,{text:"Export Task",color:i.ComponentColor.Success,type:i.ButtonType.Submit,onClick:e,testID:"task-form-export"}))},C=n(13);var T=()=>{const{handleSetTask:e,selectedTask:t}=Object(r.useContext)(k),n=Object(c.e)(C.d).sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()));let a="Loading tasks...",o=s.a.createElement(i.Dropdown.ItemEmpty,null,s.a.createElement(i.TechnoSpinner,{strokeWidth:i.ComponentSize.Small,diameterPixels:32}));n.length&&(o=s.a.createElement(s.a.Fragment,null,n.map(n=>s.a.createElement(i.Dropdown.Item,{key:n.name,value:n,onClick:t=>e(t),selected:n.name===(null==t?void 0:t.name),title:n.name,wrapText:!0},n.name)))),(null==t?void 0:t.name)?(null==t?void 0:t.name)&&(a=t.name):a="Choose a task";return s.a.createElement(i.Dropdown,{button:(e,t)=>s.a.createElement(i.Dropdown.Button,{onClick:t,active:e,icon:i.IconFont.Calendar,size:i.ComponentSize.Medium},a),menu:e=>s.a.createElement(i.Dropdown.Menu,{onCollapse:e},o),style:{width:"100%"}})};const O=Object(r.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var D=()=>{const{script:e,selectedTask:t}=Object(r.useContext)(k);return Object(c.e)(C.j)?s.a.createElement(i.EmptyState,{size:i.ComponentSize.Medium},s.a.createElement(i.EmptyState.Text,null,"You haven’t created any Tasks yet")):s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Nine},s.a.createElement(i.Form.Element,{label:"Name",required:!0,errorMessage:(null==t?void 0:t.name)?"":"Please choose a task"},s.a.createElement(T,null))),s.a.createElement(i.Grid.Column,null,s.a.createElement(i.Alert,{className:"flow-update-task--export-warning",icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Warning},"Note: Changes made to an existing task cannot be undone"),s.a.createElement(i.Form.Element,{label:"Preview"},s.a.createElement(r.Suspense,{fallback:s.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:s.a.createElement(i.TechnoSpinner,null)})},s.a.createElement(O,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const j=Object(r.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var I=()=>{const{script:e,taskName:t,handleSetTaskName:n}=Object(r.useContext)(k),[a,o]=Object(r.useState)("");return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Nine},s.a.createElement(i.Form.Element,{label:"Name",required:!0,errorMessage:a},s.a.createElement(i.Input,{name:"taskName",placeholder:"Name your task",onChange:e=>{const t=e.target.value;n(t),""===t.trim()?o("Cannot be empty"):o("")},value:t,testID:"task-form-name",status:a?i.ComponentStatus.Error:i.ComponentStatus.Default,size:i.ComponentSize.Medium}))),s.a.createElement(i.Grid.Column,null,s.a.createElement(i.Form.Element,{label:"Preview"},s.a.createElement(r.Suspense,{fallback:s.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:s.a.createElement(i.TechnoSpinner,null)})},s.a.createElement(j,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const N=({text:e})=>{const{activeTab:t,handleSetActiveTab:n}=Object(r.useContext)(k),{closeFn:o}=Object(r.useContext)(l.a);return s.a.createElement(i.Overlay,{visible:!0},s.a.createElement(i.Overlay.Container,{maxWidth:700},s.a.createElement(i.Overlay.Header,{title:null!=e?e:"Export As Task",onDismiss:()=>{Object(b.a)("Export Task Overlay Closed"),o()},testID:"export-as-overlay--header"}),s.a.createElement(i.Overlay.Body,null,s.a.createElement(i.Tabs.Container,{orientation:i.Orientation.Horizontal},s.a.createElement(i.Tabs,{alignment:i.Alignment.Left,size:i.ComponentSize.Small},s.a.createElement(i.Tabs.Tab,{id:a.Create,text:"Create New",testID:"task--radio-button",onClick:()=>n(a.Create),active:t===a.Create}),s.a.createElement(i.Tabs.Tab,{id:a.Update,text:"Update Existing",testID:"variable-radio-button",onClick:()=>n(a.Update),active:t===a.Update})),s.a.createElement(i.Tabs.TabContents,null,s.a.createElement(i.Form,null,s.a.createElement(i.Grid,null,s.a.createElement(i.Grid.Row,null,t===a.Create?s.a.createElement(I,null):s.a.createElement(D,null),s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},s.a.createElement(S,null))))))))))};var _=({text:e,type:t})=>s.a.createElement(E,{type:t},s.a.createElement(N,{text:e,type:t}));t.a=({text:e,type:t,generate:n})=>{const{data:a,range:c}=Object(r.useContext)(o.a),{launch:u}=Object(r.useContext)(l.a);return s.a.createElement(i.Button,{text:e,color:i.ComponentColor.Success,type:i.ButtonType.Submit,onClick:()=>{Object(b.a)("Export Task Clicked",{from:t}),u(s.a.createElement(_,{text:e,type:t}),{bucket:a.bucket,query:n?n():a.query,range:c})},status:i.ComponentStatus.Default,testID:"task-form-save",style:{opacity:1},icon:i.IconFont.Export,titleText:e})}},362:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(4),o=n(40),l=n(35),c=n(52),u=n(6);var d=({onUpdateBucket:e,testID:t})=>{const n=Object(i.e)(c.p),d=Object(i.d)();Object(a.useEffect)(()=>{d(Object(o.b)())},[d]);return r.a.createElement(s.Dropdown.Item,{title:"Click to create a bucket",onClick:()=>{u.f&&"exceeded"===n?d(Object(l.d)("asset-limit",{asset:"Buckets"},l.b)):d(Object(l.d)("create-bucket",{onUpdateBucket:e},l.b))},testID:t},"+ Create Bucket")},m=n(143);t.a=({selected:e,onSelect:t,testID:n="flow-bucket-selector",style:i={}})=>{const{buckets:o,loading:l}=Object(a.useContext)(m.a);let c="Loading buckets...";Object(a.useEffect)(()=>{l===s.RemoteDataState.Done&&e&&!o.find(t=>t.name===e.name)&&t(null)},[o]);let u=r.a.createElement(s.Dropdown.ItemEmpty,null,r.a.createElement(s.TechnoSpinner,{strokeWidth:s.ComponentSize.Small,diameterPixels:32}));l===s.RemoteDataState.Done&&o.length&&(u=r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onUpdateBucket:t,testID:`${n}--create`}),r.a.createElement(s.Dropdown.Divider,null),o.map(a=>r.a.createElement(s.Dropdown.Item,{key:a.name,value:a,onClick:t,selected:a.name===(null==e?void 0:e.name),title:a.name,wrapText:!0,testID:`${n}--${a.name}`},a.name)))),l!==s.RemoteDataState.Done||(null==e?void 0:e.name)?l===s.RemoteDataState.Done&&(null==e?void 0:e.name)&&(c=e.name):c="Choose a bucket";return r.a.createElement(s.Dropdown,{button:(e,t)=>r.a.createElement(s.Dropdown.Button,{onClick:t,active:e,icon:s.IconFont.BucketSolid,testID:n},c),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e},u),style:i})}},37:function(e,t,n){"use strict";n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"v",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return f})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return y})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"g",(function(){return O})),n.d(t,"u",(function(){return D})),n.d(t,"w",(function(){return j})),n.d(t,"p",(function(){return I})),n.d(t,"t",(function(){return N})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return R}));var a=n(7),r=n(111),s=n(66),i=n(55),o=n(141),l=n(26),c=n(112);var u=n(336);const d=(e,t={})=>({type:"SET_ACTIVE_TIME_MACHINE",payload:{activeTimeMachineID:e,initialState:t}}),m=e=>({type:"SET_ACTIVE_TAB",payload:{activeTab:e}}),p=()=>({type:"TOGGLE_VIS_OPTIONS"}),h=e=>({type:"SET_VIEW_NAME",payload:{name:e}}),g=e=>({type:"SET_TIME_MACHINE_TIME_RANGE",timeRange:e}),f=e=>(t,n)=>{const i=n(),c=Object(u.a)(i),d=Object(l.c)(i);Object(a.isEqual)(e,i.ranges[c])||(t(Object(o.d)(c,e)),t(Object(s.g)())),"builder"===d.editMode&&t(Object(r.d)())},b=e=>({type:"SET_AUTO_REFRESH",payload:{autoRefresh:e}}),y=e=>({type:"SET_VIEW_TYPE",payload:{type:e}}),x=e=>({type:"SET_ACTIVE_QUERY_TEXT",payload:{text:e}}),v=e=>({type:"SET_IS_VIEWING_RAW_DATA",payload:{isViewingRawData:e}}),w=()=>({type:"EDIT_ACTIVE_QUERY_WITH_BUILDER"}),k=()=>e=>{e(w()),e(Object(s.g)())},E=()=>e=>{e({type:"RESET_QUERY_AND_EDIT_WITH_BUILDER"}),e(Object(s.g)())},S=()=>({type:"EDIT_ACTIVE_QUERY_AS_FLUX"}),C=e=>t=>{t((e=>({type:"SET_ACTIVE_QUERY_INDEX",payload:{activeQueryIndex:e}}))(e)),t(Object(r.b)())},T=()=>e=>{e({type:"ADD_QUERY"}),e(Object(r.b)())},O=e=>t=>{t((e=>({type:"REMOVE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(r.b)()),t(Object(s.g)())},D=e=>t=>{t((e=>({type:"TOGGLE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(s.g)())},j=e=>({type:"UPDATE_ACTIVE_QUERY_NAME",payload:{queryName:e}}),I=e=>({type:"SET_STATIC_LEGEND",payload:{staticLegend:e}}),N=e=>({type:"SET_VIEW_PROPERTIES",payload:{properties:e}}),_=()=>e=>{e(d("veo",{view:Object(c.a)("xy")}))},R=()=>(e,t)=>{const n=t(),{alertBuilder:r}=n,{builderConfig:s}=Object(l.c)(n);e(x(function(e,{statusMessageTemplate:t,tags:n,id:r,name:s,every:i,offset:o,type:l,staleTime:c,level:u,timeSince:d,thresholds:m}){const p=`data = from(bucket: "${e.buckets[0]}")`,h=e.tags.filter(e=>!!e.values[0]).map(e=>`  |> filter(fn: (r) => r.${e.key} == "${e.values[0]}")`),g=`messageFn = (r) =>("${t}")`,f=["check = {",`  _check_id: "${r||""}",`,`  _check_name: "${s}",`,'  _type: "custom",',`  tags: {${n?n.filter(e=>e.key&&e.value).map(e=>`${e.key}: "${e.value}"`).join(","):""}},`,`  every: ${i}`,"}"],b=["option task = {",`  name: "${s}",`,`  every: ${i}, // expected to match check.every`,`  offset: ${o}`,"}"];if("deadman"===l){const e=["package main",'import "influxdata/influxdb/monitor"','import "experimental"','import "influxdata/influxdb/v1"'],t=[p,`  |> range(start: -${c})`,...h],n=`${u.toLowerCase()} = (r) => (r.dead)`,a=["data","  |> v1.fieldsAsCols()",`  |> monitor.deadman(t: experimental.subDuration(from: now(), d: ${d}))`,`  |> monitor.check(data: check, messageFn: messageFn,${`${u.toLowerCase()}:${u.toLowerCase()}`})`];return[e.join("\n"),f.join("\n"),b.join("\n"),n,g,t.join("\n"),a.join("\n")].join("\n\n")}if("threshold"===l){const t=["package main",'import "influxdata/influxdb/monitor"','import "influxdata/influxdb/v1"'],n="  |> range(start: -check.every)",r=`  |> aggregateWindow(every: check.every, fn: ${e.functions[0].name}, createEmpty: false)`,s=[p,n,...h,r],i=m.map(t=>{const n=e.tags.find(e=>"_field"===e.key),r=Object(a.get)(n,"values[0]"),s=`${t.level.toLowerCase()} = (r) =>(r.${r}`;return"range"===t.type?t.within?`${s} > ${t.min}) and r.${r} < ${t.max})`:`${s} < ${t.min} and r.${r} > ${t.max})`:`${s} ${"greater"===t.type?">":"<"} ${t.value})`}),o=["data","  |> v1.fieldsAsCols()",`  |> monitor.check(data: check, messageFn: messageFn,${m.map(e=>` ${e.level.toLowerCase()}:${e.level.toLowerCase()}`)})`];return[t.join("\n"),f.join("\n"),b.join("\n"),i.join("\n"),g,s.join("\n"),o.join("\n")].join("\n\n")}}(s,r))),e(y("table")),e(Object(i.a)()),e(m("customCheckQuery"))}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(44),r=n(6),s=n(45),i=n(22);const o=(e,{prefix:t,suffix:n,base:o,timeZone:l,trimZeros:c=!0,timeFormat:u=s.a,format:d}={})=>{if("number"===e&&"2"===o)return Object(i.binaryPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,format:d});if("number"===e&&"10"===o)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,trimZeros:c,format:d});if("number"===e&&""===o)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,trimZeros:c,format:!0});if("time"===e){const e={timeZone:"Local"===l?void 0:l,format:Object(a.b)(u)};return e.format.includes("HH")&&(e.hour12=!1),Object(i.timeFormatter)(e)}return null}},412:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return m}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),s=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&s.includes("json")?JSON.stringify(n.data):n.data,o=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,o,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let g;return g=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,g)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),s=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t={})=>s("GET","/api/v2private/notebooks",e,t)),o=(e,t={})=>s("POST","/api/v2private/notebooks",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),l=(e,t={})=>s("PATCH",`/api/v2private/notebooks/${e.id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),c=(e,t={})=>s("DELETE",`/api/v2private/notebooks/${e.id}`,e,t),u=(e,t={})=>s("GET","/api/v2private/notebooks/share",e,t),d=(e,t={})=>s("POST","/api/v2private/notebooks/share",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),m=(e,t={})=>s("DELETE",`/api/v2private/notebooks/share/${e.id}`,e,t)},413:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=c(e),i=a[0],o=a[1],l=new s(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),u=0,d=o>0?i-4:i;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,s=[],i=0,o=n-r;i<o;i+=16383)s.push(u(e,i,i+16383>o?o:i+16383));1===r?(t=e[n-1],s.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return s.join("")};for(var a=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=i.length;o<l;++o)a[o]=i[o],r[i.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,s,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a[(s=r)>>18&63]+a[s>>12&63]+a[s>>6&63]+a[63&s]);return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},414:function(e,t){t.read=function(e,t,n,a,r){var s,i,o=8*r-a-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?r-1:0,m=n?-1:1,p=e[t+d];for(d+=m,s=p&(1<<-u)-1,p>>=-u,u+=o;u>0;s=256*s+e[t+d],d+=m,u-=8);for(i=s&(1<<-u)-1,s>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=m,u-=8);if(0===s)s=1-c;else{if(s===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),s-=c}return(p?-1:1)*i*Math.pow(2,s-a)},t.write=function(e,t,n,a,r,s){var i,o,l,c=8*s-r-1,u=(1<<c)-1,d=u>>1,m=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:s-1,h=a?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?m/l:m*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=u?(o=0,i=u):i+d>=1?(o=(t*l-1)*Math.pow(2,r),i+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,r),i=0));r>=8;e[n+p]=255&o,p+=h,o/=256,r-=8);for(i=i<<r|o,c+=r;c>0;e[n+p]=255&i,p+=h,i/=256,c-=8);e[n+p-h]|=128*g}},415:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},42:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(72);const r="This cell will display results from the previous cell after selecting Preview.",s={},i="Notebook",o=`Untitled ${i}`,l="Books",c=`${i}s`,u=`https://docs.influxdata.com/influxdb/${a.a}/notebooks/create-notebook/`,d=n(462);d.keys().forEach(e=>{d(e).default(e=>{if(s.hasOwnProperty(e.type))throw new Error(`Pipe of type [${e.type}] has already been registered`);s[e.type]=Object.assign({},e)})})},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(45);const r=[{text:a.a},{text:"YYYY-MM-DD hh:mm:ss a ZZ"},{text:"DD/MM/YYYY HH:mm:ss.sss"},{text:"DD/MM/YYYY hh:mm:ss.sss a"},{text:"MM/DD/YYYY HH:mm:ss.sss"},{text:"MM/DD/YYYY hh:mm:ss.sss a"},{text:"YYYY/MM/DD HH:mm:ss"},{text:"YYYY/MM/DD hh:mm:ss a"},{text:"HH:mm"},{text:"hh:mm a"},{text:"HH:mm:ss"},{text:"hh:mm:ss a"},{text:"HH:mm:ss ZZ"},{text:"hh:mm:ss a ZZ"},{text:"HH:mm:ss.sss"},{text:"hh:mm:ss.sss a"},{text:"MMMM D, YYYY HH:mm:ss"},{text:"MMMM D, YYYY hh:mm:ss a"},{text:"dddd, MMMM D, YYYY HH:mm:ss"},{text:"dddd, MMMM D, YYYY hh:mm:ss a"}],s=e=>r.find(t=>t.text===e)?e:a.a},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={},r=n(491);r.keys().forEach(e=>{r(e).default(e=>{a[e.type]=e})})},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a="YYYY-MM-DD HH:mm:ss",r="STRICT_ISO8061_TIME_FORMAT"},462:function(e,t,n){var a={"./Columns/index.tsx":533,"./Downsample/index.ts":534,"./Markdown/index.ts":531,"./MetricSelector/index.ts":527,"./Missing/index.ts":542,"./Notification/index.ts":529,"./QueryBuilder/index.ts":528,"./RawFluxEditor/index.ts":530,"./Region/index.ts":535,"./RemoteCSV/index.ts":543,"./Schedule/index.ts":536,"./Spotify/index.ts":532,"./Table/index.ts":544,"./ToBucket/index.ts":537,"./Visualization/index.ts":538,"./Youtube/index.ts":545};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=462},463:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-columns {\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, minmax(100px, 1fr));\n  grid-gap: 4px;\n  height: auto;\n  background-color: #0f0e15;\n  padding: 4px;\n}\n\n.flow-columns--column {\n  display: flex;\n  padding: 16px;\n  background: #292933;\n  border-radius: 4px;\n  align-items: center;\n}\n\n.flow-columns--toggle {\n  flex: 0;\n  margin-right: 12px;\n}\n\n.flow-columns--text {\n  font-size: 14px;\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 500;\n}\n\n.flow-columns--input {\n  flex: 1 1;\n  font-size: 14px;\n  font-weight: 500;\n  user-select: none;\n  color: #d4d7dd;\n  height: 30px;\n  position: relative;\n}\n.flow-columns--input input {\n  background-color: transparent;\n  border: 2px solid #292933;\n  color: #d4d7dd;\n  font-size: 14px;\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 500;\n  transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;\n  outline: none;\n  width: 100%;\n  height: 30px;\n  border-radius: 4px;\n}\n.flow-columns--input input:hover {\n  border-color: #383846;\n}\n.flow-columns--input input:hover, .flow-columns--input input:focus {\n  color: #ffffff;\n}\n.flow-columns--input input:focus {\n  background-color: #202028;\n  border-color: #00a3ff;\n  box-shadow: 0 0 6px 0 #00a3ff;\n}\n.flow-columns--input:hover .flow-panel--title-icon {\n  opacity: 1;\n}\n\n.column-card--content {\n  box-shadow: none;\n  height: 45px;\n}\n\n.column-card--content > div {\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n}\n\n.column-card--name > span {\n  color: lightgray;\n  font-size: 14px;\n}\n\n.column-card--name {\n  flex: 1;\n}\n\n.column-card--vistoggle {\n  flex: 0;\n  margin-right: 12px;\n}',""])},464:function(e,t,n){var a=n(465);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},465:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".downsample-panel {\n  display: flex;\n  margin: 0 -8px;\n  padding-bottom: 16px;\n}\n.downsample-panel .duration-input {\n  width: 200px;\n  margin-bottom: 8px;\n}\n.downsample-panel .downsample-panel--left {\n  padding: 0 8px;\n}\n.downsample-panel .downsample-panel--right {\n  padding: 0 8px;\n}",""])},467:function(e,t,n){var a=n(468);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},468:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel--markdown {\n  font-size: 14px;\n  line-height: 16px;\n  padding: 8px;\n  border-radius: 3px;\n  transition: border-color 0.25s ease;\n}\n\n.flow-panel--body .markdown-editor--monaco {\n  position: relative;\n}\n.flow-panel--body .markdown-editor--monaco .react-monaco-editor-container {\n  min-height: 100px;\n}\n\n.flow-panel--markdown__placeholder.markdown-format {\n  color: #676978;\n  font-style: italic;\n}",""])},469:function(e,t,n){var a=n(470);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(7);const a=e=>e.annotations.enableAnnotationsMode},470:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.data-source {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\n\n.data-source--controls {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n  flex-wrap: wrap;\n  flex: 0 0 0;\n}\n\n.data-source--search {\n  flex: 0 0 0;\n}\n\n.data-source--bucket {\n  flex: 1 0 0;\n  order: 1;\n}\n\n.data-source--aggregate {\n  order: 2;\n}\n\n.data-source--filters {\n  order: 3;\n  flex: 1 0 100%;\n  margin-top: 4px;\n  display: flex;\n  align-items: center;\n}\n\n.data-source--filters-label {\n  height: 30px;\n  line-height: 30px;\n  font-weight: 500;\n  margin: 0;\n  margin-right: 8px;\n}\n\n.data-source--filter {\n  margin: 2px;\n}\n.data-source--filter > .cf-label--name {\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.data-source--filters-list {\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 0;\n}\n\n.data-source--block {\n  display: block;\n  flex-direction: column;\n  align-items: stretch;\n  width: 100%;\n}\n\n.data-source--block-results {\n  display: flex;\n  align-items: stretch;\n  flex: 1 1 0;\n}\n.data-source--block-results .cf-dapper-scrollbars {\n  height: 100% !important;\n}\n\n.data-source--block-title {\n  font-size: 14px;\n  user-select: none;\n  font-weight: 500;\n  padding-bottom: 8px;\n  margin-bottom: 8px;\n  color: #bec2cc;\n  border-bottom: 2px solid #292933;\n  text-transform: capitalize;\n}\n\n.data-source--list__empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  color: #676978;\n  height: 304px;\n}\n\n.data-source--list__no-results {\n  color: #676978;\n  justify-content: center;\n  background-color: #0f0e15;\n  border-radius: 4px;\n}\n.data-source--list__no-results > * {\n  margin: 4px;\n}\n\n/*\n  Selectors\n*/\n.selectors--item-value {\n  transition: color 0.25s ease;\n  font-family: "IBMPlexMono", monospace;\n}\n\n.selectors--item-name {\n  margin: 0 8px;\n}\n\n.selectors--item-type {\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.666;\n}\n\n.selectors--item__measurement {\n  color: #ff69b4;\n}\n.cf-list-item:hover .selectors--item__measurement {\n  color: #ffb6c1;\n}\n\n.selectors--item__field {\n  color: #6495ed;\n}\n.cf-list-item:hover .selectors--item__field {\n  color: #87cefa;\n}\n\n.selectors--item__tag {\n  color: #32cd32;\n}\n.cf-list-item:hover .selectors--item__tag {\n  color: #7cfc00;\n}\n\n.data-source--agg-info {\n  font-size: 13px;\n  padding: 8px;\n  user-select: none;\n  color: #bec2cc;\n  cursor: default;\n}\n.data-source--agg-info > p {\n  margin: 0;\n}\n.data-source--agg-info .cf-icon {\n  display: inline-block;\n  margin-right: 4px;\n  line-height: 1em;\n}\n\n@media screen and (min-width: 1200px) {\n  .data-source--controls {\n    flex-wrap: nowrap;\n  }\n\n  .data-source--bucket {\n    flex: initial;\n  }\n\n  .data-source--filters-label {\n    margin-left: 8px;\n  }\n\n  .data-source--aggregate {\n    order: 3;\n  }\n\n  .data-source--filters {\n    order: 2;\n    flex: 1 0 100px;\n    margin-top: 0;\n    margin-right: 4px;\n  }\n}',""])},471:function(e,t,n){var a=n(472);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},472:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-error {\n  margin-top: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  width: 100%;\n  border: 2px solid #202028;\n  background-color: #202028;\n  border-radius: 4px 0 0 4px;\n}\n\n.flow-error--header {\n  color: #d4d7dd;\n  width: 47px;\n  flex: 0 0 47px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 8px 0;\n}\n\n.flow-error--vis-toggle {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  font-size: 1.5em;\n  transition: color 0.25s ease;\n  width: 30px;\n  height: 30px;\n  position: relative;\n  color: #ff8564;\n}\n.flow-error--vis-toggle:before {\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.flow-error--body {\n  position: relative;\n  flex: 1 0 0;\n  padding: 8px 0;\n}\n.flow-error--body h1 {\n  color: #d4d7dd;\n  user-select: none;\n  font-weight: 500;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n}\n.flow-error--body p {\n  margin: 0;\n}",""])},473:function(e,t,n){var a=n(474);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},474:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.threshold-trash-icon--block {\n  margin-left: 8px;\n}\n.threshold-trash-icon--block :hover {\n  cursor: pointer;\n}\n\n.threshold-add-icon--block:hover {\n  cursor: pointer;\n}",""])},475:function(e,t,n){var a={"./HTTP/index.ts":539,"./PagerDuty/index.ts":540,"./Slack/index.ts":541};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=475},476:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flows-endpoints--dropdown {\n  background: #181820;\n  height: 100%;\n}\n\n.slack-endpoint-details--flex {\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n  justify-content: space-between;\n  height: 100%;\n}\n.slack-endpoint-details--flex .cf-color-picker--swatches {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--form > button {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--form .cf-status-indicator {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--input {\n  margin-right: 0px;\n}\n.slack-endpoint-details--flex .cf-color-picker--selected {\n  top: 19px;\n}\n.slack-endpoint-details--flex .cf-color-picker--form .cf-input-field {\n  height: 38px;\n  font-size: 14px;\n}\n\n.form-element--authorization {\n  width: 100%;\n}\n.form-element--authorization .cf-select-group {\n  display: flex;\n  justify-content: space-around;\n  width: 50%;\n}\n\n.endpoint-details--element {\n  height: 100%;\n}\n.endpoint-details--element .cf-form--label {\n  margin-bottom: 8px;\n}\n\n.http-endpoint--flex {\n  padding: 8px;\n}\n\n.endpoint-dropdown--element {\n  flex: 1;\n  max-width: 14%;\n}",""])},477:function(e,t,n){var a=n(478);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},478:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel--body .query-builder {\n  border: 2px solid #0f0e15;\n  background-color: #0f0e15;\n  border-radius: 4px;\n  padding: 4px;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}",""])},479:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-sidebar .flux-toolbar {\n  flex-direction: column;\n}\n\n.flow-nonsidebar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 300px;\n}\n.flow-nonsidebar .flux-toolbar {\n  flex-direction: column;\n  background-color: #292933;\n}\n\n.flow-panel--body .flux-editor--monaco {\n  height: 100%;\n  position: static;\n}",""])},480:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel-region--header h5 {\n  margin-bottom: 0;\n}\n.flow-panel-region--header p {\n  margin-top: 0;\n  color: #999dab;\n}",""])},481:function(e,t,n){var a=n(482);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},482:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.remote-csv-card {\n  display: flex;\n}\n\n.remote-csv--dropdown {\n  flex: 0 0 300px;\n  margin-right: 8px;\n}\n\n.remote-csv-url-input {\n  flex: 4;\n  width: 100%;\n}",""])},483:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel-schedule--header h5 {\n  margin-bottom: 0;\n}\n.flow-panel-schedule--header p {\n  margin-top: 0;\n  color: #999dab;\n}\n\n.flow-update-task--export-warning {\n  margin: 8px 0;\n}\n.flow-update-task--export-warning > .cf-panel--body {\n  padding: 8px 16px;\n}",""])},484:function(e,t,n){var a=n(485);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},485:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flow-spotify {\n  text-align: center;\n}\n\n.flow-spotify--editor {\n  width: 600px;\n  margin: 0 auto;\n  text-align: right;\n}",""])},487:function(e,t,n){var a=n(488);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},488:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-visualization {\n  background-color: #202028;\n  border-radius: 4px;\n  display: flex;\n  align-items: stretch;\n  height: 100%;\n}\n\n.flow-visualization--view {\n  width: 100%;\n  border-radius: 3px;\n  background-color: #0f0e15;\n  padding: 12px;\n}\n.flow-visualization--view .empty-graph-error {\n  height: 200px;\n}\n\n.flow-sidebar--submenu .view-options {\n  padding: 0;\n  padding-right: 15px;\n}\n\n.flow-visualization--export-warning {\n  margin: 8px 0;\n}\n.flow-visualization--export-warning > .cf-panel--body {\n  padding: 8px 16px;\n}",""])},489:function(e,t,n){var a=n(490);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(198),r=n(35),s=n(8),i=n(11),o=n(12),l=n(39),c=n(22);const u=(e,t,n="xyplot")=>async r=>{const{summary:c,startTime:u,endTime:d,type:m}=r,p="point"===m?u:d;try{await e(Object(a.d)([{summary:c,stream:t,startTime:new Date(u).getTime(),endTime:new Date(p).getTime()}])),Object(s.a)(`${n}.annotations.create_${m}_annotation.create`)}catch(t){e(Object(i.c)(Object(o.Y)(Object(l.b)(t)))),Object(s.a)(`${n}.annotations.create_${m}_annotation.failure`)}},d=(e,t,n="xyplot")=>{const a=u(e,t,n);return i=>{var o;Object(s.a)(`${n}.annotations.create_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:null!==(o=null==i?void 0:i.clampedValueX)&&void 0!==o?o:i.valueX,eventPrefix:n,cellID:t},()=>{Object(r.b)()}))}},m=(e,t)=>(e.startTime===e.endTime?1:0)-(t.startTime===t.endTime?1:0),p=(e,t,n,a,i,o,l,u="xyplot")=>{var d;const p=(i&&null!==(d=i[e])&&void 0!==d?d:[]).sort(m).map(e=>Object.assign(Object.assign({},e),{color:c.InfluxColors.Honeydew})),h=((e,t,n,a="xyplot")=>i=>{const o=n[e].find(e=>e.id===i);o&&(Object(s.a)(`${a}.annotations.edit_annotation.show_overlay`),t(Object(r.d)("edit-annotation",{clickedAnnotation:Object.assign(Object.assign({},o),{stream:e,eventPrefix:a}),cellID:e},()=>{Object(r.b)()})))})(e,l,i,u);if(o&&p.length){return{type:"annotation",x:t,y:n,fill:a,handleAnnotationClick:h,annotations:p.map(e=>({id:e.id,title:e.summary,description:"",color:e.color,startValue:new Date(e.startTime).getTime(),stopValue:new Date(e.endTime).getTime(),dimension:"x",pin:"start"}))}}return null},h=(e,t,n,a,i,o,l,c,m="xyplot")=>{t&&n&&(e.interactionHandlers={singleShiftClick:d(c,n,m)},e.interactionHandlers.onXBrush=((e,t,n="xyplot")=>{const a=u(e,t,n);return(i,o)=>{Object(s.a)(`${n}.annotations.create_range_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:i,endTime:o,range:!0,eventPrefix:n,cellID:t},()=>{Object(r.b)()}))}})(c,n,m));const h=p(n,a,i,o,l,t,c,m);h&&e.layers.push(h)},g=e=>Object(i.c)(Object(o.t)(e))},490:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flow-youtube {\n  text-align: center;\n  height: 100%;\n}\n\n.flow-youtube--editor {\n  width: 600px;\n  margin: 0 auto;\n  padding-bottom: 40px;\n  text-align: right;\n}",""])},491:function(e,t,n){var a={"./blank.ts":492,"./bucket.ts":493,"./dashboard.ts":494,"./default.ts":495,"./downsample.ts":496,"./flow.ts":497,"./flux.ts":498,"./intro.ts":499,"./notification.ts":500,"./share.ts":501,"./task.ts":502};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=491},492:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"blank",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[]}})})},493:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),s=n(42);t.default=e=>e({type:"bucket",init:e=>Promise.resolve({name:`Explore the ${e} bucket`,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign(Object.assign({type:"queryBuilder",title:"Build a Query",visible:!0},JSON.parse(JSON.stringify(s.c.queryBuilder.initial))),{buckets:[e]}),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(s.c.visualization.initial)))]}})})},494:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"dashboard",init:e=>fetch(`/api/v2/dashboards/${e}`).then(e=>e.json()).then(e=>Promise.all(e.cells.map(e=>fetch(e.links.view).then(e=>e.json()).then(t=>{if("markdown"===t.properties.type)return[{title:"Note",visible:!0,type:"markdown",text:t.properties.note,mode:"preview",layout:{x:e.x,y:e.y,w:e.w,h:e.h}}];const n=t.properties.queries;return delete t.properties.queries,[{activeQuery:0,queries:n,type:"rawFluxEditor",title:`${t.name} - Query`,visible:!0},{title:t.name,visible:!0,type:"visualization",properties:t.properties,layout:{x:e.x,y:e.y,w:e.w,h:e.h}}]}))).then(t=>({name:e.name,spec:{readOnly:!0,range:a.b,refresh:r.b,pipes:t.reduce((e,t)=>e.concat(t),[])}})))})},495:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),s=n(42);t.default=e=>e({type:"default",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(s.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(s.c.visualization.initial)))]}})})},496:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"downsample",init:()=>Promise.resolve({name:"Example: Demo Data Notebook",spec:{readOnly:!1,range:{duration:"5m",label:"Past 5m",lower:"now() - 5m",seconds:300,type:"selectable-duration",upper:null,windowPeriod:1e4},refresh:{duration:null,inactivityTimeout:0,infiniteDuration:!1,interval:0,status:"paused"},pipes:[{mode:"preview",text:"The goal of this example Notebook is to get you working with data in the InfluxDB Cloud developer platform. \n\n#### 5 Ways to Use Notebooks in this Example:\n1. Select `input`\n2. Transform data with a `downsample` example\n3. Write data to a new Bucket once\n4. Output the workflow to repeat on as schedule as a `Task`",type:"markdown",title:"👋  Hello world",visible:!0},{mode:"preview",text:"In the Input/Metric Selector panel, select the demo data bucket `Website Monitoring Bucket` \nThen select `response_time`\n\n// No Website Monitoring Bucket? You can add this demo data for free with one click by going to Load Data in main navigation > Buckets Tab > Clicking Add Demo Data Button. [Learn More](https://docs.influxdata.com/influxdb/cloud/write-data/#add-a-demo-data-bucket)",type:"markdown",title:"Step 1  - Search Inputs",visible:!0},{aggregateFunction:{name:"mean"},bucket:{name:"Website Monitoring Bucket"},field:"response_time",measurement:"",tags:{},type:"metricSelector",title:"Select Input Metric",visible:!0},{functions:[{name:"mean"}],panelHeight:200,panelVisibility:"visible",period:"10s",properties:{axes:{x:{base:"10",bounds:["",""],label:"",prefix:"",scale:"linear",suffix:""},y:{base:"10",bounds:["",""],label:"",prefix:"",scale:"linear",suffix:""}},colors:[{hex:"#31C0F6",id:"d001b766-bf5c-4ae3-a867-9a3774849cc1",name:"Nineteen Eighty Four",type:"scale",value:0},{hex:"#A500A5",id:"547f5c28-4e2a-4c06-af49-a02e6fd11c5f",name:"Nineteen Eighty Four",type:"scale",value:0},{hex:"#FF7E27",id:"3c0dadaf-f8aa-45a4-ba1a-3597b685b76f",name:"Nineteen Eighty Four",type:"scale",value:0}],generateXAxisTicks:[],generateYAxisTicks:[],geom:"line",hoverDimension:"auto",legendOpacity:1,legendOrientationThreshold:1e8,note:"",position:"overlaid",queries:[{builderConfig:{aggregateWindow:{fillValues:!1,period:"auto"},buckets:[],functions:[{name:"mean"}],tags:[{aggregateFunctionType:"filter",key:"_measurement",values:[]}]},editMode:"builder",name:"",text:""}],shape:"chronograf-v2",showNoteWhenEmpty:!1,staticLegend:{heightRatio:.2,hide:!0,widthRatio:1},type:"xy",xColumn:null,xTickStart:null,xTickStep:null,xTotalTicks:null,yColumn:null,yTickStart:null,yTickStep:null,yTotalTicks:null},type:"visualization",title:"Visualize response_time",visible:!0},{mode:"preview",text:"One of the most common use cases for InfluxDB is downsampling data to reduce the overall disk usage as data collects over time.\n\nThis is done by aggregating data within windows of time, then storing the aggregate value in a new bucket.",type:"markdown",title:"Step 2 - Let's Downsample",visible:!0},{activeQuery:0,queries:[{builderConfig:{buckets:[],functions:[],tags:[]},editMode:"advanced",text:"// __Previous_Result__ uses data from all the panels above it as an input to the Flux function\n__PREVIOUS_RESULT__\n\n  // This Flux function windows and aggregates the data in to 15m averages\n|> aggregateWindow(fn: mean, every: 15m)"}],type:"rawFluxEditor",title:"Downsample with Flux",visible:!0},{mode:"preview",text:"You might want to keep your downsampled data separate from your raw data with a longer retention policy.\n\nSelect a separate bucket or create a new one from the dropdown in the next output cell.\n\nThis generates:\n\n`|> to(bucket: 'YOUR NEW BUCKET')`\n\nBonus: You can switch the notebook mode from Preview to Run to write this data to the new bucket manually.\n",type:"markdown",title:"Step 3 - Select Output",visible:!0},{type:"toBucket",bucket:{name:"_tasks"},title:"Output to New Bucket",visible:!0},{mode:"preview",text:"Run all the steps in this notebook continuously by clicking Export as Task in your Output cell above\n\nThe Flux code generated by this entire notebook looks like this:\n```\noption v = {\n  timeRangeStart: -15m,\n  timeRangeStop: now(),\n  windowPeriod: 5m\n}\n\noption task = { \n  name: 'Downsample Task',\n  every: 15m,\n  offset: 0s\n}\n\nfrom(bucket: 'Website Monitoring Bucket') \n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop) \n  |> filter(fn: (r) => r['_field'] == 'response_time')\n\n  \n\n  |> aggregateWindow(fn: mean, every: 15m) \n  |> to(bucket: 'Downsampled Website Monitoring')\n  ```\n\n[Learn More about Tasks](https://docs.influxdata.com/influxdb/cloud/process-data/get-started/)",type:"markdown",title:"Step 4 - Repeat as a Task",visible:!0},{mode:"preview",text:"Invite your team to start collaborating on your data with notebooks 🤝\n\nAdd your team now by going to the /users page\n\nRepeat after me: The team that builds together, stays together\n",type:"markdown",title:"🎉   That's it!",visible:!0}]}})})},497:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"id",init:e=>fetch(`/api/v2private/notebooks/${e}`).then(e=>e.json())})},498:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"flux",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"}]}})})},499:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"intro",init:()=>Promise.resolve({name:"Welcome to Notebooks",spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{title:"Welcome",visible:!0,type:"youtube",uri:"Rs16uhxK0h8"}]}})})},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(2),r=n(104),s=n(24),i=n(26);const o=(e=[],t)=>{const n=Object(s.g)(e);if(null===t)return n;if(n&&n.length>=2){const e=Object(i.k)(t),a=Object(i.g)(t);return[Math.min(e,n[0]),Math.max(a,n[1])]}return n},l=(e,t,n=null)=>{const s=Object(a.useMemo)(()=>e||o(t,n),[e,t]),[i,l]=Object(r.a)(s);return[i,l,()=>l(s)]},c=e=>"number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e),u=(e,t,n=null)=>{const l=Object(a.useMemo)(()=>!Array.isArray(e)||e.every(e=>null===e)?o(t,n):e.includes(null)?((e=[],t,n)=>{const a=Object(s.g)(e);if(Array.isArray(a)&&a.length>=2){const e=Object(i.k)(t),r=Object(i.g)(t);return[c(n[0])?n[0]:Math.min(e,a[0]),c(n[1])?n[1]:Math.max(r,a[1])]}return a})(t,n,e):e,[e,t]),[u,d]=Object(r.a)(l);return[u,d,()=>d(l)]}},500:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),s=n(42);t.default=e=>e({type:"notification",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(s.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(s.c.visualization.initial))),Object.assign({type:"notification",visible:!0,title:"New Alert"},JSON.parse(JSON.stringify(s.c.notification.initial)))]}})})},501:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"share",init:e=>fetch(`/api/share/${e}`).then(e=>e.json()).then(e=>(delete e.id,e.spec.pipes.forEach(e=>delete e.id),e))})},502:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),s=n(79),i=n(115);t.default=e=>e({type:"task",init:e=>e?fetch(`/api/v2/tasks/${e}`).then(e=>e.json()).then(e=>{const t=Object(s.parse)(e.flux),n=Object(i.d)(t,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reverse().reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});return{name:e.name,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:Object(s.format_from_js_file)(t),editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule",visible:!0,interval:n.every,offset:n.offset}]}}}):Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:"",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule",visible:!0}]}})})},503:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>void 0===e?null:e},504:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(508),r=n(200),s=n(147),i=n(146),o=n(505),l=n(506),c=n(507),u=n(510),d=n(263),m=n(90),p=n(509);const h=[];h[0]=(e,t,n,a,r)=>{s.n(e,0);const i=o.b(t,e,n.doc,n);a&&i===o.a&&!n.synced&&(n.synced=!0)},h[3]=(e,t,n,a,r)=>{s.n(e,1),s.o(e,c.c(n.awareness,Array.from(n.awareness.getStates().keys())))},h[1]=(e,t,n,a,r)=>{c.b(n.awareness,i.l(t),n)},h[2]=(e,t,n,a,r)=>{l.a(t,n.doc,g)};const g=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),f=(e,t,n)=>{const a=i.e(t),r=s.e(),o=i.k(a),l=e.messageHandlers[o];return l?l(r,a,e,n,o):console.error("Unable to compute message"),r},b=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=r.a();const a=f(e,new Uint8Array(n.data),!0);s.f(a)>1&&t.send(s.g(a))},t.onclose=()=>{e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,c.d(e.awareness,Array.from(e.awareness.getStates().keys()).filter(t=>t!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(b,m.g(1200*m.e(e.wsUnsuccessfulReconnects+1),2500),e)},t.onopen=()=>{e.wsLastMessageReceived=r.a(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=s.e();if(s.n(n,0),o.c(n,e.doc),t.send(s.g(n)),null!==e.awareness.getLocalState()){const n=s.e();s.n(n,1),s.o(n,c.c(e.awareness,[e.doc.clientID])),t.send(s.g(n))}},e.emit("status",[{status:"connecting"}])}},y=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux(()=>{a.a(e.bcChannel,t)})};class x extends d.a{constructor(t,n,i,{connect:l=!0,awareness:d=new c.a(i),params:m={},WebSocketPolyfill:g=WebSocket,resyncInterval:b=-1}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);const x=p.a(m);this.bcChannel=t+"/"+n,this.url=t+"/"+n+(0===x.length?"":"?"+x),this.roomname=n,this.doc=i,this._WS=g,this.awareness=d,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=h.slice(),this.mux=u.a(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=l,this._resyncInterval=0,b>0&&(this._resyncInterval=setInterval(()=>{if(this.ws){const e=s.e();s.n(e,0),o.c(e,i),this.ws.send(s.g(e))}},b)),this._bcSubscriber=e=>{this.mux(()=>{const t=f(this,new Uint8Array(e),!1);s.f(t)>1&&a.a(this.bcChannel,s.g(t))})},this._updateHandler=(e,t)=>{if(t!==this){const t=s.e();s.n(t,0),o.e(t,e),y(this,s.g(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},a)=>{const r=e.concat(t).concat(n),i=s.e();s.n(i,1),s.o(i,c.c(d,r)),y(this,s.g(i))},this._beforeUnloadHandler=()=>{c.d(this.awareness,[i.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.on("exit",()=>this._beforeUnloadHandler),d.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<r.a()-this.wsLastMessageReceived&&this.ws.close()},3e3),l&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.off("exit",()=>this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(a.b(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux(()=>{const e=s.e();s.n(e,0),o.c(e,this.doc),a.a(this.bcChannel,s.g(e));const t=s.e();s.n(t,0),o.d(t,this.doc),a.a(this.bcChannel,s.g(t));const n=s.e();s.n(n,3),a.a(this.bcChannel,s.g(n));const r=s.e();s.n(r,1),s.o(r,c.c(this.awareness,[this.doc.clientID])),a.a(this.bcChannel,s.g(r))})}disconnectBc(){const e=s.e();s.n(e,1),s.o(e,c.c(this.awareness,[this.doc.clientID],new Map)),y(this,s.g(e)),this.bcconnected&&(a.c(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(b(this),this.connectBc())}}}).call(this,n(120))},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(147),r=n(146),s=n(173);const i=1,o=(e,t)=>{a.n(e,0);const n=s.d(t);a.o(e,n)},l=(e,t,n)=>{a.n(e,i),a.o(e,s.c(t,n))},c=(e,t,n)=>{try{s.b(t,r.l(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},u=(e,t)=>{a.n(e,2),a.o(e,t)},d=c,m=(e,t,n,a)=>{const s=r.k(e);switch(s){case 0:((e,t,n)=>{l(t,n,r.l(e))})(e,t,n);break;case i:c(e,n,a);break;case 2:d(e,n,a);break;default:throw new Error("Unknown message type")}return s}},506:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(147);var a=n(146);const r=(e,t,n)=>{switch(a.k(e)){case 0:n(t,a.j(e))}}},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(147),r=n(146),s=n(200),i=n(90),o=n(263),l=n(196);class c extends o.a{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=s.a();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach((n,a)=>{a!==this.clientID&&3e4<=e-n.lastUpdated&&this.states.has(a)&&t.push(a)}),t.length>0&&u(this,t,"timeout")},i.c(3e3)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),a=void 0===n?0:n.clock+1,r=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:a,lastUpdated:s.a()});const i=[],o=[],c=[],u=[];null===e?u.push(t):null==r?null!=e&&i.push(t):(o.push(t),l.b(r,e)||c.push(t)),(i.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:i,updated:c,removed:u},"local"]),this.emit("update",[{added:i,updated:o,removed:u},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const u=(e,t,n)=>{const a=[];for(let n=0;n<t.length;n++){const r=t[n];if(e.states.has(r)){if(e.states.delete(r),r===e.clientID){const t=e.meta.get(r);e.meta.set(r,{clock:t.clock+1,lastUpdated:s.a()})}a.push(r)}}a.length>0&&(e.emit("change",[{added:[],updated:[],removed:a},n]),e.emit("update",[{added:[],updated:[],removed:a},n]))},d=(e,t,n=e.states)=>{const r=t.length,s=a.e();a.n(s,r);for(let i=0;i<r;i++){const r=t[i],o=n.get(r)||null,l=e.meta.get(r).clock;a.n(s,r),a.n(s,l),a.m(s,JSON.stringify(o))}return a.g(s)},m=(e,t,n)=>{const a=r.e(t),i=s.a(),o=[],c=[],u=[],d=[],m=r.k(a);for(let t=0;t<m;t++){const t=r.k(a);let n=r.k(a);const s=JSON.parse(r.j(a)),m=e.meta.get(t),p=e.states.get(t),h=void 0===m?0:m.clock;(h<n||h===n&&null===s&&e.states.has(t))&&(null===s?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,s),e.meta.set(t,{clock:n,lastUpdated:i}),void 0===m&&null!==s?o.push(t):void 0!==m&&null===s?d.push(t):null!==s&&(l.b(s,p)||u.push(t),c.push(t)))}(o.length>0||u.length>0||d.length>0)&&e.emit("change",[{added:o,updated:u,removed:d},n]),(o.length>0||c.length>0||d.length>0)&&e.emit("update",[{added:o,updated:c,removed:d},n])}},508:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(145),r=n(194),s=n(352);const i=new Map;const o="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,s.a(t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:r.d(t.newValue||"")}))}postMessage(e){s.b.setItem(this.room,r.e(r.b(e)))}}:BroadcastChannel,l=e=>a.e(i,e,()=>{const t=new Set,n=new o(e);return n.onmessage=e=>t.forEach(t=>t(e.data)),{bc:n,subs:t}}),c=(e,t)=>l(e).subs.add(t),u=(e,t)=>l(e).subs.delete(t),d=(e,t)=>{const n=l(e);n.bc.postMessage(t),n.subs.forEach(e=>e(t))}},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(265);const r=e=>a.d(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&")},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}}},527:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(143),i=n(76),o=n(21),l=n(65),c=n(156),u=n(5);const d={loading:u.RemoteDataState.NotStarted,measurements:[],fields:[],tags:[],searchTerm:"",setSearchTerm:e=>{}},m=r.a.createContext(d),p=r.a.memo(({children:e})=>{var t,n,s,d;const{data:p}=Object(a.useContext)(o.a),{flow:h}=Object(a.useContext)(l.a),{query:g,getPanelQueries:f}=Object(a.useContext)(i.a),[b,y]=Object(a.useState)(""),[x,v]=Object(a.useState)({}),[w,k]=Object(a.useState)(u.RemoteDataState.NotStarted),E=Object(c.d)(null==h?void 0:h.range);Object(a.useEffect)(()=>{var e,t;if(!(null==p?void 0:p.bucket))return;k(u.RemoteDataState.Loading);const n=null!==(t=null===(e=f(p.id))||void 0===e?void 0:e.scope)&&void 0!==t?t:{},a=`from(bucket: "${p.bucket.name}")\n|> range(${E})\n|> first()\n|> drop(columns: ["_value"])\n|> group()`;g(a,n).then(e=>{const t=(e=>{var t,n;let a,r;const s=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const i=e.table,o=i.length,l=null===(t=i.columns._measurement)||void 0===t?void 0:t.data,c=null===(n=i.columns._field)||void 0===n?void 0:n.data,u=i.columnKeys.filter(e=>s.reduce((t,n)=>t&&!n.test(e),!0)),d=u.length,m={};for(a=0;a<o;a++)for(m.hasOwnProperty(l[a])||(m[l[a]]={fields:new Set,tags:{}}),m[l[a]].fields.add(c[a]),r=0;r<d;r++)i.columns[u[r]].data[a]&&(m[l[a]].tags.hasOwnProperty(u[r])||(m[l[a]].tags[u[r]]=new Set),m[l[a]].tags[u[r]].add(i.columns[u[r]].data[a]));return Object.entries(m).forEach(([e,t])=>{m[e].fields=Array.from(t.fields)}),m})(e.parsed);v(t),k(u.RemoteDataState.Done)}).catch(e=>{console.error("error: ",e),k(u.RemoteDataState.Error),v({})})},[null===(t=null==p?void 0:p.bucket)||void 0===t?void 0:t.name,E]);const S=Object(a.useMemo)(()=>((e,t,n)=>{const{measurements:a,fields:r,tags:s}=Object.entries(e||{}).map(([e,a])=>({measurement:e,fields:a.fields.filter(e=>!!t.field&&e===t.field||!t.field&&e.toLowerCase().includes(n.toLowerCase())),tags:Object.entries(a.tags).filter(([e,t])=>!n||Array.from(t).some(t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase()))).map(([e,t])=>n?[e,Array.from(t).filter(t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase()))]:[e,t])})).filter(e=>t.measurement?e.measurement===t.measurement:t.field?e.fields.length:!n||(`measurement = ${e.measurement.toLowerCase()}`.includes(n.toLowerCase())||e.fields.length||e.tags.length)).reduce((e,t)=>(`measurement = ${t.measurement.toLowerCase()}`.includes(n.toLowerCase())&&(e.measurements[t.measurement]=!0),t.fields.reduce((e,t)=>(e[t]=!0,e),e.fields),t.tags.reduce((e,[t,n])=>(e[""+t]||(e[""+t]=new Set),Array.from(n).forEach(n=>e[""+t].add(""+n)),e),e.tags),e),{measurements:{},fields:{},tags:{}});return{measurements:Object.keys(a),fields:Object.keys(r),tags:Object.entries(s).map(([e,t])=>({[e]:Array.from(t)}))}})(x,p,b),[p,x,b]);return r.a.createElement(m.Provider,{value:{loading:w,measurements:null!==(n=null==S?void 0:S.measurements)&&void 0!==n?n:[],fields:null!==(s=null==S?void 0:S.fields)&&void 0!==s?s:[],tags:null!==(d=null==S?void 0:S.tags)&&void 0!==d?d:[],searchTerm:b,setSearchTerm:y}},e)});var h=n(362),g=n(3),f=n(8);var b=({measurements:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),{setSearchTerm:s}=Object(a.useContext)(m),i=null==t?void 0:t.measurement,l=Object(a.useCallback)(e=>{let t=e;t===i?(Object(f.a)("metric_selector_add_filter"),Object(f.a)("Deselecting Measurement in Flow Query Builder"),t=""):(s(""),Object(f.a)("metric_selector_remove_filter"),Object(f.a)("Selecting Measurement in Flow Query Builder",{measurement:e})),n({measurement:t})},[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())).map(e=>r.a.createElement(g.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:g.Gradients.GundamPilot,wrapText:!0,testID:`measurement-selector ${e}`},r.a.createElement(g.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__measurement"},e),r.a.createElement("div",{className:"selectors--item-name"},"measurement"))))};var y=({fields:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),{setSearchTerm:s}=Object(a.useContext)(m),i=null==t?void 0:t.field,l=Object(a.useCallback)(e=>{let t=e;t===i?(Object(f.a)("metric_selector_add_filter"),Object(f.a)("Deselecting Field in Flow Query Builder"),t=""):(s(""),Object(f.a)("metric_selector_remove_filter"),Object(f.a)("Selecting Field in Flow Query Builder",{field:e})),n({field:t})},[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())).map(e=>r.a.createElement(g.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:g.Gradients.GundamPilot,wrapText:!0,testID:`field-selector ${e}`},r.a.createElement(g.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__field"},e),r.a.createElement("div",{className:"selectors--item-name"},"field"))))};var x=({tags:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),s=null==t?void 0:t.tags,i=Object(a.useCallback)((e,t)=>{var a;let r=[];r=s[e]?s[e]&&s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]:[t];const i=Object.assign(Object.assign({},s),{[e]:r});r.length<(null===(a=s[e])||void 0===a?void 0:a.length)?(Object(f.a)("metric_selector_add_filter"),Object(f.a)("Deselecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(i)})):(Object(f.a)("metric_selector_remove_filter"),Object(f.a)("Selecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(i)})),n({tags:i})},[n]),l=Object(a.useCallback)((e,t,a)=>{var r;if(e.metaKey||e.ctrlKey)return void i(t,a);let o=[a],l={[t]:o};(null===(r=s[t])||void 0===r?void 0:r.includes(a))&&(o=[],l[t]=o),t in s&&0===o.length?(Object(f.a)("Deselecting Tag in Flow Query Builder",{type:"single-select"}),l={}):Object(f.a)("Selecting Tag in Flow Query Builder",{type:"single-select",tags:JSON.stringify(l)}),n({tags:l})},[n]),c=e.reduce((e,t)=>{const n=Object.entries(t).reduce((e,t)=>{const n=t[0],a=t[1].map(e=>{var t;return r.a.createElement(g.List.Item,{key:`${n}::${e}`,value:e,onClick:(e,t)=>{l(t,n,e)},selected:null===(t=s[n])||void 0===t?void 0:t.includes(e),title:e,gradient:g.Gradients.GundamPilot,wrapText:!0,testID:`tag-selector ${e}`},r.a.createElement(g.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__tag"},`${n} = ${e}`),r.a.createElement("div",{className:"selectors--item-name"},"tag"))});return e.concat(a)},[]);return e.concat(n)},[]);return r.a.createElement(r.a.Fragment,null,c)};var v=()=>{const{fields:e,measurements:t,tags:n,searchTerm:s}=Object(a.useContext)(m),i=!e.length&&!t.length&&!n.length;let o=r.a.createElement(g.List,{className:"data-source--list",backgroundColor:g.InfluxColors.Obsidian},r.a.createElement(b,{measurements:t}),r.a.createElement(y,{fields:e}),r.a.createElement(x,{tags:n}));return i&&s?o=r.a.createElement(g.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("p",null,`No fields, measurements, or tags match "${s}"`)):i&&!s&&(o=r.a.createElement(g.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("h5",null,"No tags found in the selected time range"),r.a.createElement("p",null,"Try selecting a different time range"))),r.a.createElement("div",{className:"data-source--block-results"},o)};var w=()=>{const{data:e}=Object(a.useContext)(o.a),{loading:t}=Object(a.useContext)(m);return e.bucket?t===g.RemoteDataState.NotStarted||t===g.RemoteDataState.Loading?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement(g.TechnoSpinner,{strokeWidth:g.ComponentSize.Small,diameterPixels:32})):t===g.RemoteDataState.Error?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Could not fetch schema")):t===g.RemoteDataState.Done?r.a.createElement(v,null):null:r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Select a bucket first"))};const k=(e,t)=>{if(!e)return null;switch(t){case"measurement":return{id:e,name:`measurement = ${e}`,properties:{color:"hotpink",description:""},type:t};case"field":return{id:e,name:`field = ${e}`,properties:{color:"lightskyblue",description:""},type:t};case"tags":{const n=Object.keys(e);if(n){const a=[];return n.filter(t=>!!e[t]).forEach(n=>{const r=e[n].map(e=>({id:e,name:`${n} = ${e}`,properties:{color:"limegreen",description:""},type:t}));a.push(...r)}),a}return null}default:return null}};var E=()=>{const{data:e,update:t}=Object(a.useContext)(o.a);return r.a.createElement("div",{className:"data-source--filters"},r.a.createElement("p",{className:"data-source--filters-label"},"Filters:"),r.a.createElement("div",{className:"data-source--filters-list"},(()=>{const n=k(e.measurement,"measurement");let a=[];n&&(a=a.concat(n));const s=k(e.field,"field");s&&(a=a.concat(s));const i=k(e.tags,"tags");return i&&(a=a.concat(i)),a.length?a.map(n=>{const a=Object.assign({},n);return r.a.createElement(g.Label,{className:"data-source--filter",id:a.id,key:a.name,name:a.name,color:a.properties.color,description:a.properties.description,onDelete:()=>((n,a)=>{if(Object(f.a)("Deleting the Filter Label in Flow Query Builder",{type:n}),"tags"===n){const[n,r]=a.split(" = "),s=(null==e?void 0:e.tags)||{};t({tags:Object.entries(s).reduce((e,[t,a])=>t!==n?(e[t]=a,e):(e[t]=a.filter(e=>e!==r),e[t].length||delete e[t],e),{})})}else t({[n]:""})})(a.type,a.name)})}):r.a.createElement("span",null)})()))};var S=()=>{const{searchTerm:e,setSearchTerm:t}=Object(a.useContext)(m);return r.a.createElement(g.Input,{className:"data-source--search",icon:g.IconFont.Search,size:g.ComponentSize.Medium,value:e,placeholder:"Filter data by measurement, field, or tag ...",onChange:e=>{return n=e.target.value,void t(n);var n}})},C=n(42);var T=({Context:e})=>{const{id:t,data:n,update:i}=Object(a.useContext)(o.a);return r.a.createElement(s.b,{panel:t},r.a.createElement(p,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(h.a,{selected:n.bucket,onSelect:e=>{var t;(null==e?void 0:e.id)!==(null===(t=n.bucket)||void 0===t?void 0:t.id)&&(Object(f.a)("Updated Bucket",{context:"metric selector"}),i(Object.assign({bucket:e},C.c.metricSelector.initial)))},style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(E,null)),r.a.createElement(S,null),r.a.createElement(w,null)))))};var O=({Context:e})=>{const{data:t}=Object(a.useContext)(o.a);return r.a.createElement(p,null,r.a.createElement(e,null,r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(g.Dropdown,{button:(e,n)=>{var a,s;return r.a.createElement(g.Dropdown.Button,{onClick:n,active:e,icon:g.IconFont.BucketSolid,status:g.ComponentStatus.Disabled},null!==(s=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==s?s:"No Bucket Selected")},menu:e=>r.a.createElement(g.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(E,null)))))},D=(n(469),n(28));t.default=e=>{e({type:"metricSelector",family:"inputs",priority:1,component:T,readOnlyComponent:O,button:"Metric Selector",disabled:!0,initial:{field:"",measurement:"",tags:{},aggregateFunction:D.e[0]},source:e=>{var t;const{bucket:n,field:a,measurement:r,tags:s}=e;if(!n)return"";if(!(a||r||Object.values(s).length))return"";let i=`from(bucket: "${n.name}") |> range(start: v.timeRangeStart, stop: v.timeRangeStop)`;return r&&(i+=` |> filter(fn: (r) => r["_measurement"] == "${r}")`),a&&(i+=` |> filter(fn: (r) => r["_field"] == "${a}")`),s&&(null===(t=Object.keys(s))||void 0===t?void 0:t.length)>0&&Object.keys(s).filter(e=>!!s[e]).forEach(e=>{const t=s[e];1===t.length?i+=` |> filter(fn: (r) => r["${e}"] == "${t[0]}")`:t.forEach((n,a)=>{0===a&&(i+=` |> filter(fn: (r) => r["${e}"] == "${n}"`),t.length-1===a?i+=` or r["${e}"] == "${n}")`:i+=` or r["${e}"] == "${n}"`})}),i}})}},528:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(143),o=n(21),l=n(76),c=n(156),u=n(5);const d=()=>({keys:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},values:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},aggregateFunctionType:"filter"}),m={cards:[d()],add:()=>{},remove:e=>{},update:(e,t)=>{},loadKeys:(e,t)=>{},loadValues:(e,t)=>{}},p=Object(a.createContext)(m),h=e=>({key:(e.keys.selected||[])[0],values:(e.values.selected||[]).slice(0),aggregateFunctionType:e.aggregateFunctionType}),g=({children:e})=>{const{id:t,data:n,range:s,update:m}=Object(a.useContext)(o.a),{query:g,getPanelQueries:f}=Object(a.useContext)(l.a),{buckets:b}=Object(a.useContext)(i.a),[y,x]=Object(a.useState)(Array(n.tags.length).fill({keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}));Object(a.useEffect)(()=>{if("string"==typeof n.buckets[0]){const e=b.find(e=>e.name===n.buckets[0]);return e?void m({buckets:[e]}):void m({buckets:[{type:"user",name:n.buckets[0]}]})}if(n.tags.length)return;const e=d();e.keys.selected=["_measurement"],m({tags:[e].map(h)}),x([{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}])},[n.buckets]);const v=Object(a.useMemo)(()=>n.tags.map((e,t)=>((e,t)=>{var n,a,r,s;const i=d();return i.keys.selected=[e.key],i.keys.results=null!==(n=null==t?void 0:t.keys)&&void 0!==n?n:[],i.keys.loading=null!==(a=null==t?void 0:t.loadingKeys)&&void 0!==a?a:u.RemoteDataState.NotStarted,i.values.selected=[...e.values],i.values.results=null!==(r=null==t?void 0:t.values)&&void 0!==r?r:[],i.values.loading=null!==(s=null==t?void 0:t.loadingValues)&&void 0!==s?s:u.RemoteDataState.NotStarted,i.aggregateFunctionType=e.aggregateFunctionType,i})(e,y[t])),[n.tags,y]),w=Object(a.useCallback)(()=>{v.push(d()),x([...y,{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}]),m({tags:v.map(h)})},[v]),k=Object(a.useCallback)((e,a)=>{if(!n.buckets[0]||"string"==typeof n.buckets[0]||!v[e])return;if(!y[e])return;if(y[e].loadingKeys===u.RemoteDataState.Loading)return;y.splice(e,1,Object.assign(Object.assign({},y[e]),{loadingKeys:u.RemoteDataState.Loading})),x([...y]);const r=v.filter(e=>e.keys.selected[0]&&e.values.selected.length).map(e=>`(${e.values.selected.map(t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`),i=r.length?r.join(" and "):"true",o=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",l=v.slice(0,e).map(e=>`r._value != "${e.keys.selected[0]}"`),d=l.length?`\n  |> filter(fn: (r) => ${l.join(" and ")})`:"",{scope:p}=f(t);let b;b="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,g(`${b}\n              |> range(${Object(c.d)(s)})\n              |> filter(fn: (r) => ${i})\n              |> keys()\n              |> keep(columns: ["_value"])\n              |> distinct()${o}${d}\n              |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n              |> sort()\n              |> limit(n: 200)`,p).then(e=>e.parsed.table.getColumn("_value","string")||[]).then(t=>{v[e].keys.selected[0]?t.includes(v[e].keys.selected[0])||t.unshift(v[e].keys.selected[0]):(0===e&&t.includes("_measurement")?v[e].keys.selected=["_measurement"]:v[e].keys.selected=[t[0]],m({tags:v.map(h)})),y.splice(e,1,{keys:t,values:[],loadingKeys:u.RemoteDataState.Done,loadingValues:u.RemoteDataState.NotStarted}),x([...y])}).catch(()=>{})},[n.buckets,v]),E=Object(a.useCallback)((e,a)=>{if(y[e].loadingValues===u.RemoteDataState.Loading)return;y.splice(e,1,Object.assign(Object.assign({},y[e]),{loadingValues:u.RemoteDataState.Loading})),x([...y]);const r=v.slice(0,e).filter(e=>e.keys.selected[0]&&e.values.selected.length).map(e=>`(${e.values.selected.map(t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`),i=r.length?r.join(" and "):"true",o=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",{scope:l}=f(t);let d;d="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,g(`${d}\n              |> range(${Object(c.d)(s)})\n              |> filter(fn: (r) => ${i})\n              |> keep(columns: ["${v[e].keys.selected[0]}"])\n              |> group()\n              |> distinct(column: "${v[e].keys.selected[0]}")${o}\n              |> limit(n: 200)\n              |> sort()`,l).then(e=>e.parsed.table.getColumn("_value","string")||[]).then(t=>{y.splice(e,1,Object.assign(Object.assign({},y[e]),{values:t,loadingValues:u.RemoteDataState.Done})),x([...y])}).catch(()=>{})},[n.buckets,v]);return r.a.createElement(p.Provider,{value:{cards:v,add:w,remove:e=>{0===e||e>v.length||(v.splice(e,1),y.splice(e,1),x(y.map((t,n)=>n<e?t:{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted})),m({tags:v.map(h)}))},update:(e,t)=>{var a,r,s;if(e<0||e>n.tags.length)return;const i=Object.assign(Object.assign(Object.assign({},v[e]),t),{keys:Object.assign(Object.assign({},v[e].keys),t.keys||{}),values:Object.assign(Object.assign({},v[e].values),t.values||{})});(null===(a=i.keys)||void 0===a?void 0:a.selected[0])!==(null===(s=null===(r=v[e])||void 0===r?void 0:r.keys)||void 0===s?void 0:s.selected[0])&&(y.splice(e,1,Object.assign(Object.assign({},y[e]),{values:[],loadingValues:u.RemoteDataState.NotStarted})),x([...y])),v[e]=Object.assign(Object.assign({},v[e]),i),m({tags:v.map(h)})},loadKeys:k,loadValues:E}},e)};var f=()=>{const{cards:e,add:t}=Object(a.useContext)(p),n=Object(a.useCallback)(()=>{t()},[t]);if(!e.length)return null;const{keys:i}=e[e.length-1];return 0===i.results.length&&i.loading===u.RemoteDataState.Done?null:r.a.createElement(s.SquareButton,{className:"query-builder--add-card-button",onClick:n,icon:s.IconFont.Plus})},b=n(69);var y=()=>{const{data:e,update:t}=Object(a.useContext)(o.a),{loading:n,buckets:l}=Object(a.useContext)(i.a),[c,d]=Object(a.useState)(""),m=n=>{e.buckets=n?[n]:[],e.tags=[],t(e)};if(Object(a.useEffect)(()=>{if(n!==u.RemoteDataState.Done)return;if(!e.buckets.length)return;const t=l.reduce((e,t)=>(e[t.name]=!0,e),{}),a=e.buckets.filter(e=>t.hasOwnProperty(e.name));e.buckets.length!=a.length&&m()},[l]),n===u.RemoteDataState.Done&&!l.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Empty,null,"No buckets found"));const p=l.filter(e=>!c.length||e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase()));if(!p.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(s.Input,{value:c,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>d(e.target.value)})),r.a.createElement(b.a.Empty,null,"No buckets matched your search"));const h=p.reduce((e,t)=>(e[t.type].push(t),e),{user:[],system:[],sample:[]}),g=t=>{const n=!!e.buckets.find(e=>e.name===t.name),a=n?"Click to remove this filter":`Click to filter by ${t.name}`;return r.a.createElement(s.List.Item,{className:"selector-list--item",testID:`selector-list ${t.name}`,key:t.name,value:t.name,onClick:m,title:a,selected:n,size:s.ComponentSize.ExtraSmall,gradient:s.Gradients.GundamPilot,wrapText:!1},t.name)};return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(s.Input,{value:c,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>d(e.target.value)})),r.a.createElement(s.List,{autoHideScrollbars:!0,testID:"buckets-list",style:{flex:"1 0 0"}},h.user.length&&r.a.createElement(s.List.Divider,{key:"userHeader",text:"user",size:s.ComponentSize.ExtraSmall}),h.user.map(g),h.system.length&&r.a.createElement(s.List.Divider,{key:"systemHeader",text:"system",size:s.ComponentSize.ExtraSmall}),h.system.map(g),h.sample.length&&r.a.createElement(s.List.Divider,{key:"sampleHeader",text:"sample",size:s.ComponentSize.ExtraSmall}),h.sample.map(g)))},x=n(297),v=n(298),w=n(144),k=n(212);const E=[],S=(e,t)=>{E[e]&&clearTimeout(E[e]),E[e]=setTimeout(()=>{t(),delete E[e]},500)},C=({idx:e})=>{const{cards:t,add:n,update:i,remove:l,loadKeys:c,loadValues:d}=Object(a.useContext)(p),{data:m}=Object(a.useContext)(o.a),h=t[e],[g,f]=Object(a.useState)([]),[y,E]=Object(a.useState)([]),C=0!==e&&(()=>{l(e)}),T=t=>{i(e,{aggregateFunctionType:t.toLowerCase()})},O=Object(a.useCallback)(t=>{g[e]=t,f([...g]),S(e,()=>{c(e,t)})},[c,h.keys,e]),D=t=>{y[e]=t,E([...y]),S(e,()=>{d(e,t)})},j=a=>{const r=[...h.values.selected],s=r.indexOf(a);if(-1===s?r.push(a):r.splice(s,1),i(e,{values:Object.assign(Object.assign({},h.values),{selected:r})}),-1===s&&1===r.length&&e===t.length-1)n();else for(let n=e+1;n<t.length;n++)c(n)};if(Object(a.useEffect)(()=>{m.buckets[0]&&h.keys.loading===u.RemoteDataState.NotStarted&&c(e)},[m.buckets,h.keys.loading]),Object(a.useEffect)(()=>{h.keys.loading===u.RemoteDataState.Done&&h.values.loading!==u.RemoteDataState.Done&&d(e)},[h.keys.loading,h.values.loading]),h.keys.loading===u.RemoteDataState.NotStarted){let t="Select a value first";return 0===e&&(t="Select a bucket first"),r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,t))}if(h.keys.loading===u.RemoteDataState.Error)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,"Failed to load tag keys"));if(h.keys.loading===u.RemoteDataState.Done&&!h.keys.results.length)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,{testID:"empty-tag-keys"},"No tag keys found ",r.a.createElement("small",null,"in the current time range")));let I;return I=h.values.loading===u.RemoteDataState.Error?r.a.createElement(b.a.Empty,null,`Failed to load tag values for ${h.keys.selected[0]}`):h.values.loading===u.RemoteDataState.Loading||h.values.loading===u.RemoteDataState.NotStarted?r.a.createElement(b.a.Empty,null,r.a.createElement(k.a,{text:"Loading tag values"})):h.values.loading!==u.RemoteDataState.Done||h.values.results.length?r.a.createElement(w.a,{items:h.values.results,selectedItems:h.values.selected,onSelectItem:j,multiSelect:!0}):r.a.createElement(b.a.Empty,null,"No values found ",r.a.createElement("small",null,"in the current time range")),"group"===h.aggregateFunctionType?r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map(e=>e.toUpperCase()),selectedOption:h.aggregateFunctionType.toUpperCase(),onDelete:C,onSelect:T}),r.a.createElement(b.a.Menu,null,r.a.createElement(s.Input,{value:y[e]||"",placeholder:`Search ${h.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{D(e.target.value)}})),I):r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map(e=>e.toUpperCase()),selectedOption:h.aggregateFunctionType.toUpperCase(),onDelete:C,onSelect:T}),r.a.createElement(b.a.Menu,null,r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,alignItems:s.AlignItems.Center,margin:s.ComponentSize.Small},r.a.createElement(v.a,{searchTerm:g[e]||"",emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:h.keys.selected[0],onSelect:t=>{i(e,{keys:Object.assign(Object.assign({},h.keys),{selected:[t]})})},buttonStatus:Object(x.a)(h.keys.loading),onChangeSearchTerm:O,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:h.keys.results})),r.a.createElement(s.Input,{value:y[e]||"",placeholder:`Search ${h.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{D(e.target.value)}})),I)};var T=()=>{const{cards:e}=Object(a.useContext)(p);return e.length?r.a.createElement(r.a.Fragment,null,e.map((e,t)=>r.a.createElement(C,{key:t,idx:t}))):null};var O=({Context:e})=>{const{id:t}=Object(a.useContext)(o.a);return r.a.createElement(i.b,{panel:t},r.a.createElement(g,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(s.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(y,null),r.a.createElement(T,null),r.a.createElement(f,null))))))))};var D=({Context:e})=>{const{data:t}=Object(a.useContext)(o.a);return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(s.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(s.Dropdown,{button:(e,n)=>{var a;return r.a.createElement(s.Dropdown.Button,{onClick:n,active:e,icon:s.IconFont.BucketSolid,status:s.ComponentStatus.Disabled},null!==(a=t.buckets[0])&&void 0!==a?a:"No Bucket Selected")},menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))),t.tags.map(e=>r.a.createElement(b.a,{key:e.key},r.a.createElement(b.a.Header,{title:e.aggregateFunctionType.toUpperCase()}),r.a.createElement(s.Dropdown,{button:(t,n)=>r.a.createElement(s.Dropdown.Button,{onClick:n,active:t,icon:"filter"===e.aggregateFunctionType?s.IconFont.FunnelSolid:s.IconFont.Link,status:s.ComponentStatus.Disabled},e.key),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}}),r.a.createElement(w.a,{items:e.values,selectedItems:e.values,onSelectItem:()=>{},multiSelect:!0}))))))))};n(477),t.default=e=>{e({type:"queryBuilder",family:"inputs",priority:1,component:O,featureFlag:"flow-panel--query-builder",button:"Query Builder",initial:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}]},readOnlyComponent:D,source:e=>{if(!e.buckets[0]||!e.tags.reduce((e,t)=>e.concat(t.values),[]).length)return"";const t=e.tags.map(e=>{if(!e.key)return"";if("filter"===e.aggregateFunctionType){if(!e.values.length)return"";return`\n  |> filter(fn: (r) => ${e.values.map(t=>`r["${e.key}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`}if("group"===e.aggregateFunctionType){const t=e.values.map(e=>`"${e}"`);return t.length?`\n  |> group(columns: [${t.join(", ")}])`:"\n  |> group()"}return""}).join("");let n;return n="sample"===e.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${e.buckets[0].id}")`:`from(bucket: "${e.buckets[0].name}")`,`${n} |> range(start: v.timeRangeStart, stop: v.timeRangeStop)${t}`}})}},529:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(4),i=n(79),o=n(3),l=n(21),c=n(76),u=n(115);const d=({expression:e,onClickFunction:t,testID:n})=>r.a.createElement("dd",{"data-testid":n,className:"flux-toolbar--list-item flux-toolbar--function"},r.a.createElement("code",null,e),r.a.createElement(o.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:o.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:o.ComponentColor.Primary}));d.defaultProps={testID:"alert-expression"};var m=d;var p,h=({parsed:e,onSelect:t})=>{const[n,s]=Object(a.useState)(""),i=Object(a.useCallback)(e=>{s(e.target.value)},[n,s]),l=Object(a.useMemo)(()=>((e,t)=>{var n,a;const r=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const s=e.table,i=null===(n=s.columns._field)||void 0===n?void 0:n.data,o=s.columnKeys.filter(e=>r.reduce((t,n)=>t&&!n.test(e),!0)),l=["_start","_stop","_measurement"],c={fields:new Set(null==i?void 0:i.filter(e=>e.toLowerCase().includes(t.toLowerCase()))),tags:new Set(null==o?void 0:o.filter(e=>s.columns[e].data.filter(e=>e)&&e.toLowerCase().includes(t.toLowerCase()))),columns:null===(a=s.columnKeys)||void 0===a?void 0:a.filter(e=>l.includes(e)&&e.toLowerCase().includes(t.toLowerCase())),system:["_check_id","_check_name","_level","_notebook_link","_source_measurement","_type"].filter(e=>e.toLowerCase().includes(t.toLowerCase()))},u={};return Object.keys(c).forEach(e=>{(c[e].length||c[e].size)&&(u[e]=Array.from(c[e]))}),u})(e,n),[e,n]);let c;return c=Object.keys(l).length?r.a.createElement(r.a.Fragment,null,Object.keys(l).sort((e,t)=>((e,t)=>{const n=["measurements","fields","tags","columns","system"];return n.indexOf(e)-n.indexOf(t)})(e,t)).map(e=>{return r.a.createElement("dl",{className:"flux-toolbar--category",key:e},r.a.createElement("dt",{className:"flux-toolbar--heading"},(n=e).charAt(0).toUpperCase()+n.slice(1)),l[e].map(n=>r.a.createElement(m,{onClickFunction:t,key:`${e}-${n}`,testID:`${e}-${n}`,expression:n})));var n})):r.a.createElement(o.EmptyState,{size:o.ComponentSize.ExtraSmall},r.a.createElement(o.EmptyState.Text,null,"No expressions match your search")),r.a.createElement("div",{className:"flux-toolbar"},r.a.createElement("div",{className:"flux-toolbar--search"},r.a.createElement(o.Input,{type:o.InputType.Text,icon:o.IconFont.Search,placeholder:"Filter Expressions...",onChange:i,value:n,testID:"flux-toolbar-search--input"})),r.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},c))},g=n(136),f=n(78),b=(n(473),n(8));!function(e){e.Value="value",e.Range="range",e.Deadman="deadman"}(p||(p={}));const y="missing-for-longer-than",x={greater:{name:"greater than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] > ${e.value})`},"greater-equal":{name:"greater than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] >= ${e.value})`},less:{name:"less than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] < ${e.value})`},"less-equal":{name:"less than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] <= ${e.value})`},equal:{name:"equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] == ${e.value})`},"not-equal":{name:"not equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] != ${e.value})`},between:{name:"between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] > ${e.min} and r["${e.field}"] < ${e.max})`},"not-between":{name:"not between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] < ${e.min} or r["${e.field}"] > ${e.max})`},[y]:{name:"missing for longer than",format:p.Deadman,condition:e=>'(r) => (r["dead"])'}};var v=({readOnly:e})=>{var t;const{data:n,update:s,results:i}=Object(a.useContext)(l.a),c=Array.from(new Set(null===(t=i.parsed.table.columns._field)||void 0===t?void 0:t.data)),u=Object(a.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.thresholds)&&void 0!==e?e:[]},[null==n?void 0:n.thresholds]),d=Object(a.useCallback)((e,t)=>{if(!x[e])return;Object(b.a)("Changed Notification Threshold",{type:e});const n=u.find((e,n)=>t===n);if(!n)return;n.type=e,n.field=n.field||"_value";let a=u;x[e].format===p.Range?(n.min=0,n.max=100):x[e].format===p.Deadman?a=[{type:y,deadmanCheckValue:"5s",deadmanStopValue:"90s",field:n.field||"_value"}]:n.value=20,s({thresholds:a})},[u,s]),m=Object(a.useCallback)((e,t)=>{Object(b.a)("Changed Notification Threshold Column");const n=u.find((e,n)=>t===n);n&&(n.field=e),s({thresholds:u})},[u,s]),h=Object(a.useCallback)((t,n)=>{const a=Object.entries(x).filter(([e])=>!(n>0&&e===y)).map(([a,s])=>r.a.createElement(o.Dropdown.Item,{key:a,value:a,onClick:e=>d(e,n),selected:a===(null==t?void 0:t.type),title:s.name,disabled:!!e},null==s?void 0:s.name));return r.a.createElement(o.Dropdown,{menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>{var s;return r.a.createElement(o.Dropdown.Button,{onClick:a,active:n,size:o.ComponentSize.Medium,status:e?o.ComponentStatus.Disabled:o.ComponentStatus.Default},(null===(s=x[null==t?void 0:t.type])||void 0===s?void 0:s.name)||"Select a function")}})},[d]),v=Object(a.useCallback)((t,n)=>{const a=c.map(a=>r.a.createElement(o.Dropdown.Item,{key:a,value:a,onClick:e=>m(e,n),selected:a===(null==t?void 0:t.field),title:a,disabled:!!e},a));return r.a.createElement(o.Dropdown,{menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>r.a.createElement(o.Dropdown.Button,{onClick:a,active:n,size:o.ComponentSize.Medium,status:e?o.ComponentStatus.Disabled:o.ComponentStatus.Default},(null==t?void 0:t.field)||"Select a numeric column")})},[c,m]),w=e=>{s({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanCheckValue:e,type:y})]})},k=e=>{s({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanStopValue:e,type:y})]})},E=(t,n)=>{var a,i,l;return(null==t?void 0:t.type)===y?r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(o.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(g.a,{suggestions:f.b,onSubmit:w,value:null!==(a=t.deadmanCheckValue)&&void 0!==a?a:"5s",showDivider:!1})),r.a.createElement(o.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),r.a.createElement(o.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(g.a,{suggestions:f.b,onSubmit:k,value:null!==(i=t.deadmanStopValue)&&void 0!==i?i:"90s",showDivider:!1}))):(null===(l=x[null==t?void 0:t.type])||void 0===l?void 0:l.format)===p.Range?r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"min",value:t.min,onChange:e=>((e,t)=>{const n=u.find((e,n)=>t===n);n&&(n.min=e.target.value),s({thresholds:u})})(e,n),size:o.ComponentSize.Medium,status:e?o.ComponentStatus.Disabled:o.ComponentStatus.Default})),r.a.createElement(o.TextBlock,{testID:"is-value-text-block",text:"to"}),r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"max",value:t.max,onChange:e=>((e,t)=>{const n=u.find((e,n)=>t===n);n&&(n.max=e.target.value),s({thresholds:u})})(e,n),size:o.ComponentSize.Medium,status:e?o.ComponentStatus.Disabled:o.ComponentStatus.Default}))):r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"value",value:t.value,onChange:e=>((e,t)=>{Object(b.a)("Alert Panel (Notebooks) - Threshold Value Entered");const n=u.find((e,n)=>t===n);n&&(n.value=e.target.value),s({thresholds:u})})(e,n),size:o.ComponentSize.Medium,status:e?o.ComponentStatus.Disabled:o.ComponentStatus.Default})))};return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Small,testID:"component-spacer",style:{padding:"24px 0"}},u.map((t,n)=>r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.Medium,stretchToFitWidth:!0,testID:"component-spacer",key:`${t.type}_${n}`},r.a.createElement(o.TextBlock,{testID:"when-value-text-block",text:0===n?"When":"And",style:{minWidth:56,textAlign:"center"}}),r.a.createElement(o.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},v(t,n)),r.a.createElement(o.TextBlock,{testID:"is-value-text-block",text:"is"}),r.a.createElement(o.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},h(t,n)),r.a.createElement(o.FlexBox.Child,{grow:3,testID:"component-spacer--flex-child"},E(t,n)),r.a.createElement(o.FlexBox.Child,{grow:4,testID:"component-spacer--flex-child"},0===n||e?null:r.a.createElement("div",{className:"threshold-trash-icon--block",onClick:()=>(e=>{const t=u.slice();t.splice(e,1),s({thresholds:t})})(n)},r.a.createElement(o.Icon,{glyph:o.IconFont.Trash}))))),u[0].type!==y&&!e&&r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement("div",{className:"threshold-add-icon--block",onClick:()=>{Object(b.a)("Alert Panel (Notebooks) - New Threshold Added"),s({thresholds:[...u,{type:"greater",value:0}]})}},r.a.createElement(o.TextBlock,{testID:"add-value-text-block",text:"+",style:{fontWeight:400,fontSize:25,textAlign:"center",minWidth:56}}))))},w=n(167),k=n(360),E=n(92),S=n(5),C=n(11),T=n(12),O=n(23),D=(n(343),n(42));const j=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(20)]).then(n.bind(null,2532)));var I=({Context:e})=>{var t,n,d,m,p;const g=Object(s.d)(),{id:f,data:I,update:N,results:_,loading:R}=Object(a.useContext)(l.a),{query:A,simplify:M,getPanelQueries:F}=Object(a.useContext)(c.a),{hideSub:$,id:L,show:P,showSub:z}=Object(a.useContext)(E.a),[B,V]=Object(a.useState)(S.RemoteDataState.NotStarted),[G,U]=Object(a.useState)(null);let q="",H="";I.interval?I.interval!==(null===(t=I.interval.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===t?void 0:t.join(""))&&(q="Invalid Time"):q="Required",I.offset&&I.offset!==(null===(n=I.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))&&(H="Invalid Time");const Y=Object(a.useMemo)(()=>R===S.RemoteDataState.Loading?"Loading":R===S.RemoteDataState.NotStarted?D.g:"No Data Returned",[R]),W=null===(d=F(f,!0))||void 0===d?void 0:d.source,K=Object(a.useMemo)(()=>!!Object.keys(Object(u.d)(Object(i.parse)(M(W)),e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{})).length,[W]),X=((null===(p=null===(m=null==_?void 0:_.parsed)||void 0===m?void 0:m.table)||void 0===p?void 0:p.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const t=_.parsed.table.getColumnType(e);return"time"===t||"number"===t}),Z=e=>{N({message:e})},Q=Object(a.useCallback)(e=>{if(!G)return;const t=G.getPosition(),n=[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:` \${r.${e}} `}];G.executeEdits("",n),Z(G.getValue())},[G]),J=Object(a.useMemo)(()=>{if(K)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))},[K]),ee=Object.keys(w.a).map(e=>r.a.createElement(o.Dropdown.Item,{key:e,id:e,onClick:()=>{return t=e,Object(b.a)("Changed Notification Endpoint",{which:t}),void N({endpoint:t,endpointData:w.a[t].data});var t},selected:I.endpoint===e},w.a[e].name)),te=Object(a.useCallback)(()=>{var e,t;const n=Object(i.parse)(M(W)),[a]=I.thresholds,r=Object(u.d)(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});r.timeRangeStart=`-${null==a?void 0:a.deadmanStopValue}`;const s=Object(u.d)(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),o=x[y].condition(a),l=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${f}",\n\t_check_name: "Notebook Generated Deadman Check",\n\t_type: "deadman",\n\ttags: {},\n}\n\nnotification = {\n\t_notification_rule_id: "${f}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${f}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.format_from_js_file)(n)}\ntrigger = ${o}\nmessageFn = (r) => ("${I.message}")\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateQuery(I.endpointData)}\n|> monitor["deadman"](t: experimental["subDuration"](from: now(), d: ${a.deadmanCheckValue}))`,c=Object(i.parse)(l);if(s.name||(s.name=`"Notebook Deadman Task for ${f}"`),I.interval&&(s.every=I.interval),I.offset&&(s.offset=I.offset),Object.keys(r).length){const e=Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(i.parse)(`option v = {${e}}\n`);c.body.unshift(t.body[0])}const d=Object.entries(s).map(([e,t])=>`${e}: ${t}`).join(",\n"),m=Object(i.parse)(`option task = {${d}}\n`);return c.body.unshift(m.body[0]),Object(i.format_from_js_file)(c)},[f,W,I.every,I.offset,I.endpointData,I.endpoint,I.thresholds,I.message]),ne=Object(a.useCallback)(()=>{var e,t;if(I.thresholds[0].type===y)return te();const n=Object(i.parse)(M(W)),a=Object(u.d)(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),r=Object(u.d)(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),s=I.thresholds.map(e=>x[e.type].condition(e)).join(" and "),o=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${f}",\n\t_check_name: "Notebook Generated Check",\n\t_type: "custom",\n\ttags: {},\n}\nnotification = {\n\t_notification_rule_id: "${f}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${f}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.format_from_js_file)(n)}\ntrigger = ${s}\nmessageFn = (r) => ("${I.message}")\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateQuery(I.endpointData)}`,l=Object(i.parse)(o);if(r.name||(r.name=`"Notebook Task for ${f}"`),I.interval&&(r.every=I.interval),I.offset&&(r.offset=I.offset),Object.keys(a).length){const e=Object.entries(a).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(i.parse)(`option v = {${e}}\n`);l.body.unshift(t.body[0])}const c=Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(",\n"),d=Object(i.parse)(`option task = {${c}}\n`);return l.body.unshift(d.body[0]),Object(i.format_from_js_file)(l)},[f,W,I.every,I.offset,I.endpointData,I.endpoint,I.thresholds,I.message]);return R===S.RemoteDataState.NotStarted||R===S.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},Y))),J):X.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(v,null),r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Check Every",required:!0,errorMessage:q,style:{paddingBottom:"4px"}},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:I.interval,onChange:e=>{N({interval:e.target.value})},status:q?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Query Offset",required:!0,errorMessage:H},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:I.offset,onChange:e=>{N({offset:e.target.value})},status:H?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium})))),r.a.createElement(o.FlexBox,{alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,null,r.a.createElement(o.Form.Element,{label:"Notification",required:!0},r.a.createElement(o.Panel,{backgroundColor:o.InfluxColors.Onyx},r.a.createElement(o.Panel.Body,null,r.a.createElement(o.FlexBox,{justifyContent:o.JustifyContent.FlexEnd,alignItems:o.AlignItems.FlexEnd,margin:o.ComponentSize.Medium},Object(O.c)("notebooksExp")&&r.a.createElement(o.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(o.Button,{text:"${exp}",onClick:()=>{L===f?$():(P(f),z(r.a.createElement(h,{parsed:null==_?void 0:_.parsed,onSelect:Q})))},color:o.ComponentColor.Secondary,testID:"notification-exp-button",status:G?o.ComponentStatus.Default:o.ComponentStatus.Loading})),r.a.createElement(o.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(o.Button,{text:"Test Alert",status:B===S.RemoteDataState.Loading?o.ComponentStatus.Loading:o.ComponentStatus.Default,onClick:async()=>{var e,t;Object(b.a)("Alert Panel (Notebooks) - Test Alert Clicked");const n=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateTestImports()}\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateTestQuery(I.endpointData)}`;try{V(S.RemoteDataState.Loading),await A(n),V(S.RemoteDataState.Done),g(Object(C.c)(Object(T.Hd)(I.endpoint)))}catch(e){V(S.RemoteDataState.Error),g(Object(C.c)(Object(T.Gd)(I.endpoint)))}},color:o.ComponentColor.Primary}))),r.a.createElement(o.FlexBox,{alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium},r.a.createElement(o.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(o.Dropdown.Menu,{className:"flows-endpoints--dropdown"},ee)),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(w.a[I.endpoint].component))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:S.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(j,{text:I.message,onChangeText:Z,setEditorInstance:U}))))))))))),r.a.createElement(o.Panel.Footer,{justifyContent:o.JustifyContent.FlexEnd},r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(k.a,{generate:ne,text:"Export Alert Task",type:"alert"})))),J):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))),J)};const N=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(20)]).then(n.bind(null,2532)));var _=({Context:e})=>{var t,n;const{data:s,results:i,loading:c}=Object(a.useContext)(l.a),u=Object(a.useMemo)(()=>c===S.RemoteDataState.Loading?"Loading":c===S.RemoteDataState.NotStarted?D.g:"No Data Returned",[c]),d=((null===(n=null===(t=null==i?void 0:i.parsed)||void 0===t?void 0:t.table)||void 0===n?void 0:n.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const t=i.parsed.table.getColumnType(e);return"time"===t||"number"===t});return c===S.RemoteDataState.NotStarted||c===S.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},u)))):d.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(v,{readOnly:!0}),r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Check Every",required:!0,style:{paddingBottom:"4px"}},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:s.interval,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Query Offset",required:!0},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:s.offset,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium})))),r.a.createElement(o.FlexBox,{alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,null,r.a.createElement(o.Form.Element,{label:"Notification",required:!0},r.a.createElement(o.Panel,{backgroundColor:o.InfluxColors.Onyx},r.a.createElement(o.Panel.Body,null,r.a.createElement(o.FlexBox,{alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium},r.a.createElement(o.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(o.Dropdown.Menu,{className:"flows-endpoints--dropdown"},r.a.createElement(o.Dropdown.Item,{selected:!0},w.a[s.endpoint].name))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(w.a[s.endpoint].readOnlyComponent))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(o.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:S.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(N,{text:s.message,onChangeText:()=>{},readOnly:!0}))))))))))))):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))))};t.default=e=>{e({type:"notification",family:"output",priority:1,component:I,readOnlyComponent:_,featureFlag:"flow-panel--notification",button:"Alert",initial:{interval:"10m",offset:"0s",thresholds:[{type:"greater",value:0}],message:"${strings.title(v: r._type)} for ${r._source_measurement} triggered at ${time(v: r._source_timestamp)}!",endpoint:"slack",endpointData:{url:"https://hooks.slack.com/services/X/X/X"}},visual:(e,t)=>t})}},53:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o}));const a=100,r=100,s=100,i=100,o=500},530:function(e,t,n){"use strict";n.r(t);var a=n(79),r=n(115),s=n(2),i=n.n(s),o=n(3),l=n(21),c=n(92),u=n(72);const d=({func:e})=>{let t=i.a.createElement("div",{className:"flux-function-docs--arguments"},"None");return e.args.length>0&&(t=i.a.createElement(i.a.Fragment,null,e.args.map(e=>i.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},i.a.createElement("span",null,e.name,":"),i.a.createElement("span",null,e.type),i.a.createElement("div",null,e.desc))))),i.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${e.name}`},i.a.createElement(o.DapperScrollbars,{autoHide:!1},i.a.createElement("div",{className:"flux-toolbar--popover"},i.a.createElement("article",{className:"flux-functions-toolbar--description"},i.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),i.a.createElement("span",null,e.desc)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),i.a.createElement("div",{className:"flux-function-docs--snippet"},t)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),i.a.createElement("div",{className:"flux-function-docs--snippet"},e.example)),i.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",i.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.link},"Flux Docs"),"."))))},m=({func:e,onClickFunction:t,testID:n})=>{const a=Object(s.createRef)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.Popover,{appearance:o.Appearance.Outline,enableDefaultStyles:!1,position:o.PopoverPosition.ToTheLeft,triggerRef:a,showEvent:o.PopoverInteraction.Hover,hideEvent:o.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>i.a.createElement(d,{func:e})}),i.a.createElement("dd",{ref:a,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},i.a.createElement("code",null,e.name),i.a.createElement(o.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:o.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:o.ComponentColor.Primary})))};m.defaultProps={testID:"flux-function"};var p=m;var h=({onSelect:e})=>{const[t,n]=Object(s.useState)(""),a=Object(s.useCallback)(e=>{n(e.target.value)},[t,n]),r=Object(s.useMemo)(()=>u.b.filter(e=>!t.length||e.name.toLowerCase().includes(t.toLowerCase())).reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),[t]);return Object(s.useMemo)(()=>{let n;return n=Object.keys(r).length?Object.entries(r).map(([t,n])=>i.a.createElement("dl",{className:"flux-toolbar--category",key:t},i.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map(t=>i.a.createElement(p,{onClickFunction:e,key:`${t.name}_${t.desc}`,func:t,testID:t.name})))):i.a.createElement(o.EmptyState,{size:o.ComponentSize.ExtraSmall},i.a.createElement(o.EmptyState.Text,null,"No functions match your search")),i.a.createElement("div",{className:"flux-toolbar"},i.a.createElement("div",{className:"flux-toolbar--search"},i.a.createElement(o.Input,{type:o.InputType.Text,icon:o.IconFont.Search,placeholder:"Filter Functions...",onChange:a,value:t,testID:"flux-toolbar-search--input"})),i.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},n))},[t,e])},g=(n(249),n(8));const f=Object(s.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var b=({Context:e})=>{const{id:t,data:n,update:a}=Object(s.useContext)(l.a),{hideSub:r,id:u,show:d,showSub:m}=Object(s.useContext)(c.a),[p,b]=Object(s.useState)(null),{queries:y,activeQuery:x}=n,v=y[x],w=Object(s.useCallback)(e=>{const t=y.slice();t[x]=Object.assign(Object.assign({},y[x]),{text:e}),a({queries:t})},[a,y,x]),k=Object(s.useCallback)(e=>{if(!p)return;const t=p.getPosition(),n=v.text.split("\n");let a=t.lineNumber,r="";(n[a]||n[n.length-1]).trim()&&(a=t.lineNumber+1);const[s]=p.getVisibleRanges();let i=a>s.endLineNumber;1===t.lineNumber&&1===t.column&&(i=!0,a=s.endLineNumber+1),r=i?`\n  |> ${e.example}`:`  |> ${e.example}\n`,"from"!==e.name&&"union"!==e.name||(r=`\n${e.example}\n`);const o=[{range:new window.monaco.Range(a,1,a,1),text:r}];e.package&&!p.getModel().getValue().includes(`import "${e.package}"`)&&o.unshift({range:new window.monaco.Range(1,1,1,1),text:`import "${e.package}"\n`}),p.executeEdits("",o),w(p.getValue())},[p,v.text]),E=i.a.createElement(o.Button,{text:"Functions",icon:o.IconFont.Function,onClick:()=>{u===t?(Object(g.a)("Flux Panel (Notebooks) - Toggle Functions - Off"),r()):(Object(g.a)("Flux Panel (Notebooks) - Toggle Functions - On"),d(t),m(i.a.createElement(h,{onSelect:k})))},color:o.ComponentColor.Default,titleText:"Function Reference",className:"flows-config-function-button"});return i.a.createElement(e,{controls:E},i.a.createElement(s.Suspense,{fallback:i.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:i.a.createElement(o.TechnoSpinner,null)})},i.a.createElement(f,{script:v.text,onChangeScript:w,onSubmitScript:()=>{},setEditorInstance:b,wrapLines:"on",autogrow:!0})))};const y=Object(s.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var x=({Context:e})=>{const{data:t}=Object(s.useContext)(l.a),{queries:n,activeQuery:a}=t,r=n[a];return i.a.createElement(e,null,i.a.createElement(s.Suspense,{fallback:i.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:i.a.createElement(o.TechnoSpinner,null)})},i.a.createElement(y,{script:r.text,onChangeScript:()=>{},onSubmitScript:()=>{},autogrow:!0,readOnly:!0,wrapLines:"on"})))};t.default=e=>{e({type:"rawFluxEditor",family:"inputs",priority:0,component:b,readOnlyComponent:x,featureFlag:"flow-panel--raw-flux",button:"Flux Script",initial:{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}]},source:(e,t)=>{try{const n=Object(a.parse)(t),s=Object(a.parse)(e.queries[e.activeQuery].text),i=n.body.map(e=>e.location.source).join("\n");return s.body.length?(s.imports=Object.values(n.imports.concat(s.imports).reduce((e,t)=>(e[t.path.value]=t,e),{})),Object(r.c)(s,e=>!!Object.keys(e.comments||{}).length).forEach(e=>{delete e.comments}),Object(r.c)(s,e=>"Identifier"===e.type&&"__PREVIOUS_RESULT__"===e.name).forEach(e=>{e.name=i}),Object(a.format_from_js_file)(s)):""}catch(e){return}}})}},531:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(15),o=n.n(i),l=n(21);var c=()=>{const{data:e,update:t}=Object(a.useContext)(l.a);return r.a.createElement(s.SelectGroup,null,r.a.createElement(s.SelectGroup.Option,{active:"edit"===e.mode,onClick:()=>t({mode:"edit"}),value:"edit",id:"edit"},"Edit"),r.a.createElement(s.SelectGroup.Option,{active:"preview"===e.mode,onClick:()=>t({mode:"preview"}),value:"preview",id:"preview"},"Preview"))},u=n(114),d=n(65);const m=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(19)]).then(n.bind(null,2531)));var p=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(l.a),{flow:i}=Object(a.useContext)(d.a);let p=r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)})},r.a.createElement(m,{script:t.text,onChangeScript:e=>{n({text:e})},autogrow:!0}));if(i.readOnly||"preview"===t.mode){const e=o()("flow-panel--markdown markdown-format");p=r.a.createElement("div",{className:e},r.a.createElement(u.a,{text:t.text}))}const h=r.a.createElement(c,null);return r.a.createElement(e,{controls:h},p)};var h=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-panel--markdown markdown-format"},r.a.createElement(u.a,{text:t.text})))};n(467),t.default=e=>{e({type:"markdown",family:"passThrough",component:p,readOnlyComponent:h,featureFlag:"flow-panel--markdown",button:"Note",initial:()=>({text:"",mode:"edit"})})}},532:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(21);var i=({visible:e})=>{const{data:t}=Object(a.useContext)(s.a),n=t.uri.split(":");return Object(a.useMemo)(()=>e&&r.a.createElement("iframe",{src:`https://open.spotify.com/embed/${n[1]}/${n[2]}`,width:"600",height:"80",frameBorder:"0",allow:"encrypted-media"}),[e,n[1],n[2]])},o=n(3);var l=({visible:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a);return e?r.a.createElement("div",{className:"flow-spotify--editor"},r.a.createElement("label",null,"Spotify URI"),r.a.createElement(o.Input,{value:t.uri,onChange:e=>{n({uri:e.target.value})}})):null},c=n(92);var u=({Context:e})=>{const{id:t,data:n}=Object(a.useContext)(s.a),{register:o}=Object(a.useContext)(c.a),[u,d]=Object(a.useState)(!1),m=()=>{d(!u)};Object(a.useEffect)(()=>{t&&o(t,[{title:"Controls",actions:[{title:"Edit Spotify URI",action:m}]}])},[t,m]);const p=u||!n.uri;return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-spotify"},r.a.createElement(l,{visible:p}),r.a.createElement(i,{visible:!p})))};n(484),t.default=e=>{e({type:"spotify",family:"test",priority:-1,featureFlag:"flow-panel--spotify",button:"Music",component:u,initial:{uri:"spotify:track:55A8N3HXzIecctUSvru3Ch"}})}},533:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(21),i=n(3),o=n(5),l=(n(341),n(42));var c=({Context:e})=>{const{update:t,data:n,results:c,loading:u}=Object(a.useContext)(s.a),d=(e,a)=>{if((n.mappings||{})[e]&&a.name===e&&!0===a.visible)return delete n.mappings[e],void t({mappings:Object.assign({},n.mappings)});(n.mappings||{})[e]&&n.mappings[e].name===a.name&&n.mappings[e].visible===a.visible||(n.mappings||(n.mappings={}),n.mappings[e]=a,t({mappings:Object.assign({},n.mappings)}))};if(!c.parsed||!c.parsed.table){let t=l.g;return u===o.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const m=Object.entries(n.mappings||{}).reduce((e,[t,n])=>(e[t]&&(e[t]=n),e),Object.keys(c.parsed.table.columns).reduce((e,t)=>(e[t]={name:t,visible:!0},e),{})),p=Object.entries(m).map(([e,t])=>r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{d(e,Object.assign(Object.assign({},t),{visible:!t.visible}))},active:t.visible}),r.a.createElement("div",{className:"flow-columns--input"},r.a.createElement("input",{type:"text",value:t.name,onChange:n=>{d(e,Object.assign(Object.assign({},t),{name:n.target.value}))},placeholder:"Column Name",autoComplete:"off",autoCorrect:"off",spellCheck:!1}),r.a.createElement(i.Icon,{glyph:i.IconFont.Pencil,className:"flow-panel--title-icon"}))));return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},p))};var u=({Context:e})=>{const{data:t,loading:n,results:c}=Object(a.useContext)(s.a);if(!c.parsed||!c.parsed.table){let t=l.g;return n===o.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const u=Object.entries(t.mappings||{}).reduce((e,[t,n])=>(e[t]&&(e[t]=n),e),Object.keys(c.parsed.table.columns).reduce((e,t)=>(e[t]={name:t,visible:!0},e),{})),d=Object.entries(u).map(([e,t])=>{var n;return r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{},active:t.visible,disabled:!0}),r.a.createElement("p",{className:"flow-columns--text"},null!==(n=t.name)&&void 0!==n?n:"Column Name"))});return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},d))};t.default=e=>{e({type:"columnEditor",family:"transform",component:c,button:"Column Editor",initial:{mappings:{}},readOnlyComponent:u,visual:(e,t)=>`${t} |> limit(n: 100)`,source:(e,t)=>{if(!Object.values(e.mappings).length)return t;const n=Object.entries(e.mappings).reduce((e,[t,n])=>n.visible?(e.renamed.push(`"${t}": "${n.name}"`),e):(e.dropped.push(`"${t}"`),e),{renamed:[],dropped:[]}),a=t.split("|>");let r=a[0];return a.slice(1).map(e=>{-1===e.indexOf("yield")?r+=`|>${e}`:(n.renamed.length&&(r+=`|> rename(columns: {${n.renamed.join(", ")}})\n`),n.dropped.length&&(r+=`|> drop(columns: [${n.dropped.join(", ")}])\n`),r+=`|> ${e}`)}),r}})}},534:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(28),o=n(21),l=n(136);const c=i.e.map(e=>e.name);var u=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),u=Object(a.useMemo)(()=>t.functions&&t.functions.length?t.functions.map(e=>e.name):[{name:"mean"}].map(e=>e.name),[t.functions]),d=Object(a.useCallback)(e=>{const t=u.map(e=>({name:e}));let a=!1,r=t.findIndex(t=>t.name===e);for(;-1!==r;)a=!0,t.splice(r,1),r=t.findIndex(t=>t.name===e);a||t.push({name:e}),t.length||t.push({name:"mean"}),n({functions:t})},[u,n]);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(s.MultiSelectDropdown,{emptyText:"Select",style:{width:"250px"},options:c,selectedOptions:u,onSelect:d,buttonColor:s.ComponentColor.Secondary,buttonIcon:s.IconFont.BarChart})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(l.a,{onSubmit:e=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{period:e})})},placeholder:"ex: 3h30s",value:t.aggregateWindow.period,suggestions:i.d,submitInvalid:!1,status:s.ComponentStatus.Default}),r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(s.Toggle,{id:"isFillValues",type:s.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{fillValues:!t.aggregateWindow.fillValues})})},color:s.ComponentColor.Primary,size:s.ComponentSize.ExtraSmall}),r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(s.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};var d=({Context:e})=>{const{data:t}=Object(a.useContext)(o.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(s.Dropdown,{button:(e,n)=>r.a.createElement(s.Dropdown.Button,{onClick:n,active:e,icon:s.IconFont.BarChart,color:s.ComponentColor.Secondary,status:s.ComponentStatus.Disabled},t.functions.map(e=>e.name).join(", ")),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(s.Input,{name:"period",type:s.InputType.Text,placeholder:"ex: 3h30s",value:t.aggregateWindow.period,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium}),r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(s.Toggle,{id:"isFillValues",type:s.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{},color:s.ComponentColor.Primary,size:s.ComponentSize.ExtraSmall}),r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(s.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};n(464),t.default=e=>{e({type:"downsample",family:"transform",component:u,readOnlyComponent:d,featureFlag:"flow-panel--downsample",button:"Downsample",initial:{functions:[{name:"mean"}],aggregateWindow:{period:"",fillValues:!1}},source:(e,t)=>e.aggregateWindow.period&&e.functions.length?t+e.functions.map(t=>{const n=t&&i.e.find(e=>e.name===t.name);if(!n)return"";const a=e.aggregateWindow.period;return n.flux("auto"!==a&&a?a:"v.windowPeriod",e.aggregateWindow.fillValues)}).join(""):t})}},535:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(4),i=n(586),o=n(21),l=n(9),c=n(3);n(344);const u=[{label:"US West (Oregon)",group:"Amazon Web Services",value:"https://us-west-2-1.aws.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Amazon Web Services",value:"https://us-east-1-1.aws.cloud2.influxdata.com"},{label:"Europe West (Frankfurt)",group:"Amazon Web Services",value:"https://eu-central-1-1.aws.cloud2.influxdata.com"},{label:"US Central (Iowa)",group:"Google Cloud Platform",value:"https://us-central1-1.gcp.cloud2.influxdata.com"},{label:"Europe West (Belgium)",group:"Google Cloud Platform",value:"https://europe-west1-1.gcp.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Microsoft Azure",value:"https://eastus-1.azure.cloud2.influxdata.com"},{label:"Europe West (Amsterdam)",group:"Microsoft Azure",value:"https://westeurope-1.azure.cloud2.influxdata.com"},{label:"Tools Cluster",group:"Development",flag:"local-dev",value:"https://influxdb.aws.influxdata.io"},{label:"Local Kind Cluster",group:"Development",flag:"local-dev",value:"https://twodotoh.a.influxcloud.dev.local"},{label:"Current Region",value:"self"},{label:"Self Hosted",value:"self-hosted"}];var d=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),d=Object(s.e)(l.a),[m,p]=Object(a.useState)(!1),h=Object(s.e)(i.a),g=e=>{"self-hosted"===e.value?n({source:"custom",region:"https://localhost:8086"}):"self"===e.value?n({source:"self",region:window.location.origin}):n({source:"static",region:e.value})},[f,b]=Object(a.useMemo)(()=>{const e=JSON.parse(JSON.stringify(u)).reduce((e,n)=>n.flag&&!h[n.flag]?e:(n.value===t.region&&(e.selected=n),n.group?(e[n.group]||(e[n.group]={label:n.group,options:[]}),e[n.group].options.push(n),delete n.group,e):(e["no-group"].push(n),e)),{"no-group":[]}),a=Object.entries(e).reduce((e,[t,n])=>"selected"===t?e:"no-group"===t?e.concat(n):(e.push(n),e),[]);return"custom"===t.source?[a,u[u.length-1]]:"self"===t.source?[a,u[u.length-2]]:e.selected?[a,e.selected]:(n({source:"self",region:window.location.origin}),t.source="self",t.region=window.location.origin,[a,u[u.length-2]])},[t.source,t.region,h]);return Object(a.useEffect)(()=>{t.region!==window.location.origin?t.region&&t.token&&fetch(`${t.region}/api/v2/orgs`,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9",Authorization:`Token ${t.token}`},body:null,method:"GET",mode:"cors"}).then(e=>{200===e.status?(m&&p(!1),e.json().then(e=>{(e.orgs||[]).length&&n({org:e.orgs[0].id})})):p(!0)}):n({org:d.id})},[t.region,t.token]),r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},b.label),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e},f.reduce((e,n)=>{if(!n.options){const a="self"===t.source&&"self"===n.value||"custom"===t.source&&"custom"===n.value||t.region===n.value;return e.push(r.a.createElement(c.Dropdown.Item,{value:n.value,key:n.value,onClick:()=>g(n),selected:a},n.label)),e}return e.push(r.a.createElement(c.Dropdown.Divider,{key:n.label,text:n.label})),e.concat(n.options.map(e=>{const n="self"===t.source&&"self"===e.value||"custom"===t.source&&"custom"===e.value||t.region===e.value;return r.a.createElement(c.Dropdown.Item,{value:e.value,key:e.value,onClick:()=>g(e),selected:n},e.label)}))},[]))}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,onChange:e=>n({region:e.target.value}),size:c.ComponentSize.Medium,status:"custom"!==t.source?c.ComponentStatus.Disabled:c.ComponentStatus.Default}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Text,value:t.token,size:c.ComponentSize.Medium,onChange:e=>n({token:e.target.value})})))),!!m&&r.a.createElement("div",{className:"region-panel--eror"},"could not validate token against region"))};var m=({Context:e})=>{const{data:t}=Object(a.useContext)(o.a),n=u.filter(e=>e.value===t.region)[0].label;return r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,status:c.ComponentStatus.Disabled,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},n),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e})}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Password,value:t.token,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled})))))};t.default=e=>{e({type:"region",family:"inputs",component:d,featureFlag:"flow-panel--remote",button:"Remote Database",description:"Queries a remote region using a token",initial:{type:"static",region:"",token:"",org:""},readOnlyComponent:m,scope:(e,t)=>Object.assign(Object.assign({},t),{region:e.region,token:e.token,org:e.org})})}},536:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(79),o=n(360),l=n(21),c=n(76),u=n(115);n(345);var d=({Context:e})=>{var t,n,d,m;const{id:p,data:h,update:g}=Object(a.useContext)(l.a),{simplify:f,getPanelQueries:b}=Object(a.useContext)(c.a);let y="",x="";h.interval?h.interval!==(null===(t=h.interval.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===t?void 0:t.join(""))&&(y="Invalid Time"):y="Required",h.offset&&h.offset!==(null===(n=h.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))&&(x="Invalid Time");const v=null!==(m=null===(d=b(p,!0))||void 0===d?void 0:d.source)&&void 0!==m?m:"",w=Object(a.useMemo)(()=>!!Object.keys(Object(u.d)(Object(i.parse)(f(v)),e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{})).length,[v]),k=Object(a.useMemo)(()=>{if(w)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))},[w]),E=Object(a.useCallback)(()=>{const e=Object(i.parse)(f(v)),t=Object(u.d)(e,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});t.name||(t.name=`"Notebook Task for ${p}"`),h.interval&&!y&&(t.every=h.interval),h.offset&&!x&&(t.offset=h.offset);const n=Object.entries(t).map(([e,t])=>`${e}: ${t}`).join(",\n"),a=Object(i.parse)(`option task = {${n}}\n`);return e.body.unshift(a.body[0]),Object(i.format_from_js_file)(e)},[v,h.interval,h.offset]),S=r.a.createElement(o.a,{generate:E,text:"Export as Task",type:"task"});return r.a.createElement(e,{persistentControls:S},r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,{basis:168,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(s.Form.Element,{label:"Every",required:!0,errorMessage:y},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:h.interval,onChange:e=>{g({interval:e.target.value})},status:y?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(s.Form.Element,{label:"Offset",required:!1,errorMessage:x},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 20m",value:h.offset,onChange:e=>{g({offset:e.target.value})},status:x?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium})))),k)};var m=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,{basis:168,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(s.Form.Element,{label:"Every",required:!0},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,value:t.interval,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(s.Form.Element,{label:"Offset",required:!1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 20m",value:t.offset,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium})))))};t.default=e=>{e({type:"schedule",family:"output",priority:1,component:d,readOnlyComponent:m,featureFlag:"flow-panel--schedule",button:"Task"})}},537:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(143),i=n(21),o=n(362),l=n(8);var c=({Context:e})=>{const{id:t,data:n,update:c}=Object(a.useContext)(i.a);return r.a.createElement(s.b,{panel:t},r.a.createElement(e,null,r.a.createElement("div",{className:"data-source--controls"},r.a.createElement(o.a,{selected:n.bucket,onSelect:e=>{Object(l.a)("Updated Bucket",{context:"to bucket"}),c({bucket:e})},style:{width:"250px",flex:"0 0 250px"}}))))},u=n(3);var d=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(u.Dropdown,{button:(e,n)=>{var a,s;return r.a.createElement(u.Dropdown.Button,{onClick:n,active:e,icon:u.IconFont.BucketSolid,status:u.ComponentStatus.Disabled},null!==(s=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==s?s:"No Bucket Selected")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))))};t.default=e=>{e({type:"toBucket",family:"output",priority:0,component:c,readOnlyComponent:d,featureFlag:"flow-panel--to-bucket",button:"Output to Bucket",source:(e,t,n)=>{var a;return n.withSideEffects&&(null==e?void 0:e.bucket)?`${t} |> to(bucket: "${null===(a=e.bucket)||void 0===a?void 0:a.name.trim()}")`:t}})}},538:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(71),o=n(102),l=n(8),c=n(92),u=n(21);const d=()=>{const{data:e,update:t,results:n}=Object(a.useContext)(u.a),s=Object(a.useCallback)(n=>{t({properties:Object.assign(Object.assign({},e.properties),n)})},[e.properties,t]);return r.a.createElement(o.c,{properties:e.properties,results:n.parsed,update:s})};var m=()=>{const{id:e,data:t,range:n,update:m,results:p}=Object(a.useContext)(u.a),{hideSub:h,id:g,show:f,showSub:b}=Object(a.useContext)(c.a),y=e=>{Object(l.a)("notebook_change_visualization_type",{viewType:e}),m({properties:o.a[e].initial})};Object(a.useEffect)(()=>{let e;"custom"===n.type?e=Object(i.g)(Math.round((Date.parse(n.upper)-Date.parse(n.lower))/360)):"selectable-duration"===n.type&&(e=Object(i.g)(n.windowPeriod)),e&&e!==t.period&&m({period:e})},[n,m,t.period]);const x=p.parsed&&Object.entries(p.parsed).length,v=r.a.createElement(s.Button,{text:"Configure",icon:s.IconFont.CogThick,onClick:()=>{e===g?h():(f(e),b(r.a.createElement(u.b,{id:e},r.a.createElement(d,null))))},status:x?s.ComponentStatus.Default:s.ComponentStatus.Disabled,color:s.ComponentColor.Default,titleText:x?"Configure Visualization":"No data to visualize yet",className:"flows-config-visualization-button"});return"simple-table"===t.properties.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px"}},"Limited to most recent 100 results per series"),r.a.createElement(o.d,{viewType:t.properties.type,onUpdateType:y}),v):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.d,{viewType:t.properties.type,onUpdateType:y}),v)},p=n(5),h=n(76),g=n(101),f=n(42),b=n(23);var y=({Context:e})=>{var t,i;const{id:d,data:y,range:x,loading:v,results:w}=Object(a.useContext)(u.a),{basic:k,getPanelQueries:E}=Object(a.useContext)(h.a),{register:S}=Object(a.useContext)(c.a),C=!!((null===(t=null==w?void 0:w.parsed)||void 0===t?void 0:t.table)||[]).length,T=(null===(i=E(d,!0))||void 0===i?void 0:i.source)||"",O=()=>{Object(l.a)("CSV Download Initiated"),k(T).promise.then(e=>{"SUCCESS"===e.type&&Object(g.b)(e.csv,"influx.data",".csv","text/csv")})},D=Object(a.useMemo)(()=>v===p.RemoteDataState.Loading?"Loading":v===p.RemoteDataState.NotStarted?f.g:"No Data Returned",[v]);return Object(a.useEffect)(()=>{d&&S(d,[{title:"Visualization",actions:[{title:"Download as CSV",disable:!C,action:O},{title:"Download As Image",action:()=>(e=>{const t=document.getElementById(e);n.e(15).then(n.t.bind(null,2410,7)).then(e=>e.default(t).then(e=>{Object(g.a)(e.toDataURL(),"visualization.png")}))})(d),disable:!Object(b.c)("pdfImageDownload")},{title:"Download As PDF",action:()=>(e=>{const t=document.getElementById(e);n.e(15).then(n.t.bind(null,2410,7)).then(e=>e.default(t).then(e=>{n.e(74).then(n.bind(null,2533)).then(t=>{const n=new t.default({orientation:"l",unit:"pt",format:[e.width,e.height]});n.addImage(e.toDataURL("image/png"),"PNG",0,0,e.width,e.height),n.save("visualization.pdf")})}))})(d),disable:!Object(b.c)("pdfImageDownload")}]}])},[d,y.properties,w.parsed,x]),w.error?r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"})))):C?r.a.createElement(e,{controls:r.a.createElement(m,null),resizes:!0},r.a.createElement("div",{className:"flow-visualization",id:d},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(o.b,{loading:v,properties:y.properties,result:w.parsed,timeRange:x})))):r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:d},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(s.Icon,{glyph:s.IconFont.BarChart,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},D))))},x=(n(487),n(79));t.default=e=>{e({type:"visualization",family:"passThrough",component:y,button:"Graph",initial:{properties:o.a.xy.initial},visual:(e,t)=>{if(!t)return"";try{if(!Object(x.parse)(t).body.length)return""}catch(e){return""}return"simple-table"===e.properties.type?`${t} |> limit(n: 100)`:"single-stat"===e.properties.type||"gauge"===e.properties.type?`${t} |> last()`:t}})}},539:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),s=n.n(r),i=n(3),o=n(21);var l=()=>{const{data:e,update:t}=Object(r.useContext)(o.a),n=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},a=e=>{n("auth",e)},l=e=>{n("username",e.target.value)},c=e=>{n("password",e.target.value)},u=e=>{n("token",e.target.value)};let d;return"basic"===e.endpointData.auth?d=s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Form.Element,{label:"Username"},s.a.createElement(i.Input,{name:"username",type:i.InputType.Text,value:e.endpointData.username,onChange:l,size:i.ComponentSize.Medium})),s.a.createElement(i.Form.Element,{label:"Password"},s.a.createElement(i.Input,{name:"password",type:i.InputType.Text,value:e.endpointData.password,onChange:c,size:i.ComponentSize.Medium}))):"bearer"===e.endpointData.auth&&(d=s.a.createElement(i.Form.Element,{label:"Token"},s.a.createElement(i.Input,{name:"token",type:i.InputType.Text,value:e.endpointData.token,onChange:u,size:i.ComponentSize.Medium}))),s.a.createElement(s.a.Fragment,null,s.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},s.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},s.a.createElement(i.Form.Element,{label:"Endpoint URL"},s.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,onChange:e=>{n("url",e.target.value)},size:i.ComponentSize.Medium}))),s.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},s.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},s.a.createElement(i.SelectGroup,null,s.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"none",active:"none"===e.endpointData.auth,onClick:a},"None"),s.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"basic",active:"basic"===e.endpointData.auth,onClick:a},"Basic"),s.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",value:"bearer",active:"bearer"===e.endpointData.auth,onClick:a},"Bearer"))))),d)};var c=()=>{const{data:e}=Object(r.useContext)(o.a);let t;return"basic"===e.endpointData.auth?t=s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Form.Element,{label:"Username"},s.a.createElement(i.Input,{name:"username",type:i.InputType.Text,value:e.endpointData.username,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),s.a.createElement(i.Form.Element,{label:"Password"},s.a.createElement(i.Input,{name:"password",type:i.InputType.Text,value:e.endpointData.password,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))):"bearer"===e.endpointData.auth&&(t=s.a.createElement(i.Form.Element,{label:"Token"},s.a.createElement(i.Input,{name:"token",type:i.InputType.Text,value:e.endpointData.token,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),s.a.createElement(s.a.Fragment,null,s.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},s.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},s.a.createElement(i.Form.Element,{label:"Endpoint URL"},s.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),s.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},s.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},s.a.createElement(i.SelectGroup,null,s.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"none",onClick:()=>{},active:"none"===e.endpointData.auth,disabled:!0},"None"),s.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"basic",onClick:()=>{},active:"basic"===e.endpointData.auth,disabled:!0},"Basic"),s.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",value:"bearer",onClick:()=>{},active:"bearer"===e.endpointData.auth,disabled:!0},"Bearer"))))),t)};t.default=e=>{e({type:"http",name:"HTTP Post",data:{auth:"none",url:"https://www.example.com/endpoint"},component:l,readOnlyComponent:c,generateImports:()=>["http","json"].map(e=>`import "${e}"`).join("\n"),generateTestImports:()=>["array","http","json"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e),[]).join(", ");return`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      body = {r with _version: 1}\n      return {headers: {${n}}, data: json["encode"](v: body)}\n  }))`},generateTestQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e),[]).join(", ");return`http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      return {headers: {${n}}, data: json["encode"](v: "${a.b}")}\n  })\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`}})}},540:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),s=n.n(r),i=n(4),o=n(3),l=n(21),c=n(9);var u=()=>{const{data:e,update:t}=Object(r.useContext)(l.a),n=Object(i.e)(c.a),a=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},u=`${window.location.origin}/org/${n.id}/alert-history`;return s.a.createElement(o.FlexBox,{className:"http-endpoint--flex",direction:o.FlexDirection.Column},s.a.createElement(o.Form.Element,{label:"Client URL"},s.a.createElement(o.Input,{name:"url",type:o.InputType.Text,placeholder:u,value:e.endpointData.url,onChange:e=>{a("url",e.target.value)},size:o.ComponentSize.Medium})),s.a.createElement(o.Form.Element,{label:"Routing Key"},s.a.createElement(o.Input,{name:"key",type:o.InputType.Password,value:e.endpointData.key,onChange:e=>{a("key",e.target.value)},size:o.ComponentSize.Medium})))};var d=()=>{const{data:e}=Object(r.useContext)(l.a);return s.a.createElement(o.FlexBox,{className:"http-endpoint--flex",direction:o.FlexDirection.Column},s.a.createElement(o.Form.Element,{label:"Client URL"},s.a.createElement(o.Input,{name:"url",type:o.InputType.Text,value:e.endpointData.url,size:o.ComponentSize.Medium,status:o.ComponentStatus.Disabled})),s.a.createElement(o.Form.Element,{label:"Routing Key"},s.a.createElement(o.Input,{name:"key",type:o.InputType.Password,value:e.endpointData.key,size:o.ComponentSize.Medium,status:o.ComponentStatus.Disabled})))};t.default=e=>{e({type:"pagerduty",name:"Pager Duty",data:{url:"",key:"",level:"warning"},component:u,readOnlyComponent:d,generateTestImports:()=>["array","pagerduty","influxdata/influxdb/secrets"].map(e=>`import "${e}"`).join("\n"),generateImports:()=>["pagerduty","influxdata/influxdb/secrets"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n  |> set(key: "_notebook_link", value: "${window.location.href}")  \n  |> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n    crit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: pagerduty["endpoint"]()(mapFn: (r) => ({\n        routingKey: "${e.key}",\n        client: "influxdata",\n        clientURL: "${e.url}",\n        class: r._check_name,\n        group: r["_source_measurement"],\n        severity: pagerduty["severityFromLevel"](level: "${e.level}"),\n        eventAction: pagerduty["actionFromLevel"](level: "${e.level}"),\n        source: notification["_notification_rule_name"],\n        summary: r["_message"],\n        timestamp: time(v: r["_source_timestamp"]),\n  })))`,generateTestQuery:e=>`pagerduty["endpoint"]()(mapFn: (r) => ({\n      routingKey: "${e.key}",\n      client: "influxdata",\n      clientURL: "${e.url}",\n      class: r._check_name,\n      group: r["_source_measurement"],\n      severity: "critical",\n      eventAction: "trigger",\n      source: "Notebook Generated Test Notification",\n      summary: "${a.b}",\n      timestamp: time(v: r["_source_timestamp"])\n}))\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")\n`})}},541:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),s=n.n(r),i=n(3),o=n(21);var l=()=>{const{data:e,update:t}=Object(r.useContext)(o.a);return s.a.createElement("div",{className:"slack-endpoint-details--flex"},s.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},s.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{url:n.target.value})})},size:i.ComponentSize.Medium})),s.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},s.a.createElement(i.Input,{name:"channel",type:i.InputType.Text,value:e.endpointData.channel,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{channel:n.target.value})})},size:i.ComponentSize.Medium})),s.a.createElement(i.Form.Element,{label:"Message Color"},s.a.createElement(i.ColorPicker,{color:e.endpointData.color,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{color:n})})}})))};var c=()=>{const{data:e}=Object(r.useContext)(o.a);return s.a.createElement("div",{className:"slack-endpoint-details--flex"},s.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},s.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),s.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},s.a.createElement(i.Input,{name:"channel",type:i.InputType.Text,value:e.endpointData.channel,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),s.a.createElement(i.Form.Element,{label:"Message Color"},"(",s.a.createElement(i.Input,{name:"color",type:i.InputType.Text,value:e.endpointData.color,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}),")"))};t.default=e=>{e({type:"slack",name:"Slack",data:{url:"https://hooks.slack.com/services/X/X/X",channel:"",color:"#34BB55"},component:l,readOnlyComponent:c,generateImports:()=>["slack"].map(e=>`import "${e}"`).join("\n"),generateTestImports:()=>["array","slack"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: slack["endpoint"](url: "${e.url}")(mapFn: (r) => ({\n      channel: "${e.channel||""}",\n      text: "\${ r._message }",\n      color: "${e.color||"#34BB55"}"\n    }))\n  )`,generateTestQuery:e=>`\n  slack.message(\n    url: "${e.url}",\n    channel: "${e.channel||""}",\n    text: "${a.b}",\n    color: "${e.color||"#34BB55"}"\n  )\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`})}},542:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(21);var o=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"Missing definition for ",r.a.createElement("span",null,t.type)),r.a.createElement("p",null,"The UI doesn't know how to display this panel. Delete this panel to remove this message"))))};n(471),t.default=e=>{e({type:"missing",family:"system",priority:1,component:o,initial:{},generateFlux:(e,t,n,a)=>{n()}})}},543:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(8),i=n(3),o=n(21),l=n(76);const c={airSensor:"Sample Air Sensor Data",birdMigration:"Bird Migration",noaa:"NOAA National Buoy Data Center (NDBC)",usgs:"USGS Earthquake Data"};var u=({Context:e})=>{const[t,n]=Object(a.useState)({}),{data:u,update:d}=Object(a.useContext)(o.a),{query:m}=Object(a.useContext)(l.a),{csvType:p,url:h}=u;return Object(a.useEffect)(()=>{m('import "influxdata/influxdb/sample"\n     sample.list()').then(e=>{const t=[...e.parsed.table.columns.name.data,"Custom"],a=e.parsed.table.columns.url.data;n(t.reduce((e,t,n)=>(c[t]&&(e[t]={url:a[n],label:c[t],name:t}),"Custom"===t&&(e[t]={url:"",label:"Custom",name:"Custom"}),e),{}))})},[]),r.a.createElement(e,null,r.a.createElement("div",{className:"remote-csv-container","data-testid":"csvimporturl"},r.a.createElement("div",{className:"remote-csv-card"},r.a.createElement(i.Dropdown,{testID:"remote-csv--dropdown",className:"remote-csv--dropdown",style:{width:"220px"},button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,color:i.ComponentColor.Primary,testID:"dropdown-button--remote-csv"},p.length?p:"Import Sample CSV"),menu:e=>r.a.createElement(i.Dropdown.Menu,{onCollapse:e},Object.values(t).map(e=>r.a.createElement(i.Dropdown.Item,{testID:`remote-csv--dropdown-item-${e.label}`,id:e.label,key:e.label,value:e.label,onClick:()=>((e,t,n)=>{Object(s.a)("Remote CSV Panel (Notebooks)- Selected Option: "+n),d({csvType:e,url:null!=t?t:"",sampleName:n})})(e.label,e.url,e.name),selected:e.label===p},e.label)))}),r.a.createElement("div",{"data-testid":"csvimporturl",className:"remote-csv-url-input"},r.a.createElement(i.Input,{type:i.InputType.Text,value:h,onChange:e=>{d({url:e.target.value})},status:p.length&&"Custom"!==p?i.ComponentStatus.Disabled:i.ComponentStatus.Default})))))};n(481),t.default=e=>{e({type:"remoteCSV",family:"inputs",priority:1,component:u,featureFlag:"flowPanelRemoteCsv",button:"Remote CSV",initial:{csvType:"",url:"",sampleName:""},source:e=>{var t;if(!(null===(t=e.url)||void 0===t?void 0:t.length))return"";return`${"Custom"===e.sampleName?`import "experimental/csv"\n      data = csv.from(url: "${e.url}")`:`import "influxdata/influxdb/sample"\n      data = sample.data(\n        set: "${e.sampleName}"\n      )`}\n      csvRange = data\n          |> keep(columns: ["_time"])\n          |> group()\n          |> reduce(\n              fn: (r, accumulator) => ({\n                  min: if r._time < accumulator.min then r._time else accumulator.min,\n                  max: if r._time > accumulator.max then r._time else accumulator.max,\n              }),\n              identity: {min: now(), max: time(v: 0)},\n          )\n          |> findRecord(fn: (key) => true, idx: 0)\n\n      data\n          |> range(start: csvRange.min, stop: csvRange.max)`}})}},544:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(102),o=n(5),l=n(21),c=n(76),u=n(92),d=n(8),m=n(101),p=n(42);var h=({Context:e})=>{var t,n;const{id:h,data:g,range:f,loading:b,results:y}=Object(a.useContext)(l.a),{basic:x,getPanelQueries:v}=Object(a.useContext)(c.a),{register:w}=Object(a.useContext)(u.a),k=!!((null===(t=null==y?void 0:y.parsed)||void 0===t?void 0:t.table)||[]).length,E=(null===(n=v(h,!0))||void 0===n?void 0:n.source)||"",S=()=>{Object(d.a)("CSV Download Initiated"),x(E).promise.then(e=>{"SUCCESS"===e.type&&Object(m.b)(e.csv,"influx.data",".csv","text/csv")})},C=Object(a.useMemo)(()=>b===o.RemoteDataState.Loading?"Loading":b===o.RemoteDataState.NotStarted?p.g:"No Data Returned",[b]);if(Object(a.useEffect)(()=>{h&&w(h,[{title:"Table",actions:[{title:"Download as CSV",disable:!k,action:S}]}])},[h,g.properties,y.parsed,f]),y.error)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"}))));if(!k)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:h},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(s.Icon,{glyph:s.IconFont.BarChart,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},C))));const T=r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px"}},"Limited to most recent 100 results per series");return r.a.createElement(e,{resizes:!0,controls:T},r.a.createElement("div",{className:"flow-visualization",id:h},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(i.b,{loading:b,properties:{type:"simple-table",showAll:!1},result:y.parsed,timeRange:f}))))},g=n(79);t.default=e=>{e({type:"table",family:"passThrough",priority:3,component:h,button:"Table",initial:{properties:i.a["simple-table"].initial},visual:(e,t)=>{if(!t)return"";try{if(!Object(g.parse)(t).body.length)return""}catch(e){return""}return`${t} |> limit(n: 100)`}})}},545:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(3),i=n(21),o=n(92);var l=({Context:e})=>{const{id:t,data:n,update:l}=Object(a.useContext)(i.a),{register:c}=Object(a.useContext)(o.a),[u,d]=Object(a.useState)(!1),m=Object(a.useCallback)(()=>{d(!u)},[d,u]);Object(a.useEffect)(()=>{t&&c(t,[{title:"Controls",actions:[{title:"Edit Youtube ID",action:m}]}])},[t,m]);const p=u||!n.uri;return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"flow-youtube"},p&&r.a.createElement("div",{className:"flow-youtube--editor"},r.a.createElement("label",null,"Youtube Video ID"),r.a.createElement(s.Input,{value:n.uri,onChange:e=>{l({uri:e.target.value})}})),!p&&r.a.createElement("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n.uri}?autoplay=1`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))};n(489),t.default=e=>{e({type:"youtube",family:"test",priority:-1,featureFlag:"flow-panel--youtube",button:"Youtube",component:l,initial:{uri:"nBHkIWAJitg"}})}},55:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"o",(function(){return x}));const a=()=>({type:"RESET_ALERT_BUILDER"}),r=e=>({type:"INIT_ALERT_BUILDER",payload:{type:e}}),s=()=>({type:"CONVERT_CHECK_TO_CUSTOM"}),i=e=>({type:"SET_ALERT_BUILDER_CHECK",payload:{check:e}}),o=e=>({type:"SET_ALERT_BUILDER_STATUS",payload:{status:e}}),l=e=>({type:"SET_ALERT_BUILDER_EVERY",payload:{every:e}}),c=e=>({type:"SET_ALERT_BUILDER_OFFSET",payload:{offset:e}}),u=e=>({type:"SET_ALERT_BUILDER_STALETIME",payload:{staleTime:e}}),d=e=>({type:"SET_ALERT_BUILDER_TIMESINCE",payload:{timeSince:e}}),m=e=>({type:"SET_ALERT_BUILDER_LEVEL",payload:{level:e}}),p=e=>({type:"SET_ALERT_BUILDER_MESSAGE_TEMPLATE",payload:{statusMessageTemplate:e}}),h=(e,t)=>({type:"EDIT_ALERT_BUILDER_TAGSET",payload:{index:e,tagSet:t}}),g=e=>({type:"REMOVE_ALERT_BUILDER_TAGSET",payload:{index:e}}),f=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLD",payload:{threshold:e}}),b=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLDS",payload:{thresholds:e}}),y=e=>({type:"REMOVE_ALERT_BUILDER_THRESHOLD",payload:{level:e}}),x=e=>({type:"UPDATE_ALERT_BUILDER_NAME",payload:{name:e}})},56:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(34),i=n(3),o=n(169),l=n(19),c=n(8);n(170);const u="visualization.customize.hoverLegend",d=({properties:e,handlers:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:s=l.h,legendOrientationThreshold:c=l.l,legendHide:d=l.g}=e,{handleSetHoverLegendHide:m,handleSetOrientation:p,handleSetOpacity:h,handleSetColorization:g}=t,f=!d,[b,y]=Object(a.useState)(f),x=e=>{y(e===l.o.SHOW),m(e===l.o.HIDE)};return r.a.createElement(i.Form.Element,{label:"Display Hover Legend",className:"legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit,testID:"hover-legend-toggle"},r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-hide",id:"radio_hover_legend_hide",titleText:"Hide",active:d,onClick:x,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-show",id:"radio_hover_legend_show",titleText:"Show",active:!d,onClick:x,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"legend-options--show"},r.a.createElement(o.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:c,parentName:"hover-legend",handleSetOrientation:p,testID:"hover-legend-orientation-toggle"}),r.a.createElement(o.b,{legendOpacity:s,handleSetOpacity:h,testID:"hover-legend-opacity-slider"}),r.a.createElement(o.a,{legendColorizeRows:n,handleSetColorization:g,testID:"hover-legend-colorize-rows-toggle"})))))};t.a=({properties:e,update:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:a=l.h,legendOrientationThreshold:i=l.l}=e,m=e=>{let n;n="number"!=typeof e||e!=e||e>0?l.m:l.n,t({legendOrientationThreshold:n})},p=n=>{const a=Object(s.a)(n);isNaN(a)||a<l.j?(t({legendOpacity:l.i}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({legendOpacity:a}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:a}))},h=()=>{t({legendColorizeRows:!n}),Object(c.a)(`${u}.colorizeRows.${!n}`,{type:e.type})};return"xy"===e.type||"line-plus-single-stat"===e.type||"band"===e.type?r.a.createElement(d,{properties:e,handlers:{handleSetHoverLegendHide:n=>{t({legendHide:n});const a=n?l.o.HIDE:l.o.SHOW;Object(c.a)(`${u}.${a}`,{type:e.type})},handleSetOrientation:m,handleSetOpacity:p,handleSetColorization:h}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:i,parentName:"hover-legend",handleSetOrientation:m,testID:"hover-legend-orientation-toggle"}),r.a.createElement(o.b,{legendOpacity:a,handleSetOpacity:p,testID:"hover-legend-opacity-slider"}),r.a.createElement(o.a,{legendColorizeRows:n,handleSetColorization:h,testID:"hover-legend-colorize-rows-toggle"}))}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(19);const s=e=>Object(a.useMemo)(()=>e<r.j||e!=e?r.h:e,[e])},600:function(e,t,n){var a=n(601);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},601:function(e,t,n){t=e.exports=n(17)(!1);var a=n(550)(n(602));t.push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  font-size: 1.25em;\n  color: #8e91a1;\n  user-select: none;\n}\n.flow-empty p {\n  margin: 0.25em 0;\n}\n.flow-empty strong {\n  color: #f6f6f8;\n}\n.flow-empty > *:last-child {\n  margin-bottom: 8em;\n}\n\n.flow-empty--graphic {\n  width: 540px;\n  height: 300px;\n  background-image: url("+a+");\n  filter: grayscale(100%);\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n\n.flow-empty--buttons {\n  margin-top: 16px;\n}",""])},602:function(e,t,n){e.exports=n.p+"bca2c14a04.svg"},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(9),r=n(132),s=n(6);const i=e=>{const t=Object(r.a)().getState(),n=Object(a.a)(t),i=s.f?"InfluxDB Cloud":"InfluxDB";return(n&&n.name?[...e,Object(a.a)(t).name,i]:[...e,i]).join(" | ")}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(2),r=n.n(a),s=n(155),i=n(243),o=n(60),l=n(42),c=n(23),u=n(173),d=n(504);const m={name:l.a,flow:null,add:e=>"",updateData:(e,t)=>{},updateMeta:(e,t)=>{},updateOther:e=>{},remove:e=>{},populate:e=>null},p=r.a.createContext(m);let h=0;const g=({children:e})=>{const{flows:t,update:n,currentID:g}=Object(a.useContext)(i.a),[f,b]=Object(a.useState)(),y=Object(a.useRef)(new u.a),x=Object(a.useRef)(),{id:v}=Object(s.h)();Object(a.useEffect)(()=>{g&&b(t[g])},[t,g]),Object(a.useEffect)(()=>{if(Object(c.c)("sharedFlowEditing")){x.current=new d.a("wss://demos.yjs.dev",v,y.current);const e=x.current.awareness.getLocalState();(null==e?void 0:e.id)||x.current.awareness.setLocalState(m),y.current.on("update",()=>{const{localState:e}=y.current.getMap("localState").toJSON();b(t=>btoa(JSON.stringify(t))===btoa(JSON.stringify(e))?t:e)})}return()=>{var e;Object(c.c)("sharedFlowEditing")&&(null===(e=x.current)||void 0===e?void 0:e.wsconnected)&&x.current.disconnect()}},[v]);const w=Object(a.useCallback)((e,a)=>{var r;if(Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(f));if(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.byID[e]){t.data.byID[e]=Object.assign(Object.assign({},t.data.byID[e]||{}),a);const n=Object.assign(Object.assign({},t),t.data.byID[e]);y.current.getMap("localState").set("localState",n)}}else{if(Object(c.c)("ephemeralNotebook")&&!f.id)return f.data.byID[e]=Object.assign(Object.assign({},f.data.byID[e]||{}),a),void b(Object.assign({},f));t[g].data.byID[e]=Object.assign(Object.assign({},t[g].data.byID[e]||{}),a),n(g,{data:Object.assign({},t[g].data)})}},[n,t,g,f]),k=Object(a.useCallback)((e,a)=>{var r;if(Object(c.c)("sharedFlowEditing")){if(null===(r=null==f?void 0:f.meta)||void 0===r?void 0:r.byID[e]){const t=JSON.parse(JSON.stringify(f));t.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t.meta.byID[e]||{}),a);const n=Object.assign(Object.assign({},t),t.meta.byID[e]);y.current.getMap("localState").set("localState",n)}}else{if(Object(c.c)("ephemeralNotebook")&&!f.id)return f.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},f.meta.byID[e]||{}),a),void b(Object.assign({},f));t[g].meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t[g].meta.byID[e]||{}),a),n(g,{meta:Object.assign({},t[g].meta)})}},[n,t,g,f]),E=Object(a.useCallback)(e=>{if(Object(c.c)("sharedFlowEditing")){if(f){const t=JSON.parse(JSON.stringify(f));for(const n in e)t[n]=e[n];y.current.getMap("localState").set("localState",Object.assign({},t))}}else if(!Object(c.c)("ephemeralNotebook")||f.id)t[g]=Object.assign(Object.assign({},t[g]),e),n(g,Object.assign({},t[g]));else{for(const t in e)f[t]=e[t];b(Object.assign({},f))}},[n,t,g,f]);return r.a.createElement(p.Provider,{value:{name:name,flow:f,add:(e,n)=>{const a=`local_${Object(o.v4)()}`,r=e.title||`${l.c[e.type].button||"Panel"} ${++h}`;if(delete e.title,e.id=a,Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(f));return t.data.byID[a]=e,t.meta.byID[a]={title:r,visible:!0},void 0!==n?(t.data.allIDs.splice(n+1,0,a),t.meta.allIDs.splice(n+1,0,a)):(t.data.allIDs.push(a),t.meta.allIDs.push(a)),void y.current.getMap("localState").set("localState",Object.assign({},t))}return Object(c.c)("ephemeralNotebook")&&!f.id?(f.data.byID[a]=e,f.meta.byID[a]={title:r,visible:!0},void 0!==n?(f.data.allIDs.splice(n+1,0,a),f.meta.allIDs.splice(n+1,0,a)):(f.data.allIDs.push(a),f.meta.allIDs.push(a)),void b(Object.assign({},f))):(t[g].data.byID[a]=e,t[g].meta.byID[a]={title:r,visible:!0},void 0!==n?(t[g].data.allIDs.splice(n+1,0,a),t[g].meta.allIDs.splice(n+1,0,a)):(t[g].data.allIDs.push(a),t[g].meta.allIDs.push(a)),w(a,{}),k(a,{}),a)},updateData:w,updateMeta:k,updateOther:E,remove:e=>{if(Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(f));return t.meta.allIDs=t.meta.allIDs.filter(t=>t!==e),t.data.allIDs=t.data.allIDs.filter(t=>t!==e),delete t.data.byID[e],delete t.meta.byID[e],void y.current.getMap("localState").set("localState",Object.assign({},t))}if(Object(c.c)("ephemeralNotebook")&&!f.id)return f.meta.allIDs=f.meta.allIDs.filter(t=>t!==e),f.data.allIDs=f.data.allIDs.filter(t=>t!==e),delete f.data.byID[e],delete f.meta.byID[e],void b(Object.assign({},f));t[g].meta.allIDs=t[g].meta.allIDs.filter(t=>t!==e),t[g].data.allIDs=t[g].data.allIDs.filter(t=>t!==e),delete t[g].data.byID[e],delete t[g].meta.byID[e],w(e,{}),k(e,{})},populate:b}},e)};t.c=({children:e})=>r.a.createElement(i.b,null,r.a.createElement(g,null,e))},67:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(104);const o=({initialMin:e,initialMax:t,onSetMinMax:n})=>{const[a,o]=Object(i.a)(e),[l,c]=Object(i.a)(t),u=()=>{let r=parseFloat(a),s=parseFloat(l);isNaN(r)&&(r=null),isNaN(s)&&(s=null),e===a&&t===l||n([r,s])},d=e=>{"Enter"===e.key&&u()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Six},r.a.createElement(s.Form.Element,{label:"Min"},r.a.createElement(s.Input,{value:a,onChange:e=>o(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--min"}))),r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Six},r.a.createElement(s.Form.Element,{label:"Max"},r.a.createElement(s.Input,{value:l,onChange:e=>c(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--max"}))))},l=e=>null===e?"":String(e);t.a=({domain:e,onSetDomain:t,label:n="Set Domain"})=>{const[i,c]=Object(a.useState)(!!e),u=Array.isArray(e)?l(e[0]):"",d=Array.isArray(e)?l(e[1]):"";return r.a.createElement(s.Form.Element,{label:n,className:"auto-domain-input"},r.a.createElement(s.Grid,null,r.a.createElement(s.Grid.Row,null,r.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve},r.a.createElement(s.SelectGroup,{shape:s.ButtonShape.StretchToFit},r.a.createElement(s.SelectGroup.Option,{name:"auto-domain",id:"radio_auto",titleText:"Auto",active:!i,onClick:()=>{c(!1),t(null)},value:"Auto"},"Auto"),r.a.createElement(s.SelectGroup.Option,{name:"auto-domain",id:"radio_custom",titleText:"Custom",active:i,onClick:()=>{c(!0)},value:"Custom"},"Custom")))),i&&r.a.createElement(s.Grid.Row,{className:"auto-domain-input--custom"},r.a.createElement(o,{initialMin:u,initialMax:d,onSetMinMax:t}))))}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>Object(a.useMemo)(()=>{const{generateXAxisTicks:t,generateYAxisTicks:n}=e,a={xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null};return Array.isArray(t)&&t.forEach(t=>a[t]=e[t]),Array.isArray(n)&&n.forEach(t=>a[t]=e[t]),a},[e])},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),s=n(15),i=n.n(s);class o extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--header",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--draggable",onDragStart:e},r.a.createElement("div",{className:"builder-card--hamburger"}),r.a.createElement("h2",{className:"builder-card--title"},t)):r.a.createElement("h2",{className:"builder-card--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}o.defaultProps={testID:"builder-card--header"};var l=n(3);const c=()=>{};class u extends a.PureComponent{render(){const{children:e,isInCheckOverlay:t,options:n,onSelect:a,selectedOption:s,testID:i}=this.props;return r.a.createElement("div",{className:"builder-card--header","data-testid":i},t?r.a.createElement(l.Dropdown,{button:()=>r.a.createElement(l.Dropdown.Button,{status:l.ComponentStatus.Disabled,onClick:()=>{}},s),menu:()=>null,testID:"disabled--filter-dropdown"}):r.a.createElement(l.SelectDropdown,{options:n,selectedOption:s,testID:"select-option-dropdown",onSelect:a||c}),e,this.deleteButton)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}u.defaultProps={testID:"builder-card--header"};class d extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--menu",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},t)}}d.defaultProps={testID:"builder-card--menu"};class m extends a.PureComponent{render(){const{scrollable:e,testID:t,autoHideScrollbars:n,style:a,className:s}=this.props;if(e){const e=Object.assign({maxWidth:"100%",maxHeight:"100%"},a);return r.a.createElement(l.DapperScrollbars,{className:"builder-card--body",style:e,testID:t,autoHide:n},this.children)}const o=i()("builder-card--body",{[`${s}`]:s});return r.a.createElement("div",{className:o,"data-testid":t,style:a},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--contents"},t):t}}m.defaultProps={scrollable:!0,addPadding:!0,testID:"builder-card--body",autoHideScrollbars:!1};class p extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"builder-card--body builder-card--empty","data-testid":e},t)}}p.defaultProps={testID:"builder-card--empty"};class h extends a.PureComponent{render(){const{children:e,testID:t,className:n,widthPixels:a}=this.props,s=i()("builder-card",{[`${n}`]:n}),o={flex:`0 0 ${a}px`};return r.a.createElement("div",{className:s,"data-testid":t,style:o},e)}}h.Header=o,h.DropdownHeader=u,h.Menu=d,h.Body=m,h.Empty=p,h.defaultProps={testID:"builder-card",widthPixels:228}},70:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(34),i=n(3),o=n(19);const l=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:c,label:u,placeholder:d,update:m,elementStylingClass:p}=e,[h,g]=Object(a.useState)(c==c?c:""),[f,b]=Object(a.useState)(i.ComponentStatus.Default),y=e=>{g(e.target.value),b(i.ComponentStatus.Default)},x=()=>{const e=Object(s.b)(h);let a=`${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`;"Total"===a?a+=o.B:a=`${o.A}${a}`;const r=`${t.toLowerCase()}${a}`,c=Array.isArray(l)?l.filter(e=>e!==r):[];e==e?m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:[...c,r]}):(m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:c}),""!==h&&b(i.ComponentStatus.Error))};return r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.Form.Element,{label:u,className:p},r.a.createElement(i.Input,{placeholder:d,onChange:y,onFocus:y,onBlur:()=>x(),onKeyPress:e=>{"Enter"===e.key&&x()},value:h,status:f})))};var c=n(104),u=n(187),d=n(85);const m=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:m,dateFormatPlaceholder:p="RFC3339",update:h}=e,[g,f]=Object(c.a)(m==m?m:""),[b,y]=Object(a.useState)(i.ComponentStatus.Default),[x,v]=Object(a.useState)(!1),[w,k]=Object(a.useState)(!0),E=Object(a.createRef)(),S=e=>{const a=Object(s.b)(void 0===e?g:e),r=`${o.A}${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`,c=`${t.toLowerCase()}${r}`,u=Array.isArray(l)?l.filter(e=>e!==c):[];Number.isNaN(a)?""!==g&&y(i.ComponentStatus.Error):u.push(c),h({[c]:a,[`generate${t.toUpperCase()}AxisTicks`]:u})},C=e=>{f(e.target.value),y(i.ComponentStatus.Default)},T=()=>{const e=new Date(g);return Number.isNaN(e.valueOf())?(new Date).toISOString():e.toISOString()},O=()=>{f(""),S("")},D=()=>v(!1),j=e=>{const t=new Date(e).valueOf();f(t==t?String(t):""),y(i.ComponentStatus.Default),S(t)},I=()=>{w&&D()},N=()=>k(!0),_=()=>k(!1),R=x?{position:"relative"}:{top:`${window.innerHeight/2}px`,left:`${window.innerWidth/2}px`,transform:"translate(-50%, -50%)"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Start Tick Marks At"},r.a.createElement(i.Input,{placeholder:p,onChange:C,onFocus:C,onBlur:()=>S(),onKeyPress:e=>{"Enter"===e.key&&S()},value:g,status:b}))),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Date Picker"},r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.ToTheLeft,triggerRef:E,visible:x,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(d.a,{onClickOutside:I},r.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:Object.assign({},R)},r.a.createElement("button",{className:"range-picker--dismiss",onClick:D}),r.a.createElement("div",{className:"range-picker--date-pickers"},r.a.createElement(u.a,{dateTime:T(),onSelectDate:j,label:"Start Tick Marks At"})),r.a.createElement(i.Button,{color:i.ComponentColor.Danger,onClick:O,size:i.ComponentSize.Small,text:"Reset"})))}),x?r.a.createElement(i.Button,{ref:E,color:i.ComponentColor.Danger,onClick:D,onMouseEnter:_,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}):r.a.createElement(i.Button,{ref:E,color:i.ComponentColor.Primary,onClick:()=>{x?D():v(!0)},onMouseEnter:_,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}))))};t.a=({axisName:e,columnType:t,label:n="Tick Generator",properties:s,update:o})=>{const c=s[`generate${e.toUpperCase()}AxisTicks`]||[],{hasTotalTicks:u,hasTickStart:d,hasTickStep:p}=c.reduce((t,n)=>(n===`${e.toLowerCase()}TotalTicks`&&(t.hasTotalTicks=!0),n===`${e.toLowerCase()}TickStart`&&(t.hasTickStart=!0),n===`${e.toLowerCase()}TickStep`&&(t.hasTickStep=!0),t),{hasTotalTicks:!1,hasTickStart:!1,hasTickStep:!1}),h=u?s[`${e}TotalTicks`]:"",g=d?s[`${e}TickStart`]:"",f=p?s[`${e}TickStep`]:"",[b,y]=Object(a.useState)(c.reduce((t,n)=>((e=>[`generate${e.toUpperCase()}AxisTicks`,`${e.toLowerCase()}TotalTicks`,`${e.toLowerCase()}TickStart`,`${e.toLowerCase()}TickStep`])(e).forEach(e=>{e===n&&(t+=1)}),t),0)>0);let x;return b&&(x="_time"===t?r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:o,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(m,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:g,update:o}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:f,label:"Tick Mark Interval",placeholder:"milliseconds",update:o})):r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:o,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(l,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:g,label:"Start Tick Marks At",update:o}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:f,label:"Tick Mark Interval",update:o}))),r.a.createElement(i.Form.Element,{label:n,className:"tick-generator-input"},r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_auto",titleText:"Auto",active:!b,onClick:()=>{y(!1),o({[`generate${e.toUpperCase()}AxisTicks`]:[]})},value:"Auto"},"Auto"),r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_custom",titleText:"Custom",active:b,onClick:()=>{y(!0)},value:"Custom"},"Custom")))),x)}},72:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i}));const a=e.env.CLOUD_URL?"cloud":"latest",r={name:"from",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"bucketID",desc:"String-encoded ID of the bucket to query.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"org",desc:"Organization name (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"orgID",desc:"String-encoded organization ID (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"token",desc:"InfluxDB authentication token (only required when querying a different organization or remote InfluxDB instance).",type:"String"}],package:"",desc:"Used to retrieve data from an InfluxDB data source. It returns a stream of tables from the specified bucket. Each unique series is contained within its own table. Each record in the table represents a single point in the series.",example:'from(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/from/`},s={name:"union",args:[{name:"tables",desc:"Specifies the streams to union together. There must be at least two streams.",type:"Array of Strings"}],package:"",desc:"Concatenates two or more input streams into a single output stream. The output schemas of the `union()` function is the union of all input schemas. A sort operation may be added if a specific sort order is needed.",example:"union(tables: [table1, table2])",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/union/`},i=[{name:"aggregate.rate",args:[{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"groupColumns",desc:"List of columns to group by. Defaults to [].",type:"Array of Strings"},{name:"unit",desc:"Time duration to use when calculating the rate. Defaults to `1s`.",type:"Duration"}],package:"experimental/aggregate",desc:"Calculates the rate of change per windows of time.",example:"aggregate.rate(every: 1m, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aggregate/rate/`},{name:"aggregateWindow",args:[{name:"every",desc:"The duration of windows.",type:"Duration"},{name:"fn",desc:"The aggregate function used in the operation.",type:"Unquoted String"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeSrc",desc:'The "time source" column from which time is copied for the aggregate record. Defaults to `"_stop"`.',type:"String"},{name:"timeDst",desc:'The "time destination" column to which time is copied for the aggregate record. Defaults to `"_time"`.',type:"String"},{name:"createEmpty",desc:"For windows without data, this will create an empty window and fill it with a `null` aggregate value.",type:"Boolean"}],package:"",desc:"Applies an aggregate function to fixed windows of time.",example:"aggregateWindow(every: v.windowPeriod, fn: mean)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/aggregatewindow/`},{name:"alerta.alert",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"resource",desc:"Resource associated with the alert.",type:"String"},{name:"event",desc:"Event name.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"severity",desc:"Event severity.",type:"String"},{name:"service",desc:"List of affected services. Default is `[]`.",type:"Array of strings"},{name:"group",desc:'Alerta event group. Default is `""`.',type:"String"},{name:"value",desc:'Event value. Default is `""`.',type:"String"},{name:"text",desc:'Alert text description. Default is `""`.',type:"String"},{name:"tags",desc:"List of event tags. Default is `[]`.",type:"Array of strings"},{name:"attributes",desc:"Alert attributes.",type:"Record"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"},{name:"type",desc:'Event type. Default is `""`.',type:"String"},{name:"timestamp",desc:"time alert was generated. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/alerta",desc:"Sends an alert to Alerta.",example:'alerta.alert(\n    url: "https://alerta.io:8080/alert",\n    apiKey: "0Xx00xxXx00Xxx0x0X",\n    resource: "example-resource",\n    event: "Example event",\n    environment: "",\n    severity: "critical",\n    service: [],\n    group: "",\n    value: "",\n    text: "",\n    tags: [],\n    attributes: {},\n    origin: "InfluxDB",\n    type: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/alert/`},{name:"alerta.endpoint",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"}],package:"contrib/bonitoo-io/alerta",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = alerta.endpoint(\n    url: "https://alerta.io:8080/alert",\n    apiKey: apiKey,\n    environment: "Production",\n    origin: "InfluxDB"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/endpoint/`},{name:"array.from",args:[{name:"rows",desc:"Array of records to construct a table with.",type:"Array of Objects"}],package:"array",desc:"Constructs a table from an array of objects.",example:'array.from(rows: [{_time: 2020-01-01T00:00:00Z, _value: "foo"},{_time: 2020-01-02T00:00:00Z, _value: "bar"}])',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/array/from/`},{name:"bigpanda.endpoint",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = bigpanda.endpoint(\n    token: token,\n    appKey: "example-app-key"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/endpoint/`},{name:"bigpanda.sendAlert",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"},{name:"status",desc:'BigPanda alert status. Supported statuses are `"ok"`, `"critical"`, `"warning"`, `"acknowledged"`.',type:"String"},{name:"rec",desc:"Additional alert parameters to send to the BigPanda alert API.",type:"Record"}],package:"contrib/rhajek/bigpanda",desc:"Sends an alert to BigPanda.",example:'bigpanda.sendAlert(\n    url: "https://api.bigpanda.io/data/v2/alerts",\n    token: "my5uP3rS3cRe7t0k3n",\n    appKey: "example-app-key",\n    status: "critical",\n    rec: {},\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/sendalert/`},{name:"bigpanda.statusFromLevel",args:[{name:"level",desc:"Alert level.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"Converts an alert level into a BigPanda status.",example:'bigpanda.statusFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/statusfromlevel/`},{name:"bigtable.from",args:[{name:"token",desc:"The Google Cloud IAM token to use to access the Cloud Bigtable database.",type:"String"},{name:"project",desc:"The project ID of the Cloud Bigtable project to retrieve data from.",type:"String"},{name:"instance",desc:"The instance ID of the Cloud Bigtable instance to retrieve data from.",type:"String"},{name:"table",desc:"The name of the Cloud Bigtable table to retrieve data from.",type:"String"}],package:"experimental/bigtable",desc:"Retrieves data from a Google Cloud Bigtable data source.",example:'bigtable.from(token: "mySuPeRseCretTokEn", project: "exampleProjectID", instance: "exampleInstanceID", table: "example-table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/bigtable/from/`},{name:"bool",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Float"}],package:"",desc:"Converts a single value to a boolean.",example:"bool(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bool/`},{name:"bottom",args:[{name:"n",desc:"The number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right) .Default is `["_value"]`',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the bottom n rows.",example:'bottom(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/bottom/`},{name:"buckets",args:[],package:"",desc:"Returns a list of buckets in the organization.",example:"buckets()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/buckets/`},{name:"bytes",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to bytes.",example:"bytes(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bytes/`},{name:"chandeMomentumOscillator",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Applies the technical momentum indicator developed by Tushar Chande.",example:"chandeMomentumOscillator(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/chandemomentumoscillator/`},{name:"columns",args:[{name:"column",desc:"The name of the output column in which to store the column labels.",type:"String"}],package:"",desc:"Lists the column labels of input tables.",example:'columns(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/columns/`},{name:"contains",args:[{name:"value",desc:"The value to search for.",type:"Boolean | Integer | UInteger | Float | String | Time"},{name:"set",desc:"The set of values in which to search.",type:"Boolean | Integer | UInteger | Float | String | Time"}],package:"",desc:"Tests whether a value is a member of a set.",example:"contains(value: 1, set: [1,2,3])",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/tests/contains/`},{name:"count",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the number of records in the specified column.",example:'count(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/count/`},{name:"cov",args:[{name:"x",desc:"One input stream used to calculate the covariance.",type:"Object"},{name:"y",desc:"The other input table used to calculate the covariance.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"}],package:"",desc:"Computes the covariance between two streams by first joining the streams, then performing the covariance operation.",example:'cov(x: table1, y: table2, on: ["_time", "_field"], pearsonr: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cov/`},{name:"covariance",args:[{name:"columns",desc:"A list of columns on which to operate. Exactly two columns must be provided.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"},{name:"valueDst",desc:'The column into which the result will be placed. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the covariance between two columns.",example:'covariance(columns: ["column_x", "column_y"], pearsonr: false, valueDst: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/covariance/`},{name:"csv.from",args:[{name:"file",desc:"The file path of the CSV file to query.",type:"String"},{name:"csv",desc:"Raw CSV-formatted text. CSV data must be in the CSV format produced by the Flux HTTP response standard.",type:"String"}],package:"csv",desc:"Retrieves data from a comma-separated value (CSV) data source.",example:"csv.from(csv: csvData)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/csv/from/`},{name:"csv.from",args:[{name:"url",desc:"The URL to retrieve annotated CSV from.",type:"String"}],package:"experimental/csv",desc:"Retrieves annotated CSV data from a URL.",example:'csv.from(url: "http://example.com/data.csv")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/csv/from/`},{name:"cumulativeSum",args:[{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes a running sum for non-null records in the table. The output table schema will be the same as the input table.",example:'cumulativeSum(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cumulativesum/`},{name:"date.hour",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the hour of a specified time. Results range from `[0-23]`.",example:"date.hour(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/hour/`},{name:"date.microsecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the microsecond of a specified time. Results range from `[1-999999]`.",example:"date.microsecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/microsecond/`},{name:"date.millisecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the millisecond of a specified time. Results range from `[1-999]`.",example:"date.millisecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/millisecond/`},{name:"date.minute",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the minute of a specified time. Results range from `[0-59]`.",example:"date.minute(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/minute/`},{name:"date.month",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the month of a specified time. Results range from `[1-12]`.",example:"date.month(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/month/`},{name:"date.monthDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the month for a specified time. Results range from `[1-31]`.",example:"date.monthDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/monthday/`},{name:"date.nanosecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the nanosecond of a specified time. Results range from `[1-999999999]`.",example:"date.nanosecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/nanosecond/`},{name:"date.quarter",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the quarter of the year for a specified time. Results range from `[1-4]`.",example:"date.quarter(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/quarter/`},{name:"date.second",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the second of a specified time. Results range from `[0-59]`.",example:"date.second(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/second/`},{name:"date.truncate",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"},{name:"unit",desc:"The unit time to truncate to. Only use `1` and the unit of time to specify the `unit`. For example, `1s`, `1m`, `1h`.",type:"Duration"}],package:"date",desc:"Truncates the time to a specified unit. Results range from `[0-59]`.",example:"date.truncate(t: 2019-07-17T12:05:21.012Z, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/truncate/`},{name:"date.week",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the ISO week of the year for a specified time. Results range from `[1-53]`.",example:"date.week(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/week/`},{name:"date.weekDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the week for a specified time. Results range from `[0-6]`.",example:"date.weekDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/weekday/`},{name:"date.year",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the year of a specified time.",example:"date.year(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/year/`},{name:"date.yearDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the year for a specified time. Results include leap days and range from `[1-366]`.",example:"date.yearDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/yearday/`},{name:"derivative",args:[{name:"unit",desc:"The time duration used when creating the derivative.",type:"Duration"},{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"},{name:"timeColumn",desc:'The column name for the time values. Defaults to `"_time"`.',type:"String"}],package:"",desc:"Computes the rate of change per unit of time between subsequent non-null records. The output table schema will be the same as the input table.",example:'derivative(unit: 1s, nonNegative: true, columns: ["_value"], timeColumn: "_time")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/derivative/`},{name:"dict.fromList",args:[{name:"pairs",desc:"List of records, each containing `key` and `value` properties.",type:"Array of records"}],package:"dict",desc:"Creates a dictionary from a list of records with `key` and `value` properties.",example:'dict.fromList(\n    pairs: [\n        {key: 1, value: "foo"},\n        {key: 2, value: "bar"}\n    ]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/fromlist/`},{name:"dict.get",args:[{name:"dict",desc:"Dictionary to return a value from.",type:"Dictionary"},{name:"key",desc:"Key to return from the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Default value to return if the key does not exist in the dictionary. Must be the same type as values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Returns the value of a specified key in a dictionary or a default value if the key does not exist.",example:'dict.get(\n    dict: [1: "foo", 2: "bar"],\n    key: 1,\n    default: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/get/`},{name:"dict.insert",args:[{name:"dict",desc:"Dictionary to update.",type:"Dictionary"},{name:"key",desc:"Key to insert into the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Value to insert into the dictionary. Must be the same type as existing values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Inserts a key value pair into a dictionary and returns a new, updated dictionary. If the key already exists in the dictionary, the function overwrites the existing value.",example:'dict.insert(\n    dict: [1: "foo", 2: "bar"],\n    key: 3,\n    value: "baz"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/insert/`},{name:"dict.remove",args:[{name:"dict",desc:"Dictionary to remove a key-value pair from.",type:"Dictionary"},{name:"key",desc:"Key to remove from the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Removes a key value pair from a dictionary and returns an updated dictionary.",example:'dict.remove(\n    dict: [1: "foo", 2: "bar"],\n    key: 1\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/remove/`},{name:"difference",args:[{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'The columns to use to compute the difference. Defaults to `"_value"`.',type:"Array of Strings"},{name:"keepFirst",desc:"Indicates the first row should be kept. If `true`, the difference will be `null`. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Computes the difference between subsequent non-null records in the specified columns.",example:'difference(nonNegative: false, columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/difference/`},{name:"discord.endpoint",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    webhookToken: discordToken,\n    webhookID: "123456789",\n    username: "critBot"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/endpoint/`},{name:"discord.send",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"content",desc:"Message to send to Discord (2000 character limit).",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"Sends a single message to a Discord channel using a Discord webhook.",example:'discord.send(\n    webhookToken: "mySuPerSecRetTokEn",\n    webhookID: "123456789",\n    username: "username",\n    content: "This is an example message",\n    avatar_url: "https://example.com/avatar_pic.jpg"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/send/`},{name:"distinct",args:[{name:"column",desc:"Column on which to track unique values.",type:"String"}],package:"",desc:"Returns the unique values for a given column.",example:'distinct(column: "host")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/distinct/`},{name:"doubleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at double the rate of `exponentialMovingAverage()`.",example:"doubleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/doubleema/`},{name:"drop",args:[{name:"columns",desc:"A list of columns to be removed from the table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Removes specified columns from a table. Columns can be specified either through a list or a predicate function. When a dropped column is part of the group key, it will be removed from the key.",example:'drop(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/drop/`},{name:"duplicate",args:[{name:"column",desc:"The column name to duplicate.",type:"String"},{name:"as",desc:"The name assigned to the duplicate column.",type:"String"}],package:"",desc:"Duplicates a specified column in a table.",example:'duplicate(column: "column-name", as: "duplicate-name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/duplicate/`},{name:"duration",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to a duration.",example:"duration(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/duration/`},{name:"elapsed",args:[{name:"unit",desc:"The unit of time to return. Defaults to `1s`.",type:"Duration"},{name:"timeColumn",desc:'The column to use to compute the elapsed time. Defaults to `"_time"`.',type:"String`"},{name:"columnName",desc:'The column to store elapsed times. Defaults to `"elapsed"`.',type:"String"}],package:"",desc:"Returns the time between subsequent records.",example:"elapsed(unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/elapsed/`},{name:"events.duration",args:[{name:"unit",desc:"Duration unit of the calculated state duration. Default is `1ns`.",type:"Duration"},{name:"columnName",desc:'Name of the result column. Default is `"duration"`.',type:"String"},{name:"timeColumn",desc:'Name of the time column. Default is `"_time"`.',type:"String"},{name:"stopColumn",desc:'Name of the stop column. Default is `"_stop"`.',type:"String"},{name:"stop",desc:"The latest time to use when calculating results. If provided, `stop` overrides the time value in the `stopColumn`.",type:"Time"}],package:"contrib/tomhollingworth/events",desc:"Calculates the duration of events. The function determines the time between a record and the subsequent record and associates the duration with the first record (start of the event).",example:'events.duration(\n    unit: 1ns,\n    columnName: "duration",\n    timeColumn: "_time",\n    stopColumn: "_stop",\n    stop: 2020-01-01T00:00:00Z\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/events/duration/`},{name:"experimental.addDuration",args:[{name:"d",desc:"The duration to add.",type:"Duration"},{name:"to",desc:"The time to add the duration to.",type:"Time"}],package:"experimental",desc:"Adds a duration to a time value and returns the resulting time value.",example:"experimental.addDuration(d: 12h, to: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/addduration/`},{name:"experimental.alignTime",args:[{name:"alignTo",desc:"UTC time to align tables to. Default is 1970-01-01T00:00:00Z.",type:"Time"}],package:"experimental",desc:"Aligns input tables to a common start time.",example:"experimental.alignTime(alignTo: v.timeRangeStart)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aligntime/`},{name:"experimental.chain",args:[{name:"first",desc:"The first query to execute.",type:"Stream of Tables"},{name:"second",desc:"The second query to execute.",type:"Stream of Tables"}],package:"experimental",desc:"Executes two queries sequentially rather than in parallel and outputs the results of the second query.",example:"experimental.chain(first: query1, second: query2)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/chain/`},{name:"experimental.count",args:[],package:"experimental",desc:"Outputs the number of records in each input table and returns the count in the `_value` column. This function counts both null and non-null records.",example:"experimental.count()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/count/`},{name:"experimental.distinct",args:[],package:"experimental",desc:"Returns unique values from the `_value` column. The `_value` of each output record is set to a distinct value in the specified column. `null` is considered a distinct value.",example:"experimental.distinct()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/distinct/`},{name:"experimental.fill",args:[{name:"value",desc:"Value to replace null values with. Data type must match the type of the `_value` column.",type:"Boolean | Integer | UInteger | Float | String | Time | Duration"},{name:"usePrevious",desc:"When `true`, replaces null values with the value of the previous non-null row.",type:"Boolean"}],package:"experimental",desc:"Replaces all null values in the `_value` column with a non-null value.",example:"experimental.fill(value: 0.0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/fill/`},{name:"experimental.first",args:[],package:"experimental",desc:"Returns the first record with a non-null value in the `_value` column.",example:"experimental.first()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/first/`},{name:"experimental.group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:"The mode used to group columns. Only the `extend` mode is available with this function.",type:"String"}],package:"experimental",desc:"Introduces an extend mode to the existing `group()` function.",example:'experimental.group(columns: ["host", "_measurement"], mode: "extend")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/group/`},{name:"experimental.histogram",args:[{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies, including the maximum value of the data set. This value can be set to positive infinity if no maximum is known.",type:"Array of floats"},{name:"normalize",desc:"Convert count values into frequency values between 0 and 1. Default is `false`.",type:"Boolean"}],package:"experimental",desc:"Approximates the cumulative distribution of a dataset by counting data frequencies for a list of bins.",example:"experimental.histogram(\n    bins: [50.0, 75.0, 90.0],\n    normalize: false\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogram/`},{name:"experimental.histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"minValue",desc:"The assumed minimum value of the dataset.",type:"Float"}],package:"experimental",desc:"Approximates a quantile given a histogram with the cumulative distribution of the dataset.",example:"experimental.histogramQuantile(\n    quantile: 0.5,\n    minValue: 0.0\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogramquantile/`},{name:"experimental.integral",args:[{name:"unit",desc:"Time duration used to compute the integral.",type:"Duration"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"experimental",desc:"Computes the area under the curve per `unit` of time of subsequent non-null records.",example:'integral(\n    unit: 10s,\n    interpolate: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/integral/`},{name:"experimental.join",args:[{name:"left",desc:"First of two streams of tables to join.",type:"Stream of tables"},{name:"right",desc:"Second of two streams of tables to join.",type:"Stream of tables"},{name:"fn",desc:"A function that maps new output rows using left and right input rows.",type:"Function"}],package:"experimental",desc:"Joins two streams of tables on the group key and _time column. Use the fn parameter to map output tables.",example:"experimental.join(left: left, right: right, fn: (left, right) => ({left with lv: left._value, rv: right._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/join/`},{name:"experimental.kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"experimental",desc:"Calculates the Kaufman’s Adaptive Moving Average (KAMA) of input tables using the `_value` column in each table.",example:"experimental.kaufmansAMA(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/kaufmansama/`},{name:"experimental.last",args:[],package:"experimental",desc:"Returns the last record with a non-null value in the `_value` column.",example:"experimental.last()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/last/`},{name:"experimental.max",args:[],package:"experimental",desc:"Returns the record with the highest value in the `_value` column for each input table.",example:"experimental.max()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/max/`},{name:"experimental.mean",args:[],package:"experimental",desc:"Computes the mean or average of non-null values in the `_value` column of each input table.",example:"experimental.mean()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mean/`},{name:"experimental.min",args:[],package:"experimental",desc:"Returns the record with the lowest value in the `_value` column for each input table.",example:"experimental.min()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/min/`},{name:"experimental.mode",args:[],package:"experimental",desc:"Computes the mode or value that occurs most often in the `_value` column in each input table.",example:"experimental.mode()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mode/`},{name:"experimental.objectKeys",args:[{name:"o",desc:"The object to return keys from.",type:"Object"}],package:"experimental",desc:"Returns an array of keys in a specified object.",example:'experimental.objectKeys(o: {key1: "value1", key2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/objectkeys/`},{name:"experimental.quantile",args:[{name:"q",desc:"A value between 0 and 1 thats specifies the quantile.",type:"Float"},{name:"method",desc:"Computation method. Default is `estimate_tdigest`. Available options are `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset.",type:"Float"}],package:"experimental",desc:"Outputs non-null records with values in the `_value` column that fall within the specified quantile or represent the specified quantile.",example:'experimental.quantile(\n    q: 0.99,\n    method: "estimate_tdigest",\n    compression: 1000.0\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/quantile/`},{name:"experimental.set",args:[{name:"o",desc:"An object that defines the columns and values to set.",type:"Object"}],package:"experimental",desc:"Sets multiple static column values on all records.",example:'experimental.set(o: {column1: "value1", column2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/set/`},{name:"experimental.skew",args:[],package:"experimental",desc:"Outputs the skew of non-null values in the `_value` column for each input table as a float.",example:"experimental.skew()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/skew/`},{name:"experimental.spread",args:[],package:"experimental",desc:"Outputs the difference between the minimum and maximum values in the `_value` column for each input table.",example:"experimental.spread()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/spread/`},{name:"experimental.stddev",args:[{name:"mode",desc:'The standard deviation mode or type of standard deviation to calculate. Defaults to `"sample"`. Available options are `sample` and `population`.',type:"String"}],package:"experimental",desc:"Computes the standard deviation of non-null values in the `_value` column for each input table.",example:'experimental.stddev(mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/stddev/`},{name:"experimental.subDuration",args:[{name:"d",desc:"The duration to subtract.",type:"Duration"},{name:"from",desc:"The time to subtract the duration from.",type:"Time"}],package:"experimental",desc:"Subtracts a duration from a time value and returns the resulting time value.",example:"experimental.subDuration(d: 12h, from: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/subduration/`},{name:"experimental.sum",args:[],package:"experimental",desc:"Computes the sum of non-null values in the `_value` column for each input table.",example:"experimental.sum()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/sum/`},{name:"experimental.to",args:[{name:"bucket",desc:"The bucket to write data to. `bucket` and `bucketID` are mutually exclusive.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to write data to. `bucketID` and `bucket` are mutually exclusive.",type:"String"},{name:"org",desc:"The organization name of the specified bucket. `org` and `orgID` are mutually exclusive.",type:"String"},{name:"orgID",desc:"The organization ID of the specified bucket. `orgID` and `org` are mutually exclusive.",type:"String"}],package:"experimental",desc:"Writes data to an InfluxDB v2.0 bucket, but in a different structure than the built-in `to()` function.",example:'experimental.to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/to/`},{name:"exponentialMovingAverage",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data.",example:"exponentialMovingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/exponentialmovingaverage/`},{name:"fill",args:[{name:"column",desc:'The column in which to replace null values. Defaults to `"_value"`.',type:"String"},{name:"value",desc:"The constant value to use in place of nulls.",type:"Value type of `column`"},{name:"usePrevious",desc:"When `true`, assigns the value set in the previous non-null row.",type:"Boolean"}],package:"",desc:"Replaces all null values in an input stream and replace them with a non-null value.",example:'fill(column: "_value", usePrevious: true)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/fill/`},{name:"filter",args:[{name:"fn",desc:"A single argument function that evaluates true or false. Records are passed to the function. Those that evaluate to true are included in the output tables.",type:"Function"},{name:"onEmpty",desc:"Defines the behavior for empty tables. Potential values are `keep` and `drop`. Defaults to `drop`.",type:"String"}],package:"",desc:"Filters data based on conditions defined in the function. The output tables have the same schema as the corresponding input tables.",example:'filter(fn: (r) => r._measurement == "cpu")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/filter/`},{name:"findColumn",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"column",desc:"Name of the column to extract.",type:"String"}],package:"",desc:"Returns an array of values in a specified column from the first table in a stream of tables where the group key values match the specified predicate.",example:'findColumn(fn: (key) => key.host == "host1", column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findcolumn/`},{name:"findRecord",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"idx",desc:"Index of the record to extract.",type:"Integer"}],package:"",desc:"Returns a record at a specified index from the first table in a stream of tables where the group key values match the specified predicate.",example:'findRecord(fn: (key) => key.host == "host1", idx: 0)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findrecord/`},{name:"first",args:[],package:"",desc:"Selects the first non-null record from an input table.",example:"first()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/first/`},{name:"float",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Boolean"}],package:"",desc:"Converts a single value to a float.",example:"float(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/float/`},r,{name:"geo.asTracks",args:[{name:"groupBy",desc:"Columns to group by. They should uniquely identify each track.",type:"Array of Strings"},{name:"orderBy",desc:"Columns to order results by.",type:"Array of Strings"}],package:"experimental/geo",desc:"Groups geo-temporal data into tracks (sequential, related data points).",example:'geo.asTracks(groupBy: ["id","tid"], orderBy: ["_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/astracks/`},{name:"geo.filterRows",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"},{name:"strict",desc:"Enable strict geographic data filtering. Default is `true`",type:"Boolean"}],package:"experimental/geo",desc:"Filters data by a specified geographic region with the option of strict filtering.",example:"geo.filterRows(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0}, strict: true)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/filterrows/`},{name:"geo.gridFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Filters data by a specified geographic region using S2 geometry grid cells.",example:"geo.gridFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/gridfilter/`},{name:"geo.groupByArea",args:[{name:"newColumn",desc:"Name of the new column that stores the unique identifier for a geographic area.",type:"String"},{name:"level",desc:"S2 Cell level used to determine the size of each geographic area.",type:"Integer"},{name:"s2cellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Groups rows by geographic area using S2 geometry grid cells.",example:'geo.groupByArea(newColumn: "geoArea", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/groupbyarea/`},{name:"geo.s2CellIDToken",args:[{name:"point",desc:"Longitude and latitude in decimal degrees (WGS 84) to use when generating the S2 cell ID token. Object must contain `lat` and `lon` properties.",type:"Object"},{name:"token",desc:"S2 cell ID token to update.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Returns an S2 cell ID token.",example:"geo.s2CellIDToken(point: {lat: 37.7858229, lon: -122.4058124}, level: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2cellidtoken/`},{name:"geo.s2CellLatLon",args:[{name:"token",desc:"S2 cell ID token.",type:"String"}],package:"experimental/geo",desc:"Returns the latitude and longitude of the center of an S2 cell.",example:'geo.s2CellLatLon(token: "89c284")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2celllatlon/`},{name:"geo.shapeData",args:[{name:"latField",desc:"Name of existing latitude field.",type:"String"},{name:"lonField",desc:"Name of existing longitude field.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Renames existing latitude and longitude fields to `lat` and `lon` and adds an `s2_cell_id` tag.",example:'geo.shapeData(latField: "latitude", lonField: "longitude", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/shapedata/`},{name:"geo.ST_Contains",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if the region contains the GIS geometry.",example:"geo.ST_Contains(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_contains/`},{name:"geo.ST_Distance",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the distance between the region and GIS geometry.",example:"geo.ST_Distance(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_distance/`},{name:"geo.ST_DWithin",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"},{name:"distance",desc:"Maximum distance allowed between the region and geometry.",type:"Float"}],package:"experimental/geo",desc:"Tests if a region is within a specified distance from GIS geometry.",example:"geo.ST_DWithin(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433}, distance: 1000.0)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_dwithin/`},{name:"geo.ST_Intersects",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if a region intersects with GIS geometry.",example:'geo.ST_Intersects(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_intersects/`},{name:"geo.ST_Length",args:[{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the spherical length of GIS geometry.",example:'geo.ST_Length(geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_length/`},{name:"geo.ST_LineString",args:[],package:"experimental/geo",desc:"Converts a series of geographic points into linestring",example:"geo.ST_LineString()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_linestring/`},{name:"geo.strictFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"}],package:"experimental/geo",desc:"Filters data by latitude and longitude in a specified region.",example:"geo.strictFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/strictfilter/`},{name:"geo.toRows",args:[],package:"experimental/geo",desc:"Pivots geo-temporal data into row-wise sets based on time and other correlation columns.",example:"geo.toRows()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/torows/`},{name:"getColumn",args:[{name:"column",desc:"The name of the column to extract.",type:"String"}],package:"",desc:"Extracts a column from a table given its label. If the label is not present in the set of columns, the function errors.",example:'getColumn(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getcolumn/`},{name:"getRecord",args:[{name:"idx",desc:"The index of the record to extract.",type:"Integer"}],package:"",desc:"Extracts a record from a table given the record’s index. If the index is out of bounds, the function errors.",example:"getRecord(idx: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getrecord/`},{name:"group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:'The mode used to group columns. The following options are available: by, except. Defaults to `"by"`.',type:"String"}],package:"",desc:"Groups records based on their values for specific columns. It produces tables with new group keys based on provided properties.",example:'group(columns: ["host", "_measurement"], mode:"by")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/group/`},{name:"highestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the average of each group.",example:'highestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestaverage/`},{name:"highestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the last value of each group.",example:'highestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestcurrent/`},{name:"highestMax",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the maximum of each group.",example:'highestMax(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestmax/`},{name:"histogram",args:[{name:"column",desc:'The name of a column containing input data values. The column type must be float. Defaults to `"_value"`.',type:"Strings"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. Defaults to `"le"`.',type:"String"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. Defaults to `"_value"`.',type:"String"},{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies. Each element in the array should contain a float value that represents the maximum value for a bin.",type:"Array of Floats"},{name:"normalize",desc:"When `true`, will convert the counts into frequency values between 0 and 1. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Approximates the cumulative distribution function of a dataset by counting data frequencies for a list of buckets.",example:'histogram(column: "_value", upperBoundColumn: "le", countColumn: "_value", bins: [50.0, 75.0, 90.0], normalize: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/histogram/`},{name:"histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. The count column type must be float. Defaults to `"_value"`.',type:"String"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. The count column type must be float. Defaults to `"le"`.',type:"String"},{name:"valueColumn",desc:'The name of the output column which will contain the computed quantile. Defaults to `"_value"`.',type:"String"},{name:"minValue",desc:"The assumed minimum value of the dataset. When the quantile falls below the lowest upper bound, interpolation is performed between `minValue` and the lowest upper bound. When `minValue` is equal to negative infinity, the lowest upper bound is used. Defaults to `0`.",type:"Float"}],package:"",desc:"Approximates a quantile given a histogram that approximates the cumulative distribution of the dataset.",example:'histogramQuantile(quantile: 0.5, countColumn: "_value", upperBoundColumn: "le", valueColumn: "_value", minValue: 0.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/histogramquantile/`},{name:"holtWinters",args:[{name:"n",desc:"Number of values to predict.",type:"Integer"},{name:"seasonality",desc:"Number of points in a season. Defaults to `0`.",type:"Integer"},{name:"interval",desc:"The interval between two data points.",type:"Duration"},{name:"withFit",desc:'Returns "fitted" data points in results when `withFit` is set to `true`. Defaults to `false`.',type:"Boolean"},{name:"timeColumn",desc:'The time column to use. Defaults to `"_time"`.',type:"String"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Applies the Holt-Winters forecasting method to input tables. The Holt-Winters method predicts `n` seasonally-adjusted values for the specified `column` at the specified `interval`.",example:"holtWinters(n: 10, interval: 1d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/holtwinters/`},{name:"hourSelection",args:[{name:"start",desc:"The first hour of the hour range (inclusive). Hours range from `[0-23]`",type:"Integer"},{name:"stop",desc:"The last hour of the hour range (inclusive). Hours range from `[0-23]`.",type:"Integer`"},{name:"timeColumn",desc:'The column that contains the time value. Default is `"_time"`.',type:"String`"}],package:"",desc:"Retains all rows with time values in a specified hour range. Hours are specified in military time.",example:"hourSelection(start: 9, stop: 17)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/hourselection/`},{name:"http.basicAuth",args:[{name:"u",desc:"The username to use in the basic authentication header.",type:"String"},{name:"p",desc:"The password to use in the basic authentication header.",type:"String"}],package:"http",desc:"Returns a Base64-encoded basic authentication header using a specified username and password combination.",example:'http.basicAuth(\n    u: "username",\n    p: "passw0rd"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/basicauth/`},{name:"http.endpoint",args:[{name:"url",desc:"The URL to POST to.",type:"String"}],package:"http",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = http.endpoint(\n    url: "http://localhost:1234/"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/endpoint/`},{name:"http.get",args:[{name:"url",desc:"The URL to send the GET request to.",type:"String"},{name:"headers",desc:"Headers to include with the GET request.",type:"Object"},{name:"timeout",desc:"Timeout for the GET request. Default is `30s`.",type:"Duration"}],package:"experimental/http",desc:"Submits an HTTP GET request to the specified URL and returns the HTTP status code, response body, and response headers.",example:'http.get(url: "https://docs.influxdata.com/influxdb/v2.0/", headers: {foo: "bar"})',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/http/get/`},{name:"http.pathEscape",args:[{name:"inputString",desc:"The string to escape.",type:"String"}],package:"http",desc:"Escapes special characters in a string and replaces non-ASCII characters with hexadecimal representations (%XX).",example:'http.pathEscape(inputString: "/this/is/an/example-path.html")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/pathescape/`},{name:"http.post",args:[{name:"url",desc:"The URL to POST to.",type:"String"},{name:"headers",desc:"Headers to include with the POST request.",type:"Object"},{name:"data",desc:"The data body to include with the POST request.",type:"Bytes"}],package:"http",desc:"Submits an HTTP POST request to the specified URL with headers and data and returns the HTTP status code.",example:'http.post(url: "http://localhost:8086/", headers: {x:"a", y:"b"}, data: bytes(v: "body"))',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/post/`},{name:"increase",args:[{name:"columns",desc:'List of columns to use in the operation. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes the total non-negative difference between values in a table.",example:'increase(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/increase/`},{name:"influxdb.api",args:[{name:"method",desc:"HTTP request method.",type:"String"},{name:"path",desc:"InfluxDB API path.",type:"String"},{name:"host",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"headers",desc:"HTTP request headers.",type:"Dictionary"},{name:"query",desc:"URL query parameters.",type:"Dictionary"},{name:"timeout",desc:"HTTP request timeout. Default is `30s`.",type:"Duration"},{name:"body",desc:"HTTP request body as bytes.",type:"Bytes"}],package:"experimental/influxdb",desc:"Submits an HTTP request to the specified InfluxDB API path and returns a record containing the HTTP status code, response headers, and response body as a byte array.",example:'influxdb.api(\n    method: "get",\n    path: "/example",\n    host: "http://localhost:8086",\n    token: "mySupeR53cre7t0k3n",\n    headers: ["header1": "header1Value", "header2": "header2Value"],\n    query: ["ex1": "example1", "ex2": "example2"],\n    timeout: 30s,\n    body: bytes(v: "Example body")\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/influxdb/api/`},{name:"influxdb.cardinality",args:[{name:"bucket",desc:"Bucket to query cardinality from.",type:"String"},{name:"bucketID",desc:"Bucket ID to query cardinality from.",type:"String"},{name:"org",desc:"InfluxDB organization.",type:"String"},{name:"orgID",desc:"InfluxDB organization ID.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query.",type:"String"},{name:"token",desc:"InfluxDB authorization token.",type:"String"},{name:"start",desc:"The earliest time to include when calculating cardinality.",type:"Duration | Time"},{name:"stop",desc:"The latest time to include when calculating cardinality.",type:"Duration | Time"},{name:"predicate",desc:"Predicate function that filters records. Default is `(r) => true.`",type:"Function"}],package:"influxdata/influxdb",desc:"Returns the series cardinality of data in InfluxDB.",example:'influxdb.cardinality(bucket: "example-bucket", start: -1h)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb/cardinality/`},{name:"influxdb.select",args:[{name:"from",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"Earliest time to include in results. Results include points that match the specified start time.",type:"Duration | Time | Integer"},{name:"stop",desc:"Latest time to include in results. Results exclude points that match the specified stop time.",type:"Duration | Time | Integer"},{name:"m",desc:"Name of the measurement to query.",type:"String"},{name:"fields",desc:"List of fields to query. Returns all fields when list is empty or unspecified. Defaults to `[]`.",type:"Array of Strings"},{name:"where",desc:"A single argument predicate function that evaluates true or false and filters results based on tag values. Defaults to `(r) => true`.",type:"Function"},{name:"host",desc:"URL of the InfluxDB instance to query. See InfluxDB URLs.",type:"String"},{name:"org",desc:"Organization name.",type:"String"},{name:"token",desc:"InfluxDB authentication token.",type:"String"}],package:"contrib/jsternberg/influxdb",desc:"an alternate implementation of `from()`, `range()`, `filter()` and `pivot()` that returns pivoted query results and masks the `_measurement`, `_start`, and `_stop` columns.",example:'influxdb.select(\n    from: "example-bucket",\n    start: -1d,\n    stop: now(),\n    m: "example-measurement",\n    fields: [],\n    where: (r) => true,\n    host: "https://example.com",\n    org: "example-org",\n    token: "MySuP3rSecr3Tt0k3n"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/influxdb/select/`},{name:"int",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Numeric String | Time | Uinteger"}],package:"",desc:"Converts a single value to a integer.",example:"int(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/int/`},{name:"integral",args:[{name:"unit",desc:"The time duration used when computing the integral.",type:"Duration"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeColumn",desc:'Column that contains time values to use in the operation. Defaults to `"_time"`.',type:"String"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"",desc:"Computes the area under the curve per unit of time of subsequent non-null records. The curve is defined using `_time` as the domain and record values as the range.",example:'integral(unit: 10s, column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/integral/`},{name:"interpolate.linear",args:[{name:"every",desc:"Duration of time between interpolated points.",type:"Duration"}],package:"interpolate",desc:"Inserts rows at regular intervals using linear interpolation to determine values for inserted rows.",example:"interpolate.linear(every: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/interpolate/linear/`},{name:"join",args:[{name:"tables",desc:"The map of streams to be joined.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"method",desc:'The method used to join. Possible values are: `inner`, `cross`, `left`, `right`, or `full`. Defaults to `"inner"`.',type:"String"}],package:"",desc:"Merges two or more input streams, whose values are equal on a set of common columns, into a single output stream. The resulting schema is the union of the input schemas. The resulting group key is the union of the input group keys.",example:'join(tables: {key1: table1, key2: table2}, on: ["_time", "_field"], method: "inner")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/join/`},{name:"json.encode",args:[{name:"v",desc:"The value to encode.",type:"Boolean | Duration | Float | Integer | String | Time | UInteger"}],package:"json",desc:"Converts a value into JSON bytes.",example:"json.encode(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/json/encode/`},{name:"json.parse",args:[{name:"data",desc:"JSON data to parse.",type:"Bytes"}],package:"experimental/json",desc:"Takes JSON data as bytes and returns a value.",example:'json.parse(data: bytes(v: "{"a":1,"b":2,"c":3}"))',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/json/parse/`},{name:"kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Calculates Kaufman’s Adaptive Moving Average (KAMA) using values in an input table.",example:"kaufmansAMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmansama/`},{name:"kaufmansER",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates the Kaufman’s Efficiency Ratio (KER) using values in an input table.",example:"kaufmansER(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmanser/`},{name:"keep",args:[{name:"columns",desc:"Columns that should be included in the resulting table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A predicate function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Returns a table containing only the specified columns, ignoring all others. Only columns in the group key that are also specified in the `keep()` function will be kept in the resulting group key. It is the inverse of `drop`.",example:'keep(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keep/`},{name:"keys",args:[{name:"column",desc:"Column is the name of the output column to store the group key labels. Defaults to `_value`.",type:"String"}],package:"",desc:"Outputs the group key of input tables. For each input table, it outputs a table with the same group key columns, plus a _value column containing the labels of the input table's group key.",example:'keys(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keys/`},{name:"keyValues",args:[{name:"keyColumns",desc:"A list of columns from which values are extracted. All columns indicated must be of the same type.",type:"Array of Strings"}],package:"",desc:"Returns a table with the input table's group key plus two columns, `_key` and `_value`, that correspond to unique column + value pairs from the input table.",example:'keyValues(keyColumns: ["usage_idle", "usage_user"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keyvalues/`},{name:"last",args:[],package:"",desc:"Selects the last non-null record from an input table.",example:"last()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/last/`},{name:"length",args:[{name:"arr",desc:"The array to evaluate.",type:"Array"}],package:"",desc:"Returns the number of items in an array.",example:'length(arr: ["john"])',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/length/`},{name:"limit",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the beginning of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the first `n` records, excluding the offset.",example:"limit(n:10, offset: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/limit/`},{name:"linearBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"width",desc:"The distance between subsequent bin values.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of linearly separated floats.",example:"linearBins(start: 0.0, width: 5.0, count: 20, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/linearbins/`},{name:"logarithmicBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"factor",desc:"The multiplier applied to each subsequent bin.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of exponentially separated floats.",example:"logarithmicBins(start: 1.0, factor: 2.0, count: 10, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/logarithmicbins/`},{name:"lowestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the average of each group.",example:'lowestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestaverage/`},{name:"lowestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the last value of each group.",example:'lowestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestcurrent/`},{name:"lowestMin",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the maximum of each group.",example:'lowestMin(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestmin/`},{name:"map",args:[{name:"fn",desc:"A single argument function that to apply to each record. The return value must be an object.",type:"Function"}],package:"",desc:"Applies a function to each record in the input tables.",example:"map(fn: (r) => ({ r with _value: r._value * r._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/map/`},{name:"math.abs",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the absolute value of x.",example:"math.abs(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/abs/`},{name:"math.acos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arccosine of x in radians.",example:"math.acos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acos/`},{name:"math.acosh",args:[{name:"x",desc:"The value used in the operation. Should be greater than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic cosine of x.",example:"math.acosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acosh/`},{name:"math.asin",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the arcsine of x in radians.",example:"math.asin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asin/`},{name:"math.asinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic sine of x.",example:"math.asinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asinh/`},{name:"math.atan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arctangent of x in radians.",example:"math.atan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan/`},{name:"math.atan2",args:[{name:"y",desc:"The y coordinate used in the operation.",type:"Float"},{name:"x",desc:"The x coordinate used in the operation.",type:"Float"}],package:"math",desc:"Returns the arc tangent of y/x, using the signs of the two to determine the quadrant of the return value.",example:"math.atan2(y: r.y_coord, x: r.x_coord)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan2/`},{name:"math.atanh",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic tangent of x.",example:"math.atanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atanh/`},{name:"math.cbrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cube root of x.",example:"math.cbrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cbrt/`},{name:"math.ceil",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the least integer value greater than or equal to x.",example:"math.ceil(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ceil/`},{name:"math.copysign",args:[{name:"x",desc:"The magnitude used in the operation.",type:"Float"},{name:"y",desc:"The sign used in the operation.",type:"Float"}],package:"math",desc:"Returns a value with the magnitude of x and the sign of y.",example:"math.copysign(x: r._magnitude, r._sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/copysign/`},{name:"math.cos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cosine of the radian argument x.",example:"math.cos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cos/`},{name:"math.cosh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic cosine of x.",example:"math.cosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cosh/`},{name:"math.dim",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the maximum of (x - y) or 0.",example:"math.dim(x: r._value1, y: r._value2)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/dim/`},{name:"math.erf",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the error function of x.",example:"math.erf(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erf/`},{name:"math.erfc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the complementary error function of x.",example:"math.erfc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfc/`},{name:"math.erfcinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than 0 and less than 2.",type:"Float"}],package:"math",desc:"Returns the inverse of `math.erfc()`.",example:"math.erfcinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfcinv/`},{name:"math.erfinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse error function of x.",example:"math.erfinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfinv/`},{name:"math.exp",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x (`e**x`).",example:"math.exp(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp/`},{name:"math.exp2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-2 exponential of x (`2**x`).",example:"math.exp2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp2/`},{name:"math.expm1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x minus 1 (`e**x - 1`).",example:"math.expm1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/expm1/`},{name:"math.float64bits",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 binary representation of f, with the sign bit of f and the result in the same bit position.",example:"math.float64bits(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/float64bits/`},{name:"math.floor",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the greatest integer value less than or equal to x.",example:"math.floor(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/floor/`},{name:"math.frexp",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Breaks f into a normalized fraction and an integral power of two.",example:"math.frexp(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/frexp/`},{name:"math.gamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the Gamma function of x.",example:"math.gamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/gamma/`},{name:"math.hypot",args:[{name:"p",desc:"The p value used in the operation.",type:"Float"},{name:"q",desc:"The q value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of `p*p + q*q`, taking care to avoid overflow and underflow.",example:"math.hypot(p: r.opp, p: r.adj)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/hypot/`},{name:"math.ilogb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x as an integer.",example:"math.ilogb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ilogb/`},{name:"math.isInf",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"},{name:"sign",desc:"The sign used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an infinity, according to sign.",example:"math.isInf(f: r._value, sign: r.sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isinf/`},{name:"math.isNaN",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an IEEE 754 NaN value.",example:"math.isNaN(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isnan/`},{name:"math.j0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the first kind.",example:"math.j0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j0/`},{name:"math.j1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the first kind.",example:"math.j1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j1/`},{name:"math.jn",args:[{name:"n",desc:"The order number.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the first kind.",example:"math.jn(n: 2, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/jn/`},{name:"math.ldexp",args:[{name:"frac",desc:"The fraction used in the operation.",type:"Float"},{name:"exp",desc:"The exponent used in the operation.",type:"Float"}],package:"math",desc:"Returns `frac × 2**exp`. It is the inverse of `math.frexp()`.",example:"math.ldexp(frac: r.frac, exp: r.exp)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ldexp/`},{name:"math.lgamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm and sign (-1 or +1) of `math.gamma(x:x)`.",example:"math.lgamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/lgamma/`},{name:"math.log",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of x.",example:"math.log(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log/`},{name:"math.log10",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the decimal logarithm of `x`.",example:"math.log10(x: 3.14)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log10/`},{name:"math.log1p",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of 1 plus its argument x.",example:"math.log1p(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log1p/`},{name:"math.log2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary logarithm of x.",example:"math.log2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log2/`},{name:"math.logb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x.",example:"math.logb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/logb/`},{name:"math.mInf",args:[{name:"sign",desc:"The sign value used in the operation.",type:"Float"}],package:"math",desc:"Returns positive infinity if `sign >= 0`, negative infinity if `sign < 0`.",example:"math.mInf(sign: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/minf/`},{name:"math.mMax",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the larger of x or y.",example:"math.mMax(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmax/`},{name:"math.mMin",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the smaller of x or y.",example:"math.mMin(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmin/`},{name:"math.mod",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the floating-point remainder of x/y.",example:"math.mod(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mod/`},{name:"math.modf",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns integer and fractional floating-point numbers that sum to f. Both values have the same sign as f.",example:"math.modf(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/modf/`},{name:"math.NaN",args:[],package:"math",desc:"Returns an IEEE 754 NaN value.",example:"math.NaN()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nan/`},{name:"math.nextafter",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the next representable float value after x towards y.",example:"math.nextafter(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nextafter/`},{name:"math.pow",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-x exponential of y, `x**y`.",example:"math.pow(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow/`},{name:"math.pow10",args:[{name:"n",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-10 exponential of n, `10**n`.",example:"math.pow10(n: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow10/`},{name:"math.remainder",args:[{name:"x",desc:"The numerator used in the operation.",type:"Float"},{name:"y",desc:"The denominator used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 floating-point remainder of `x / y`.",example:"math.remainder(x: r.numerator, y: r.denominator)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/remainder/`},{name:"math.round",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding half away from zero.",example:"math.round(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/round/`},{name:"math.roundtoeven",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding ties to even.",example:"math.roundtoeven(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/roundtoeven/`},{name:"math.signbit",args:[{name:"x",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether x is negative or negative zero.",example:"math.signbit(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/signbit/`},{name:"math.sin",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the sine of the radian argument x.",example:"math.sin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sin/`},{name:"math.sincos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the values of `math.sin(x:x)` and `math.cos(x:x)`.",example:"math.sincos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sincos/`},{name:"math.sinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic sine of x.",example:"math.sinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sinh/`},{name:"math.sqrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of x.",example:"math.sqrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sqrt/`},{name:"math.tan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the tangent of the radian argument x.",example:"math.tan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tan/`},{name:"math.tanh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic tangent of x.",example:"math.tanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tanh/`},{name:"math.trunc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the integer value of x.",example:"math.trunc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/trunc/`},{name:"math.y0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the second kind.",example:"math.y0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y0/`},{name:"math.y1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the second kind.",example:"math.y1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y1/`},{name:"math.yn",args:[{name:"n",desc:"The order number used in the operation.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the second kind.",example:"math.yn(n: 3, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/yn/`},{name:"max",args:[{name:"column",desc:'The column to use to compute the max. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the highest `_value` from the input table.",example:"max()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/max/`},{name:"mean",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Computes the mean or average of non-null records in the input table.",example:'mean(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mean/`},{name:"median",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Returns the median `_value` of an input table. The `median()` function can only be used with float value types.",example:'median(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/median/`},{name:"min",args:[{name:"column",desc:'The column to use to compute the min. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the lowest `_value` from the input table.",example:"min()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/min/`},{name:"mode",args:[{name:"column",desc:'The column to use to compute the mode. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the mode or value that occurs most often in a specified column.",example:'mode(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mode/`},{name:"monitor.check",args:[{name:"crit",desc:"Predicate function that determines `crit` status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function that determines `warn` status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function that determines `info` status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function that determines `ok` status. Default is `(r) => false`.",type:"Function"},{name:"messageFn",desc:"A function that constructs a message to append to each row. The message is stored in the `_message` column.",type:"Function"},{name:"data",desc:"Meta data used to identify this check.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Checks input data and assigns a level (`ok`, `info`, `warn`, or `crit`) to each row based on predicate functions.",example:'monitor.check(\n    crit: (r) => r._value > 90.0,\n    warn: (r) => r._value > 80.0,\n    info: (r) => r._value > 60.0,\n    ok:   (r) => r._value <= 20.0,\n    messageFn: (r) => "The current level is ${r._level}",\n    data: {}\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/check/`},{name:"monitor.deadman",args:[{name:"t",desc:"The time threshold for the deadman check.",type:"Time"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.deadman(t: 2019-08-30T12:30:00Z)",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/deadman/`},{name:"monitor.from",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/from/`},{name:"monitor.logs",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Retrieves notification events stored in the notifications measurement in the `_monitoring` bucket.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/logs/`},{name:"monitor.notify",args:[{name:"endpoint",desc:"A function that constructs and sends the notification to an endpoint.",type:"Function"},{name:"data",desc:"Notification data to append to the output.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Sends a notification to an endpoint and logs it in the notifications measurement in the `_monitoring` bucket.",example:"monitor.notify(\n    endpoint: endpoint,\n    data: {}\n)",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/notify/`},{name:"monitor.stateChanges",args:[{name:"fromLevel",desc:'The level to detect a change from. Defaults to `"any"`.',type:"String"},{name:"toLevel",desc:'The level to detect a change to. The function output records that change to this level. Defaults to `"any"`.',type:"String"}],package:"influxdata/influxdb/monitor",desc:"Detects state changes in a stream of data with a `_level` column and outputs records that change from `fromLevel` to `toLevel`.",example:'monitor.stateChanges(\n    fromLevel: "any",\n    toLevel: "any"\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechanges/`},{name:"monitor.stateChangesOnly",args:[],package:"influxdata/influxdb/monitor",desc:"Takes a stream of tables that contains a `_level` column and returns a stream of tables where each record represents a state change.",example:"monitor.stateChangesOnly()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechangesonly/`},{name:"movingAverage",args:[{name:"n",desc:"The frequency of time windows.",type:"Duration"}],package:"",desc:"Calculates the mean of values grouped into `n` number of points.",example:"movingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/movingaverage/`},{name:"mqtt.to",args:[{name:"broker",desc:"The MQTT broker connection string.",type:"String"},{name:"topic",desc:"The MQTT topic to send data to.",type:"String"},{name:"message",desc:"The message or payload to send to the MQTT broker. The default payload is an output table.",type:"String"},{name:"qos",desc:"The MQTT Quality of Service (QoS) level. Values range from 0-2. Default is 0.",type:"Integer"},{name:"clientid",desc:"The MQTT client ID.",type:"String"},{name:"username",desc:"The username to send to the MQTT broker.",type:"String"},{name:"password",desc:"The password to send to the MQTT broker.",type:"String"},{name:"name",desc:"The name for the MQTT message.",type:"String"},{name:"timeout",desc:"The MQTT connection timeout. Default is 1s.",type:"Duration"},{name:"timeColumn",desc:'The column to use as time values in the output line protocol. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The columns to use as tag sets in the output line protocol. Default is `[]`.",type:"Array of Strings"},{name:"valueColumns",desc:'The columns to use as field values in the output line protocol. Default is `["_value"]`.',type:"Array of Strings"}],package:"experimental/mqtt",desc:"Outputs data to an MQTT broker using MQTT protocol.",example:'mqtt.to(broker: "tcp://localhost:8883", topic: "example-topic", clientid: "exampleID", tagColumns: ["exampleTagKey"], valueColumns: ["_value"])',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mqtt/to/`},{name:"now",args:[],package:"",desc:"Returns the current time (UTC) or the time defined in the `now` option.",example:"now()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/now/`},{name:"oee.APQ",args:[{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, quality (APQ) and overall equipment effectiveness (OEE) in producing parts.",example:'oee.APQ(\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/apq/`},{name:"oee.computeAPQ",args:[{name:"productionEvents",desc:"Production events stream that contains the production state or start and stop events.",type:"Stream of Tables"},{name:"partEvents",desc:"Part events that contains the running totals of parts produced and parts that do not meet quality standards.",type:"Stream of Tables"},{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, and quality (APQ) and overall equipment effectiveness (OEE) using two separate input streams—production events and part events.",example:'oee.computeAPQ(\n    productionEvents: exampleProductionScheme,\n    partEvents: examplePartsStream,\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/computeapq/`},{name:"opsgenie.endpoint",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"}],package:"contrib/sranka/opsgenie",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = opsgenie.endpoint(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    entity: "example-entity"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/endpoint/`},{name:"opsgenie.sendAlert",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"message",desc:"Alert message text. 130 characters or less.",type:"String"},{name:"alias",desc:"Opsgenie alias usee to de-deduplicate alerts. 250 characters or less. Defaults to `message`.",type:"String"},{name:"description",desc:"Alert description. 15,000 characters or less.",type:"String"},{name:"priority",desc:"Opsgenie alert priority. Valid values include: P1, P2, P3 (default), P4, and P5.",type:"String"},{name:"responders",desc:"List of responder teams or users. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of Strings"},{name:"tags",desc:"Alert tags.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"},{name:"actions",desc:"List of actions available for the alert.",type:"Array of strings"},{name:"details",desc:"Additional alert details. Must be a JSON-encoded map of key-value string pairs.",type:"String"},{name:"visibleTo",desc:"List of teams and users the alert will be visible to without sending notifications. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of strings"}],package:"contrib/sranka/opsgenie",desc:"Sends an alert to Opsgenie.",example:'opsgenie.sendAlert(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    message: "Example message",\n    alias: "Example alias",\n    description: "Example description",\n    priority: "P3",\n    responders: ["user:john@example.com", "team:itcrowd"],\n    tags: ["tag1", "tag2"],\n    entity: "example-entity",\n    actions: ["action1", "action2"],\n    details: "{}",\n    visibleTo: []\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/sendalert/`},{name:"pagerduty.actionFromSeverity",args:[{name:"severity",desc:"The severity to convert to a PagerDuty action.",type:"String"}],package:"pagerduty",desc:"Converts a severity to a PagerDuty action. `ok` converts to `resolve`. All other severities convert to `trigger`.",example:'pagerduty.actionFromSeverity(severity: "ok")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/actionfromseverity/`},{name:"pagerduty.dedupKey",args:[],package:"pagerduty",desc:"uses the group key of an input table to generate and store a deduplication key in the `_pagerdutyDedupKey` column.",example:"pagerduty.dedupKey()",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/dedupkey/`},{name:"pagerduty.endpoint",args:[{name:"url",desc:"The PagerDuty v2 Events API URL. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"}],package:"pagerduty",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pagerduty.endpoint(\n    url: "https://events.pagerduty.com/v2/enqueue"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/endpoint/`},{name:"pagerduty.sendEvent",args:[{name:"pagerdutyURL",desc:"The URL of the PagerDuty endpoint. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"},{name:"routingKey",desc:"The routing key generated from your PagerDuty integration.",type:"String"},{name:"client",desc:"The name of the client sending the alert.",type:"String"},{name:"clientURL",desc:"The URL of the client sending the alert.",type:"String"},{name:"dedupkey",desc:"A per-alert ID that acts as deduplication key and allows you to acknowledge or change the severity of previous messages. Supports a maximum of 255 characters.",type:"String"},{name:"class",desc:"The class or type of the event. Classes are user-defined.",type:"String"},{name:"group",desc:"A logical grouping used by PagerDuty. Groups are user-defined.",type:"String"},{name:"severity",desc:'The severity of the event. Supported severities are `"critical"`, `"error"`, `"warning"`, `"info"`.',type:"String"},{name:"eventAction",desc:'Event type to send to PagerDuty. Valid values include `"trigger"`, `"resolve"`, `"acknowledge"`.',type:"String"},{name:"source",desc:"The unique location of the affected system. For example, the hostname or fully qualified domain name (FQDN).",type:"String"},{name:"summary",desc:"A brief text summary of the event used as the summaries or titles of associated alerts. The maximum permitted length is 1024 characters.",type:"String"},{name:"timestamp",desc:"The time the detected event occurred in RFC3339nano format.",type:"String"}],package:"pagerduty",desc:"Sends an alert to PagerDuty.",example:'pagerduty.sendEvent(\n    pagerdutyURL: "https://events.pagerduty.com/v2/enqueue",\n    routingKey: "ExampleRoutingKey",\n    client: "ExampleClient",\n    clientURL: "http://examplepagerdutyclient.com",\n    dedupkey: "ExampleDedupKey",\n    class: "cpu usage",\n    group: "app-stack",\n    severity: "ok",\n    eventAction: "trigger",\n    source: "monitoringtool:vendor:region",\n    summary: "This is an example summary.",\n    timestamp: "2016-07-17T08:42:58.315+0000"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/sendevent/`},{name:"pagerduty.severityFromLevel",args:[{name:"level",desc:"The level to convert to a PagerDuty severity.",type:"String"}],package:"pagerduty",desc:"Converts an InfluxDB status level to a PagerDuty severity.",example:'pagerduty.severityFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/severityfromlevel/`},{name:"pearsonr",args:[{name:"x",desc:"First input stream used in the operation.",type:"Object"},{name:"y",desc:"Second input stream used in the operation.",type:"Object"},{name:"on",desc:"List of columns on which to join.",type:"Array of Strings"}],package:"",desc:"Computes the Pearson R correlation coefficient between two streams by first joining the streams, then performing the covariance operation normalized to compute R.",example:'pearsonr(x: table1, y: table2, on: ["_time", "_field"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pearsonr/`},{name:"pivot",args:[{name:"rowKey",desc:"List of columns used to uniquely identify a row for the output.",type:"Array of Strings"},{name:"columnKey",desc:"List of columns used to pivot values onto each row identified by the rowKey.",type:"Array of Strings"},{name:"valueColumn",desc:"The single column that contains the value to be moved around the pivot.",type:"String"}],package:"",desc:"Collects values stored vertically (column-wise) in a table and aligns them horizontally (row-wise) into logical sets.",example:'pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pivot/`},{name:"prometheus.histogramQuantile",args:[{name:"quantile",desc:"A value between 0.0 and 1.0 indicating the desired quantile.",type:"Float"}],package:"experimental/prometheus",desc:"Calculates quantiles on a set of values assuming the histogram data is scraped or read from a Prometheus data source.",example:"prometheus.histogramQuantile(quantile: 0.99)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/histogramquantile/`},{name:"prometheus.scrape",args:[{name:"url",desc:"The URL to scrape Prometheus-formatted metrics from.",type:"String"}],package:"experimental/prometheus",desc:"Retrieves Prometheus-formatted metrics from a specified URL.",example:'prometheus.scrape(url: "http://localhost:9999/metrics")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/scrape/`},{name:"pushbullet.endpoint",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"}],package:"pushbullet",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pushbullet.endpoint(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/endpoint/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"data",desc:"Data to send to the Pushbullet API. The function JSON-encodes data before sending it to Pushbullet.",type:"Record"}],package:"pushbullet",desc:"Sends a push notification to the Pushbullet API.",example:'pushbullet.pushData(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    data: {\n        "type": "link",\n        "title": "This is a notification!",\n        "body": "This notification came from Flux.",\n        "url": "http://example.com"\n    }\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushdata/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"title",desc:"Title of the notification.",type:"String"},{name:"text",desc:"Text to display in the notification.",type:"String"}],package:"pushbullet",desc:"Sends a push notification of type `note` to the Pushbullet API.",example:'pushbullet.pushNote(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    title: "This is a push notification!",\n    text: "This push notification came from Flux."\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushnote/`},{name:"quantile",args:[{name:"column",desc:'The column on which to compute the quantile. Defaults to `"_value"`.',type:"String"},{name:"q",desc:"A value between 0 and 1 indicating the desired quantile.",type:"Float"},{name:"method",desc:"Defines the method of computation. The available options are: `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset. A larger number produces a more accurate result at the cost of increased memory requirements. Defaults to 1000.",type:"Float"}],package:"",desc:"This is both an aggregate and selector function depending on the `method` used. When using the `estimate_tdigest` or `exact_mean` methods, it outputs non-null records with values that fall within the specified quantile. When using the `exact_selector` method, it outputs the non-null record with the value that represents the specified quantile.",example:'quantile(column: "_value", q: 0.99, method: "estimate_tdigest", compression: 1000.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/quantile/`},{name:"query.filterFields",args:[{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"}],package:"experimental/query",desc:"Filters input data by field.",example:'query.filterFields(fields: ["field_name"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filterfields/`},{name:"query.filterMeasurement",args:[{name:"measurement",desc:"Measurement to filter by.",type:"String"}],package:"experimental/query",desc:"Filters input data by measurement.",example:'query.filterMeasurement(measurement: "measurement_name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filtermeasurement/`},{name:"query.fromRange",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"experimental/query",desc:"Returns all data from a specified bucket within given time bounds.",example:'query.fromRange(bucket: "example-bucket", start: v.timeRangeStart)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/fromrange/`},{name:"query.inBucket",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"},{name:"measurement",desc:"Measurement to filter by.",type:"String"},{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"},{name:"predicate",desc:"A single argument function that evaluates true or false.",type:"Function"}],package:"experimental/query",desc:"Queries data from a specified bucket within given time bounds, filters data by measurement, field, and optional predicate expressions.",example:'query.inBucket(bucket: "example-bucket", start: v.timeRangeStart, measurement: "measurement_name", fields: ["field_name"], predicate: (r) => r.host == "host1")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/inbucket/`},{name:"range",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"",desc:"Filters records based on time bounds. Each input table's records are filtered to contain only records that exist within the time bounds. Each input table's group key value is modified to fit within the time bounds. Tables where all records exists outside the time bounds are filtered entirely.",example:"range(start: -15m, stop: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/range/`},{name:"reduce",args:[{name:"fn",desc:"Function to apply to each record with a reducer object. The function expects two objects: `r` and `accumulator`.",type:"Function"},{name:"identity",desc:"Defines the reducer object and provides initial values to use when creating a reducer.",type:"Object"}],package:"",desc:"Aggregates records in each table according to the reducer, `fn`",example:"reduce(fn: (r, accumulator) => ({ sum: r._value + accumulator.sum }), identity: {sum: 0.0})",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/reduce/`},{name:"regexp.compile",args:[{name:"v",desc:"The string value to parse into a regular expression.",type:"String"}],package:"regexp",desc:"Parses a string into a regular expression and returns a regexp object.",example:'regexp.compile(v: "[a-zA-Z]")',category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/compile/`},{name:"regexp.findString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns the left-most regular expression match in a string.",example:'regexp.findString(r: /foo.?/, v: "seafood fool")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstring/`},{name:"regexp.findStringIndex",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns a two-element array of integers defining the beginning and ending indexes of the left-most regular expression match in a string.",example:'regexp.findStringIndex(r: /ab?/, v: "tablet")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstringindex/`},{name:"regexp.getString",args:[{name:"r",desc:"The regular expression object to convert to a string.",type:"Regexp"}],package:"regexp",desc:"Returns the source string used to compile a regular expression.",example:"regexp.getString(r: /[a-zA-Z]/)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/getstring/`},{name:"regexp.matchRegexpString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Tests if a string contains any match to a regular expression.",example:'regexp.matchRegexpString(r: /(go){2}/, v: "gogogopher")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/matchregexpstring/`},{name:"regexp.quoteMeta",args:[{name:"v",desc:"String value containing regular expression metacharacters to escape.",type:"String"}],package:"regexp",desc:"Escapes all regular expression metacharacters inside of a string.",example:'regexp.quoteMeta(v: ".+*?()|[]{}^$")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/quotemeta/`},{name:"regexp.replaceAllString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The replacement for matches to `r`",type:"String"}],package:"regexp",desc:"Replaces all regular expression matches in a string with a specified replacement.",example:'regexp.replaceAllString(r: /a(x*)b/, v: "-ab-axxb-", t: "T")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/replaceallstring/`},{name:"regexp.splitRegexp",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"regexp",desc:"Splits a string into substrings separated by regular expression matches and returns an array of `i` substrings between matches.",example:'regexp.splitRegexp(r: /a*/, v: "abaabaccadaaae", i: 5)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/splitregexp/`},{name:"relativeStrengthIndex",args:[{name:"n",desc:"The number of values to use to calculate the relative strength index (RSI).",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Measures the relative speed and change of values in an input table.",example:"relativeStrengthIndex(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/relativestrengthindex/`},{name:"rename",args:[{name:"columns",desc:"A map of columns to rename and their corresponding new names. Cannot be used with `fn`.",type:"Object"},{name:"fn",desc:"A function mapping between old and new column names. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Renames specified columns in a table. If a column is renamed and is part of the group key, the column name in the group key will be updated.",example:'rename(columns: {host: "server", _field: "my_field"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/rename/`},{name:"rows.map",args:[{name:"fn",desc:"A single argument function to apply to each record. The return value must be a record.",type:"Function"}],package:"contrib/jsternberg/rows",desc:"An alternate implementation of `map()` that is faster, but more limited than `map()`.",example:"rows.map( fn: (r) => ({_value: r._value * 100.0}))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/rows/map/`},{name:"runtime.version",args:[],package:"runtime",desc:"Returns the current Flux version.",example:"runtime.version()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/runtime/version/`},{name:"sample",args:[{name:"n",desc:"Sample every Nth element.",type:"Integer"},{name:"pos",desc:"The position offset from the start of results where sampling begins. `pos` must be less than `n`. If `pos` is less than 0, a random offset is used. Defaults to `-1` (random offset).",type:"Integer"}],package:"",desc:"Selects a subset of the records from the input table.",example:"sample(n:5, pos: -1)",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/sample/`},{name:"sample.data",args:[{name:"set",desc:"InfluxDB sample dataset to download and output.",type:"String"}],package:"influxdata/influxdb/sample",desc:"Downloads and outputs an InfluxDB sample dataset.",example:'sample.data(set: "usgs")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/data/`},{name:"sample.list",args:[],package:"influxdata/influxdb/sample",desc:"Outputs information about available InfluxDB sample datasets.",example:"sample.list()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/list/`},{name:"schema.fieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"predicate",desc:"Predicate function that filters field keys. Defaults is (r) => true.",type:"Function"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a bucket.",example:'schema.fieldKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.fieldsAsCols",args:[],package:"influxdata/influxdb/schema",desc:"Aligns fields within each input table that have the same timestamp.",example:"schema.fieldsAsCols()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/fieldsascols/`},{name:"schema.measurementFieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"measurement",desc:"The measurement to list field keys from.",type:"String"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a measurement.",example:'schema.measurementFieldKeys(bucket: "example-bucket", measurement: "example-measurement")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.measurements",args:[{name:"bucket",desc:"The bucket from which to list measurements.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of measurements in a specific bucket.",example:'schema.measurements(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurements/`},{name:"schema.measurementTagKeys",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag keys.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for a specific measurement.",example:'schema.measurementTagKeys(bucket: "example-bucket", measurement: "mem")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagkeys/`},{name:"schema.measurementTagValues",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag values.",type:"String"},{name:"tag",desc:"The tag from which to return all unique values.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag values for a specific measurement.",example:'schema.measurementTagValues(bucket: "example-bucket", measurement: "mem", tag: "host")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagvalues/`},{name:"schema.tagKeys",args:[{name:"bucket",desc:"The bucket from which to list tag keys.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag keys. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for all series that match the predicate.",example:'schema.tagKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagkeys/`},{name:"schema.tagValues",args:[{name:"bucket",desc:"The bucket from which to list tag values.",type:"String"},{name:"tag",desc:"The tag for which to return unique values.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag values. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of unique values for a given tag.",example:'schema.tagValues(bucket: "example-bucket", tag: "example-tag")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagvalues/`},{name:"secrets.get",args:[{name:"key",desc:"The secret key to retrieve.",type:"String"}],package:"influxdata/influxdb/secrets",desc:"Retrieves a secret from the InfluxDB secret store.",example:'secrets.get(key: "KEY_NAME")',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/secrets/get/`},{name:"sensu.endpoint",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = sensu.endpoint(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    handlers: [],\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/endpoint/`},{name:"sensu.event",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"checkName",desc:"Check name. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"},{name:"text",desc:"Event text. Mapped to `output` in the Sensu Events API request.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"status",desc:"Event status code that indicates state. Default is `0`.",type:"Integer"},{name:"state",desc:'Event state. Default is "passing" for 0 status and "failing" for other statuses.',type:"String"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"Sends a single event to the Sensu Events API.",example:'sensu.event(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    checkName: "checkName",\n    text: "Event output text",\n    handlers: [],\n    status: 0,\n    state: "passing",\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/event/`},{name:"set",args:[{name:"key",desc:"The label of the column to modify or set.",type:"String"},{name:"value",desc:"The string value to set.",type:"String"}],package:"",desc:"Assigns a static value to each record in the input table. The key may modify an existing column or add a new column to the tables. If the modified column is part of the group key, the output tables are regrouped as needed.",example:'set(key: "_field", value: "my_field")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/set/`},{name:"skew",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the skew of non-null records as a float.",example:'skew(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/skew/`},{name:"slack.endpoint",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"}],package:"slack",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = slack.endpoint(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/endpoint/`},{name:"slack.message",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"},{name:"channel",desc:"The name of channel to post the message to.",type:"String"},{name:"text",desc:"The text to display in the Slack message.",type:"String"},{name:"color",desc:"The color to include with the message.",type:"String"}],package:"slack",desc:"Sends a single message to a Slack channel.",example:'slack.message(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn",\n    channel: "#flux",\n    text: "This is a message from the Flux slack.message() function.",\n    color: "good"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/message/`},{name:"sleep",args:[{name:"v",desc:"Defines input tables.",type:"Object"},{name:"duration",desc:"The length of time to delay execution.",type:"Duration"}],package:"",desc:"Delays execution by a specified duration.",example:"sleep(duration: 5s)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/sleep/`},{name:"sort",args:[{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"},{name:"desc",desc:"Sort results in descending order. Default is `false`.",type:"Boolean"}],package:"",desc:"Orders the records within each table. One output table is produced for each input table. The output tables will have the same schema as their corresponding input tables.",example:'sort(columns: ["_value"], desc: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/sort/`},{name:"spread",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the difference between the minimum and maximum values in the specified column. Only `uint`, `int`, and `float` column types can be used.",example:'spread(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/spread/`},{name:"sql.from",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"query",desc:"The query to run against the SQL database.",type:"String"}],package:"sql",desc:"Retrieves data from a SQL data source.",example:'sql.from(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", query:"SELECT * FROM example_table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/from/`},{name:"sql.to",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"table",desc:"The destination table.",type:"String"},{name:"batchSize",desc:"The number of parameters or columns that can be queued within each call to `Exec`. Defaults to `10000`.",type:"Integer"}],package:"sql",desc:"Writes data to a SQL database.",example:'sql.to(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", table: "example_table")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/to/`},{name:"stateCount",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"The name of the column added to each record that contains the incremented state count.",type:"String"}],package:"",desc:"Computes the number of consecutive records in a given state and stores the increment in a new column.",example:'stateCount(fn: (r) => r._field == "state", column: "stateCount")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/statecount/`},{name:"stateDuration",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"Name of the column added to each record that contains the incremented state duration.",type:"String"},{name:"unit",desc:"Unit of time in which the state duration is incremented.",type:"Duration"}],package:"",desc:"Computes the duration of a given state and stores the increment in a new column.",example:'stateDuration(fn: (r) => r._measurement == "state", column: "stateDuration", unit: 1s)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stateduration/`},{name:"stddev",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"mode",desc:'The standard deviation mode (sample or population). Defaults to `"sample"`.',type:"String"}],package:"",desc:"Computes the standard deviation of non-null records in specified column.",example:'stddev(column: "_value", mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/stddev/`},{name:"string",args:[{name:"v",desc:"The value to convert.",type:"Integer | UInteger | Float | Boolean | Duration | Time"}],package:"",desc:"Converts a single value to a string.",example:"string(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/string/`},{name:"strings.compare",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Compares the lexicographical order of two strings.",example:'strings.compare(v: "a", t: "b")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/compare/`},{name:"strings.containsAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Reports whether a specified string contains characters from another string.",example:'strings.containsAny(v: "abc", chars: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsany/`},{name:"strings.containsStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Reports whether a string contains a specified substring.",example:'strings.containsStr(v: "This and that", substr: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsstr/`},{name:"strings.countStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring count.",type:"String"}],package:"strings",desc:"Counts the number of non-overlapping instances of a substring appears in a string.",example:'strings.countStr(v: "Hello mellow fellow", substr: "ello")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/countstr/`},{name:"strings.equalFold",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Reports whether two UTF-8 strings are equal under Unicode case-folding.",example:'strings.equalFold(v: "Go", t: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/equalfold/`},{name:"strings.hasPrefix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"prefix",desc:"The prefix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string begins with a specified prefix.",example:'strings.hasPrefix(v: "go gopher", prefix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hasprefix/`},{name:"strings.hasSuffix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"suffix",desc:"The suffix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string ends with a specified suffix.",example:'strings.hasSuffix(v: "gopher go", suffix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hassuffix/`},{name:"strings.index",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of a substring in a string. If the substring is not present, it returns `-1`.",example:'strings.index(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/index-func/`},{name:"strings.indexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of specified characters in a string. If none of the specified characters are present, it returns -1.",example:'strings.indexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/indexany/`},{name:"strings.isDigit",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a digit (0-9).",example:'strings.isDigit(v: "7")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isdigit/`},{name:"strings.isLetter",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a letter (a-z, A-Z).",example:'strings.isLetter(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isletter/`},{name:"strings.isLower",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is lowercase.",example:'strings.isLower(v: "a")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/islower/`},{name:"strings.isUpper",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is uppercase.",example:'strings.isUpper(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isupper/`},{name:"strings.joinStr",args:[{name:"arr",desc:"The array of strings to concatenate.",type:"Array of Strings"},{name:"v",desc:"The separator to use in the concatenated value.",type:"String"}],package:"strings",desc:"Concatenates elements of a string array into a single string using a specified separator.",example:'strings.joinStr(arr: ["a", "b", "c"], v: ",")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/joinstr/`},{name:"strings.lastIndex",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of a substring in a string. If the substring is not present, the function returns -1.",example:'strings.lastIndex(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindex/`},{name:"strings.lastIndexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of any specified characters in a string. If none of the specified characters are present, the function returns -1.",example:'strings.lastIndexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindexany/`},{name:"strings.repeat",args:[{name:"v",desc:"The string value to repeat.",type:"String"},{name:"i",desc:"The number of times to repeat `v`.",type:"Integer"}],package:"strings",desc:"Returns a string consisting of `i` copies of a specified string.",example:'strings.repeat(v: "ha", i: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/repeat/`},{name:"strings.replace",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for `i` instances of `t`.",type:"String"},{name:"i",desc:"The number of non-overlapping `t` matches to replace.",type:"Integer"}],package:"strings",desc:"Replaces the first `i` non-overlapping instances of a substring with a specified replacement.",example:'strings.replace(v: "oink oink oink", t: "oink", u: "moo", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replace/`},{name:"strings.replaceAll",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for all instances of `t`.",type:"String"}],package:"strings",desc:"Replaces all non-overlapping instances of a substring with a specified replacement.",example:'strings.replaceAll(v: "oink oink oink", t: "oink", u: "moo")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replaceall/`},{name:"strings.split",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of substrings.",example:'strings.split(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/split/`},{name:"strings.splitAfter",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of substrings.",example:'strings.splitAfter(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitafter/`},{name:"strings.splitAfterN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of `i` substrings.",example:'strings.splitAfterN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitaftern/`},{name:"strings.splitN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of `i` substrings.",example:'strings.splitN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitn/`},{name:"strings.strlen",args:[{name:"v",desc:"The string value to measure.",type:"String"}],package:"strings",desc:"Returns the length of a string.",example:'strings.strlen(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/strlen/`},{name:"strings.substring",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"start",desc:"The starting index of the substring.",type:"Integer"},{name:"end",desc:"The ending index of the substring.",type:"Integer"}],package:"strings",desc:"Returns a substring based on start and end parameters.",example:'strings.substring(v: "influx", start: 0, end: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/substring/`},{name:"strings.title",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to title case.",example:"strings.title(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/title/`},{name:"strings.toLower",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to lower case.",example:"strings.toLower(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/tolower/`},{name:"strings.toTitle",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts all characters in a string to title case.",example:'strings.toTitle(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/totitle/`},{name:"strings.toUpper",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to upper case.",example:"strings.toUpper(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/toupper/`},{name:"strings.trim",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"cutset",desc:"The leading and trailing characters to trim from the string value. Only characters that match exactly are trimmed.",type:"String"}],package:"strings",desc:"Removes specified leading and trailing characters from a string.",example:'strings.trim(v: r._value, cutset: "_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trim/`},{name:"strings.trimLeft",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The leading characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified leading characters from a string.",example:'strings.trimLeft(v: ".abc", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimleft/`},{name:"strings.trimPrefix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"prefix",desc:"The prefix to remove.",type:"String"}],package:"strings",desc:"Removes a prefix from a string. Strings that do not start with the prefix are returned unchanged.",example:'strings.trimPrefix(v: r._value, prefix: "abc_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimprefix/`},{name:"strings.trimRight",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The trailing characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified trailing characters from a string.",example:'strings.trimRight(v: "abc.", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimright/`},{name:"strings.trimSpace",args:[{name:"v",desc:"The string value to trim.",type:"String"}],package:"strings",desc:"Removes leading and trailing spaces from a string.",example:"strings.trimSpace(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimspace/`},{name:"strings.trimSuffix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"suffix",desc:"The suffix to remove.",type:"String"}],package:"strings",desc:"Removes a suffix from a string. Strings that do not end with the suffix are returned unchanged.",example:'strings.trimSuffix(v: r._value, suffix: "_123")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimsuffix/`},{name:"sum",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the sum of non-null records in the specified column.",example:'sum(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/sum/`},{name:"system.time",args:[],package:"system",desc:"Returns the current system time.",example:"system.time()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/system/time/`},{name:"table.fill",args:[],package:"experimental/table",desc:"Adds a single row to empty tables in a stream of tables.",example:"table.fill()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/table/fill/`},{name:"tableFind",args:[{name:"fn",desc:"A predicate function for matching keys in a table group key.",type:"Function"}],package:"",desc:"Extracts the first table in a stream of tables whose group key values match a predicate. If no table is found, the function errors.",example:'tableFind(fn: (key) => key._field == "fieldName")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/tablefind/`},{name:"tail",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the end of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the last `n` records, excluding the offset.",example:"tail(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tail/`},{name:"tasks.lastSuccess",args:[{name:"orTime",desc:"Default time value returned if the task has never successfully run.",type:"Time"}],package:"influxdata/influxdb/tasks",desc:"Returns the time of last successful run of an InfluxDB task or the value of the `orTime` parameter if the task has never successfully run.",example:"tasks.lastSuccess(orTime: 2020-10-01T00:00:00Z)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-tasks/lastsuccess/`},{name:"teams.endpoint",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"}],package:"contrib/sranka/teams",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = teams.endpoint(\n    url: "https://outlook.office.com/webhook/example-webhook"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/endpoint/`},{name:"teams.message",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"},{name:"title",desc:"Message card title.",type:"String"},{name:"text",desc:"Message card text.",type:"String"},{name:"summary",desc:'Message card summary. Default is `""`. If no summary is provided, Flux generates the summary from the message text.',type:"String"}],package:"contrib/sranka/teams",desc:"Sends a single message to a Microsoft Teams channel using an incoming webhook.",example:'teams.message(\n    url: "https://outlook.office.com/webhook/example-webhook",\n    title: "Example message title",\n    text: "Example message text",\n    summary: "",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/message/`},{name:"telegram.endpoint",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/endpoint/`},{name:"telegram.message",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"channel",desc:"Telegram channel ID.",type:"String"},{name:"text",desc:"Message text.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"},{name:"silent",desc:"Send message silently. Default is `true`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"Sends a single message to a Telegram channel using the sendMessage method of the Telegram Bot API.",example:'telegram.message(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    channel: "-12345",\n    text: "Example message text",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n    silent: true\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/message/`},{name:"testing.assertEmpty",args:[],package:"testing",desc:"Tests if an input stream is empty.",example:"testing.assertEmpty()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertempty/`},{name:"testing.assertEquals",args:[{name:"name",desc:"Unique name given to the assertion.",type:"String"},{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"}],package:"testing",desc:"Tests whether two streams have identical data.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertequals/`},{name:"testing.benchmark",args:[{name:"case",desc:"Test case to benchmark.",type:"Function"}],package:"testing",desc:"Executes a test case without comparing test output with the expected test output.",example:"testing.benchmark(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/benchmark/`},{name:"testing.diff",args:[{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"},{name:"epsilon",desc:"How far apart two float values can be, but still considered equal. Defaults to `0.000000001`.",type:"Float"}],package:"testing",desc:"Produces a diff between two streams.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/diff/`},{name:"testing.inspect",args:[{name:"case",desc:"Test case to inspect.",type:"Function"}],package:"testing",desc:"Returns information about a test case.",example:"testing.inspect(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.load",args:[],package:"testing",desc:"Loads tests data from a stream of tables.",example:"testing.load()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.loadMem",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data from memory to emulate query results returned by Flux.",example:"testing.loadMem(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadmem/`},{name:"testing.loadStorage",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data as if it were queried from InfluxDB.",example:"testing.loadStorage(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadstorage/`},{name:"testing.run",args:[{name:"case",desc:"Test case to run.",type:"Function"}],package:"testing",desc:"Executes a specified test case.",example:"testing.run(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/run/`},{name:"tickscript.alert",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"details",desc:'Function to return the InfluxDB check details using data from input rows. Default is `(r) => ""`.',type:"Function"},{name:"message",desc:'Function to return the InfluxDB check message using data from input rows. Default is `(r) => "Threshold Check: ${r._check_name} is: ${r._level}"`.',type:"Function"},{name:"crit",desc:"Predicate function to determine crit status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function to determine warn status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function to determine info status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function to determine ok status. Default is `(r) => false`.",type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Identifies events of varying severity levels and writes them to the statuses measurement in the InfluxDB `_monitoring` system bucket.",example:'tickscript.alert(\n    check,\n    id: (r) => "${r._check_id}",\n    details: (r) => "",\n    message: (r) => "Threshold Check: ${r._check_name} is: ${r._level}",\n    crit: (r) => false,\n    warn: (r) => false,\n    info: (r) => false,\n    ok: (r) => true,\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/alert/`},{name:"tickscript.compute",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"An alias for `tickscript.select()` that changes a column’s name and optionally applies an aggregate or selector function.",example:'tickscript.compute(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/compute/`},{name:"tickscript.deadman",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"measurement",desc:"Measurement name. Should match the queried measurement.",type:"String"},{name:"threshold",desc:"Count threshold. The function assigns a `crit` status to input tables with a number of rows less than or equal to the threshold. Default is `0`.",type:"Integer"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"message",desc:'Function that returns the InfluxDB check message using data from input rows. Default is `(r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive")`.',type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Detects low data throughput and writes a point with a critical status to the InfluxDB `_monitoring` system bucket.",example:'tickscript.deadman(\n    check: {},\n    measurement: "example-measurement",\n    threshold: 0,\n    id: (r)=>"${r._check_id}",\n    message: (r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive"),\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/deadman/`},{name:"tickscript.defineCheck",args:[{name:"id",desc:"InfluxDB check ID.",type:"String"},{name:"name",desc:"InfluxDB check name.",type:"String"},{name:"type",desc:"InfluxDB check type. Default is `custom`. Valid types are `thresold`, `deadman`, and `custom`.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Creates and returns a record with custom check data required by `tickscript.alert()` and `tickscript.deadman()`.",example:'tickscript.defineCheck(\n    id: "000000000000",\n    name: "Example check name",\n    type: "custom"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/definecheck/`},{name:"tickscript.groupBy",args:[{name:"columns",desc:"List of columns to group by.",type:"Array of Strings"}],package:"contrib/bonitoo-io/tickscript",desc:"Groups results by the _measurement column and other specified columns.",example:'tickscript.groupBy(\n    columns: ["exampleColumn"]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/groupby/`},{name:"tickscript.join",args:[{name:"tables",desc:"Map of two streams to join.",type:"Record"},{name:"on",desc:'List of columns to join on. Default is `["_time"]`.',type:"Array of Strings"},{name:"measurement",desc:"Measurement name to use in results.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Merges two input streams into a single output stream based on specified columns with equal values and appends a new measurement name.",example:'tickscript.join(\n    tables: {t1: example1, t2: example2}\n    on: ["_time"],\n    measurement: "example-measurement"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/join/`},{name:"tickscript.select",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name and optionally applies an aggregate or selector function to values in the column.",example:'tickscript.select(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/select/`},{name:"tickscript.selectWindow",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"},{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"defaultValue",desc:"Default fill value for null values in `column`. Must be the same data type as `column`.",type:"String | Boolean | Float | Integer | Uinteger | Bytes"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name, windows rows by time, and applies an aggregate or selector function the specified column for each window of time.",example:'tickscript.selectWindow(\n    column: "_value",\n    fn: sum,\n    as: "example-name",\n    every: 1m,\n    defaultValue: 0.0,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/selectwindow/`},{name:"time",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger"}],package:"",desc:"Converts a single value to a time.",example:"time(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/time/`},{name:"timedMovingAverage",args:[{name:"every",desc:"The frequency of time windows.",type:"Duration"},{name:"period",desc:"The length of each averaged time window.",type:"Duration"},{name:"column",desc:'The column on which to compute the moving average. Defaults to `"_value"`',type:"String"}],package:"",desc:"Calculates the mean of values in a defined time range at a specified frequency.",example:"timedMovingAverage(every: 1d, period: 5d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timedmovingaverage/`},{name:"timeShift",args:[{name:"duration",desc:"The amount of time to add to each time value. May be a negative duration.",type:"String"},{name:"columns",desc:'The list of all columns to be shifted. Defaults to `["_start", "_stop", "_time"]`.',type:"Array of Strings"}],package:"",desc:"Adds a fixed duration to time columns. The output table schema is the same as the input table.",example:'timeShift(duration: 10h, columns: ["_start", "_stop", "_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timeshift/`},{name:"timeWeightedAvg",args:[{name:"unit",desc:"The time duration used when computing the time-weighted average.",type:"Duration"}],package:"",desc:"Computes the time-weighted average of non-null records in a table using linear interpolation.",example:"timeWeightedAvg(unit: 1m)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/timeweightedavg/`},{name:"to",args:[{name:"bucket",desc:"The bucket to which data is written. Mutually exclusive with `bucketID`.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to which data is written. Mutually exclusive with `bucket`.",type:"String"},{name:"org",desc:"The organization name of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `orgID`.",type:"String"},{name:"orgID",desc:"The organization ID of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `org`.",type:"String"},{name:"host",desc:"The remote InfluxDB host to which to write. If specified, a `token` is required.",type:"String"},{name:"token",desc:"The authorization token to use when writing to a remote host. Required when a `host` is specified.",type:"String"},{name:"timeColumn",desc:'The time column of the output. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The tag columns of the output. Defaults to all columns with type `string`, excluding all value columns and the `_field` column if present.",type:"Array of Strings"},{name:"fieldFn",desc:"Function that takes a record from the input table and returns an object. For each record from the input table, `fieldFn` returns an object that maps output the field key to the output value. Default is `(r) => ({ [r._field]: r._value })`",type:"Function"}],package:"",desc:"The `to()` function writes data to an InfluxDB v2.0 bucket.",example:'to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/to/`},{name:"toBool",args:[],package:"",desc:"Converts all values in the `_value` column to a boolean.",example:"toBool()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tobool/`},{name:"today",args:[],package:"",desc:"Returns the `now()` timestamp truncated to the day unit.",example:"today()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/today/`},{name:"toFloat",args:[],package:"",desc:"Converts all values in the `_value` column to a float.",example:"toFloat()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tofloat/`},{name:"toInt",args:[],package:"",desc:"Converts all values in the `_value` column to a integer.",example:"toInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/toint/`},{name:"top",args:[{name:"n",desc:"Number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the top n rows.",example:'top(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/top/`},{name:"toString",args:[],package:"",desc:"Converts a value to a string.",example:"toString()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tostring/`},{name:"toTime",args:[],package:"",desc:"Converts a value to a time.",example:"toTime()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/totime/`},{name:"toUInt",args:[],package:"",desc:"Converts a value to an unsigned integer.",example:"toUInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/touint/`},{name:"tripleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at triple the rate of `exponentialMovingAverage()`.",example:"tripleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleema/`},{name:"tripleExponentialDerivative",args:[{name:"n",desc:"The number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates a triple exponential derivative (TRIX) of input tables using n points.",example:"tripleExponentialDerivative(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleexponentialderivative/`},{name:"truncateTimeColumn",args:[{name:"unit",desc:"The unit of time to truncate to.",type:"Duration"}],package:"",desc:"Truncates all `_time` values to a specified unit.",example:"truncateTimeColumn(unit: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/truncatetimecolumn/`},{name:"uint",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Integer | Numeric String | Time"}],package:"",desc:"Converts a single value to a uinteger.",example:"uint(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/uint/`},s,{name:"unique",args:[{name:"column",desc:'The column searched for unique values. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Returns all rows containing unique values in a specified column.",example:'unique(column: "_value")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/unique/`},{name:"usage.from",args:[{name:"start",desc:"Earliest time to include in results.",type:"Time | Duration"},{name:"stop",desc:"Latest time to include in results.",type:"Time | Duration"},{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"raw",desc:"Return raw, high resolution usage data instead of downsampled usage data. Default is `false`.",type:"Boolean"}],package:"experimental/usage",desc:"Returns usage data from an InfluxDB Cloud organization.",example:'usage.from(\n    start: -30d,\n    stop: now(),\n    host: "",\n    orgID: "",\n    token: "",\n    raw: false\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/from/`},{name:"usage.limits",args:[{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"}],package:"experimental/usage",desc:"Returns a record containing usage limits for an InfluxDB Cloud organization.",example:'usage.limits(\n    host: "",\n    orgID: "",\n    token: ""\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/limits/`},{name:"victorops.endpoint",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"}],package:"contrib/bonitoo-io/victorops",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = victorops.endpoint(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert${apiKey}/${routingKey}",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/endpoint/`},{name:"victorops.event",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"},{name:"monitoringTool",desc:'Monitoring agent name. Default is `""`.',type:"String"},{name:"messageType",desc:"VictorOps message type (alert behavior). Valid values are `CRITICAL`, `WARNING`, and `INFO`.",type:"String"},{name:"entityID",desc:'Incident ID. Default is `""`.',type:"String"},{name:"entityDisplayName",desc:'Incident display name or summary. Default is `""`.',type:"String"},{name:"stateMessage",desc:'Verbose incident message. Default is `""`.',type:"String"},{name:"timestamp",desc:"Incident start time. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/victorops",desc:"Sends an alert to VictorOps (Now Splunk On-Call).",example:'victorops.event(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert/${api_key}/${routing_key}",\n    monitoringTool: "",\n    messageType: "CRITICAL",\n    entityID: "",\n    entityDisplayName: "",\n    stateMessage: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/event/`},{name:"window",args:[{name:"every",desc:"Duration of time between windows. Defaults to `period` value.",type:"Duration"},{name:"period",desc:"Duration of the window. Period is the length of each interval. It can be negative, indicating the start and stop boundaries are reversed. Defaults to `every` value.",type:"Duration"},{name:"offset",desc:"The offset duration relative to the `location` offset. It can be negative, indicating that the offset goes backwards in time. The default aligns the window boundaries with `now`.",type:"Duration"},{name:"timeColumn",desc:'The column containing time. Defaults to `"_time"`.',type:"String"},{name:"startColumn",desc:'The column containing the window start time. Defaults to `"_start"`.',type:"String"},{name:"stopColumn",desc:'The column containing the window stop time. Defaults to `"_stop"`.',type:"String"},{name:"createEmpty",desc:"Specifies whether empty tables should be created. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Groups records based on a time value. New columns are added to uniquely identify each window. Those columns are added to the group key of the output tables. A single input record will be placed into zero or more output tables, depending on the specific windowing function.",example:"window(every: v.windowPeriod)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/window/`},{name:"yield",args:[{name:"name",desc:"A unique name for the yielded results.",type:"String"}],package:"",desc:"Indicates the input tables received should be delivered as a result of the query. Yield outputs the input stream unmodified. A query may have multiple results, each identified by the name provided to the `yield()` function.",example:'yield(name: "custom-name")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/yield/`},{name:"zenoss.endpoint",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"}],package:"contrib/bonitoo-io/zenoss",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = zenoss.endpoint(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/endpoint/`},{name:"zenoss.event",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"},{name:"summary",desc:'Event summary. Default is `""`.',type:"String"},{name:"device",desc:'Related device. Default is `""`.',type:"String"},{name:"component",desc:'Related component. Default is `""`.',type:"String"},{name:"severity",desc:"Event severity level. Supported values are `Critical`, `Warning`, `Info`, and `Clear`.",type:"String"},{name:"eventClass",desc:'Event class. Default is `""`.',type:"String"},{name:"eventClassKey",desc:'Event class key. Default is `""`.',type:"String"},{name:"collector",desc:'Zenoss collector. Default is `""`.',type:"String"},{name:"message",desc:'Related message. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/zenoss",desc:"Sends an alert to Zenoss.",example:'zenoss.event(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1,\n    summary: "",\n    device: "",\n    component: "",\n    severity: "Critical",\n    eventClass: "",\n    eventClassKey: "",\n    collector: "",\n    message: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/event/`}]}).call(this,n(120))},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t.replace(/\s\(clone\s(\d)+\)/g,"").replace(/\)/,""),a=e.filter(e=>e.includes(n)).reduce((e,t)=>{if(t.match(/\(clone(\s|\d)+\)/)){const a=t.replace(n,"").replace(/\(clone/,"").replace(/\)/,""),r=Number(a);return r>=e?r:e}return e},0);if(a){const e=a+1;return`${t.replace(/\(clone\s(\d)+\)/,"").trim()} (clone ${e})`}return`${t.trim()} (clone 1)`}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return S}));var a=n(2),r=n.n(a),s=n(4),i=n(86),o=n(65),l=n(316),c=n(295),u=n(115),d=n(8),m=n(42),p=n(11),h=n(33),g=n(71);const f=(e,t)=>{localStorage.setItem(e,null!=t?t:e),localStorage.removeItem(e)};var b=n(9),y=n(12),x=n(162),v=n(5);const w={generateMap:()=>[],printMap:()=>{},query:(e,t)=>Promise.resolve({}),basic:e=>{},simplify:e=>"",queryAll:()=>{},queryDependents:()=>{},getPanelQueries:(e,t)=>({id:"",scope:{vars:{}},source:"",visual:""}),status:v.RemoteDataState.NotStarted},k=r.a.createContext(w),E=(e,t)=>({orgID:"",id:e,name:e,arguments:{type:"system",values:[t]},status:v.RemoteDataState.Done,labels:[]}),S=({children:e})=>{var t,n;const{flow:w}=Object(a.useContext)(o.a),{runMode:S}=Object(a.useContext)(l.b),{setResult:C,setStatuses:T,statuses:O}=Object(a.useContext)(c.a),{query:D,basic:j}=Object(a.useContext)(u.a),I=null!==(t=Object(s.e)(b.a))&&void 0!==t?t:{id:""},[N,_]=Object(a.useState)(null===(n=null==w?void 0:w.range)||void 0===n?void 0:n.lower),R=Object(s.d)(),A=`queryAll-${null==w?void 0:w.name}`,M=Object(s.e)(e=>Object(i.k)(e));Object(a.useEffect)(()=>{var e,t;(null===(e=null==w?void 0:w.range)||void 0===e?void 0:e.lower)!==N&&((N||w.readOnly)&&V(),_(null===(t=null==w?void 0:w.range)||void 0===t?void 0:t.lower))},[w]);((e,t,n=!1)=>{Object(a.useEffect)(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t)))})("storage",e=>{e.key===A&&e.newValue===A&&G()});const F=Object(a.useMemo)(()=>{const e=[...M];if(!(null==w?void 0:w.range))return e.reduce((e,t)=>(e[t.name]=t,e),{});if(w.range.upper?isNaN(Date.parse(w.range.upper))?e.push(E(x.d,null)):e.push(E(x.d,w.range.upper)):e.push(E(x.d,"now()")),"custom"!==w.range.type){const t=Object(g.h)(Object(g.i)(w.range));e.push(E(x.c,t))}else isNaN(Date.parse(w.range.lower))?e.push(E(x.c,null)):e.push(E(x.c,w.range.lower));return e.reduce((e,t)=>(e[t.name]=t,e),{})},[M,null==w?void 0:w.range]),$=e=>{var t,n;return(null!==(n=null===(t=null==w?void 0:w.data)||void 0===t?void 0:t.allIDs)&&void 0!==n?n:[]).reduce((t,n)=>{var a,r,s;const i=w.data.byID[n];if(!i)return t;const o=t[t.length-1]||{scope:{withSideEffects:!!e,region:window.location.origin,org:I.id},source:"",visual:""},l=Object.assign(Object.assign({},o),{id:n,visual:""});return m.c[i.type]?("function"==typeof m.c[i.type].scope&&(l.scope=m.c[i.type].scope(i,(null===(a=t[t.length-1])||void 0===a?void 0:a.scope)||{})),"function"==typeof m.c[i.type].source&&(l.source=m.c[i.type].source(i,""+((null===(r=t[t.length-1])||void 0===r?void 0:r.source)||""),l.scope)),"function"==typeof m.c[i.type].visual&&(l.visual=m.c[i.type].visual(i,""+((null===(s=t[t.length-1])||void 0===s?void 0:s.source)||""),l.scope)),t.push(l),t):(t.push(l),t)},[])},L=(e,t)=>{Object(d.a)("runQuery",{context:"flows"});const n=Object.assign(Object.assign({region:window.location.origin,org:I.id},t||{}),{vars:Object.assign(Object.assign({},F),(null==t?void 0:t.vars)||{})});return D(e,n)},P=Object.values(O);let z=v.RemoteDataState.Done;P.every(e=>e===v.RemoteDataState.NotStarted)?z=v.RemoteDataState.NotStarted:P.includes(v.RemoteDataState.Error)?z=v.RemoteDataState.Error:P.includes(v.RemoteDataState.Loading)&&(z=v.RemoteDataState.Loading);const B=e=>{if(z===v.RemoteDataState.Loading)return;let t=$(S===l.a.Run);t.length&&(t=t.slice(t.findIndex(t=>t.id===e)),Object(d.a)("Running Notebook QueryDependents"),T(t.filter(e=>!!(null==e?void 0:e.visual)).reduce((e,t)=>(e[t.id]=v.RemoteDataState.Loading,e),{})),Promise.all(t.filter(e=>!!(null==e?void 0:e.visual)).map(e=>L(e.visual,e.scope).then(t=>{T({[e.id]:v.RemoteDataState.Done}),C(e.id,t)}).catch(t=>{C(e.id,{error:t.message}),T({[e.id]:v.RemoteDataState.Error})}))).then(()=>{Object(d.a)("run_notebook_success",{runMode:S}),R(Object(p.c)(Object(y.Fc)(S,m.d)))}).catch(e=>{throw Object(d.a)("run_notebook_fail",{runMode:S}),R(Object(p.c)(Object(y.Ec)(S,m.d))),e}))},V=()=>{f(A),G()},G=()=>{if(z===v.RemoteDataState.Loading)return;const e=$(S===l.a.Run);e.length&&(Object(d.a)("Running Notebook QueryAll"),T(e.filter(e=>!!(null==e?void 0:e.visual)).reduce((e,t)=>(e[t.id]=v.RemoteDataState.Loading,e),{})),Promise.all(e.filter(e=>!!e.visual).map(e=>L(e.visual,e.scope).then(t=>{T({[e.id]:v.RemoteDataState.Done}),C(e.id,t)}).catch(t=>{T({[e.id]:v.RemoteDataState.Error}),C(e.id,{error:t.message})}))).then(()=>{Object(d.a)("run_notebook_success",{runMode:S}),R(Object(p.c)(Object(y.Fc)(S,m.d)))}).catch(e=>{throw Object(d.a)("run_notebook_fail",{runMode:S}),R(Object(p.c)(Object(y.Ec)(S,m.d))),e}))};return w?(null==w?void 0:w.range)?r.a.createElement(k.Provider,{value:{query:L,basic:(e,t)=>{const n=Object.assign(Object.assign({region:window.location.origin,org:I.id},t||{}),{vars:Object.assign(Object.assign({},F),(null==t?void 0:t.vars)||{})});return j(e,n)},simplify:e=>Object(u.e)(e,F),generateMap:$,printMap:(e,t)=>{$(t).forEach(t=>{console.log(`\n\n%cPanel: %c ${t.id}`,"font-family: sans-serif; font-size: 16px; font-weight: bold; color: #000",t.id===e?"font-weight: bold; font-size: 16px; color: #666":"font-weight: normal; font-size: 16px; color: #888"),console.log(`%c Scope: \n%c ${JSON.stringify(t.scope,null,2)}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Source Query: \n%c ${t.source}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Visualization Query: \n%c ${t.visual}\n`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888")})},queryAll:V,queryDependents:e=>{f(A),B(e)},getPanelQueries:(e,t)=>e?$(t).find(t=>t.id===e):null,status:z}},e):null:r.a.createElement(h.a,{message:"Could not find this notebook",testID:"notebook-not-found"})}},81:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(168),o=n(29);t.a=({value:e,onChange:t})=>{const n=(e=>{const t=e=>e.map(e=>e.hex).join(", "),n=t(e),a=o.b.find(e=>t(e.colors)===n);return a||o.b[0]})(e);return r.a.createElement(s.Dropdown,{button:(e,t)=>r.a.createElement(s.Dropdown.Button,{active:e,onClick:t},r.a.createElement(i.a,{name:n.name,colors:n.colors.map(e=>e.hex)})),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e,theme:s.DropdownMenuTheme.Onyx},o.b.map(({id:e,name:a,colors:o})=>r.a.createElement(s.Dropdown.Item,{key:e,id:e,value:o,selected:n.id===e,onClick:t},r.a.createElement(i.a,{name:a,colors:o.map(e=>e.hex)}))))})}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return W})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return C}));var a=n(10),r=n(2),s=n.n(r),i=n(7),o=n(3),l=n(60),c=n.n(l),u=n(14),d=n(15),m=n.n(d),p=n(85);let h=class extends r.Component{constructor(e){super(e),this.handleStartEditing=()=>{this.setState({isEditing:!0})},this.handleStopEditing=()=>{const{workingDescription:e}=this.state,{onUpdate:t}=this.props;t(e),this.setState({isEditing:!1})},this.handleInputChange=e=>{this.setState({workingDescription:e.target.value})},this.handleKeyDown=e=>{const{onUpdate:t,description:n}=this.props,{workingDescription:a}=this.state;"Enter"===e.key&&(t(a),this.setState({isEditing:!1})),"Escape"===e.key&&this.setState({isEditing:!1,workingDescription:n})},this.handleInputFocus=e=>{e.currentTarget.select()},this.state={isEditing:!1,workingDescription:e.description}}render(){const{description:e}=this.props,{isEditing:t}=this.state;return t?s.a.createElement("div",{className:"editable-description"},s.a.createElement(p.a,{onClickOutside:this.handleStopEditing},this.input)):s.a.createElement("div",{className:"editable-description"},s.a.createElement("div",{className:this.previewClassName,onClick:this.handleStartEditing},e||"No description",s.a.createElement(o.Icon,{glyph:o.IconFont.Pencil})))}get input(){const{placeholder:e}=this.props,{workingDescription:t}=this.state;return s.a.createElement(o.Input,{size:o.ComponentSize.ExtraSmall,maxLength:90,autoFocus:!0,spellCheck:!1,placeholder:e,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,className:"editable-description--input",value:t})}get previewClassName(){const{description:e}=this.props;return m()("editable-description--preview",{untitled:!e})}};h=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],h);var g=h;let f=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickDelete=e=>{this.props.onDelete(e)},this.handleKeyDown=e=>{const{onChange:t,index:n}=this.props;t(n,e)}}render(){const{item:e,fieldName:t}=this.props;return s.a.createElement(o.IndexList,null,s.a.createElement(o.IndexList.Body,{emptyState:s.a.createElement("div",null),columnCount:2},s.a.createElement(o.IndexList.Row,{key:c.a.v4(),disabled:!1},s.a.createElement(o.IndexList.Cell,null,s.a.createElement(g,{description:e.text,placeholder:`Edit ${t}`,onUpdate:this.handleKeyDown})),s.a.createElement(o.IndexList.Cell,{alignment:o.Alignment.Right},s.a.createElement(o.ConfirmationButton,{onConfirm:this.handleClickDelete,returnValue:e,text:"Delete",popoverColor:o.ComponentColor.Danger,popoverAppearance:o.Appearance.Outline,color:o.ComponentColor.Danger,confirmationLabel:"",confirmationButtonColor:o.ComponentColor.Danger,confirmationButtonText:"Confirm",size:o.ComponentSize.ExtraSmall})))))}};f.defaultProps={confirmText:"Delete"},f=Object(a.a)([u.a],f);var b=f;var y=({tags:e,onDeleteTag:t,onChange:n})=>s.a.createElement("div",{className:"input-tag-list","data-testid":"multiple-rows"},e.map(a=>s.a.createElement(b,{index:e.indexOf(a),key:c.a.v4(),item:a,onDelete:t,onChange:n}))),x=n(332);var v;!function(e){e.String="string",e.URI="uri"}(v||(v={}));let w=class extends r.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const{inputType:t}=this.props,{value:n}=e.target;this.setState({editingText:n}),t===v.URI&&this.debouncedValidate(n)},this.handleSubmit=e=>{e.preventDefault();const t=this.inputRef.current.value.trim(),{tags:n,onAddRow:a}=this.props;this.shouldAddToList(t,n)&&(this.setState({editingText:""}),a(this.inputRef.current.value))},this.handleKeyDown=e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim(),{tags:n,onAddRow:a}=this.props;if(!this.shouldAddToList(t,n))return;this.setState({editingText:""}),a(e.target.value)}},this.handleDeleteRow=e=>{this.props.onDeleteRow(e.name||e.text)},this.handleValidateURI=e=>{Object(x.a)(e)?this.setState({status:o.ComponentStatus.Valid}):this.setState({status:o.ComponentStatus.Error})},this.state={editingText:"",status:o.ComponentStatus.Default},this.inputRef=s.a.createRef(),this.debouncedValidate=Object(i.debounce)(this.handleValidateURI,350)}render(){const{title:e,helpText:t,tags:n,autoFocus:a,onEditRow:r}=this.props,{editingText:i}=this.state;return s.a.createElement(o.Grid,null,s.a.createElement(o.Grid.Row,null,s.a.createElement(o.Grid.Column,{widthXS:o.Columns.Eight,offsetXS:o.Columns.One},s.a.createElement(o.Form.Element,{label:e,key:e,helpText:t},s.a.createElement(o.Input,{placeholder:`Type and hit 'Enter' to add to list of ${e}`,autocomplete:o.AutoComplete.Off,type:o.InputType.Text,onKeyDown:this.handleKeyDown,autoFocus:a||!1,value:i,status:this.state.status,onChange:this.handleInputChange,size:o.ComponentSize.Medium,titleText:e,ref:this.inputRef}))),s.a.createElement(o.Grid.Column,{widthXS:o.Columns.Two},s.a.createElement(o.Form.Element,{key:"submit",label:" ",style:{minHeight:"15px"}},s.a.createElement(o.Button,{color:o.ComponentColor.Secondary,onClick:this.handleSubmit,size:o.ComponentSize.Medium,text:"Add",titleText:`Add to list of ${e}`})))),s.a.createElement(o.Grid.Row,null,s.a.createElement(o.Grid.Column,{widthXS:o.Columns.Ten,offsetXS:o.Columns.One},s.a.createElement(y,{tags:n,onDeleteTag:this.handleDeleteRow,onChange:r}))))}shouldAddToList(e,t){return!Object(i.isEmpty)(e)&&!t.find(t=>t===e)}};w=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],w);var k=w;var E=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wizard--full-screen"},e.children,s.a.createElement("div",{className:"wizard--credits","data-testid":"credits"},"Powered by ",s.a.createElement("span",{className:"icon cubo-uniform"})," ",s.a.createElement("a",{href:"https://www.influxdata.com/",target:"_blank",rel:"noreferrer"},"InfluxData"))),s.a.createElement("div",{className:"auth-image"}));let S=class extends r.PureComponent{render(){const{title:e,maxWidth:t,children:n,footer:a,onDismiss:r}=this.props;return s.a.createElement(o.Overlay,{visible:!0},s.a.createElement(o.Overlay.Container,{maxWidth:t},s.a.createElement(o.Overlay.Header,{title:e,onDismiss:r}),s.a.createElement(o.Overlay.Body,null,s.a.createElement("div",{className:"data-loading--overlay"},n)),a&&s.a.createElement(o.Overlay.Footer,null,a)))}};S.defaultProps={maxWidth:1200},S=Object(a.a)([u.a],S);var C=e=>{const{children:t}=e;return s.a.createElement("div",{className:"wizard--progress-header"},t)},T=n(309);let O=class extends r.PureComponent{constructor(){super(...arguments),this.handleSetCurrentStep=e=>()=>{const{handleSetCurrentStep:t,currentStepIndex:n}=this.props,a=!this.isStepSkippable&&e>n,r=-1!==this.nextNonSkippableStep&&e>this.nextNonSkippableStep;a||r||t(e)}}render(){return s.a.createElement("div",{className:"wizard--progress-bar"},this.WizardProgress)}get nextNonSkippableStep(){const{currentStepIndex:e,stepSkippable:t,stepStatuses:n}=this.props;return t.findIndex((t,a)=>!t&&a>e&&n[a]!==T.b.Complete)}get isStepSkippable(){const{stepSkippable:e,stepStatuses:t,currentStepIndex:n}=this.props;return e[n]||t[n]===T.b.Complete}getStepClass(e){return!this.isStepSkippable&&e>this.props.currentStepIndex?"wizard--progress-button unclickable":"wizard--progress-button"}get WizardProgress(){const{hideFirstStep:e,stepStatuses:t,stepTitles:n,stepTestIds:a,currentStepIndex:r}=this.props,i=t.length-1;return t.reduce((t,o,l)=>{if(e&&0===l)return[...t];let c="";l===r&&o!==T.b.Error&&(c="current");const u=s.a.createElement("div",{key:`stepEle${l}`,className:this.getStepClass(l),onClick:this.handleSetCurrentStep(l)},s.a.createElement("span",{className:`wizard--progress-icon ${c||o}`},s.a.createElement("span",{className:`icon ${o}`})),s.a.createElement("div",{className:`wizard--progress-title ${c||o}`,"data-testid":a[l]},n[l]));if(l===i)return[...t,u];let d=T.a.None;l===r&&o!==T.b.Error&&(d=T.a.Some),l!==i&&o!==T.b.Complete||(d=T.a.Full);const m=s.a.createElement("span",{key:l,className:`wizard--progress-connector wizard--progress-connector--${d||T.a.None}`});return[...t,u,m]},[])}};O=Object(a.a)([u.a],O);var D=O;class j extends r.Component{constructor(){super(...arguments),this.handleClick=()=>{const{action:e,onCollapseMenu:t,value:n}=this.props;e(n),t&&t()}}render(){const{label:e,disabled:t,testID:n}=this.props;return s.a.createElement("button",{className:this.className,onClick:this.handleClick,disabled:t,"data-testid":n},e,this.description)}get className(){const{disabled:e}=this.props;return m()("context-menu--item",{"context-menu--item__disabled":e})}get description(){const{description:e}=this.props;if(e)return s.a.createElement("div",{className:"contex-menu--item-description"},e)}}j.defaultProps={description:"",testID:"context-menu-item"};var I=j;let N=class extends r.Component{constructor(e){super(e),this.handleExpandMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!0),this.setState({isExpanded:!0})},this.handleCollapseMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!1),this.setState({isExpanded:!1})},this.state={isExpanded:!1}}render(){const{icon:e,text:t,shape:n,color:a,testID:r,size:i,style:l}=this.props;return s.a.createElement(p.a,{onClickOutside:this.handleCollapseMenu},s.a.createElement("div",{className:"context-menu--container"},s.a.createElement(o.Button,{className:this.toggleClassName,onClick:this.handleExpandMenu,text:t,shape:n,icon:e,size:i,color:a,testID:r,style:l}),this.menu))}get menu(){const{children:e}=this.props;return s.a.createElement("div",{className:this.menuClassName},s.a.createElement("div",{className:this.listClassName},s.a.Children.map(e,e=>e.type===I?s.a.createElement(I,Object.assign({},e.props,{onCollapseMenu:this.handleCollapseMenu})):e)))}get listClassName(){const{color:e}=this.props;return m()("context-menu--list",{[`context-menu--${e}`]:e})}get menuClassName(){const{isExpanded:e}=this.state;return m()("context-menu--list-container",{open:e})}get toggleClassName(){const{color:e}=this.props,{isExpanded:t}=this.state;return m()("context-menu--toggle",{[`context-menu--${e}`]:e,active:t})}};N.defaultProps={color:o.ComponentColor.Primary,shape:o.ButtonShape.Square,text:"",testID:"context-menu",size:o.ComponentSize.ExtraSmall},N=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],N);var _,R,A,M,F,$,L,P,z,B,V,G,U,q,H=N;!function(e){e.Default="default",e.Primary="primary",e.Secondary="secondary",e.Success="success",e.Warning="warning",e.Danger="danger",e.Alert="alert"}(_||(_={})),function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(R||(R={})),function(e){e.Default="default",e.Loading="loading",e.Error="error",e.Valid="valid",e.Disabled="disabled"}(A||(A={})),function(e){e.Amethyst="amethyst",e.Malachite="malachite",e.Sapphire="sapphire",e.Onyx="onyx"}(M||(M={})),function(e){e.Above="above",e.Below="below"}(F||(F={})),function(e){e.Default="none",e.Square="square",e.StretchToFit="stretch"}($||($={})),function(e){e.Button="button",e.Submit="submit"}(L||(L={})),function(e){e.Obsidian="#0f0e15",e.Raven="#181820",e.Kevlar="#202028",e.Castle="#292933",e.Onyx="#31313d",e.Pepper="#383846",e.Smoke="#434453",e.Graphite="#545667",e.Storm="#676978",e.Mountain="#757888",e.Wolf="#8e91a1",e.Sidewalk="#999dab",e.Forge="#a4a8b6",e.Mist="#bec2cc",e.Chromium="#c6cad3",e.Platinum="#d4d7dd",e.Pearl="#e7e8eb",e.Whisper="#eeeff2",e.Cloud="#f6f6f8",e.Ghost="#fafafc",e.White="#ffffff"}(P||(P={})),function(e){e.AddCell="add-cell",e.AlertTriangle="alert-triangle",e.Alerts="alerts",e.Annotate="annotate",e.AnnotatePlus="annotate-plus",e.AuthZero="authzero",e.BarChart="bar-chart",e.Bell="bell",e.BellRinging="bell-ringing",e.BellSolid="bell-solid",e.Calendar="calendar",e.Capacitor="capacitor2",e.CaretDown="caret-down",e.CaretLeft="caret-left",e.CaretRight="caret-right",e.CaretUp="caret-up",e.Chat="chat",e.Checkmark="checkmark",e.Circle="circle",e.CircleThick="circle-thick",e.Clock="clock",e.CogOutline="cog-outline",e.CogThick="cog-thick",e.Collapse="collapse",e.CrownOutline="crown-outline",e.CrownSolid="crown2",e.Cube="cube",e.Cubouniform="cubo-uniform",e.CuboNav="cubo-nav",e.Dashboards="dashboards",e.DashF="dash-f",e.DashH="dash-h",e.DashJ="dash-j",e.Disks="disks",e.Download="download",e.Duplicate="duplicate",e.ExpandA="expand-a",e.ExpandB="expand-b",e.Export="export",e.Eye="eye",e.EyeClosed="eye-closed",e.EyeOpen="eye-open",e.GitHub="github",e.Google="google",e.GraphLine="graphline-2",e.Group="group",e.Heroku="heroku",e.HerokuSimple="",e.Import="import",e.Link="link",e.OAuth="oauth",e.Octagon="octagon",e.Okta="okta",e.Pause="pause",e.Pencil="pencil",e.Play="play",e.Plus="plus",e.PlusSkinny="plus-skinny",e.Pulse="pulse-c",e.Refresh="refresh",e.Remove="remove",e.Search="search",e.Server="server2",e.Shuffle="shuffle",e.Square="square",e.TextBlock="text-block",e.Trash="trash",e.Triangle="triangle",e.User="user",e.UserAdd="user-add",e.UserOutline="user-outline",e.UserRemove="user-remove",e.UsersDuo="users-duo",e.UsersTrio="users-trio",e.Wood="wood",e.Wrench="wrench",e.Star="star",e.Stop="stop",e.Zap="zap"}(z||(z={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten",e[e.Eleven=11]="Eleven",e[e.Twelve=12]="Twelve"}(B||(B={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(V||(V={})),function(e){e.Descending="desc",e.Ascending="asc",e.None="none"}(G||(G={})),function(e){e.Rows="rows",e.Columns="columns"}(U||(U={})),function(e){e.RouterLink="router",e.HTTPLink="http",e.ShowDropdown="showDropdown"}(q||(q={}));let Y=class extends r.PureComponent{constructor(e){super(e),this.handleBoostZIndex=e=>{this.setState({boostZIndex:e})},this.state={boostZIndex:!1}}render(){const{children:e}=this.props;return s.a.createElement("div",{className:this.className},s.a.Children.map(e,e=>(null==e?void 0:e.type)===H?s.a.createElement(H,Object.assign({},e.props,{onBoostZIndex:this.handleBoostZIndex})):e))}get className(){const{align:e,className:t}=this.props,{boostZIndex:n}=this.state;return m()("context-menu",{[`${t}`]:t,"context-menu--boost-z":n,"context-menu--align-left":e===V.Left,"context-menu--align-right":e===V.Right})}};Y.defaultProps={align:V.Right},Y.Menu=H,Y.Item=I,Y=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],Y);var W=Y},83:function(e,t,n){"use strict";var a=n(2),r=n.n(a),s=n(3),i=n(7);const o=e=>{const{selected:t,colors:n,onChoose:a,disabled:o,style:l}=e,c=o?s.ComponentStatus.Disabled:s.ComponentStatus.Default;return r.a.createElement(s.Dropdown,{style:l,button:(e,n)=>r.a.createElement(s.Dropdown.Button,{active:e,onClick:n,status:c},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:t.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(t.name)))),menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e,theme:s.DropdownMenuTheme.Onyx},n.map(e=>r.a.createElement(s.Dropdown.Item,{id:e.name,key:e.name,value:e,selected:e.name===t.name,onClick:a},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:e.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(e.name))))))})};o.defaultProps={disabled:!1,style:{flex:"0 0 120px"}};var l=o,c=n(36);var u=({id:e,type:t,name:n,value:a,error:i,onChangeValue:o,onChangeColor:u,onRemove:d,onBlur:m})=>{const p=e===c.a;let h="";h=p?"Base":t===c.c?"Minimum":t===c.b?"Maximum":"Value is >=";const g=!p&&t!==c.c&&t!==c.b,f=i?s.ComponentStatus.Error:s.ComponentStatus.Default,b=p?{flex:"1 0 120px"}:{flex:"0 0 120px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,alignItems:s.AlignItems.Center,margin:s.ComponentSize.Small,testID:e},r.a.createElement(s.TextBlock,{text:h,style:{flex:"0 0 90px"}}),!p&&r.a.createElement(s.Input,{style:{flex:"1 0 0"},testID:`threshold-${e}-input`,className:"threshold-setting--value",value:a,status:f,onChange:e=>o(e.target.value),onBlur:m,onKeyDown:e=>{"Enter"===e.key&&m()}}),r.a.createElement(l,{colors:c.l,selected:c.l.find(e=>e.name===n),onChoose:({name:e,hex:t})=>u(e,t),style:b}),g&&r.a.createElement(s.SquareButton,{icon:s.IconFont.Remove,onClick:d,style:{flex:"0 0 30px"}})),i&&r.a.createElement("div",{className:"threshold-setting--error","data-testid":`threshold-${e}-error`},i))};var d=n(60),m=n.n(d);const p=e=>{const t=[...e];return t.sort((e,t)=>e.id===c.a?-1/0:e.value-t.value),t},h=(e,t)=>{const n=t-e;let a,r;return a=n>1e3?100:n>100?10:n>50?5:n>10?1:null,r=a?Math.round(Math.random()*(t-e)/a)*a:Number((Math.random()*(t-e)).toFixed(2)),r},g=(e,t)=>{switch(t.type){case"COLOR_CHANGED":{const{id:n,name:a,hex:r}=t,s=e.thresholds.map(e=>e.id===n?Object.assign(Object.assign({},e),{name:a,hex:r}):e);return Object.assign(Object.assign({},e),{thresholds:s,isDirty:!0})}case"VALUE_CHANGED":{const{id:n,value:a}=t,r=Object.assign(Object.assign({},e.inputs),{[n]:a});return Object.assign(Object.assign({},e),{inputs:r,isDirty:!0,isValid:!1})}case"VALUE_BLURRED":{const n=e.thresholds.map(n=>n.id===t.id?Object.assign(Object.assign({},n),{value:parseFloat(e.inputs[t.id])}):n),a=(e=>{const t=e.find(({type:e})=>e===c.c),n=e.find(({type:e})=>e===c.b),a={};for(const{id:r,value:s,type:i}of e)isNaN(s)?a[r]="Please enter a valid number":t&&i!==c.c&&s<t.value?a[r]="Please enter a value greater than the minimum threshold":n&&i!==c.b&&s>n.value&&(a[r]="Please enter a value less than the maximum threshold");return a})(n),r=0===Object.values(a).length;return Object.assign(Object.assign({},e),{thresholds:n,errors:a,isValid:r})}case"THRESHOLD_ADDED":{const t=(e=>{const t=e.map(e=>e.value);let n=Math.min(...t),a=Math.max(...t);(n===1/0||isNaN(n)||n===a)&&(n=c.j,a=c.i);const r=h(n,a),s=c.l[Math.floor(Math.random()*c.l.length)],i=e[0].type,o=i===c.c||i===c.b?c.d:i;return Object.assign(Object.assign({},s),{id:m.a.v4(),type:o,value:r})})(e.thresholds),n=p([...e.thresholds,t]),a=Object.assign(Object.assign({},e.inputs),{[t.id]:String(t.value)});return Object.assign(Object.assign({},e),{thresholds:n,inputs:a,isDirty:!0})}case"THRESHOLD_REMOVED":{const n=e.thresholds.filter(e=>e.id!==t.id);return Object.assign(Object.assign({},e),{thresholds:n,isDirty:!0})}default:const n=t.type;throw new Error(`unhandled action of type "${n}" in ThresholdsSettings`)}};t.a=({thresholds:e,onSetThresholds:t})=>{const n=Object(a.useMemo)(()=>({thresholds:p(JSON.parse(JSON.stringify(e.filter(({type:e})=>"scale"!==e)))),inputs:e.reduce((e,{id:t,value:n})=>Object.assign(Object.assign({},e),{[t]:String(n)}),{}),errors:{},isDirty:!1,isValid:!0}),[e]),[i,o]=((e,t)=>{const n=Object(a.useRef)(t),r=Object(a.useRef)(!1),s=Object(a.useCallback)((t,a)=>r.current?(r.current=!1,e(n.current,a)):e(t,a),[e]),[i,o]=Object(a.useReducer)(s,t);return t!==n.current?(r.current=!0,n.current=t,[t,o]):[i,o]})(g,n);return Object(a.useEffect)(()=>{i.isDirty&&i.isValid&&t(i.thresholds)},[i,t]),r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Column,alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium,testID:"threshold-settings"},r.a.createElement(s.Button,{shape:s.ButtonShape.StretchToFit,icon:s.IconFont.Plus,text:"Add a Threshold",onClick:()=>o({type:"THRESHOLD_ADDED"})}),i.thresholds.map(e=>r.a.createElement(u,{key:e.id,id:e.id,name:e.name,type:e.type,value:i.inputs[e.id],error:i.errors[e.id],onBlur:()=>o({type:"VALUE_BLURRED",id:e.id}),onRemove:()=>o({type:"THRESHOLD_REMOVED",id:e.id}),onChangeValue:t=>o({type:"VALUE_CHANGED",id:e.id,value:t}),onChangeColor:(t,n)=>o({type:"COLOR_CHANGED",id:e.id,name:t,hex:n})})))}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(10),r=n(2),s=n.n(r),i=n(100),o=n.n(i),l=n(14);let c=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickOutside=e=>{const t=o.a.findDOMNode(this);t&&t.contains(e.target)||this.props.onClickOutside(e)}}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}render(){return s.a.Children.only(this.props.children)}};c=Object(a.a)([l.a],c)},90:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));const a=Math.floor,r=(Math.ceil,Math.abs),s=(Math.imul,Math.round),i=Math.log10,o=(Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),l=(e,t)=>e>t?e:t,c=(Number.isNaN,Math.pow,e=>Math.pow(10,e)),u=(Math.sign,e=>0!==e?e<0:1/e<0)},91:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return p}));const a=100,r=30,s=30,i=!0,o=!0,l="asc",c="desc",u=l,d=["_start","_stop"],m=-1,p={internalName:"_time",displayName:"time",visible:!0}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(2),r=n.n(a),s=n(65);const i=Object(a.createContext)({id:"",menu:[],show:e=>{},hide:()=>{},showSub:e=>{},hideSub:()=>{},register:(e,t)=>{}}),o=({children:e})=>{const{flow:t}=Object(a.useContext)(s.a),[n,o]=Object(a.useState)(""),[l,c]=Object(a.useState)({}),[u,d]=Object(a.useState)(!1),m=l[n]||[];return r.a.createElement(i.Provider,{value:{id:n,menu:m,submenu:u,show:e=>{t.data.allIDs.includes(e)&&e!==n&&(o(e),u&&d(!1))},hide:()=>{o("")},showSub:e=>{d(e)},hideSub:()=>{d(!1),o("")},register:(e,t)=>{l[e]&&l[e]===t||(l[e]=t||[],c(Object.assign({},l)))}}},e)}}}]);
//# sourceMappingURL=29.9e34b1b7f5.js.map