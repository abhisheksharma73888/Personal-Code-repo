(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1032:function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var n=r(2),a=r.n(n),s=r(7),o=r(3),i=r(15),c=r.n(i),l=r(82);class d extends n.Component{constructor(){super(...arguments),this.handleClick=()=>{const{id:e,mode:t,selected:r,onToggle:n}=this.props;t!==m.Read&&n&&(r===h.Selected?n(e,h.Unselected):r===h.Unselected&&n(e,h.Selected))}}render(){const{label:e,testID:t}=this.props;return a.a.createElement("li",{className:this.className,onClick:this.handleClick,"data-testid":t||"permissions--item"},this.checkbox,a.a.createElement("label",{className:"permissions-widget--item-label"},e))}get checkbox(){const{mode:e,selected:t}=this.props;return e===m.Write?a.a.createElement("div",{className:"permissions-widget--checkbox"},a.a.createElement("span",{className:`icon ${l.f.Checkmark}`})):t===h.Selected?a.a.createElement("div",{className:"permissions-widget--icon"},a.a.createElement("span",{className:`icon ${l.f.Checkmark}`})):a.a.createElement("div",{className:"permissions-widget--icon"},a.a.createElement("span",{className:`icon ${l.f.Remove}`}))}get className(){const{selected:e,mode:t}=this.props;return c()("permissions-widget--item",{selected:e===h.Selected,unselected:e===h.Unselected,selectable:t===m.Write})}}var u=d;class p extends n.Component{constructor(){super(...arguments),this.handleSelectAll=()=>{const{id:e,onSelectAll:t}=this.props;t&&t(e)},this.handleDeselectAll=()=>{const{id:e,onDeselectAll:t}=this.props;t&&t(e)}}render(){const{title:e,testID:t}=this.props;return a.a.createElement("section",{className:"permissions-widget--section","data-testid":t||"permissions-section"},a.a.createElement("header",{className:"permissions-widget--section-heading"},a.a.createElement("h3",{className:"permissions-widget--section-title"},e),this.selectionButtons),a.a.createElement("ul",{className:"permissions-widget--section-list"},this.sectionItems))}get sectionItems(){const{children:e,mode:t}=this.props;return a.a.Children.map(e,e=>e.type!==u?null:a.a.createElement(u,Object.assign({},e.props,{mode:t})))}get selectionButtons(){const{mode:e,title:t}=this.props;if(e===m.Write)return a.a.createElement(o.FlexBox,{margin:o.ComponentSize.Small,direction:o.FlexDirection.Row,justifyContent:o.JustifyContent.FlexEnd},a.a.createElement(o.Button,{text:"Select All",size:o.ComponentSize.ExtraSmall,titleText:`Select all permissions within ${t}`,onClick:this.handleSelectAll}),a.a.createElement(o.Button,{text:"Deselect All",size:o.ComponentSize.ExtraSmall,titleText:`Deselect all permissions within ${t}`,onClick:this.handleDeselectAll}))}}var m,h,g=p;!function(e){e.Read="read",e.Write="write"}(m||(m={})),function(e){e.Selected="selected",e.Unselected="unselected"}(h||(h={}));class y extends n.Component{render(){return a.a.createElement("div",{className:this.className,style:this.style},a.a.createElement("div",{className:"permissions-widget--header"},this.headerText),a.a.createElement("div",{className:"permissions-widget--body"},a.a.createElement(o.DapperScrollbars,{autoHide:!1},this.sections)))}get className(){const{className:e}=this.props;return e?`permissions-widget ${e}`:"permissions-widget"}get sections(){const{children:e,mode:t}=this.props;return a.a.Children.map(e,e=>e.type!==g?null:a.a.createElement(g,Object.assign({},e.props,{mode:t})))}get style(){const{heightPixels:e}=this.props;return{height:`${e}px`}}get headerText(){const{mode:e}=this.props;return e===m.Read?"Summary of access permissions":e===m.Write?"Summary of access permissions, each item can be toggled ON or OFF":void 0}}y.defaultProps={heightPixels:500},y.Section=g,y.Item=u;var b=y,f=r(119);class D extends n.PureComponent{constructor(){super(...arguments),this.itemID=(e,t)=>`${e}-${t}-${e||"*"}-${e||"*"}`,this.handleDismiss=()=>{this.props.onDismissOverlay()}}render(){const{description:e}=this.props.auth,t=this.permissions;return a.a.createElement(o.Overlay.Container,{maxWidth:830},a.a.createElement(o.Overlay.Header,{title:e,onDismiss:this.handleDismiss,wrapText:!0}),a.a.createElement(o.Overlay.Body,null,a.a.createElement(f.c,{text:this.props.auth.token,label:e,type:"Token"}),a.a.createElement(b,{mode:m.Read,heightPixels:500},Object.keys(t).map(e=>a.a.createElement(b.Section,{key:e,id:e,title:e,mode:m.Read},t[e].map((t,r)=>a.a.createElement(b.Item,{key:r,label:t,id:this.itemID(e,t),selected:h.Selected})))))))}get permissions(){return this.props.auth.permissions.reduce((e,{action:t,resource:r})=>{const{type:n}=r,a=Object(s.get)(r,"name","");let o=`${n}`;a&&(o=`${n}-${a}`);let i=Object(s.get)(e,o,[]);return a&&i?Object.assign(Object.assign({},e),{[o]:[...i,t]}):(i=Object(s.get)(e,o||r.type,[]),Object.assign(Object.assign({},e),{[n]:[...i,t]}))},{})}}},119:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r(2),a=r.n(n),s=r(4),o=r(3),i=r(138),c=r(12),l=r(11);const d=Object(n.createContext)({variables:{},update:e=>{},transform:e=>e}),u=(e,t)=>new Function("vars","var output="+JSON.stringify(e).replace(/<%=(.+?)%>/g,'"+(vars["$1".trim()])+"')+";return output;")(t),p=({variables:e,children:t})=>{const[r,s]=Object(n.useState)(e||{});return Object(n.useEffect)(()=>{e&&s(e)},[e]),a.a.createElement(d.Provider,{value:{variables:r,update:s,transform:e=>u(e,r)}},t)};t.c=({text:e,label:t,testID:r,type:u,onCopy:p})=>{const{transform:m}=Object(n.useContext)(d),h=Object(s.d)(),g=m(e);return a.a.createElement("div",{className:"code-snippet","data-testid":r||"code-snippet"},a.a.createElement(o.DapperScrollbars,{autoHide:!1,autoSizeHeight:!0,className:"code-snippet--scroll"},a.a.createElement("div",{className:"code-snippet--text"},a.a.createElement("pre",null,a.a.createElement("code",null,g)))),a.a.createElement("div",{className:"code-snippet--footer"},a.a.createElement(i.a,{text:g,onCopy:()=>{"function"==typeof p&&p(),h(Object(l.c)(Object(c.X)(`${g.slice(0,30).trimRight()}...`,null!=u?u:"Script")))}}),t&&a.a.createElement("label",{className:"code-snippet--label"},t)))}},138:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(95),o=r.n(s),i=r(3);class c extends n.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=()=>{const{onCopy:e}=this.props;e&&e()}}render(){const{text:e,testID:t,size:r}=this.props;return a.a.createElement(o.a,{text:e,onCopy:this.handleCopyAttempt},a.a.createElement(i.Button,{shape:i.ButtonShape.Default,size:r||i.ComponentSize.ExtraSmall,color:i.ComponentColor.Secondary,titleText:"Copy to Clipboard",text:"Copy to Clipboard",onClick:this.handleClickCopy,testID:null!=t?t:"button-copy"}))}}t.a=c},148:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(4),a=r(2),s=r(7);const o=/\w+\[\]/g,i=/\[\]?\./;class c extends a.PureComponent{constructor(e){super(e),this.createIndex=e=>Object(s.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const r=e[Object(s.sortedIndex)(e,t)];return!(!r||!r.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),r=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=r.slice(e);return t},this.collator=new Intl.Collator("en-us",{numeric:!0})}render(){return this.props.children(this.sorted)}get sorted(){return this.filtered.sort((e,t)=>this.props.sortByKey?this.collator.compare(Object(s.get)(e,this.props.sortByKey),Object(s.get)(t,this.props.sortByKey)):this.collator.compare(e.name,t.name))}get filtered(){const{list:e,labels:t,searchKeys:r}=this.props,{formattedSearchTerm:n}=this;return Object(s.isEmpty)(n)?e:e.filter(e=>{const a=Object.assign(Object.assign({},e),{labels:Object(s.get)(e,"labels",[]).map(e=>t[e])});return r.some(e=>{const t=this.getKey(a,e),r=this.isStringArray(t);if(!r&&"object"==typeof t)throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(r){const e=this.createIndex(t);return this.checkIndex(e,n)}return String(t).toLocaleLowerCase().includes(n)})})}isStringArray(e){return!!Array.isArray(e)&&!(!Object(s.isEmpty)(e)&&"string"!=typeof e[0])}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(o)?this.getInExactKey(e,t):Object(s.get)(e,t,"")}getInExactKey(e,t){return t.split(i).reduce((e,t)=>Object(s.flatMap)(e,e=>Object(s.get)(e,t,[])),[e])}}const l=e=>({labels:e.resources.labels.byID});function d(){return Object(n.c)(l)(c)}},150:function(e,t,r){"use strict";var n=r(10),a=r(2),s=r.n(a),o=r(7),i=r(3),c=r(14),l=r(54);let d=class extends a.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(o.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t}=this.props,{searchTerm:r}=this.state;return s.a.createElement(l.a,null,s.a.createElement(i.Input,{icon:i.IconFont.Search,placeholder:e,value:r,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input"}))}};d.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget"},d=Object(n.a)([c.a,Object(n.b)("design:paramtypes",[Object])],d),t.a=d},152:function(e,t,r){"use strict";var n=r(2),a=r(6);t.a=class extends n.PureComponent{render(){const{children:e}=this.props;return a.f?null:e}}},178:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(3),o=r(109),i=r(5);t.a=function({sortDirection:e,sortKey:t,sortType:r,onSelect:n,resourceType:c,width:l=210}){const d=(e=>{switch(e){case i.ResourceType.Dashboards:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Modified (Oldest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Modified (Newest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}];case i.ResourceType.Tasks:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Active",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Inactive",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Completed (Oldest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Completed (Newest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Descending},{label:"Schedule (Most Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Schedule (Least Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Variables:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Type (A → Z)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Type (Z → A)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Secrets:return[{label:"Name (A → Z)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Labels:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Templates:return[{label:"Name (A → Z)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Buckets:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Retention (Ascending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Ascending},{label:"Retention (Descending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Descending}];case i.ResourceType.Telegrafs:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (Ascending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Descending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Scrapers:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"URL (Ascending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"URL (Descending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Bucket (Ascending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Bucket (Descending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Authorizations:return[{label:"Description (A → Z)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Status (Active)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Status (Inactive)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Date Created (Oldest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Date Created (Newest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Flows:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Created (Oldest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Created (Newest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}]}})(c),{label:u}=d.find(n=>n.sortKey===t&&n.sortDirection===e&&n.sortType===r),p=e=>{const{sortKey:t,sortDirection:r,sortType:a}=e;n(t,r,a)};return a.a.createElement(s.Dropdown,{button:(e,t)=>a.a.createElement(s.Dropdown.Button,{onClick:t,active:e,testID:"resource-sorter--button"},`Sort by ${u}`),menu:n=>a.a.createElement(s.Dropdown.Menu,{onCollapse:n},d.map(n=>a.a.createElement(s.Dropdown.Item,{key:`${n.sortKey}${n.sortDirection}`,value:n,onClick:p,testID:`resource-sorter--${n.sortKey}-${n.sortDirection}`,selected:n.sortKey===t&&n.sortType===r&&n.sortDirection===e},n.label))),style:{flexBasis:`${l}px`,width:`${l}px`},testID:"resource-sorter"})}},229:function(e,t,r){"use strict";var n=r(2),a=r.n(n);t.a=({childrenLeft:e,childrenRight:t,width:r})=>{let n=a.a.createElement(a.a.Fragment,null),s=a.a.createElement(a.a.Fragment,null);return e&&(n=a.a.createElement("div",{className:"tabbed-page--header-left"},e)),t&&(s=a.a.createElement("div",{className:"tabbed-page--header-right"},t)),r?a.a.createElement("div",{className:"tabbed-page--header","data-testid":"tabbed-page--header",style:{width:r}},n,s):a.a.createElement("div",{className:"tabbed-page--header","data-testid":"tabbed-page--header"},n,s)}},2517:function(e,t,r){"use strict";r.r(t);var n=r(10),a=r(2),s=r.n(a),o=r(155),i=r(3),c=r(14),l=r(331),d=r(328),u=r(88),p=r(4),m=r(7),h=r(150),g=r(337),y=r(958),b=r(1032),f=r(109);class D extends a.PureComponent{constructor(e){super(e),this.memGetSortedResources=Object(g.a)(f.b),this.handleDismissOverlay=()=>{this.setState({isTokenOverlayVisible:!1})},this.handleClickDescription=e=>{const t=this.props.auths.find(t=>t.id===e);this.setState({isTokenOverlayVisible:!0,authInView:t})},this.state={isTokenOverlayVisible:!1,authInView:null}}render(){const{isTokenOverlayVisible:e,authInView:t}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.ResourceList,null,s.a.createElement(i.ResourceList.Body,{emptyState:this.props.emptyState,testID:"token-list"},this.rows)),s.a.createElement(i.Overlay,{visible:e},s.a.createElement(b.a,{auth:t,onDismissOverlay:this.handleDismissOverlay})))}get rows(){const{auths:e,sortDirection:t,sortKey:r,sortType:n}=this.props;return this.memGetSortedResources(e,r,t,n).map(e=>s.a.createElement(y.a,{key:e.id,auth:e,onClickDescription:this.handleClickDescription}))}}var S,T=r(148),C=r(229),E=r(420),v=r(178),k=r(5),x=r(13);!function(e){e.Description="description",e.Status="status",e.CreatedAt="createdAt"}(S||(S={}));const O=Object(T.a)();class A extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,r)=>{this.setState({sortKey:e,sortDirection:t,sortType:r})},this.handleClickColumn=(e,t)=>{const r=f.a.String;this.setState({sortKey:t,sortDirection:e,sortType:r})},this.handleChangeSearchTerm=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"description",sortDirection:i.Sort.Ascending,sortType:f.a.String}}render(){const{searchTerm:e,sortKey:t,sortDirection:r,sortType:n}=this.state,{tokens:a}=this.props,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{searchTerm:e,placeholderText:"Filter API Tokens...",onSearch:this.handleChangeSearchTerm,testID:"input-field--filter"}),s.a.createElement(v.a,{resourceType:k.ResourceType.Authorizations,sortDirection:r,sortKey:t,sortType:n,onSelect:this.handleSort,width:238})),i=s.a.createElement(E.a,null);return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{childrenLeft:o,childrenRight:i}),s.a.createElement(O,{list:a,searchTerm:e,searchKeys:this.searchKeys},a=>s.a.createElement(D,{auths:a,emptyState:this.emptyState,searchTerm:e,sortKey:t,sortDirection:r,sortType:n,onClickColumn:this.handleClickColumn})))}get searchKeys(){return[S.Status,S.Description,S.CreatedAt]}get emptyState(){const{searchTerm:e}=this.state;return Object(m.isEmpty)(e)?s.a.createElement(i.EmptyState,{size:i.ComponentSize.Large},s.a.createElement(i.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"API Tokens"),", why not generate one?"),s.a.createElement(E.a,null)):s.a.createElement(i.EmptyState,{size:i.ComponentSize.Large},s.a.createElement(i.EmptyState.Text,null,"No API Tokens match your query"))}}var j=Object(p.c)(e=>({tokens:Object(x.a)(e,k.ResourceType.Authorizations)}))(Object(o.j)(A)),w=r(355),I=r(64),N=r(203);const K=`/${N.m}/${N.n}/load-data/${N.v}/generate`;let $=class extends a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Page,{titleTag:Object(I.a)(["API Tokens","Load Data"])},s.a.createElement(d.a,null),s.a.createElement(l.a,{activeTab:"tokens"},s.a.createElement(u.a,{resources:[k.ResourceType.Authorizations]},s.a.createElement(j,null)))),s.a.createElement(o.c,null,s.a.createElement(o.a,{path:`${K}/all-access`,component:w.c}),s.a.createElement(o.a,{path:`${K}/buckets`,component:w.d})))}};$=Object(n.a)([c.a],$);t.default=$},299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=i(r(2)),o=i(r(300));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.CopyToClipboard=function(e){function t(){var e,r,n;c(this,t);for(var a=arguments.length,i=Array(a),d=0;d<a;d++)i[d]=arguments[d];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(e){var t=n.props,r=t.text,a=t.onCopy,i=t.children,c=t.options,l=s.default.Children.only(i),d=(0,o.default)(r,c);a&&a(r,d),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e)},l(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["text","onCopy","options","children"]),a=s.default.Children.only(t);return s.default.cloneElement(a,n({},r,{onClick:this.onClick}))}}]),t}(s.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s}));const n=e=>e.me,a=e=>e.me.quartzMe,s=e=>{var t,r;const{quartzMe:n}=e.me,a=null!==(t=null==n?void 0:n.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(r=null==n?void 0:n.accountType)&&void 0!==r?r:"free")&&!1===a}},300:function(e,t,r){"use strict";var n=r(301);e.exports=function(e,t){var r,a,s,o,i,c,l=!1;t||(t={}),r=t.debug||!1;try{if(s=n(),o=document.createRange(),i=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",document.body.appendChild(c),o.selectNode(c),i.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(n){r&&console.error("unable to copy using execCommand: ",n),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),l=!0}catch(n){r&&console.error("unable to copy using clipboardData: ",n),r&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(o):i.removeAllRanges()),c&&document.body.removeChild(c),s()}return l}},301:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},327:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(2),a=r.n(n),s=r(155),o=r(4),i=r(35);const c=Object(s.j)(e=>{const{overlayID:t,onClose:r,match:a,history:s}=e,c=Object(o.d)();return Object(n.useEffect)(()=>(c(Object(i.d)(t,a.params,()=>{r(s,a.params)})),()=>c(Object(i.b)())),[t]),null});function l(e,t,r){return class extends n.Component{render(){return a.a.createElement(e,Object.assign({},this.props,{onClose:r,overlayID:t}))}}}t.b=c},328:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(3),o=r(87);t.a=()=>a.a.createElement(s.Page.Header,{fullWidth:!1,testID:"load-data--header"},a.a.createElement(s.Page.Title,{title:"Load Data"}),a.a.createElement(o.a,null))},331:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(4),o=r(54),i=r(10),c=r(155),l=r(3),d=r(23),u=r(14),p=r(152);let m=class extends n.PureComponent{render(){const{activeTab:e,orgID:t,history:r}=this.props,n=e=>{r.push(`/orgs/${t}/load-data/${e}`)},s=[{text:"Sources",id:"sources",cloudExclude:!1,featureFlag:null},{text:"Buckets",id:"buckets",cloudExclude:!1,featureFlag:null},{text:"Telegraf",id:"telegrafs",cloudExclude:!1,featureFlag:null},{text:"Scrapers",id:"scrapers",cloudExclude:!0,featureFlag:null},{text:"API Tokens",id:"tokens",cloudExclude:!1,featureFlag:null}],o=s.find(t=>t.id===e).text;return a.a.createElement(l.Tabs,{orientation:l.Orientation.Horizontal,size:l.ComponentSize.Large,dropdownBreakpoint:872,dropdownLabel:o},s.map(t=>{let r=a.a.createElement(l.Tabs.Tab,{testID:`${t.id}--tab`,key:t.id,text:t.text,id:t.id,onClick:n,active:t.id===e});return t.cloudExclude&&(r=a.a.createElement(p.a,{key:t.id},r)),t.featureFlag&&(r=a.a.createElement(d.a,{key:t.id,name:t.featureFlag},r)),r}))}};m=Object(i.a)([u.a],m);var h=Object(c.j)(m),g=r(9);const y=e=>("buckets"!==e||!Object(d.c)("fetchAllBuckets"))&&("tokens"!==e||!Object(d.c)("paginatedTokens")),b=Object(s.c)(e=>({orgID:Object(g.a)(e).id}));t.a=b(({activeTab:e,orgID:t,children:r})=>a.a.createElement(l.Page.Contents,{fullWidth:!1,scrollable:y(e)},a.a.createElement(l.Tabs.Container,{orientation:l.Orientation.Horizontal,stretchToFitHeight:!0},a.a.createElement(h,{activeTab:e,orgID:t}),a.a.createElement(o.a,null,a.a.createElement(l.Tabs.TabContents,null,r)))))},355:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"j",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return p})),r.d(t,"m",(function(){return m})),r.d(t,"g",(function(){return h})),r.d(t,"e",(function(){return g})),r.d(t,"o",(function(){return y})),r.d(t,"l",(function(){return b})),r.d(t,"n",(function(){return f})),r.d(t,"k",(function(){return D}));var n=r(327),a=r(203);const s=Object(n.a)(n.b,"add-note",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)}),o=Object(n.a)(n.b,"edit-note",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)}),i=Object(n.a)(n.b,"add-master-token",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/tokens`)}),c=Object(n.a)(n.b,"add-custom-token",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/tokens`)}),l=Object(n.a)(n.b,"add-token",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/tokens`)}),d=(Object(n.a)(n.b,"telegraf-config",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),Object(n.a)(n.b,"telegraf-output",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),Object(n.a)(n.b,"add-annotation",(e,t)=>{e.push(`/${a.m}/${t.orgID}/${a.g}`)})),u=(Object(n.a)(n.b,"add-annotation",(e,t)=>{e.push(`/${a.m}/${t.orgID}/${a.e}/${t.dashboardID}`)}),Object(n.a)(n.b,"edit-annotation",(e,t)=>{e.push(`/${a.m}/${t.orgID}/${a.g}`)})),p=Object(n.a)(n.b,"edit-annotation",(e,t)=>{e.push(`/${a.m}/${t.orgID}/${a.e}/${t.dashboardID}`)}),m=Object(n.a)(n.b,"check-threshold",(e,t)=>{e.push(`/${a.m}/${t.orgID}/alerting`)}),h=Object(n.a)(n.b,"deadman-check",(e,t)=>{e.push(`/${a.m}/${t.orgID}/alerting`)}),g=Object(n.a)(n.b,"create-variable",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/variables`)}),y=Object(n.a)(n.b,"import-variable",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/variables`)}),b=Object(n.a)(n.b,"rename-variable",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/variables`)}),f=Object(n.a)(n.b,"update-variable",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/variables`)}),D=Object(n.a)(n.b,"export-variable",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/variables`)})},420:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(4),o=r(155),i=r(3),c=r(9);t.a=Object(o.j)(({history:e})=>{const t=Object(s.e)(c.a),r=r=>{"All Access API Token"===r?e.push(`/orgs/${t.id}/load-data/tokens/generate/all-access`):"Read/Write API Token"===r&&e.push(`/orgs/${t.id}/load-data/tokens/generate/buckets`)};return a.a.createElement(i.Dropdown,{testID:"dropdown--gen-token",style:{width:"180px"},button:(e,t)=>a.a.createElement(i.Dropdown.Button,{active:e,onClick:t,icon:i.IconFont.Plus,color:i.ComponentColor.Primary,testID:"dropdown-button--gen-token"},"Generate API Token"),menu:e=>a.a.createElement(i.Dropdown.Menu,{onCollapse:e},a.a.createElement(i.Dropdown.Item,{testID:"dropdown-item generate-token--read-write",id:"Read/Write API Token",key:"Read/Write API Token",value:"Read/Write API Token",onClick:r},"Read/Write API Token"),a.a.createElement(i.Dropdown.Item,{testID:"dropdown-item generate-token--all-access",id:"All Access API Token",key:"All Access API Token",value:"All Access API Token",onClick:r},"All Access API Token"))})})},51:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(4),o=r(15),i=r.n(o),c=r(155),l=r(3),d=r(75),u=r(30);t.a=({size:e=l.ComponentSize.Small,className:t,buttonText:r="Upgrade Now",metric:n})=>{const o=Object(s.e)(u.c),p=i()("upgrade-payg--button",{[`${t}`]:t}),m=Object(c.f)();return a.a.createElement(d.a,null,o&&a.a.createElement(l.Button,{icon:l.IconFont.CrownSolid,className:p,color:l.ComponentColor.Success,size:e,shape:l.ButtonShape.Default,onClick:()=>{n&&n(),m.push("/checkout")},text:r,testID:"cloud-upgrade--button"}))}},59:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(2),a=r.n(n),s=r(4),o=r(15),i=r.n(o),c=r(3),l=r(51),d=r(35),u=r(30),p=r(8);const m=({type:e,link:t,className:r,limitText:n})=>a.a.createElement("div",{className:`${r} rate-alert--content__free`},a.a.createElement("span",null,"Oh no! You hit the"," ",a.a.createElement("a",{href:t,className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality"===e?"series cardinality":"query write")," ","limit ",null!=n?n:""," and your data stopped writing. Don’t lose important metrics."),a.a.createElement(c.FlexBox,{justifyContent:c.JustifyContent.Center,className:"rate-alert--button"},a.a.createElement(l.a,{className:"upgrade-payg--button__rate-alert",metric:()=>Object(p.a)(`user.limits.${e}.upgrade`)})));t.b=({className:e})=>{const t=Object(s.d)(),r=Object(s.e)(u.c),n=i()("rate-alert--content",{[`${e}`]:e});return r?a.a.createElement(m,{type:"series cardinality",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:n}):a.a.createElement("div",{className:`${n} rate-alert--content__payg`},a.a.createElement("span",null,"Data in has stopped because you've hit the"," ",a.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality")," ","limit. Let's get it flowing again."),a.a.createElement(c.FlexBox,{justifyContent:c.JustifyContent.Center,className:"rate-alert--button"},a.a.createElement(c.Button,{className:"rate-alert-overlay-button",color:c.ComponentColor.Primary,size:c.ComponentSize.Small,onClick:()=>{t(Object(d.d)("rate-limit",null,()=>t(d.b)))},text:"Inspect Series Cardinality"})))}},64:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9),a=r(132),s=r(6);const o=e=>{const t=Object(a.a)().getState(),r=Object(n.a)(t),o=s.f?"InfluxDB Cloud":"InfluxDB";return(r&&r.name?[...e,Object(n.a)(t).name,o]:[...e,o]).join(" | ")}},75:function(e,t,r){"use strict";var n=r(2),a=r(6);t.a=class extends n.PureComponent{render(){const{children:e}=this.props;return a.f?e:null}}},87:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(4),o=r(15),i=r.n(o),c=r(3),l=r(51),d=r(52),u=r(6),p=r(59),m=r(11),h=r(12),g=r(30),y=r(35);r(96);const b={sendNotify:m.c,handleShowOverlay:y.d,handleDismissOverlay:y.b};t.a=Object(s.c)(e=>{const t=Object(d.j)(e);return{status:Object(d.k)(e),resources:t,showUpgrade:Object(g.c)(e)}},b)(({status:e,alertOnly:t,className:r,resources:s,showUpgrade:o,sendNotify:d,handleShowOverlay:m,handleDismissOverlay:g})=>{const y=()=>{m("write-limit",null,g)};Object(n.useEffect)(()=>{u.f&&"exceeded"===e&&s.includes("write")&&d(o?Object(h.Ud)("",a.a.createElement(p.a,{type:"write",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/optimize-writes/",className:"flex-upgrade-content"})):Object(h.Ud)("Data in has stopped because you've hit the query write limit. Let's get it flowing again: ",a.a.createElement(c.Button,{className:"rate-alert-overlay-button",color:c.ComponentColor.Primary,size:c.ComponentSize.Small,onClick:y,text:"Request Write Limit Increase"})))},[o,e]);const b=i()("rate-alert",{[`${r}`]:r});return u.f&&"exceeded"===e&&s.includes("cardinality")?a.a.createElement(c.FlexBox,{direction:c.FlexDirection.Column,alignItems:c.AlignItems.Center,margin:c.ComponentSize.Large,className:b},a.a.createElement(c.BannerPanel,{size:c.ComponentSize.ExtraSmall,gradient:c.Gradients.PolarExpress,icon:c.IconFont.Cloud,hideMobileIcon:!0,textColor:c.InfluxColors.Yeti},a.a.createElement(p.b,null))):u.f&&!t?a.a.createElement(l.a,{className:"upgrade-payg--button__header"}):null})},95:function(e,t,r){"use strict";var n=r(299).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},958:function(e,t,r){"use strict";var n=r(2),a=r.n(n),s=r(4),o=r(140),i=r(157),c=r(3),l=r(82),d=r(129);const u=Object(o.a)(d.l);class p extends n.PureComponent{constructor(){super(...arguments),this.changeToggle=()=>{const{auth:e,onUpdate:t}=this.props;"active"===e.status?e.status="inactive":e.status="active",t(e)},this.handleDelete=()=>{const{id:e,description:t}=this.props.auth;this.props.onDelete(e,t)},this.handleClickDescription=()=>{const{onClickDescription:e,auth:t}=this.props;e(t.id)},this.handleUpdateName=e=>{const{auth:t,onUpdate:r}=this.props;r(Object.assign(Object.assign({},t),{description:e}))}}render(){const{description:e}=this.props.auth,{auth:t}=this.props,r=this.isTokenEnabled?"Active":"Inactive",n=new Date(t.createdAt);return a.a.createElement(c.ResourceCard,{contextMenu:this.contextMenu,testID:`token-card ${t.description}`},a.a.createElement(c.ResourceCard.EditableName,{onUpdate:this.handleUpdateName,onClick:this.handleClickDescription,name:e,noNameString:d.i,testID:`token-name ${t.description}`}),a.a.createElement(c.ResourceCard.Meta,null,[a.a.createElement(a.a.Fragment,{key:t.id},"Created at: ",u.format(n))]),a.a.createElement(c.FlexBox,{margin:c.ComponentSize.Small},a.a.createElement(c.SlideToggle,{active:this.isTokenEnabled,size:c.ComponentSize.ExtraSmall,onChange:this.changeToggle}),a.a.createElement(c.InputLabel,{active:this.isTokenEnabled},r)))}get contextMenu(){return a.a.createElement(l.e,null,a.a.createElement(l.e.Menu,{icon:c.IconFont.Trash,color:c.ComponentColor.Danger},a.a.createElement(l.e.Item,{label:"Delete",action:this.handleDelete,testID:"delete-token"})))}get isTokenEnabled(){const{auth:e}=this.props;return"active"===e.status}}const m={onDelete:i.b,onUpdate:i.e},h=Object(s.c)(null,m);t.a=h(p)},96:function(e,t,r){var n=r(97);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(18)(n,a);n.locals&&(e.exports=n.locals)},97:function(e,t,r){(e.exports=r(17)(!1)).push([e.i,".flex-upgrade-content {\n  display: flex;\n  align-items: center;\n}",""])}}]);
//# sourceMappingURL=46.fb4334c703.js.map