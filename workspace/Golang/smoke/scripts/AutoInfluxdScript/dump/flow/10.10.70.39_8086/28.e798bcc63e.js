/*! For license information please see 28.e798bcc63e.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28,0,2,9,11,82],{101:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=(e,t,n,a="text/plain")=>{const r=((e,t)=>`${e.trim().toLowerCase().replace(/\s/g,"_")}${t}`)(t,n),o=new Blob([e],{type:a}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.target="_blank",i.download=r,document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)},r=(e,t)=>{const n=document.createElement("a");"string"==typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return v}));var a=n(2),r=n.n(a),o=n(199),i=n(54),s=n(48),l=n(15),c=n.n(l),u=n(5),d=n(3);var m=({loading:e})=>{const[t,n]=Object(a.useState)(!1),[o,i]=Object(a.useState)(0),s=c()("view-loading-spinner--timer",{visible:o>5});return Object(a.useEffect)(()=>{(e===u.RemoteDataState.Done||u.RemoteDataState.Error)&&(i(0),n(!1)),e===u.RemoteDataState.Loading&&n(!0)},[e]),Object(a.useEffect)(()=>{let e=null;return t?e=setInterval(()=>{i(e=>e+.1)},100):t||0===o||clearInterval(e),()=>clearInterval(e)},[t,o]),e===u.RemoteDataState.Loading?r.a.createElement("div",{className:"view-loading-spinner"},r.a.createElement(d.TechnoSpinner,{diameterPixels:66,strokeWidth:d.ComponentSize.Medium}),r.a.createElement("div",{className:s},`${Math.round(10*o)/10}s`)):null};const p=({properties:e,result:t,loading:n,error:i,isInitial:l,timeRange:c,annotations:u,cellID:d})=>{var m,p;if(!(null===(m=y[e.type])||void 0===m?void 0:m.component))throw new Error("Unknown view type in <View /> ");const h="check"!==e.type&&e.showNoteWhenEmpty?e.note:null,f=!!(null===(p=null==t?void 0:t.table)||void 0===p?void 0:p.length);return r.a.createElement(o.b,{loading:n,errorMessage:i,errorFormat:o.a.Scroll,hasResults:f,isInitialFetch:l||!1,fallbackNote:h},Object(a.createElement)(y[e.type].component,{result:t,properties:e,timeRange:c||s.b,annotations:u,cellID:d}))};var h=e=>r.a.createElement(i.a,null,r.a.createElement(m,{loading:e.loading||u.RemoteDataState.Done}),r.a.createElement(p,Object.assign({},e)));var f=({properties:e,results:t,update:n})=>{if(y[e.type].options)return r.a.createElement(i.a,null,r.a.createElement("div",{className:"view-options"},Object(a.createElement)(y[e.type].options,{properties:e,results:t,update:n})))},g=n(82),b=n(23);var v=({viewType:e,onUpdateType:t,filter:n=[]})=>{const a=Object.values(y).filter(e=>!n.includes(e.type)).filter(e=>!e.disabled).filter(e=>!e.featureFlag||Object(b.c)(e.featureFlag)).filter(e=>e.options).sort((e,t)=>e.name.localeCompare(t.name)).map(n=>r.a.createElement(d.Dropdown.Item,{key:`view-type--${n.type}`,testID:`view-type--${n.type}`,value:n.type,onClick:t,selected:n.type===e},r.a.createElement("div",{className:"view-type-dropdown--graphic"},n.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},n.name)));return r.a.createElement(d.Dropdown,{style:{width:"215px"},className:"view-type-dropdown",testID:"view-type--dropdown",button:(t,n)=>{var a,o;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n,status:"check"===e?g.d.Disabled:g.d.Valid},r.a.createElement("div",{className:"view-type-dropdown--graphic"},null===(a=y[e])||void 0===a?void 0:a.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},null===(o=y[e])||void 0===o?void 0:o.name))},menu:e=>r.a.createElement(d.Dropdown.Menu,{onCollapse:e,theme:d.DropdownMenuTheme.Onyx},a)})};const y=(()=>{const e={},t=n(250);return t.keys().forEach(n=>{t(n).default(t=>{e[t.type]=t})}),e})()},1024:function(e,t,n){"use strict";n.d(t,"a",(function(){return gn})),n.d(t,"b",(function(){return bn})),n.d(t,"c",(function(){return vn}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(7),l=n(225);const c=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(19)]).then(n.bind(null,2531)));var u=({note:e,onChangeNote:t})=>r.a.createElement("div",{className:"note-editor--editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:r.a.createElement(i.TechnoSpinner,null)})},r.a.createElement(c,{script:Object(l.a)(e),onChangeScript:t}))),d=n(114);var m=e=>r.a.createElement("div",{className:"note-editor--preview","data-testid":"note-editor--preview"},r.a.createElement(i.DapperScrollbars,{className:"note-editor--preview-scroll"},r.a.createElement("div",{className:"note-editor--markdown-container"},r.a.createElement(d.a,{text:e.note,className:"markdown-format"})))),p=n(227),h=n(5);class f extends a.PureComponent{render(){const{note:e,onSetNote:t}=this.props;return r.a.createElement("div",{className:"note-editor"},r.a.createElement("div",{className:"note-editor--controls"},r.a.createElement("div",{className:"note-editor--helper"},"Need help using Markdown? Check out"," ",r.a.createElement("a",{href:"https://www.markdownguide.org/cheat-sheet",target:"_blank",rel:"noreferrer"},"this handy guide")),this.visibilityToggle),r.a.createElement("div",{className:"note-editor--body"},r.a.createElement(u,{note:e,onChangeNote:t}),r.a.createElement(m,{note:e})))}get visibilityToggle(){const{hasQuery:e,showNoteWhenEmpty:t,onToggleShowNoteWhenEmpty:n}=this.props;return e?r.a.createElement(i.FlexBox,{direction:i.FlexDirection.Row,justifyContent:i.JustifyContent.FlexEnd},r.a.createElement(i.InputLabel,null,"Show note when query returns no data"),r.a.createElement(i.SlideToggle,{active:t,size:i.ComponentSize.ExtraSmall,onChange:n})):null}}const g={onSetIsPreviewing:p.b,onToggleShowNoteWhenEmpty:p.e,onSetNote:p.c};var b=Object(o.c)(e=>{const{note:t,mode:n,viewID:a,isPreviewing:r,showNoteWhenEmpty:o}=e.noteEditor;return{note:t,hasQuery:n===h.NoteEditorMode.Editing&&a&&e.resources.views.byID[a]&&"markdown"!==e.resources.views.byID[a].properties.type,isPreviewing:r,showNoteWhenEmpty:o}},g)(f),v=n(163),y=n(11),x=n(12);class w extends a.PureComponent{constructor(){super(...arguments),this.state={savingStatus:h.RemoteDataState.NotStarted},this.handleDismiss=()=>{const{onClose:e}=this.props;e()},this.handleSave=()=>{const{cellID:e,dashboardID:t,onCreateNoteCell:n,onUpdateViewNote:a,onNotify:r}=this.props;this.setState({savingStatus:h.RemoteDataState.Loading});try{e?a(e):n(t),this.handleDismiss()}catch(e){r(Object(x.ed)(e.message)),console.error(e),this.setState({savingStatus:h.RemoteDataState.Error})}}}componentDidMount(){const{cellID:e}=this.props;e?this.props.loadNote(e):this.props.resetNote()}componentDidUpdate(e){const{cellID:t,viewsStatus:n}=this.props;e.viewsStatus!==h.RemoteDataState.Done&&n===h.RemoteDataState.Done&&(t?this.props.loadNote(t):this.props.resetNote())}render(){const{dashboardID:e}=this.props;return e?r.a.createElement(i.Overlay.Container,{maxWidth:900,testID:"note-editor--overlay"},r.a.createElement(i.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.SpinnerContainer,{loading:this.props.viewsStatus,spinnerComponent:r.a.createElement(i.TechnoSpinner,null)},r.a.createElement(b,null))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",onClick:this.handleDismiss,testID:"cancel-note--button"}),r.a.createElement(i.Button,{text:"Save",color:i.ComponentColor.Success,status:this.saveButtonStatus,onClick:this.handleSave,testID:"save-note--button"}))):r.a.createElement(i.Overlay.Container,{maxWidth:360},r.a.createElement(i.Overlay.Header,{title:"Oh no!",onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("h5",null,"This page does not allow creation or editing of notes, better head"," ","to a dashboard to do that.")))}get overlayTitle(){const{mode:e}=this.props;let t;return t=e===h.NoteEditorMode.Editing?"Edit Note":"Add Note",t}get saveButtonStatus(){const{savingStatus:e}=this.state;return e===h.RemoteDataState.Loading?i.ComponentStatus.Loading:i.ComponentStatus.Default}}const E={onNotify:y.c,onCreateNoteCell:v.f,onUpdateViewNote:v.n,resetNote:p.a,loadNote:v.j};var S=Object(o.c)(({noteEditor:e,resources:t,overlays:n})=>{const{params:a}=n,{mode:r}=e,{status:o}=t.views;return{mode:r,viewsStatus:o,cellID:Object(s.get)(a,"cellID",void 0),dashboardID:Object(s.get)(a,"dashboardID",void 0)}},E)(w),C=n(157),k=n(35),O=n(323),D=n(9),T=n(30);var j=e=>{const{onClose:t}=Object(a.useContext)(gn),n=Object(o.d)(),[s,l]=Object(a.useState)(""),{id:c}=Object(o.e)(D.a),{id:u}=Object(o.e)(T.a),d=()=>{e.onClose()};return r.a.createElement(i.Overlay.Container,{maxWidth:500},r.a.createElement(i.Overlay.Header,{title:"Generate All Access API Token",onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,{onSubmit:()=>{const e={orgID:c,description:s,permissions:Object(O.b)(c,u)};n(Object(C.a)(e)),d(),n(Object(k.d)("access-token",null,()=>Object(k.b)()))}},r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},r.a.createElement(i.Alert,{icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Warning},"This token will be able to create, update, delete, read, and write to anything in this organization"),r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new API token",value:s,onChange:e=>{const{value:t}=e.target;l(t)},testID:"all-access-token-input"})),r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Button,{text:"Cancel",icon:i.IconFont.Remove,onClick:d}),r.a.createElement(i.Button,{text:"Save",testID:"button--save",icon:i.IconFont.Checkmark,color:i.ComponentColor.Success,type:i.ButtonType.Submit}))))))},I=n(10),N=n(15),R=n.n(N);class A extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--header","data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?r.a.createElement("div",{className:"selector-list--draggable",onDragStart:e},r.a.createElement("div",{className:"selector-list--hamburger"}),r.a.createElement("h2",{className:"selector-list--title"},t)):r.a.createElement("h2",{className:"selector-list--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"selector-list--delete",onClick:e})}}A.defaultProps={testID:"selector-list--header"};class _ extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--menu","data-testid":e},t)}}_.defaultProps={testID:"selector-list--menu"};class F extends a.PureComponent{render(){const{scrollable:e,testID:t}=this.props;return e?r.a.createElement(i.DapperScrollbars,{className:"selector-list--body",style:{maxWidth:"100%",maxHeight:"100%"},testID:t},this.children):r.a.createElement("div",{className:"selector-list--body","data-testid":t},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?r.a.createElement("div",{className:"selector-list--contents"},t):t}}F.defaultProps={scrollable:!0,addPadding:!0,testID:"selector-list--body"};class M extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--body selector-list--empty","data-testid":e},t)}}M.defaultProps={testID:"selector-list--empty"};class L extends a.PureComponent{render(){const{children:e,testID:t,className:n}=this.props,a=R()("selector-list",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":t},e)}}L.Header=A,L.Menu=_,L.Body=F,L.Empty=M,L.defaultProps={testID:"selector-list"};var P=n(69),B=n(144);class $ extends a.PureComponent{render(){return this.props.children(this.sorted)}get sorted(){const{list:e,sortKey:t,direction:n}=this.props;return Object(s.orderBy)(e,[t],[n])}}var z=n(148);const V=Object(z.a)();class H extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:""},this.handleSetSearchTerm=e=>{this.setState({searchTerm:e.target.value})}}render(){const{selectedBuckets:e,onSelect:t,buckets:n}=this.props,{searchTerm:a}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a.Menu,null,r.a.createElement(i.Input,{value:a,onChange:this.handleSetSearchTerm,placeholder:"Search buckets..."})),r.a.createElement(V,{list:n,searchTerm:a,searchKeys:["name"]},n=>r.a.createElement($,{list:n,sortKey:"name"},n=>r.a.createElement(B.a,{items:n.map(e=>e.name),selectedItems:e,onSelectItem:t,multiSelect:!1}))))}}var q=H;class U extends a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{activeTab:t,onClick:n}=this.props;e!==t&&n(e)}}render(){const{tabs:e,activeTab:t}=this.props;return r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},e.map(e=>r.a.createElement(i.SelectGroup.Option,{name:"bucket-selector",key:e,id:e,titleText:e,value:e,active:t===e,onClick:this.handleTabClick},e)))}}class G extends a.PureComponent{render(){const{title:e,activeTab:t,onTabClick:n}=this.props;return r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Stretch,direction:i.FlexDirection.Column,margin:i.ComponentSize.Medium},r.a.createElement("div",{className:"title"},e),r.a.createElement(U,{tabs:this.bucketTabs,activeTab:t,onClick:n}),this.builderCard)}get titlePreposition(){const{title:e}=this.props;switch(e.toLowerCase()){case"read":return"from";case"write":return"to";default:return"on"}}get bucketTabs(){return[O.a.AllBuckets,O.a.Scoped]}get builderCard(){const{selectedBuckets:e,onSelect:t,onSelectAll:n,onDeselectAll:a,buckets:o,activeTab:s,title:l}=this.props;switch(s){case O.a.AllBuckets:return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.EmptyState,{size:i.ComponentSize.Small},r.a.createElement(i.EmptyState.Text,null,"This token will be able to ",l.toLowerCase()," ",this.titlePreposition," all existing buckets as well as"," ",this.titlePreposition," any bucket created in the future")));case O.a.Scoped:return r.a.createElement(L,{className:"bucket-selectors"},r.a.createElement(L.Header,{title:"Buckets"},r.a.createElement("div",{className:"bucket-selectors--buttons"},r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Row,margin:i.ComponentSize.Small},r.a.createElement(i.Button,{text:"Select All",size:i.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:n}),r.a.createElement(i.Button,{text:"Deselect All",size:i.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:a})))),r.a.createElement(q,{buckets:o,onSelect:t,selectedBuckets:e}))}}}var W=G,Y=n(110),K=n(221),Z=n(13);const X={loading:h.RemoteDataState.NotStarted,buckets:[]},Q=r.a.createContext(X);let J=!1;const ee=r.a.memo(({loading:e,getBuckets:t,buckets:n,children:o})=>(Object(a.useEffect)(()=>{e===h.RemoteDataState.NotStarted&&(J||(async e=>{J=!0,await e(),J=!1})(t))},[e,t]),r.a.createElement(Q.Provider,{value:{loading:e,buckets:n}},o))),te={getBuckets:Y.h};var ne=Object(o.c)(e=>{const t=Object(K.b)(e);return{loading:Object(Z.h)(e,h.ResourceType.Buckets),buckets:t}},te)(ee),ae=n(105),re=n(14);let oe=class extends a.PureComponent{constructor(){super(...arguments),this.state={description:"",readBuckets:[],writeBuckets:[],activeTabRead:O.a.Scoped,activeTabWrite:O.a.Scoped},this.handleReadTabClick=e=>{this.setState({activeTabRead:e})},this.handleWriteTabClick=e=>{this.setState({activeTabWrite:e})},this.handleSelectReadBucket=e=>{const t=Object(O.i)(e,this.state.readBuckets);this.setState({readBuckets:t})},this.handleSelectWriteBucket=e=>{const t=Object(O.i)(e,this.state.writeBuckets);this.setState({writeBuckets:t})},this.handleReadSelectAllBuckets=()=>{const e=this.props.buckets.map(e=>e.name);this.setState({readBuckets:e})},this.handleReadDeselectAllBuckets=()=>{this.setState({readBuckets:[]})},this.handleWriteSelectAllBuckets=()=>{const e=this.props.buckets.map(e=>e.name);this.setState({writeBuckets:e})},this.handleWriteDeselectAllBuckets=()=>{this.setState({writeBuckets:[]})},this.handleSave=()=>{const{orgID:e,onCreateAuthorization:t}=this.props,{activeTabRead:n,activeTabWrite:a}=this.state;let r=[];r=n===O.a.Scoped?[...this.readBucketPermissions]:[...this.allReadBucketPermissions],r=a===O.a.Scoped?[...r,...this.writeBucketPermissions]:[...r,...this.allWriteBucketPermissions],t({orgID:e,description:this.state.description,permissions:r}),this.handleDismiss()},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({description:t})},this.handleDismiss=()=>{this.props.onClose()}}render(){const{description:e,readBuckets:t,writeBuckets:n,activeTabRead:a,activeTabWrite:o}=this.state,{buckets:s}=this.props;return r.a.createElement(i.Overlay.Container,{maxWidth:700},r.a.createElement(i.Overlay.Header,{title:"Generate Read/Write API Token",onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,{onSubmit:this.handleSave},r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new API token",value:e,onChange:this.handleInputChange,testID:"input-field--descr"})),r.a.createElement(i.Form.Element,{label:""},r.a.createElement(ne,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthSM:i.Columns.Six},r.a.createElement(W,{onSelect:this.handleSelectReadBucket,buckets:s,selectedBuckets:t,title:"Read",onSelectAll:this.handleReadSelectAllBuckets,onDeselectAll:this.handleReadDeselectAllBuckets,activeTab:a,onTabClick:this.handleReadTabClick})),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthSM:i.Columns.Six},r.a.createElement(W,{onSelect:this.handleSelectWriteBucket,buckets:s,selectedBuckets:n,title:"Write",onSelectAll:this.handleWriteSelectAllBuckets,onDeselectAll:this.handleWriteDeselectAllBuckets,activeTab:o,onTabClick:this.handleWriteTabClick}))))),r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Button,{text:"Cancel",icon:i.IconFont.Remove,onClick:this.handleDismiss,testID:"button--cancel"}),r.a.createElement(i.Button,{text:"Save",icon:i.IconFont.Checkmark,color:i.ComponentColor.Success,type:i.ButtonType.Submit,testID:"button--save"}))))))}get writeBucketPermissions(){const{buckets:e}=this.props,t=this.state.writeBuckets.map(t=>e.find(e=>e.name===t));return Object(O.h)(t,"write")}get readBucketPermissions(){const{buckets:e}=this.props,t=this.state.readBuckets.map(t=>e.find(e=>e.name===t));return Object(O.h)(t,"read")}get allReadBucketPermissions(){const{orgID:e}=this.props;return Object(O.c)(e,"read")}get allWriteBucketPermissions(){const{orgID:e}=this.props;return Object(O.c)(e,"write")}};oe=Object(I.a)([re.a],oe);const ie={onCreateAuthorization:C.a};var se=Object(o.c)(e=>{const t=Object(D.a)(e).id;return{orgID:t,buckets:Object(Z.a)(e,h.ResourceType.Buckets).filter(e=>!Object(ae.e)(e.name)).filter(e=>e.orgID===t)}},ie)(oe),le=n(88),ce=n(155),ue=n(617),de=n(158),me=n(101);var pe=()=>{var e;const t=Object(o.d)(),n=Object(o.e)(e=>Object(Z.a)(e,h.ResourceType.Telegrafs)),{onClose:s}=Object(a.useContext)(gn),l=Object(ce.i)({path:"/orgs/:orgID/load-data/telegrafs/:id/view",exact:!0,strict:!1});let c;(null===(e=null==l?void 0:l.params)||void 0===e?void 0:e.id)&&(c=n.find(e=>e.id===l.params.id));const[u,d]=Object(a.useState)((null==c?void 0:c.config)||"");if(!c)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Panel,{style:{marginBottom:"8px"}},r.a.createElement(i.Panel.Body,{direction:i.FlexDirection.Row,alignItems:i.AlignItems.Center,justifyContent:i.JustifyContent.SpaceBetween},r.a.createElement(i.Heading,{element:i.HeadingElement.H5},c.name),r.a.createElement(i.Button,{icon:i.IconFont.Download,color:i.ComponentColor.Secondary,text:"Download Config",onClick:()=>{const{name:e}=c;Object(me.b)(u,e||"telegraf",".conf")}}))),r.a.createElement("div",{className:"config-overlay"},r.a.createElement(ue.a,{config:u,onChangeConfig:e=>{d(e)}}))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Default,text:"Cancel",onClick:s}),r.a.createElement(i.ConfirmationButton,{color:i.ComponentColor.Success,text:"Save Changes",onConfirm:()=>{t(Object(de.f)(Object.assign(Object.assign({},c),{config:u}))),s()},confirmationButtonText:"Save",confirmationButtonColor:i.ComponentColor.Success,confirmationLabel:"This cannot be undone, are you sure?"})))},he=n(8);var fe=()=>{const{onClose:e}=Object(a.useContext)(gn);return Object(a.useEffect)(()=>{Object(he.a)(`telegraf_page.edit_config.at.${Date.now()}`)},[]),r.a.createElement(i.Overlay.Container,{maxWidth:1200,testID:"telegraf-overlay"},r.a.createElement(i.Overlay.Header,{title:"Edit Telegraf Configuration",onDismiss:e}),r.a.createElement(le.a,{resources:[h.ResourceType.Telegrafs]},r.a.createElement(pe,null)))},ge=n(20),be=n(119),ve=n(324);const ye=' [[outputs.influxdb_v2]]\n  ## The URLs of the InfluxDB cluster nodes.\n  ##\n  ## Multiple URLs can be specified for a single cluster, only ONE of the\n  ## urls will be written to each interval.\n  ##   ex: urls = ["https://us-west-2-1.aws.cloud2.influxdata.com"]\n  urls = ["<%= server %>"]\n\n  ## API token for authentication.\n  token = "<%= token %>"\n\n  ## Organization is the name of the organization you wish to write to; must exist.\n  organization = "<%= org %>"\n\n  ## Destination bucket to write into.\n  bucket = "<%= bucket %>"\n\n  ## The value of this tag will be used to determine the bucket.  If this\n  ## tag is not set the \'bucket\' option is used as the default.\n  # bucket_tag = ""\n\n  ## If true, the bucket tag will not be added to the metric.\n  # exclude_bucket_tag = false\n\n  ## Timeout for HTTP messages.\n  # timeout = "5s"\n\n  ## Additional HTTP headers\n  # http_headers = {"X-Special-Header" = "Special-Value"}\n\n  ## HTTP Proxy override, if unset values the standard proxy environment\n  ## variables are consulted to determine which proxy, if any, should be used.\n  # http_proxy = "http://corporate.proxy:3128"\n\n  ## HTTP User-Agent\n  # user_agent = "telegraf"\n\n  ## Content-Encoding for write request body, can be set to "gzip" to\n  ## compress body or "identity" to apply no encoding.\n  # content_encoding = "gzip"\n\n  ## Enable or disable uint support for writing uints influxdb 2.0.\n  # influx_uint_support = false\n\n  ## Optional TLS Config for use on HTTP connections.\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n',xe={server:"http://127.0.0.1:9999",token:"$INFLUX_TOKEN",org:"orgID",bucket:"bucketID"};class we extends a.PureComponent{constructor(){super(...arguments),this.state={selectedBucket:null},this.handleDismiss=()=>{this.props.onClose()},this.handleSelectBucket=e=>{this.setState({selectedBucket:e})},this.handleDownloadConfig=()=>{const{server:e,org:t}=this.props,n=this.currentBucket,a=Object(be.d)(ye,Object.assign({},xe,{server:e,org:t,bucket:n?n.name:xe.bucket}));Object(me.b)(a,"outputs.influxdb_v2",".conf")}}render(){return r.a.createElement(r.a.Fragment,null,this.overlay)}get buckets(){const{buckets:e}=this.props;return(e||[]).filter(e=>"system"!==e.type).sort((e,t)=>{const n=e.name.toLowerCase(),a=t.name.toLowerCase();return n>a?1:n<a?-1:0})}get currentBucket(){const e=this.buckets,{selectedBucket:t}=this.state;return e.length?t||e[0]:null}get overlay(){const{server:e,org:t,orgID:n}=this.props,a=this.buckets,o=this.currentBucket;let s=null;return a.length&&(s=r.a.createElement(ve.a,{selectedBucketID:this.currentBucket.id,buckets:a,onSelectBucket:this.handleSelectBucket})),r.a.createElement(i.Overlay.Container,{maxWidth:1200},r.a.createElement(i.Overlay.Header,{title:"Telegraf Output Configuration",onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("p",{style:{marginTop:"-18px"}},"The $INFLUX_TOKEN can be generated on the",r.a.createElement(ge.a,{to:`/orgs/${n}/load-data/tokens`}," API Tokens tab"),"."),r.a.createElement("p",null,s),r.a.createElement("div",{className:"output-overlay"},r.a.createElement(be.b,{variables:{server:e||xe.server,org:t||xe.org,token:"$INFLUX_TOKEN",bucket:o?o.name:xe.bucket}},r.a.createElement(be.c,{text:ye,label:"telegraf.conf",testID:"telegraf-output-overlay--code-snippet"})))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Secondary,text:"Download Config",onClick:this.handleDownloadConfig})))}}var Ee=Object(o.c)(e=>{const{name:t,id:n}=Object(D.a)(e);return{org:t,orgID:n,server:window.location.origin,buckets:Object(Z.a)(e,h.ResourceType.Buckets)}})(we);var Se=Object(ce.j)(({orgName:e,selected:t,onDismiss:n,orgID:a,history:o})=>{const s=R()("org-switcher--item",{"org-switcher--item__selected":t}),l=t?i.IconFont.Checkmark:i.IconFont.CaretRight,c=t?r.a.createElement("em",null,"Current"):null;return r.a.createElement("li",{className:s,onClick:()=>{n(),o.push(`/orgs/${a}`)}},r.a.createElement("div",{className:"org-switcher--item-circle"},r.a.createElement(i.Icon,{glyph:l,className:"org-switcher--item-icon"})),r.a.createElement("span",{className:"org-switcher--item-label"},e,c))});var Ce=Object(o.c)(e=>({orgs:Object(Z.a)(e,h.ResourceType.Orgs),currentOrg:Object(D.a)(e)}),null)(({orgs:e,onClose:t,currentOrg:n})=>r.a.createElement(i.Overlay.Container,{maxWidth:500},r.a.createElement(i.Overlay.Header,{title:"Switch Organizations",onDismiss:t,testID:"switch-overlay--header"}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("p",{className:"org-switcher--prompt"},"Choose an organization"),r.a.createElement($,{list:e,sortKey:"name",direction:i.Sort.Ascending},e=>r.a.createElement("div",{className:"org-switcher--list"},e.map(e=>r.a.createElement(Se,{key:e.id,orgID:e.id,orgName:e.name,selected:e.id===n.id,onDismiss:t}))))))),ke=n(735);var Oe=()=>{const{onClose:e}=Object(a.useContext)(gn);return r.a.createElement(i.Overlay.Container,{maxWidth:ae.b},r.a.createElement(i.Overlay.Header,{title:"Create Bucket",onDismiss:e}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(ke.a,{onClose:e})))},De=n(51);var Te=Object(o.c)(e=>({assetName:Object(s.get)(e,"overlays.params.asset","")}))(({assetName:e,onClose:t})=>r.a.createElement(i.OverlayContainer,{maxWidth:600,testID:"asset-limit-overlay",className:"asset-limit-overlay"},r.a.createElement(i.GradientBox,{borderGradient:i.Gradients.MiyazakiSky,borderColor:i.InfluxColors.Raven},r.a.createElement("div",{className:"asset-limit-overlay--contents"},r.a.createElement(i.Overlay.Header,{title:`Need More ${e}?`,wrapText:!0,onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"asset-limit-overlay--graphic-container"},r.a.createElement("div",{className:"asset-limit-overlay--graphic"},r.a.createElement("div",{className:"asset-limit-overlay--graphic-element"}))),r.a.createElement("p",null,"You’ve reached the maximum allotted ",e," on your current plan. Upgrade to Pay as you go to create more ",e,".")),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(De.a,{size:i.ComponentSize.Large,className:"upgrade-payg--button__asset-create"}))))));const je=({orgID:e})=>{const[t,n]=Object(a.useState)(""),[o,s]=Object(a.useState)("");return r.a.createElement(i.Form,{onSubmit:()=>{window.open(`mailto:support@influxdata.com?subject=Request%20Series%20Cardinality%20Increase&body=Organization ID%3A%20${e}%0D%0A%0D%0ARequested Series Cardinality Limit:%20${t}%0D%0A%0D%0AUse-Case Details:%0D%0A${o}`)}},r.a.createElement(i.Form.Divider,{lineColor:i.InfluxColors.Castle}),r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Request Series Cardinality Limit Increase"),r.a.createElement(i.Form.ValidationElement,{label:"Approximate Series Cardinality Needed",validationFunc:e=>e?null:"Amount is required",value:t,required:!0},e=>r.a.createElement(i.Input,{name:"Approximate Series Cardinality Needed",placeholder:"Tell us how much series cardinality you need.",required:!0,status:e,autoFocus:!0,value:t,onChange:e=>n(e.target.value),testID:"rate-alert-form-amount"})),r.a.createElement(i.Form.ValidationElement,{label:"Use-Case Details",validationFunc:e=>e?null:"Use-case details are required",value:o,required:!0},e=>r.a.createElement(i.TextArea,{name:"Use-Case Details",placeholder:"Tell us about your use-case, what you've tried so far, and why you need an increase.",status:e,value:o,onChange:e=>s(e.target.value),testID:"rate-alert-form-details",rows:10})),r.a.createElement(i.Button,{shape:i.ButtonShape.Default,type:i.ButtonType.Submit,size:i.ComponentSize.Medium,color:i.ComponentColor.Primary,className:"rate-alert--request-increase-button",text:"Submit Request",status:t&&o?i.ComponentStatus.Default:i.ComponentStatus.Disabled}))};var Ie=Object(o.c)(e=>{const{id:t}=Object(D.a)(e);return{orgID:t}})(({onClose:e,orgID:t})=>{const n=Object(ce.f)(),[o,s]=Object(a.useState)(!1);return r.a.createElement(i.OverlayContainer,{maxWidth:760,testID:"rate-limit-overlay",className:"rate-limit-overlay"},r.a.createElement(i.Overlay.Header,{title:"Let's get your data flowing again.",onDismiss:e,wrapText:!0}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"rate-limit-overlay--content"},r.a.createElement("div",{className:"rate-limit-overlay--image"}),r.a.createElement("div",null,r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Install the Series Cardinality Inspector"),r.a.createElement(i.Button,{size:i.ComponentSize.Large,color:i.ComponentColor.Success,className:"rate-alert--install-template-button",text:"Inspect My Series Cardinality",onClick:()=>{n.push(`/orgs/${t}/settings/templates`),e()}}),r.a.createElement("p",null,"Install not starting?"," ",r.a.createElement("a",{className:"rate-alert--instructions-link",href:"https://github.com/influxdata/community-templates/tree/master/influxdb2_cardinality_now",target:"blank"},"See manual instructions"),"."),r.a.createElement(i.FormDivider,{lineColor:i.InfluxColors.Castle}),r.a.createElement("p",null,"Need some guidance?",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.influxdata.com/blog/solving-runaway-series-cardinality-when-using-influxdb/",target:"_blank",rel:"noreferrer"},"Solving Runaway Series Cardinality When Using InfluxDB")),r.a.createElement(i.FormDivider,{lineColor:i.InfluxColors.Castle}),r.a.createElement("p",null,"If you’ve inspected your schema and determined that your use-case requires a higher series cardinalty limit you may"," ",r.a.createElement("span",{className:"rate-alert--request-increase",onClick:()=>s(!o)},"submit an increase request"),"."))),o&&r.a.createElement(je,{orgID:t})))});n(937);var Ne=()=>{const[e,t]=Object(a.useState)(""),{onClose:n}=Object(a.useContext)(gn),{id:s}=Object(o.e)(D.a),l=()=>{Object(he.a)("limit.requestincrease.writes",{reason:e}),window.open(`mailto:support@influxdata.com?subject=Request%20Query%20Write%20Limit%20Increase&body=Organization ID%3A%20${s}%0D%0A%0D%0AUse-Case Details:%0D%0A${e}`)};return r.a.createElement(i.OverlayContainer,{maxWidth:760,testID:"rate-limit-overlay",className:"rate-limit-overlay"},r.a.createElement(i.Overlay.Header,{title:"Let's get your data flowing again.",onDismiss:n,wrapText:!0}),r.a.createElement(i.Overlay.Body,{className:"limits-increasewrites--body"},r.a.createElement(i.Form,{onSubmit:l,className:"limits-increasewrites--form"},r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Request Query Write Limit Increase"),r.a.createElement(i.Form.Element,{label:"Request Details",required:!0},r.a.createElement(i.Input,{name:"Write Limit Increase",placeholder:"Tell us how much you need your write limit raised",required:!0,autoFocus:!0,value:e,onChange:e=>t(e.target.value),testID:"rate-alert-form-amount",type:i.InputType.Text})))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{shape:i.ButtonShape.Default,type:i.ButtonType.Submit,size:i.ComponentSize.Medium,color:i.ComponentColor.Default,text:"Cancel",onClick:n}),r.a.createElement(i.Button,{shape:i.ButtonShape.Default,onClick:l,size:i.ComponentSize.Medium,color:i.ComponentColor.Primary,className:"rate-alert--request-increase-button",text:"Submit Request",status:e.length?i.ComponentStatus.Default:i.ComponentStatus.Disabled})))};const Re=e=>{var t,n;const o=Object(a.useRef)(null),s=e.message?"":"This field is required",[l,c]=Object(a.useState)(null!==(n=null===(t=e.message)||void 0===t?void 0:t.length)&&void 0!==n?n:0);return Object(a.useEffect)(()=>{o.current.focus(),o.current.textLength&&(o.current.selectionStart=o.current.textLength,o.current.selectionEnd=o.current.textLength)},[]),r.a.createElement(i.Form.Element,{label:`Message (${l} / 255)`,required:!0,errorMessage:s},r.a.createElement(i.TextArea,{name:"message",value:e.message,onChange:t=>{c(t.target.value.length),e.onChange(t.target.value)},style:{height:"80px",minHeight:"80px"},ref:o,maxLength:255,testID:"edit-annotation-message"}))};var Ae=n(213),_e=n(27),Fe=n(222),Me=n(140);const Le=e=>{var t;const{timeZone:n}=Object(a.useContext)(_e.a),o=new Date(e.time),s=e.timeFormat;"UTC"===n&&o.getTime();const l=Object(Me.a)(s,n),[c,u]=Object(a.useState)(l.format(o)),d=t=>{const n=Object(Fe.b)(t,s);return e.onValidityCheck(n),n},m=e.invalidMessage?e.invalidMessage:c?d(c)?"":`Format must be ${s}`:"Required",p=`${e.name}-testID`,h=null!==(t=e.titleText)&&void 0!==t?t:"Start Time";return r.a.createElement(i.Form.Element,{label:h,required:!0,errorMessage:m,style:e.style},r.a.createElement(i.Input,{name:name,value:c,testID:p,onChange:t=>{if(u(t.target.value),d(t.target.value)){if("UTC"===n)return void e.onChange(Ae.DateTime.fromFormat(t.target.value,Object(Fe.a)(s),{zone:"UTC"}).toISO());e.onChange(Ae.DateTime.fromFormat(t.target.value,Object(Fe.a)(s)).toISO())}},onKeyPress:t=>{"Enter"!==t.key||e.onSubmit()},status:i.ComponentStatus.Default}))};var Pe=n(198);n(939);var Be=n(45);const $e=e=>{const[t,n]=Object(a.useState)(e.startTime),[s,l]=Object(a.useState)(e.endTime),[c,u]=Object(a.useState)(e.summary),[d,m]=Object(a.useState)(e.type),p=e.timeFormat?e.timeFormat:Be.a,[h,f]=Object(a.useState)(!0),[g,b]=Object(a.useState)(!0),v=Object(o.d)(),w=()=>{const e=(null==c?void 0:c.length)&&t&&g&&j();return"range"===d?e&&s&&h&&T():e},E=()=>{w()&&e.onSubmit({summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream})},S=()=>{const t=I?"edit":"create";Object(he.a)(`${e.eventPrefix}.dashboards.annotations.${t}_annotation.cancel`),e.onClose()},C=(e,t)=>e.getTime()>t.getTime(),k=t=>{let n=null;return n=e.getNow?new Date(e.getNow()):new Date,C(new Date(t),n)},O=()=>k(t)?{isValid:!1,message:"Start Time cannot be in the future"}:{isValid:!0},D=()=>{if("point"===d)return{isValid:!0};const e=new Date(t),n=new Date(s);return n.getTime()===e.getTime()?{isValid:!1,message:"Stop Time must be after the start time"}:C(n,e)?k(s)?{isValid:!1,message:"Stop Time cannot be in the future"}:{isValid:!0,message:null}:{isValid:!1,message:"Stop Time must be after the start time"}},T=()=>D().isValid,j=()=>O().isValid,I=Boolean(e.annotationId),N=I?"Changes":"Annotation",A=R()("annotation-form-footer",{"edit-annotation-form-footer":I}),_=R()({"edit-annotation-buttons":I}),F=r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Form.Label,{label:"Type"}),r.a.createElement(i.SelectGroup,{size:i.ComponentSize.Small,style:{marginBottom:8},color:i.ComponentColor.Default},r.a.createElement(i.SelectGroup.Option,{onClick:()=>{m("point")},active:"point"===d,id:"annotation-form-point-type",testID:"annotation-form-point-type-option",value:"point"},"Point"),r.a.createElement(i.SelectGroup.Option,{onClick:()=>{m("range"),s||l(t)},value:"range",active:"range"===d,id:"annotation-form-range-type",testID:"annotation-form-range-type-option"},"Range")));return r.a.createElement(i.Overlay.Container,{maxWidth:640},r.a.createElement(i.Overlay.Header,{title:`${e.title} Annotation`,onDismiss:S,className:"edit-annotation-head"}),r.a.createElement(i.Form,{onSubmit:n=>{n.preventDefault(),e.onSubmit({summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream})}},r.a.createElement(i.Overlay.Body,null,F,r.a.createElement("div",{className:"annotation-type-option-line"},r.a.createElement(Le,{onChange:e=>{n(e)},onSubmit:E,time:t,timeFormat:p,name:"startTime",onValidityCheck:b,invalidMessage:O().message}),"range"===d&&r.a.createElement(Le,{onChange:e=>{l(e)},onSubmit:E,invalidMessage:D().message,onValidityCheck:f,time:s,timeFormat:p,name:"endTime",titleText:"Stop Time",style:{marginLeft:10}})),r.a.createElement(Re,{message:c,onChange:e=>{u(e)}})),r.a.createElement(i.Overlay.Footer,{className:A},I&&r.a.createElement(i.Button,{text:"Delete Annotation",onClick:()=>{const n={summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream};try{v(Object(Pe.a)(n)),Object(he.a)(`${e.eventPrefix}.annotations.delete_annotation.success`),v(Object(y.c)(Object(x.ub)(n.summary))),e.onClose()}catch(t){Object(he.a)(`${e.eventPrefix}.annotations.delete_annotation.failure`),v(Object(y.c)(Object(x.tb)(t)))}},color:i.ComponentColor.Danger,style:{marginRight:"15px"},testID:"delete-annotation-button"}),r.a.createElement("div",{className:_},r.a.createElement(i.Button,{text:"Cancel",onClick:S,testID:"edit-annotation-cancel-button",className:"edit-annotation-cancel"}),r.a.createElement(i.Button,{text:`Save ${N}`,color:i.ComponentColor.Primary,type:i.ButtonType.Submit,status:w()?i.ComponentStatus.Default:i.ComponentStatus.Disabled,testID:"annotation-submit-button"})))))};var ze=n(354),Ve=n(226);const He=()=>{const{onClose:e}=Object(a.useContext)(gn),{createAnnotation:t,startTime:n,endTime:i,range:s,eventPrefix:l,cellID:c}=Object(o.e)(ze.a),u=Object(o.e)(e=>Object(Ve.a)(e,c)),d=s?"range":"point";return r.a.createElement($e,{title:"Add",type:d,onClose:e,onSubmit:n=>{t(n),e()},startTime:n,endTime:i,eventPrefix:l,timeFormat:u})};let qe=null,Ue=null;n(6).f&&(Ue=n(41).MeasurementSchema,qe=n(41).MeasurementSchemaList);const Ge=e=>{const t=()=>{e.onClose()},{schema:n}=e,a=JSON.stringify(n,null,2);return r.a.createElement(i.Overlay.Container,{maxWidth:600},r.a.createElement(i.Overlay.Header,{title:`Explicit Schema for: ${e.bucketName}`,onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(be.c,{text:a})),r.a.createElement(i.Overlay.Footer,null,r.a.createElement("div",null,r.a.createElement(i.Button,{text:"Close",onClick:t,testID:"show-explicit-schema-button-close"}))))},We=()=>{const{onClose:e}=Object(a.useContext)(gn),{schema:t,bucketName:n}=Object(o.e)(ze.a);return r.a.createElement(Ge,{onClose:e,schema:t,bucketName:n})};var Ye=n(39);const Ke=()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),{clickedAnnotation:n,cellID:i}=Object(o.e)(ze.a),s=Object(o.e)(e=>Object(Ve.a)(e,i)),l=n.startTime===n.endTime?"point":"range";return r.a.createElement($e,{onSubmit:async a=>{try{await t(Object(Pe.b)(a)),Object(he.a)(`${n.eventPrefix}.annotations.edit_annotation.success`),t(Object(y.c)(Object(x.Gb)())),e()}catch(e){Object(he.a)(`${n.eventPrefix}.annotations.edit_annotation.failure`),t(Object(y.c)(Object(x.Fb)(Object(Ye.b)(e))))}},startTime:n.startTime,annotationId:n.id,endTime:n.endTime,type:l,summary:n.summary,stream:n.stream,onClose:e,title:"Edit",eventPrefix:n.eventPrefix,timeFormat:s})};var Ze=n(766),Xe=n(54);var Qe=()=>{const e=Object(ce.f)(),t=Object(o.e)(D.a),n=()=>{e.push(`/orgs/${t.id}/settings/variables`)};return r.a.createElement(i.Overlay.Container,{maxWidth:1e3},r.a.createElement(i.Overlay.Header,{title:"Create Variable",onDismiss:n,testID:"create-variable-overlay-header"}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(le.a,{resources:[h.ResourceType.Variables]},r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{onHideOverlay:n})))))},Je=n(546),et=n(512),tt=n(86),nt=n(113);class at extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0},this.handleSubmit=e=>{const{workingVariable:t}=this.state;e.preventDefault(),this.props.onUpdateVariable(t.id,t),this.props.onClose()},this.handleNameValidation=e=>{const{variables:t}=this.props,{workingVariable:n}=this.state,{error:a}=Object(et.a)(t,e,n.id);return this.setState({isNameValid:!a}),a},this.handleChangeInput=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.workingVariable),{name:t});this.setState({workingVariable:n})}}render(){const{onClose:e}=this.props,{workingVariable:t,isNameValid:n}=this.state;return r.a.createElement(i.Form,{onSubmit:this.handleSubmit},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,null,r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(i.Form.ValidationElement,{label:"Name",value:t.name,required:!0,prevalidate:!0,validationFunc:this.handleNameValidation},e=>r.a.createElement(i.Input,{placeholder:"Rename your variable",name:"name",autoFocus:!0,value:t.name,onChange:this.handleChangeInput,status:e,testID:"rename-variable-input"}))))),r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,null,r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Danger,onClick:e}),r.a.createElement(i.Button,{text:"Submit",type:i.ButtonType.Submit,color:i.ComponentColor.Primary,status:n?i.ComponentStatus.Default:i.ComponentStatus.Disabled,testID:"rename-variable-submit"}))))))}}const rt={onUpdateVariable:nt.k},ot=Object(o.c)(e=>{const t=Object(tt.k)(e),n=t.find(t=>t.id===e.overlays.params.id);return{variables:t,startVariable:n}},rt);var it=Object(ce.j)(ot(at));var st=Object(ce.j)(Object(a.memo)(()=>{const{onClose:e}=Object(a.useContext)(gn);return r.a.createElement(Je.a,{title:"Rename Variable",message:"Updating the name of a Variable can have unintended consequences. Anything that references this Variable by name will stop working including:",effectedItems:["Queries","Dashboards","Telegraf Configurations","Templates"],confirmButtonText:"I understand, let's rename my Variable",onClose:e},r.a.createElement(it,{onClose:e}))})),lt=n(767),ct=n(736),ut=n.n(ct);class dt extends a.PureComponent{constructor(){super(...arguments),this.state={status:i.ComponentStatus.Default},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()},this.updateOverlayStatus=e=>this.setState(()=>({status:e})),this.handleImportVariable=e=>{const{createVariableFromTemplate:t,getVariables:n,notify:a}=this.props;let r;this.updateOverlayStatus(i.ComponentStatus.Default);try{r=ut.a.parse(e)}catch(e){return this.updateOverlayStatus(i.ComponentStatus.Error),void a(Object(x.jc)(e.message))}t(r),n(),this.onDismiss()}}render(){return r.a.createElement(lt.a,{onDismissOverlay:this.onDismiss,resourceName:"Variable",onSubmit:this.handleImportVariable,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const mt={createVariableFromTemplate:nt.d,getVariables:nt.f,notify:y.c};var pt=Object(o.c)(null,mt)(Object(ce.j)(dt)),ht=n(652),ft=n(162);class gt extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0,hasValidArgs:!0},this.handleChangeType=e=>{const{isNameValid:t,workingVariable:n}=this.state,a={hasValidArgs:!1,isNameValid:t};switch(e){case"query":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{arguments:{type:"query",values:{query:"",language:"flux"}},selected:null})}));case"map":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"map",values:{}}})}));case"constant":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"constant",values:[]}})}))}},this.handleSelectMapDefault=e=>{const{workingVariable:t}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},t),{selected:[e]})})},this.handleChangeArgs=({args:e,isValid:t})=>{const{workingVariable:n}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},n),{arguments:e}),hasValidArgs:t})},this.handleSubmit=e=>{e.preventDefault();const{workingVariable:t}=this.state;this.props.onUpdateVariable(t.id,t)}}render(){const{workingVariable:e,hasValidArgs:t}=this.state;return r.a.createElement(gn.Consumer,null,({onClose:n})=>r.a.createElement(i.Overlay.Container,{maxWidth:1e3,testID:"edit-variable--overlay"},r.a.createElement(i.Overlay.Header,{title:"Edit Variable",onDismiss:n}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,{onSubmit:e=>{this.handleSubmit(e),n()}},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(i.Form.Element,{label:"Name",helpText:"To rename your variable use the rename button. Renaming is not allowed here."},r.a.createElement(i.Input,{placeholder:"Give your variable a name",name:"name",autoFocus:!0,value:e.name,status:i.ComponentStatus.Disabled})))),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Type",required:!0},r.a.createElement(i.Dropdown,{button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:t=>r.a.createElement(i.Dropdown.Menu,{onCollapse:t},ft.f.map(t=>r.a.createElement(i.Dropdown.Item,{key:t.type,id:t.type,value:t.type,onClick:this.handleChangeType,selected:t.type===e.arguments.type,testID:`variable-type-dropdown-${t.type}`},t.label)))})))),r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,null,r.a.createElement(ht.a,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:e.selected,args:e.arguments}))),r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,null,r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Danger,onClick:n}),r.a.createElement(i.Button,{text:"Submit",type:i.ButtonType.Submit,color:i.ComponentColor.Primary,status:t?i.ComponentStatus.Default:i.ComponentStatus.Disabled})))))))))}get typeDropdownLabel(){const{workingVariable:e}=this.state;return ft.f.find(t=>t.type===e.arguments.type).label}}const bt={onUpdateVariable:nt.k},vt=Object(o.c)(e=>{const t=Object(tt.k)(e),n=t.find(t=>t.id===e.overlays.params.id);return{variables:t,startVariable:n}},bt);var yt=Object(ce.j)(vt(gt)),xt=n(513),wt=n(182);var Et=()=>{const e=Object(o.e)(e=>e.overlays.params.id),t=Object(o.d)(),n=Object(ce.f)();Object(a.useEffect)(()=>{e&&t(Object(nt.b)(e))},[e]);const i=Object(o.e)(e=>e.resources.templates.exportTemplate.status),s=Object(o.e)(e=>e.resources.templates.exportTemplate.item);return r.a.createElement(xt.a,{resourceName:"Variable",resource:s,onDismissOverlay:()=>{n.goBack(),t(wt.a)},onCopy:()=>{t(Object(y.c)(Object(x.X)(`${s.meta.name.slice(0,30).trimRight()}...`,"Variable")))},status:i})},St=n(655),Ct=n(405),kt=n(188),Ot=n(208),Dt=n(37),Tt=n(55),jt=n(112);var It=()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),n=Object(o.e)(e=>e.alertBuilder.name);return Object(a.useEffect)(()=>{const e=Object(jt.a)("threshold");return t(Object(Tt.c)("threshold")),t(Object(Dt.l)("alerting",{view:e})),()=>t(Tt.f)},[t]),r.a.createElement("div",{className:"veo-overlay"},r.a.createElement("div",{className:"veo"},r.a.createElement(St.a,{key:n,name:n,onSetName:e=>t(Object(Tt.o)(e)),onCancel:e,onSave:()=>t(Object(Ot.c)())}),r.a.createElement(kt.a,null,r.a.createElement("div",{className:"veo-contents"},r.a.createElement(Ct.a,null)))))};var Nt=Object(ce.j)(()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),{status:n,name:s}=Object(o.e)(e=>e.alertBuilder);return Object(a.useEffect)(()=>{const e=Object(jt.a)("deadman");return t(Object(Tt.c)("deadman")),t(Object(Dt.l)("alerting",{view:e})),()=>t(Tt.f)},[t]),r.a.createElement("div",{className:"veo-overlay"},r.a.createElement("div",{className:"veo"},r.a.createElement(i.SpinnerContainer,{spinnerComponent:r.a.createElement(i.TechnoSpinner,null),loading:n||h.RemoteDataState.Loading},r.a.createElement(St.a,{key:s,name:s,onSetName:e=>t(Object(Tt.o)(e)),onCancel:e,onSave:()=>t(Object(Ot.c)())}),r.a.createElement(kt.a,null,r.a.createElement("div",{className:"veo-contents"},r.a.createElement(Ct.a,null))))))}),Rt=n(371),At=n(48),_t=n(71);var Ft=({timeRange:e,onSetTimeRange:t,singleDirection:n,className:o})=>{const[s,l]=Object(a.useState)(!1),c=Object(a.useRef)(null),{timeZone:u}=Object(a.useContext)(_e.a);let d="Select a Time Range";e&&(d=Object(_t.d)(e,u,n));const m=e=>{t(e),l(!1)};return r.a.createElement("div",{ref:c,className:o,"data-testid":"timerange-dropdown"},r.a.createElement(i.Dropdown.Button,{onClick:()=>l(!s)},d),r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.Below,triggerRef:c,visible:s,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(Rt.a,{timeRange:e||Object(_t.b)(At.g),onSetTimeRange:m,onClose:()=>l(!1),position:{position:"relative"},singleDirection:n})}))},Mt=n(136),Lt=n(675),Pt=n(108),Bt=n(367);const $t=Object(a.createContext)(null),zt=()=>{const e=Object(Bt.a)(new Date,1,"h");return Object(Me.a)("YYYY-MM-DD HH:mm:ss").format(e)},Vt=(e={})=>Object.assign({inactivityTimeout:"1",inactivityTimeoutCategory:"Hours",duration:{lower:(new Date).toISOString(),upper:zt(),type:"custom"},refreshMilliseconds:{interval:6e4,status:h.AutoRefreshStatus.Active,label:"60s"},infiniteDuration:!1},e),Ht=(e=Vt(),t)=>{switch(t.type){case"SET_REFRESH_MILLISECONDS":return Object.assign(Object.assign({},e),{refreshMilliseconds:t.refreshMilliseconds});case"SET_DURATION":return Object.assign(Object.assign({},e),{duration:t.duration});case"SET_INACTIVITY_TIMEOUT":return Object.assign(Object.assign({},e),{inactivityTimeout:t.inactivityTimeout});case"SET_INACTIVITY_TIMEOUT_CATEGORY":return Object.assign(Object.assign({},e),{inactivityTimeoutCategory:t.inactivityTimeoutCategory});case"SET_INFINITE_DURATION":return Object.assign(Object.assign({},e),{infiniteDuration:t.infiniteDuration});case"RESET":return Vt();default:return e}};var qt=({children:e})=>{const[t,n]=Object(a.useReducer)(Ht,Vt()),i=Object(o.e)(Pt.a),s=Object(o.d)(),l=Object(a.useCallback)(()=>{if(s(Object(Lt.c)(i,t.refreshMilliseconds.interval,t.refreshMilliseconds.label)),0!==t.refreshMilliseconds.interval){if(s(Object(Lt.d)(i,h.AutoRefreshStatus.Active)),"Never"!==t.inactivityTimeout){const e=((e,t)=>{const n=parseInt(e,10),a=new Date;return Object(Bt.a)(a,n,t[0].toLowerCase()).getTime()-a.getTime()})(t.inactivityTimeout,t.inactivityTimeoutCategory);s(Object(Lt.e)(i,e))}s(Object(Lt.b)(i,t.duration))}else s(Object(Lt.d)(i,h.AutoRefreshStatus.Paused))},[i,s,t.duration,t.inactivityTimeout,t.inactivityTimeoutCategory,t.refreshMilliseconds]);return r.a.createElement($t.Provider,{value:{state:t,dispatch:n,setAutoRefreshSettings:l}},e)};const Ut=["Paused","10s","15s","30s","1m","5m","10m","30m","1h"];var Gt=()=>{var e,t;const{state:n,dispatch:o}=Object(a.useContext)($t);return r.a.createElement(i.ButtonGroup,null,r.a.createElement(Mt.a,{submitInvalid:!1,value:null!==(t=null===(e=n.refreshMilliseconds)||void 0===e?void 0:e.label)&&void 0!==t?t:"Paused",onSubmit:e=>{if("Paused"===e)return o({type:"SET_REFRESH_MILLISECONDS",refreshMilliseconds:{interval:0,status:h.AutoRefreshStatus.Paused,label:"Paused"}}),void Object(he.a)("dashboards.autorefresh.autorefreshinput.intervalchange",{interval:0});const t=e.charAt(e.length-1);let n;if("s"===t?n=1:"m"===t?n=60:"h"===t&&(n=3600),"s"===t||"m"===t||"h"===t){const t=Number(e.slice(0,e.length-1))*n*1e3;o({type:"SET_REFRESH_MILLISECONDS",refreshMilliseconds:{interval:t,status:h.AutoRefreshStatus.Active,label:e}}),Object(he.a)("dashboards.autorefresh.autorefreshinput.intervalchange",{interval:t})}},suggestions:Ut,customClass:"refresh-input",validFunction:e=>"None"===e||!!e.match(/^(([0-9]+)(h|s|m))+$/g),testID:"auto-refresh-input"}))};n(941);const Wt=e=>{let t=0;switch(e){case"Minutes":t=60;break;case"Hours":t=25;break;case"Days":t=30}const n=[...Array(t).keys()].map(e=>e.toString());return n[0]="Never",n},Yt=()=>{const{onClose:e}=Object(a.useContext)(gn),{state:t,dispatch:n,setAutoRefreshSettings:o}=Object(a.useContext)($t),s=()=>{Object(he.a)("dashboards.autorefresh.autorefreshoverlay.cancelcustom"),e()};return r.a.createElement(i.Overlay.Container,{maxWidth:500,testID:"auto-refresh-overlay"},r.a.createElement(i.Overlay.Header,{title:"Configure Auto Refresh",onDismiss:s}),r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Column,{className:"refresh-form-column"},r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Until: "),r.a.createElement(i.InputLabel,{active:t.infiniteDuration,className:"refresh-form-time-label"},"Indefinite"),r.a.createElement(i.SlideToggle,{active:!t.infiniteDuration,onChange:()=>n({type:"SET_INFINITE_DURATION",infiniteDuration:!t.infiniteDuration}),className:"refresh-form-timerange-toggle"}),r.a.createElement(i.InputLabel,{active:!t.infiniteDuration,className:"refresh-form-time-label"},"Custom")),!t.infiniteDuration&&r.a.createElement("div",{className:"refresh-form-container reverse","data-testid":"timerange-popover-button"},r.a.createElement(Ft,{timeRange:t.duration,onSetTimeRange:e=>{n({type:"SET_DURATION",duration:e}),n({type:"SET_INFINITE_DURATION",infiniteDuration:!1})},singleDirection:h.TimeRangeDirection.Upper,className:"timerange-dropdown"})),r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Inactivity Timeout:"," "),r.a.createElement("div",{className:`refresh-form-container-child ${"Never"===t.inactivityTimeout?"inactive":"active"}`},r.a.createElement(i.SelectDropdown,{options:Wt(t.inactivityTimeoutCategory),selectedOption:t.inactivityTimeout,onSelect:e=>n({type:"SET_INACTIVITY_TIMEOUT",inactivityTimeout:e}),buttonColor:i.ComponentColor.Default,testID:"inactivity-timeout-dropdown"}),"Never"!==t.inactivityTimeout&&r.a.createElement(i.SelectDropdown,{className:"refresh-form-timeout-dropdown",options:["Minutes","Hours","Days"],selectedOption:t.inactivityTimeoutCategory,onSelect:e=>n({type:"SET_INACTIVITY_TIMEOUT_CATEGORY",inactivityTimeoutCategory:e}),buttonColor:i.ComponentColor.Default,testID:"inactivity-timeout-category-dropdown"}))),r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Refresh Interval:"," "),r.a.createElement(Gt,null)),r.a.createElement("div",{className:"refresh-form-buttons"},r.a.createElement(i.Button,{onClick:s,text:"Cancel",color:i.ComponentColor.Default,className:"refresh-form-cancel-button",testID:"refresh-form-cancel-button"}),r.a.createElement(i.Button,{onClick:()=>{o(),e(),Object(he.a)("dashboards.autorefresh.autorefreshoverlay.confirmcustom",{customAutoRefreshState:JSON.stringify(t)})},text:"Confirm",color:i.ComponentColor.Primary,className:"refresh-form-activate-button",testID:"refresh-form-activate-button",status:0===t.refreshMilliseconds.interval?i.ComponentStatus.Disabled:i.ComponentStatus.Default})))))};var Kt=()=>r.a.createElement(qt,null,r.a.createElement(Yt,null)),Zt=n(219),Xt=n(16),Qt=n(53),Jt=n(46),en=n(235),tn=n(25);var nn=n(74);var an=()=>{var e,t;const[n,s]=Object(a.useState)([]),l=Object(o.d)(),{id:c}=Object(o.e)(D.a),u=Object(o.e)(e=>e.currentDashboard.id),d=null!==(e=Object(o.e)(e=>e.resources.views.byID))&&void 0!==e?e:{};Object(a.useEffect)(()=>{(async e=>{const t=await Xt.getDashboards({query:{orgID:e,limit:Qt.b}});if(200!==t.status)throw new Error(t.data.message);return t.data.dashboards})(c).then(e=>{s(e.filter(e=>e.id!==u))}).catch(e=>{Object(he.a)("dashboards.cloneCell.getDashboardsFailed",{context:JSON.stringify(e)}),l(Object(y.c)(Object(x.qb)(e)))})},[]);const{onClose:m}=Object(a.useContext)(gn),{view:p,cell:h}=Object(o.e)(ze.a),[f,g]=Object(a.useState)(""),[b,v]=Object(a.useState)(!1),w=async()=>{var e,t;let n;const a=null===(e=Object.values(d))||void 0===e?void 0:e.filter(e=>e.dashboardID===f);if(null==a?void 0:a.length)n=a.map(e=>e.name);else try{n=await(async e=>{var t,n,a;const r=await Xt.getDashboard({dashboardID:e,query:{include:"properties"}});if(!r)return;if(200!==r.status)throw new Error(r.data.message);const o=r.data.cells||[],i=Object(en.h)(o,e),s=Object(tn.a)(i,Jt.g);return(null===(t=s.entities)||void 0===t?void 0:t.views)?null===(a=Object.values(null===(n=s.entities)||void 0===n?void 0:n.views))||void 0===a?void 0:a.map(e=>e.name):[]})(f)}catch(e){return void l(Object(y.c)(Object(x.L)(e.message)))}const r=Object(nn.a)(null!=n?n:[p.name],p.name);await l(Object(Zt.a)(f,Object.assign(Object.assign({},p),{dashboardID:f,name:r}),Object.assign(Object.assign({},h),{dashboardID:f,name:r}),null,null,!0)),l(Object(y.c)(Object(x.K)(f,b?"moved":"copied",null!==(t=h.name)&&void 0!==t?t:null)))},E=null===(t=n.find(e=>e.id===f))||void 0===t?void 0:t.name;return r.a.createElement(i.Overlay.Container,{maxWidth:400},r.a.createElement(i.Overlay.Header,{title:"Move Cell",onDismiss:m}),r.a.createElement(i.Overlay.Body,{className:"dashboard-clonecell--overlayopen"},r.a.createElement(i.Form.Element,{label:"",className:"dashboard-clonecell--dropdownopen"},r.a.createElement(i.Dropdown,{className:"dashboard-clonecell--dropdownopen",button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:"clone-to-other-dashboard"},null!=E?E:"Choose a Destination Dashboard"),menu:e=>r.a.createElement(i.Dropdown.Menu,{onCollapse:e,testID:"copy-dashboard-cell--dropdown-menu"},n.map(e=>{var t;return r.a.createElement(i.Dropdown.Item,{key:e.id,value:e.id,onClick:e=>g(e),selected:e.id===f,testID:`other-dashboard-${e.id}`},null!==(t=e.name)&&void 0!==t?t:"Name this Dashboard")}))})),r.a.createElement(i.Form.Element,{label:"",className:"dashboard-clonecell--removecurrent"},r.a.createElement("span",{className:"dashboard-clonecell--movetype"},"Move type: "),r.a.createElement(i.InputLabel,{active:!b,className:"refresh-form-time-label"},"Copy"),r.a.createElement(i.SlideToggle,{active:b,onChange:()=>v(!b),testID:"clone-cell-type-toggle",className:"dashboard-clonecell--typetoggle"}),r.a.createElement(i.InputLabel,{active:b,className:"refresh-form-time-label"},"Move"))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{onClick:()=>{m()},color:i.ComponentColor.Default,text:"Cancel",testID:"copy-cell-cancel-button"}),r.a.createElement(i.Button,{onClick:()=>{Object(he.a)("relocating cell",{operationType:b?"Move":"Copy"}),w(),b&&l(Object(Zt.c)(u,h.id,p.id)),m()},color:i.ComponentColor.Primary,text:"Confirm",testID:"confirm-clone-cell-button",status:n.length?i.ComponentStatus.Default:i.ComponentStatus.Disabled})))},rn=(n(268),n(620)),on=n(621),sn=n(657);const ln=Object(z.a)();class cn extends a.Component{constructor(){super(...arguments),this.getAccordionBody=(e,t)=>{const{permissions:n,onIndividualToggle:a}=this.props,o=[];if("Telegrafs"===e){for(const[,e]of Object.entries(n[t].sublevelPermissions))o.push(e);return r.a.createElement(ln,{list:o,searchTerm:this.props.searchTerm,searchKeys:["name"]},e=>r.a.createElement(sn.a,{resourceName:t,permissions:e,onToggle:a,title:"Individual Telegraf Configuration Names",disabled:!1}))}if("Buckets"===e){for(const[,e]of Object.entries(n[t].sublevelPermissions))o.push(e);return r.a.createElement(ln,{list:o,searchTerm:this.props.searchTerm,searchKeys:["name"]},e=>r.a.createElement(sn.a,{resourceName:t,permissions:e,onToggle:a,title:"Individual Bucket Names",disabled:!1}))}}}render(){const{resources:e,permissions:t,onToggleAll:n}=this.props;return!e||Object(s.isEmpty)(t)?null:r.a.createElement(r.a.Fragment,null,e[0].map(e=>{const a=e.charAt(0).toUpperCase()+e.slice(1);return r.a.createElement(i.Accordion,{key:e},r.a.createElement(rn.a,{resourceName:a}),r.a.createElement(on.a,{resourceName:a,permissions:t[e],onToggleAll:n,disabled:!1}),t[e].read||t[e].write?null:!Object(s.isEmpty)(t[e].sublevelPermissions)&&this.getAccordionBody(a,e))}),r.a.createElement(i.Accordion,{key:"Other Resources"},r.a.createElement(rn.a,{resourceName:"Other Resources"}),r.a.createElement(on.a,{resourceName:"Other Resources",permissions:t.otherResources,onToggleAll:n,disabled:!1}),t.otherResources.read||t.otherResources.write?null:e[1].map(e=>{const a=e.charAt(0).toUpperCase()+e.slice(1);return r.a.createElement(on.a,{key:e,resourceName:a,permissions:t[e],onToggleAll:n,disabled:!1})})))}}var un=cn,dn=n(150),mn=n(218);const pn={getBuckets:Y.h,getTelegrafs:de.d,onCreateAuthorization:C.a,showOverlay:k.d,dismissOverlay:k.b};var hn=Object(o.c)(e=>{const t=Object(mn.a)(e,[h.ResourceType.Buckets,h.ResourceType.Telegrafs]),n=Object(Z.a)(e,h.ResourceType.Telegrafs),a={read:!1,write:!1,sublevelPermissions:{}};n.forEach(e=>{a.sublevelPermissions[e.id]={id:e.id,orgID:e.orgID,name:e.name,permissions:{read:!1,write:!1}}});const r=Object(Z.a)(e,h.ResourceType.Buckets),o={read:!1,write:!1,sublevelPermissions:{}};return r.forEach(e=>{o.sublevelPermissions[e.id]={id:e.id,orgID:e.orgID,name:e.name,permissions:{read:!1,write:!1}}}),{allResources:e.resources.tokens.allResources,telegrafPermissions:a,bucketPermissions:o,remoteDataState:t,orgID:Object(D.a)(e).id,orgName:Object(D.a)(e).name}},pn)(e=>{const{onClose:t}=Object(a.useContext)(gn),[n,o]=Object(a.useState)(""),[s,l]=Object(a.useState)({}),[c,u]=Object(a.useState)(""),[d,m]=Object(a.useState)(i.ComponentStatus.Disabled);Object(a.useEffect)(()=>{e.getBuckets(),e.getTelegrafs()},[]),Object(a.useEffect)(()=>{const t={otherResources:{read:!1,write:!1}};e.allResources.forEach(n=>{t[n]="telegrafs"===n?e.telegrafPermissions:"buckets"===n?e.bucketPermissions:{read:!1,write:!1}}),l(t)},[e.telegrafPermissions,e.bucketPermissions]);const p=e=>{const t=Object.keys(e).every(t=>!1===e[t].read),n=Object.keys(e).every(t=>!1===e[t].write);t&&n&&m(i.ComponentStatus.Disabled)},h=e=>{let t,n,a,r;Object.keys(s).filter(e=>"buckets"===e||"telegrafs"===e).forEach(o=>{"buckets"===o?(t=Object.keys(e[o].sublevelPermissions).every(t=>!1===e[o].sublevelPermissions[t].permissions.read),a=Object.keys(e[o].sublevelPermissions).every(t=>!1===e[o].sublevelPermissions[t].permissions.write)):(n=Object.keys(e[o].sublevelPermissions).every(t=>!1===e[o].sublevelPermissions[t].permissions.read),r=Object.keys(e[o].sublevelPermissions).every(t=>!1===e[o].sublevelPermissions[t].permissions.write))}),a&&r&&t&&n&&m(i.ComponentStatus.Disabled)};return r.a.createElement(i.Overlay.Container,{maxWidth:800},r.a.createElement(i.Overlay.Header,{title:"Generate a Personal API Token",onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,null,r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new token",value:n,onChange:e=>{o(e.target.value)},testID:"custom-api-token-input"})),r.a.createElement(i.FlexBox.Child,{className:"main-flexbox-child"},r.a.createElement(dn.a,{searchTerm:c,placeholderText:"Filter Access Permissions...",onSearch:e=>{u(e)}}),r.a.createElement(i.FlexBox,{margin:i.ComponentSize.Large,justifyContent:i.JustifyContent.SpaceBetween,direction:i.FlexDirection.Row,stretchToFitWidth:!0,alignItems:i.AlignItems.Center,className:"flex-box-label"},r.a.createElement(i.FlexBox.Child,{basis:40,grow:8},r.a.createElement(i.InputLabel,{size:i.ComponentSize.ExtraSmall},"Resources")),r.a.createElement(i.FlexBox.Child,{grow:1,className:"flexbox-child-label-read"},r.a.createElement(i.InputLabel,{className:"input-label-read",size:i.ComponentSize.ExtraSmall},"Read")),r.a.createElement(i.FlexBox.Child,{grow:1,className:"flexbox-child-label-write"},r.a.createElement(i.InputLabel,{className:"input-label-write",size:i.ComponentSize.ExtraSmall},"Write"))),r.a.createElement(un,{resources:Object(O.f)(e.allResources),permissions:s,onToggleAll:(e,t)=>{m(i.ComponentStatus.Default);const n=Object.assign({},s);let a=e.replaceAll(/\s/g,"");a=a.charAt(0).toLowerCase()+a.slice(1);const r=n[a][t];n[a].sublevelPermissions&&Object.keys(n[a].sublevelPermissions).forEach(e=>{n[a].sublevelPermissions[e].permissions[t]=!r}),"otherResources"===a&&Object.keys(n).forEach(e=>{"buckets"!==e&&"telegrafs"!==e&&"otherResources"!==e&&(n[e][t]=!n[e][t])}),n[a][t]=!r,l(n),p(n)},onIndividualToggle:(e,t,n)=>{m(i.ComponentStatus.Default);const a=s[e].sublevelPermissions[t].permissions[n],r=Object.assign({},s);r[e].sublevelPermissions[t].permissions[n]=!a,l(r),h(r)},searchTerm:c}))))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Primary,shape:i.ButtonShape.Default,onClick:()=>{e.onClose()},testID:"cancel-token-overlay--buton",text:"Cancel"}),r.a.createElement(i.Button,{color:i.ComponentColor.Success,shape:i.ButtonShape.Default,onClick:async()=>{const{onCreateAuthorization:t,orgID:a,showOverlay:r,orgName:o}=e,l=Object(O.d)(s,a,o),c={orgID:a,description:n||Object(O.g)(l),permissions:l};try{await t(c),r("access-token",null,()=>Object(k.b)())}catch(e){throw m(i.ComponentStatus.Disabled),e}},status:d,testID:"generate-token-overlay--buton",text:"Generate"})))});var fn=Object(o.c)(e=>({auth:e.resources.tokens.currentAuth.item}),null)(e=>{const{onClose:t}=Object(a.useContext)(gn);return r.a.createElement(i.Overlay.Container,{maxWidth:750},r.a.createElement(i.Overlay.Header,{title:"You've Successfully cloned an API Token",onDismiss:t,wrapText:!0}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.FlexBox,{direction:i.FlexDirection.Column,margin:i.ComponentSize.Large,alignItems:i.AlignItems.Stretch},r.a.createElement(i.Alert,{icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Primary},"Make sure to copy your new personal API token now. You won't be able to see it again!"),r.a.createElement(be.c,{text:e.auth.token,type:"Token"}))))});const gn=Object(a.createContext)({onClose:()=>{},visibility:!1,overlayID:""}),bn=()=>{const e=Object(a.useRef)(r.a.createElement(r.a.Fragment,null)),{onClose:t,overlayID:n}=Object(a.useContext)(gn);return Object(a.useMemo)(()=>{switch(n){case"add-note":case"edit-note":e.current=r.a.createElement(S,{onClose:t});break;case"add-master-token":e.current=r.a.createElement(j,{onClose:t});break;case"add-custom-token":e.current=r.a.createElement(hn,{onClose:t});break;case"access-token":e.current=r.a.createElement(fn,null);break;case"add-token":e.current=r.a.createElement(se,{onClose:t});break;case"telegraf-config":e.current=r.a.createElement(fe,null);break;case"telegraf-output":e.current=r.a.createElement(Ee,{onClose:t});break;case"switch-organizations":e.current=r.a.createElement(Ce,{onClose:t});break;case"create-bucket":e.current=r.a.createElement(Oe,null);break;case"asset-limit":e.current=r.a.createElement(Te,{onClose:t});break;case"rate-limit":e.current=r.a.createElement(Ie,{onClose:t});break;case"write-limit":e.current=r.a.createElement(Ne,null);break;case"add-annotation":e.current=r.a.createElement(He,null);break;case"edit-annotation":e.current=r.a.createElement(Ke,null);break;case"bucket-schema-show":e.current=r.a.createElement(We,null);break;case"check-threshold":e.current=r.a.createElement(It,null);break;case"deadman-check":e.current=r.a.createElement(Nt,null);break;case"create-variable":e.current=r.a.createElement(Qe,null);break;case"import-variable":e.current=r.a.createElement(pt,null);break;case"rename-variable":e.current=r.a.createElement(st,null);break;case"update-variable":e.current=r.a.createElement(yt,null);break;case"export-variable":e.current=r.a.createElement(Et,null);break;case"toggle-auto-refresh":e.current=r.a.createElement(Kt,null);break;case"cell-copy-overlay":e.current=r.a.createElement(an,null);break;default:e.current=null}return e.current},[t,n]),r.a.createElement(i.Overlay,{visible:!!n,onEscape:t},e.current)},vn=e=>{const{overlayID:t,onClose:n}=Object(o.e)(e=>({overlayID:e.overlays.id,onClose:e.overlays.onClose})),i=Object(o.d)(),{children:s}=e,l=Object(a.useCallback)(()=>{i(Object(k.b)()),n&&"function"==typeof n&&n()},[n,i]);return r.a.createElement(gn.Provider,{value:{onClose:l,visibility:!!t,overlayID:t}},s)}},1030:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(20),i=n(4),s=n(3),l=n(152),c=n(75),u=n(35),d=n(9),m=n(6);const p=(e,t)=>{const n=t.split("/").slice(3);return n.length||n.push(m.v),e.some(e=>n.includes(e))},h={handleShowOverlay:u.d,handleDismissOverlay:u.b};var f=Object(i.c)(e=>({org:Object(d.a)(e),me:e.me}),h)(({org:e,me:t,handleShowOverlay:n,handleDismissOverlay:a})=>{if(!e)return null;const i=`/orgs/${e.id}`;return r.a.createElement(s.TreeNav.User,{username:t.name,team:e.name,testID:"user-nav"},r.a.createElement(c.a,null,r.a.createElement(s.TreeNav.UserItem,{id:"usage",label:"Usage",testID:"user-nav-item-usage",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/usage`})}),r.a.createElement(s.TreeNav.UserItem,{id:"billing",label:"Billing",testID:"user-nav-item-billing",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/billing`})}),r.a.createElement(s.TreeNav.UserItem,{id:"users",label:"Users",testID:"user-nav-item-users",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/users`})}),r.a.createElement(s.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/about`})})),r.a.createElement(l.a,null,r.a.createElement(s.TreeNav.UserItem,{id:"members",label:"Members",testID:"user-nav-item-members",active:p(["members"],location.pathname),linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/members`})}),r.a.createElement(s.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",active:p(["about"],location.pathname),linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/about`})}),r.a.createElement(s.TreeNav.UserItem,{id:"switch-orgs",label:"Switch Organizations",testID:"user-nav-item-switch-orgs",onClick:()=>{n("switch-organizations",{},a)}}),r.a.createElement(s.TreeNav.UserItem,{id:"create-org",label:"Create Organization",testID:"user-nav-item-create-orgs",linkElement:e=>r.a.createElement(o.a,{className:e,to:"/orgs/new"})})),r.a.createElement(s.TreeNav.UserItem,{id:"logout",label:"Logout",testID:"user-nav-item-logout",linkElement:e=>r.a.createElement(o.a,{className:e,to:"/logout"})}))});var g=({link:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(s.TreeNav.Header,{id:"getting-started",icon:r.a.createElement(s.Icon,{glyph:s.IconFont.CuboNav}),label:r.a.createElement(s.InfluxDBCloudLogo,{cloud:!1}),color:s.ComponentColor.Secondary,linkElement:t=>r.a.createElement(o.a,{className:t,to:e})})),r.a.createElement(c.a,null,r.a.createElement(s.TreeNav.Header,{id:"getting-started",icon:r.a.createElement(s.Icon,{glyph:s.IconFont.CuboNav}),label:r.a.createElement(s.InfluxDBCloudLogo,{cloud:!0}),color:s.ComponentColor.Primary,linkElement:t=>r.a.createElement(o.a,{className:t,to:e})}))),b=n(30);var v=()=>{const e=Object(i.e)(b.c);return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(c.a,null,r.a.createElement(s.Panel,{gradient:s.Gradients.HotelBreakfast,className:"cloud-upgrade-banner"},r.a.createElement(s.Panel.Header,{size:s.ComponentSize.ExtraSmall,justifyContent:s.JustifyContent.Center},r.a.createElement(s.Heading,{element:s.HeadingElement.H5},"Need more wiggle room?")),r.a.createElement(s.Panel.Footer,{size:s.ComponentSize.ExtraSmall},r.a.createElement(o.a,{className:"cf-button cf-button-md cf-button-primary cf-button-stretch cloud-upgrade-banner--button upgrade-payg--button__nav",to:"/checkout"},"Upgrade Now"))),r.a.createElement(o.a,{className:"cloud-upgrade-banner__collapsed",to:"/checkout"},r.a.createElement(s.Icon,{glyph:s.IconFont.CrownSolid}),r.a.createElement(s.Heading,{element:s.HeadingElement.H5},"Upgrade Now"))))},y=n(8);var x=({children:e})=>{var t,n;const r=Object(i.e)(b.b),o=null!==(t=null==r?void 0:r.isRegionBeta)&&void 0!==t&&t,s=null!==(n=null==r?void 0:r.accountType)&&void 0!==n?n:"free";return Object(a.useEffect)(()=>{m.f&&Object(y.e)({"org (hide_upgrade_cta)":`${"free"===s&&!o}`,"org (account_type)":s})},[s,o]),e},w=n(42),E=n(23),S=n(132);var C=n(27);t.a=()=>{const e=Object(i.e)(d.a),{presentationMode:t,navbarMode:n,setNavbarMode:l}=Object(a.useContext)(C.a);if(t||!e)return null;return r.a.createElement(x,null,r.a.createElement(s.TreeNav,{expanded:"expanded"===n,headerElement:r.a.createElement(g,{link:`/orgs/${e.id}`}),userElement:r.a.createElement(f,null),onToggleClick:()=>{l("expanded"===n?"collapsed":"expanded")},bannerElement:r.a.createElement(v,null)},(()=>{var e,t,n,a,r,o;const i=Object(S.a)().getState(),l=null!==(a=null===(n=null===(t=null===(e=null==i?void 0:i.resources)||void 0===e?void 0:e.orgs)||void 0===t?void 0:t.org)||void 0===n?void 0:n.id)&&void 0!==a?a:"",c=null!==(o=null===(r=null==i?void 0:i.me)||void 0===r?void 0:r.quartzMe)&&void 0!==o?o:null,u=`/orgs/${l}`;let d=[{id:"load-data",testID:"nav-item-load-data",icon:s.IconFont.DisksNav,label:"Load Data",shortLabel:"Data",link:`${u}/load-data/sources`,activeKeywords:["load-data"],menu:[{id:"sources",testID:"nav-subitem-sources",label:"Sources",link:`${u}/load-data/sources`},{id:"buckets",testID:"nav-subitem-buckets",label:"Buckets",link:`${u}/load-data/buckets`},{id:"telegrafs",testID:"nav-subitem-telegrafs",label:"Telegraf",link:`${u}/load-data/telegrafs`},{id:"scrapers",testID:"nav-subitem-scrapers",label:"Scrapers",link:`${u}/load-data/scrapers`,enabled:()=>!m.f},{id:"tokens",testID:"nav-subitem-tokens",label:"API Tokens",link:`${u}/load-data/tokens`}]},{id:"data-explorer",testID:"nav-item-data-explorer",icon:s.IconFont.GraphLine,label:"Data Explorer",shortLabel:"Explore",link:`${u}/data-explorer`,activeKeywords:["data-explorer"],enabled:()=>!Object(E.c)("leadWithFlows")},{id:"notebook-explorer",testID:"nav-item-data-explorer",icon:s.IconFont.GraphLine,label:"Data Explorer",shortLabel:"Explore",link:"/notebook/from/default",activeKeywords:["data-explorer"],enabled:()=>Object(E.c)("leadWithFlows")},{id:"flows",testID:"nav-item-flows",icon:s.IconFont.BookPencil,label:w.e,shortLabel:w.f,link:`${u}/${w.e.toLowerCase()}`,activeKeywords:[w.e.toLowerCase()]},{id:"dashboards",testID:"nav-item-dashboards",icon:s.IconFont.Dashboards,label:"Dashboards",shortLabel:"Boards",link:`${u}/dashboards-list`,activeKeywords:["dashboards","dashboards-list"]},{id:"tasks",testID:"nav-item-tasks",icon:s.IconFont.Calendar,label:"Tasks",link:`${u}/tasks`,activeKeywords:["tasks"]},{id:"alerting",testID:"nav-item-alerting",icon:s.IconFont.Bell,label:"Alerts",link:`${u}/alerting`,activeKeywords:["alerting"],menu:[{id:"history",testID:"nav-subitem-history",label:"Alert History",link:`${u}/alert-history`}]},{id:"settings",testID:"nav-item-settings",icon:s.IconFont.WrenchNav,label:"Settings",link:`${u}/settings/variables`,activeKeywords:["settings"],menu:[{id:"variables",testID:"nav-subitem-variables",label:"Variables",link:`${u}/settings/variables`},{id:"templates",testID:"nav-subitem-templates",label:"Templates",link:`${u}/settings/templates`},{id:"labels",testID:"nav-subitem-labels",label:"Labels",link:`${u}/settings/labels`},{id:"secrets",testID:"nav-subitem-secrets",label:"Secrets",link:`${u}/settings/secrets`}]},{id:"operator",enabled:()=>m.f&&!0===(null==c?void 0:c.isOperator)&&Object(E.c)("uiUnificationFlag"),testID:"nav-item--operator",icon:s.IconFont.Shield,label:"Operator",shortLabel:"Operator",link:"/operator",activeKeywords:["operator"]}];return d=d.filter(e=>((null==e?void 0:e.menu)&&(e.menu=e.menu.filter(e=>!(null==e?void 0:e.enabled)||e.enabled())),!(null==e?void 0:e.enabled)||e.enabled())),d})().map(e=>r.a.createElement(s.TreeNav.Item,{key:e.id,id:e.id,testID:e.testID,icon:r.a.createElement(s.Icon,{glyph:e.icon}),label:e.label,shortLabel:e.shortLabel,active:p(e.activeKeywords,location.pathname),linkElement:t=>r.a.createElement(o.a,{to:e.link,className:t})},Boolean(e.menu)&&r.a.createElement(s.TreeNav.SubMenu,null,e.menu.map(e=>r.a.createElement(s.TreeNav.SubItem,{key:e.id,id:e.id,testID:e.testID,active:p([e.id],location.pathname),label:e.label,linkElement:t=>r.a.createElement(o.a,{to:e.link,className:t})})))))))}},1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n.n(a),o=n(155),i=n(8);var s,l=Object(a.memo)(({hit:e,children:t})=>{const n=Object(o.g)(),a=document.getElementById("docsearch-input");return r.a.createElement("a",{href:e.url,rel:"noreferrer",target:"_blank",onClick:e=>{var t,r,o,s;Object(i.a)("clicked search result",{resultURL:null===(s=null===(o=null===(r=null===(t=e.target)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.parentElement)||void 0===o?void 0:o.parentElement)||void 0===s?void 0:s.href,fromPage:n.pathname,query:a.value},{})}},t)},(e,t)=>e.url===t.url),c=n(6),u=n(2487);!function(e){e.Widget="widget",e.Global="global"}(s||(s={}));t.b=Object(a.memo)(({type:e})=>{const t=Object(o.g)(),n=()=>{const n=t.pathname.split("/");Object(i.a)("Search Bar Activation",{type:e,path:e===s.Widget?"/":n[n.length-1]})};Object(a.useEffect)(()=>{const e=document.getElementById("docsearch-input");return e.addEventListener("click",n),()=>{e&&e.removeEventListener("click",n)}},[]);const d=Object(a.useMemo)(()=>({facetFilters:[["searchTag: influxdb-cloud","flux:true"]]}),[]);return r.a.createElement(u.a,{apiKey:c.t,indexName:"influxdata",appId:c.u,placeholder:"Search our docs: ",initialScrollY:0,searchParameters:d,hitComponent:l})})},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>{const t=Object(a.useRef)(!0),[n,r]=Object(a.useState)(e);return Object(a.useEffect)(()=>{t.current?t.current=!1:r(e)},[e]),[n,r]}},105:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));const a=e=>e.startsWith("_"),r=475,o=1,i="create-a-bucket",s={id:i,name:"+ Create A Bucket"}},110:function(e,t,n){"use strict";n.d(t,"h",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return k})),n.d(t,"e",(function(){return O})),n.d(t,"a",(function(){return D})),n.d(t,"f",(function(){return T})),n.d(t,"b",(function(){return I}));var a=n(25),r=n(16),o=n(46),i=n(5),s=n(211),l=n(39),c=n(9),u=n(13),d=n(6),m=n(23),p=n(185),h=n(11),f=n(40),g=n(12);let b=null,v=null,y=null;d.f&&(b=n(41).getBucketsSchemaMeasurements,v=n(41).MeasurementSchemaCreateRequest,y=n(41).postBucketsSchemaMeasurement);const x=()=>async(e,t)=>{try{const n=t();Object(u.h)(n,i.ResourceType.Buckets)===i.RemoteDataState.NotStarted&&e(Object(p.h)(i.RemoteDataState.Loading));const a=Object(c.a)(n);let r;r=Object(m.c)("fetchAllBuckets")?await Object(s.a)(a.id,-1):await Object(s.a)(a.id),e(Object(p.h)(i.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(p.h)(i.RemoteDataState.Error)),e(Object(h.c)(Object(g.Ob)()))}},w=e=>async(t,n)=>{try{const i=Object(c.a)(n()),s=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:i.id})});if(201!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);t(Object(p.e)(l)),t(Object(f.b)())}catch(e){console.error(e);const n=Object(l.b)(e);t(Object(h.c)(Object(g.C)(n)))}},E=(e,t,n)=>async(i,s)=>{try{const l=Object(c.a)(s()),u=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:l.id})});if(201!==u.status)throw new Error(u.data.message);const d=Object(a.a)(u.data,o.i);i(Object(p.e)(d)),i(Object(f.b)()),n&&n.length&&n.forEach(e=>{j(u.data.id,e,l.id,u.data.name,i)}),t(d.entities.buckets[u.data.id])}catch(e){console.error(e);const t=Object(l.b)(e);i(Object(h.c)(Object(g.C)(t)))}},S=e=>async()=>{try{const t=await b({bucketID:e});if(200!==t.status)throw new Error(t.data.message);return t.data}catch(e){return console.error("error while retrieving schemas",e),null}},C=e=>async(t,n)=>{try{const i=n(),s=N(i,e),l=await r.patchBucket({bucketID:e.id,data:s});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,o.i);t(Object(p.f)(c)),t(Object(h.c)(Object(g.I)(e.name)))}catch(e){console.error(e);const n=Object(l.b)(e);t(Object(h.c)(Object(g.H)(n)))}},k=(e,t)=>async(n,i)=>{try{const e=i(),s=N(e,t),l=await r.patchBucket({bucketID:t.id,data:s});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,o.i);n(Object(p.f)(c)),n(Object(h.c)(Object(g.G)(t.name)))}catch(t){console.error(t),n(Object(h.c)(Object(g.F)(e)))}},O=(e,t)=>async n=>{try{const t=await r.deleteBucket({bucketID:e});if(204!==t.status)throw new Error(t.data.message);n(Object(p.g)(e)),n(Object(f.b)())}catch(e){console.error(e),n(Object(h.c)(Object(g.E)(t)))}},D=(e,t)=>async n=>{try{const i=await r.postBucketsLabel({bucketID:e,data:{labelID:t.id}});if(201!==i.status)throw new Error(i.data.message);const s=await r.getBucket({bucketID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(g.o)()))}},T=(e,t)=>async n=>{try{const i=await r.deleteBucketsLabel({bucketID:e,labelID:t.id});if(204!==i.status)throw new Error(i.data.message);const s=await r.getBucket({bucketID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(g.Vc)()))}};async function j(e,t,n,a,r){var o;const i={bucketID:e,data:t,query:{orgID:n}};try{const e=await y(i);if(201!==e.status){const t=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.message;throw console.error("error adding measurement schema:",e),new Error(t)}r(Object(h.c)(Object(g.vc)(a,t.name)))}catch(e){console.error(e);const n=Object(l.b)(e);r(Object(h.c)(Object(g.uc)(a,t.name,n)))}}const I=(e,t,n,a)=>r=>{j(e,a,t,n,r)},N=(e,t)=>{const n=Object(u.g)(e,t.labels);return Object.assign(Object.assign({},t),{labels:n})}},111:function(e,t,n){"use strict";n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"m",(function(){return D})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return I})),n.d(t,"c",(function(){return N})),n.d(t,"n",(function(){return R})),n.d(t,"j",(function(){return A})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return F})),n.d(t,"a",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"l",(function(){return P}));var a=n(214),r=n(8),o=n(12),i=n(25),s=n(7),l=n(137),c=n(16),u=n(5),d=n(55),m=n(9),p=n(13),h=n(108),f=n(26),g=n(37),b=n(176),v=n(185),y=n(11),x=n(53),w=n(28),E=n(46);const S=e=>t=>{a.a.cancelFindValues(e),a.a.cancelFindKeys(e),t(Object(b.b)(e)),t(k(e))},C=e=>async(t,n)=>{const o=Date.now(),i=n(),{buckets:l,tags:c}=Object(f.c)(i).builderConfig,d=c.slice(0,e);if(!l[0])return;const g=l[0],v=Object(p.a)(i,u.ResourceType.Buckets).find(e=>e.name===g),y=Object(s.get)(v,"orgID",Object(m.a)(n()).id);t(Object(b.n)(e,u.RemoteDataState.Loading));try{const s=Object(h.c)(i),l=Object(f.c)(n()).builderConfig.tags[e].key,u=Object(f.d)(n()).queryBuilder.tags[e].valuesSearchTerm,m=await a.a.findValues(e,{url:"/api/v2/query",orgID:y,bucket:g,tagsSelections:d,key:l,searchTerm:u,timeRange:s}),{values:p}=c[e];for(const e of p)m.includes(e)||m.unshift(e);t(Object(b.l)(e,m)),t(k(e+1)),Object(r.a)("loadTagSelectorValues function",{time:o},{duration:Date.now()-o})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(b.n)(e,u.RemoteDataState.Error))}},k=e=>async(t,n)=>{const o=Date.now(),{buckets:i,tags:l}=Object(f.c)(n()).builderConfig;if(!l[e]||!i[0])return;t(Object(b.k)(e,u.RemoteDataState.Loading));const c=n(),d=l.slice(0,e),g=i[0],v=Object(p.a)(n(),u.ResourceType.Buckets).find(e=>e.name===g),y=Object(s.get)(v,"orgID",Object(m.a)(n()).id);try{const n=Object(h.c)(c),i=Object(f.d)(c).queryBuilder.tags[e].keysSearchTerm,s=await a.a.findKeys(e,{url:"/api/v2/query",orgID:y,bucket:g,tagsSelections:d,searchTerm:i,timeRange:n}),{key:u}=l[e];if(u)s.includes(u)||s.unshift(u);else{let n;n=0===e&&s.includes("_measurement")?"_measurement":s[0],t(Object(b.i)(e,n))}t(Object(b.j)(e,s)),t(C(e)),Object(r.a)("loadTagSelector function",{time:o},{duration:Date.now()-o})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(b.k)(e,u.RemoteDataState.Error))}},O=()=>async(e,t)=>{Object(p.h)(t(),u.ResourceType.Buckets)===u.RemoteDataState.NotStarted&&e(Object(v.h)(u.RemoteDataState.Loading));const n=Date.now(),a=Object(m.a)(t()).id;e(Object(b.h)(u.RemoteDataState.Loading));try{const o=await c.getBuckets({query:{orgID:a,limit:x.c}});if(200!==o.status)throw new Error(o.data.message);const s=await Object(l.b)(),d=Object(i.a)([...o.data.buckets,...s],E.a);e(Object(v.h)(u.RemoteDataState.Done,d));const m=[...o.data.buckets,...s].map(e=>e.name),p=m.filter(e=>e.startsWith("_")),h=[...m.filter(e=>!e.startsWith("_")),...p],g=Object(f.c)(t()).builderConfig.buckets[0];e(Object(b.g)(h)),g&&h.includes(g)?e(j(g)):e(j(h[0],!0)),Object(r.a)("loadBuckets function",{time:n},{duration:Date.now()-n})}catch(t){if("CancellationError"===t.name)return;console.error(t),e(Object(b.h)(u.RemoteDataState.Error))}},D=e=>(t,n)=>{if("custom"===e){const e=Object(f.n)(n());t(Object(b.d)(e))}"auto"===e&&t(Object(b.d)(w.a))},T=e=>t=>{t(Object(b.d)(e)),t(Object(d.i)(e))},j=(e,t=!1)=>n=>{n(Object(b.f)(e,t)),n(k(0))},I=(e,t)=>(n,a)=>{const r=a(),{timeMachines:{activeTimeMachineID:o}}=r,i=Object(f.c)(r).builderConfig.tags,s=i[e],l=s.values;let c;c=l.includes(t)?l.filter(e=>e!==t):"alerting"===o&&"_field"===s.key?[t]:[...l,t],n(Object(b.m)(e,c)),"group"!==s.aggregateFunctionType&&(e===i.length-1&&c.length?n(M()):n(k(e+1)))},N=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(f.d)(n()),i=a[r].builderConfig.functions,s=i.map(e=>e.name);s.includes(e)?i.length>1?t(Object(b.p)(s.filter(t=>t!=e))):t(Object(y.c)(Object(o.Rc)())):t(Object(b.p)([...s,e]))},R=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(f.d)(n()),o=a[r].builderConfig.functions,i=o.map(e=>e.name);i.includes(e)?o.length>1&&t(Object(b.p)(i.filter(t=>t!=e))):t(Object(b.p)([e]))},A=(e,t)=>n=>{n(Object(b.i)(e,t)),n(C(e))},_=e=>t=>{t(C(e))},F=e=>t=>{t(k(e))},M=()=>(e,t)=>{e(Object(b.a)());const n=Object(f.c)(t()).builderConfig.tags.length-1;e(k(n))},L=()=>e=>{e(Object(b.o)(u.RemoteDataState.Loading)),e(k(0))},P=e=>(t,n)=>{Object(p.a)(n(),u.ResourceType.Buckets).find(t=>t.name===e)&&(t(Object(g.d)()),t(Object(b.f)(e,!0)))}},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(369),i=n.n(o),s=n(6);const l=()=>s.A,c=({src:e,alt:t})=>r.a.createElement("div",null,r.a.createElement("img",{src:e,alt:t})),u=({className:e="",text:t})=>s.f?r.a.createElement(i.a,{className:e,components:{img:l}},t):r.a.createElement(i.a,{className:e,components:{img:c}},t)},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return S}));var a=n(2),r=n.n(a),o=n(4),i=n(60),s=n(79),l=n(9),c=n(110),u=n(221),d=n(13),m=n(22),p=n(588),h=n(48),f=n(291),g=n(162),b=n(5);const v={basic:(e,t)=>{},query:(e,t)=>Promise.resolve({}),cancel:e=>{}},y=r.a.createContext(v),x=(e,t,n=[])=>e?(t(e)&&n.push(e),Object.values(e).forEach(e=>{Array.isArray(e)?e.forEach(e=>{x(e,t,n)}):"object"==typeof e&&x(e,t,n)}),n):n,w=(e,t,n=[])=>e?(Object.entries(e).forEach(([a,r])=>{if(Array.isArray(r)){let e=0;for(;e<r.length;)t(r[e])?(n.push(r[e]),r.splice(e,1)):(w(r[e],t,n),e++)}else"object"==typeof r&&(r&&t(r)?delete e[a]:w(r,t,n))}),n):n,E=(e,t={},n={})=>x(e,e=>{var t;return"MemberExpression"===(null==e?void 0:e.type)&&"v"===(null===(t=null==e?void 0:e.object)||void 0===t?void 0:t.name)}).map(e=>e.property.name).reduce((e,n)=>e.hasOwnProperty(n)?e:t[n]?(e[n]=t[n],"query"===e[n].arguments.type&&E(Object(s.parse)(e[n].arguments.values.query),t,e),e):(e[n]=null,e),n),S=(e,t={})=>{try{const n=Object(s.parse)(e),a=E(n,t),r=Object.values(a).reduce((e,t)=>{var n;let a;if(!t)return e;if(t.id===g.e)return e[t.id]=((null===(n=t.arguments)||void 0===n?void 0:n.values)||[1e4])[0]+"ms",e;if(t.id===g.c||t.id===g.d){const n=t.arguments.values[0];return isNaN(Date.parse(n))?"string"==typeof n?(n&&(e[t.id]=n),e):(a="-"+n[0].magnitude+n[0].unit,"-"!==a&&(e[t.id]=a),e):(e[t.id]=new Date(n).toISOString(),e)}if("map"===t.arguments.type)return a=t.arguments.values[t.selected?t.selected[0]:Object.keys(t.arguments.values)[0]],a&&(e[t.id]=a),e;if("constant"===t.arguments.type)return a=t.selected?t.selected[0]:t.arguments.values[0],a&&(e[t.id]=a),e;if("query"===t.arguments.type){if(!t.selected||!t.selected[0])return;return e[t.id]=t.selected[0],e}return e},{}),o=w(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),i=Object.keys(a).reduce((e,t)=>(r.hasOwnProperty(t)&&(e[t]=r[t]),o.hasOwnProperty(t)&&(e[t]=o[t]),e),{}),l=Object.entries(i).map(([e,t])=>`${e}: ${t}`).join(",\n"),c=Object(s.parse)(`option v = {\n${l}\n}\n`);l.length&&n.body.unshift(c.body[0]);const u=w(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reverse().reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});if(Object.keys(u).length){const e=Object.entries(u).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(s.parse)(`option task = {\n${e}\n}\n`);n.body.unshift(t.body[0])}return a.hasOwnProperty("windowPeriod")&&((e,t)=>{const n=x(e,e=>{var t,n;return"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"range"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)}).map(t=>{var n;return((null===(n=t.arguments[0])||void 0===n?void 0:n.properties)||[]).reduce((t,n)=>("start"===n.key.name&&(t.start=Object(p.b)(e,n.value,Date.now())),"stop"===n.key.name&&(t.stop=Object(p.b)(e,n.value,Date.now())),t),{start:"",stop:Date.now()})});if(!n.length)return void t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:15e3,unit:"ms"}]}});const a=n.map(e=>e.start),r=n.map(e=>e.stop),o=a.map(e=>r.map(t=>[e,t])),i=[].concat(...o).map(([e,t])=>t-e).filter(e=>e>0),s=Math.min(...i),l=h.d.find(e=>1e3*e.seconds===s);l?t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:l.windowPeriod,unit:"ms"}]}}):t.body[0].assignment.init.properties.push({type:"Property",key:{type:"Identifier",name:"windowPeriod"},value:{type:"DurationLiteral",values:[{magnitude:Math.round(s/360),unit:"ms"}]}})})(n,c),Object(s.format_from_js_file)(n)}catch(e){return""}};t.b=({children:e})=>{const t=Object(o.e)(e=>Object(u.b)(e)),n=Object(o.e)(e=>Object(d.h)(e,b.ResourceType.Buckets)),[p,h]=Object(a.useState)({}),g=Object(o.e)(l.a),v=Object(o.d)();Object(a.useEffect)(()=>{n===b.RemoteDataState.NotStarted&&v(Object(c.h)())},[n,v]),Object(a.useEffect)(()=>()=>{Object.values(p).forEach(e=>e())},[]);const w=(e,n)=>{const a=S(e,(null==n?void 0:n.vars)||{}),r=(null==n?void 0:n.org)||(e=>{var n;const a=x(e,e=>{var t,n,a,r,o;return"CallExpression"===(null==e?void 0:e.type)&&"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"from"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)&&"bucket"===(null===(o=null===(r=null===(a=null==e?void 0:e.arguments[0])||void 0===a?void 0:a.properties[0])||void 0===r?void 0:r.key)||void 0===o?void 0:o.name)}).map(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.arguments[0])||void 0===t?void 0:t.properties[0])||void 0===n?void 0:n.value.value});return(null===(n=t.find(e=>a.includes(e.name)))||void 0===n?void 0:n.orgID)||g.id})(Object(s.parse)(a)),o=`${(null==n?void 0:n.region)||window.location.origin}/api/v2/query?${new URLSearchParams({orgID:r})}`,l={"Content-Type":"application/json","Accept-Encoding":"gzip"};(null==n?void 0:n.token)&&(l.Authorization=`Token ${n.token}`);const c={query:a,dialect:{annotations:["group","datatype","default"]}},u=new AbortController,d=Object(i.v4)(),m=fetch(o,{method:"POST",headers:l,body:JSON.stringify(c),signal:u.signal}).then(e=>{if(200===e.status)return e.text().then(e=>(p[d]&&(delete p[d],h(Object.assign({},p))),{type:"SUCCESS",csv:e,bytesRead:e.length,didTruncate:!1}));if(e.status===f.d){const t=e.headers.get("Retry-After");return Promise.resolve({type:"RATE_LIMIT_ERROR",retryAfter:t?parseInt(t):null,message:f.e})}return e.text().then(e=>{try{const t=JSON.parse(e);return{type:"UNKNOWN_ERROR",message:t.message||t.error,code:t.code}}catch(e){return{type:"UNKNOWN_ERROR",message:"Failed to execute Flux query"}}})}).catch(e=>"AbortError"===e.name?Promise.reject(new b.CancellationError):Promise.reject(e));return p[d]=()=>{u.abort()},h(Object.assign({},p)),{id:d,promise:m,cancel:()=>{E(d)}}},E=e=>{if(!e)return Object.values(p).forEach(e=>e()),void h({});p.hasOwnProperty(e)&&(p[e](),delete p[e],h(p))};return n!==b.RemoteDataState.Done?null:r.a.createElement(y.Provider,{value:{query:(e,t)=>w(e,t).promise.then(e=>{if("SUCCESS"!==e.type)throw new Error(e.message);return e}).then(t=>new Promise((n,a)=>{requestAnimationFrame(()=>{try{const a=Object(m.fromFlux)(t.csv);n({source:e,parsed:a,error:null})}catch(e){a(e)}})})),cancel:E,basic:w}},e)}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),r=n(393),o=n.n(r),i=n(36);const s=e=>{const[t,n,a]=o()(e).rgb();return(t+n+a)/3>128?"#292933":"#ffffff"},l=(e,t)=>{const n=Object(a.sortBy)(e,e=>Number(e.value));return t<0?n[0]:n.filter(e=>t>=e.value).pop()},c=({colors:e,lastValue:t,cellType:n="line"})=>{const a={bgColor:null,textColor:"table"===n?"#BEC2CC":i.l[11].hex},r=Number(t)||0;if(!e||!e.length)return a;const o=e.find(e=>e.id===i.a)||{hex:a.textColor};if(!t&&0!==t)return Object.assign(Object.assign({},a),{textColor:o.hex});if("line-plus-single-stat"===n)return o?{bgColor:null,textColor:o.hex}:a;const c=!!e.find(e=>e.type===i.n);if(c&&1===e.length&&o)return{bgColor:null,textColor:o.hex};if(c&&1===e.length)return a;if(c&&e.length>1){return{bgColor:null,textColor:l(e,r).hex}}if(1===e.length)return{bgColor:o.hex,textColor:s(o.hex)};if(e.length>1){const t=l(e,r),n=t?t.hex:o.hex;return{bgColor:n,textColor:s(n)}}return{bgColor:null,textColor:o.hex}}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(138),l=n(12),c=n(11);const u=Object(a.createContext)({variables:{},update:e=>{},transform:e=>e}),d=(e,t)=>new Function("vars","var output="+JSON.stringify(e).replace(/<%=(.+?)%>/g,'"+(vars["$1".trim()])+"')+";return output;")(t),m=({variables:e,children:t})=>{const[n,o]=Object(a.useState)(e||{});return Object(a.useEffect)(()=>{e&&o(e)},[e]),r.a.createElement(u.Provider,{value:{variables:n,update:o,transform:e=>d(e,n)}},t)};t.c=({text:e,label:t,testID:n,type:d,onCopy:m})=>{const{transform:p}=Object(a.useContext)(u),h=Object(o.d)(),f=p(e);return r.a.createElement("div",{className:"code-snippet","data-testid":n||"code-snippet"},r.a.createElement(i.DapperScrollbars,{autoHide:!1,autoSizeHeight:!0,className:"code-snippet--scroll"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,r.a.createElement("code",null,f)))),r.a.createElement("div",{className:"code-snippet--footer"},r.a.createElement(s.a,{text:f,onCopy:()=>{"function"==typeof m&&m(),h(Object(c.c)(Object(l.X)(`${f.slice(0,30).trimRight()}...`,null!=d?d:"Script")))}}),t&&r.a.createElement("label",{className:"code-snippet--label"},t)))}},122:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(34),i=n(3),s=n(169),l=n(19),c=n(8);n(252);const u="visualization.customize.staticlegend";t.a=({properties:e,update:t})=>{const{staticLegend:n={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{valueAxis:d}=n,{colorizeRows:m=!1,heightRatio:p=l.v,opacity:h=l.h,orientationThreshold:f=l.l,show:g}=n,[b,v]=Object(a.useState)(g),y=a=>{v(a===l.o.SHOW),t({staticLegend:Object.assign(Object.assign({},n),{show:a===l.o.SHOW})}),Object(c.a)(`${u}.${a}`,{type:e.type})},x=e=>{t({staticLegend:Object.assign(Object.assign({},n),{valueAxis:e})})};return r.a.createElement(i.Form.Element,{label:"Display Static Legend",className:"static-legend-options",testID:"static-legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"static-legend-hide",id:"radio_static_legend_hide",titleText:"Hide",active:!b,onClick:y,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"static-legend-show",id:"radio_static_legend_show",titleText:"Show",active:b,onClick:y,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"static-legend-options--show"},r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:f,parentName:"static-legend",handleSetOrientation:e=>{let a;a="number"!=typeof e||e!=e||e>0?l.m:l.n,t({staticLegend:Object.assign(Object.assign({},n),{orientationThreshold:a})})},testID:"static-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:h,handleSetOpacity:a=>{const r=Object(o.a)(a);isNaN(r)||r<l.j?(t({staticLegend:Object.assign(Object.assign({},n),{opacity:l.i})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({staticLegend:Object.assign(Object.assign({},n),{opacity:r})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:r}))},testID:"static-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:m,handleSetColorization:()=>{t({staticLegend:Object.assign(Object.assign({},n),{colorizeRows:!m})}),Object(c.a)(`${u}.colorizeRows.${!m}`,{type:e.type})},testID:"static-legend-colorize-rows-toggle"}),r.a.createElement(i.InputLabel,{className:"latest-axis-label"},"Displayed Value"),r.a.createElement(i.Toggle,{tabIndex:1,value:"y",id:"latest-y-axis",className:"latest-y-axis",name:"valueAxis",checked:"x"!==d,onChange:x,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"!==d,htmlFor:"latest-y-axis"},"Latest Y Axis")),r.a.createElement(i.Toggle,{tabIndex:2,value:"x",id:"latest-x-axis",className:"latest-x-axis",name:"valueAxis",checked:"x"===d,onChange:x,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"===d,htmlFor:"latest-x-axis"},"Latest X Axis")),r.a.createElement(i.Form.Element,{className:"static-legend-height-slider",label:(e=>`Height: ${(100*e).toFixed(0)}%`)(p)},r.a.createElement(i.RangeSlider,{max:l.t,min:l.u,step:l.w,value:p,onChange:a=>{const r=Object(o.a)(a);isNaN(r)||r<l.u?(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:l.v})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:l.v})):(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:r})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:r}))},hideLabels:!0,testID:"static-legend-height-slider"}))))))}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),r=n(2),o=n(4),i=n(37),s=n(26),l=n(19),c=n(24),u=n(8);const d=e=>{const{isViewingVisOptions:t}=Object(o.e)(s.d),n=Object(o.d)(),d=Object(r.useCallback)(t=>{n(Object(i.p)(Object.assign(Object.assign({},e.staticLegend),t)))},[n,e.staticLegend]);return Object(r.useMemo)(()=>{const{legendColorizeRows:n=l.f,legendOpacity:r=l.h,legendOrientationThreshold:o=l.l}=e,{staticLegend:i={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{colorizeRows:s=!1,heightRatio:m=l.v,opacity:p=l.h,orientationThreshold:h=o,show:f=l.x}=i,g=Object(a.c)(i,["colorizeRows","heightRatio","opacity","orientationThreshold","show"]);if(t&&!f&&m===l.v){let e,t=l.h;"number"==typeof r&&r==r&&r>=l.j&&r<=l.i&&(t=r),e="number"!=typeof o||o!=o||o>0?l.m:l.n,d({colorizeRows:n,opacity:t,orientationThreshold:e})}return Object.assign(Object.assign(Object.assign(Object.assign({},g),{colorizeRows:s,heightRatio:m,hide:(b=f,!b),opacity:p,orientationThreshold:h}),l.y),{renderEffect:t=>{const{staticLegendHeight:n,totalHeight:a,legendDataLength:r,lineCount:o,padding:i,headerTextMetrics:s,sampleTextMetrics:m}=t,p=s.height,f=m.height;if(n===l.v){let t=l.s;if(h===l.m&&(t=o*f+p+i/2),h===l.n){t=(r-c.a.length>0?r-c.a.length:r)*f+i}let n=t/a;n>l.t&&(n=l.t),n<l.u&&(n=l.u),"number"==typeof n&&n==n||(n=l.s),Object(u.a)("visualization.customize.staticlegend.heightRatio.autoAdjust",{type:e.type,updatedHeightRatio:n}),d({heightRatio:n})}}});var b},[e,t,d])}},124:function(e,t,n){var a=n(256);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},125:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(33),i=n(7);const s=new Set(["_start","_stop","_time","table","result",""]),l=e=>{const t=e.columnKeys.sort((e,t)=>{return a=t,(n=e).includes("_value")?-1:a.includes("_value")?1:n.localeCompare(a);var n,a}).filter(t=>((e,t)=>{const n=e.getColumnType(t),a=e.getColumnName(t);return("number"===n||"time"===n||"string"===n)&&!s.has(a)})(e,t)).map(t=>e.getColumn(t));if(!t.length)return[];const n=e.columnKeys;let a=[];if(n.includes("_time")?a=e.getColumn("_time","number"):n.includes("_stop")&&(a=e.getColumn("_stop","number")),!a&&1!==e.length)return[];const r=1===e.length?[0]:((e,t)=>{let n=[],a=-1/0;for(const r of e){const e=t(r);e>a?(n=[r],a=e):e===a&&e!==-1/0&&n.push(r)}return n})(Object(i.range)(e.length),e=>{const n=a[e];return n&&t.some(t=>Number.isFinite(t[e])||"string"==typeof t[e])?n:-1/0});return Object(i.flatMap)(r,e=>t.map(t=>t[e])).filter(e=>Number.isFinite(e)||"string"==typeof e)};t.a=({table:e,quiet:t=!1,children:n,allowString:i})=>{const s=Object(a.useMemo)(()=>l(e),[e]);if(0===s.length&&t)return null;if(0===s.length)return r.a.createElement(o.a,{message:"No latest value found"});const c=s[0];return"string"==typeof c&&!i&&t?null:"string"!=typeof c||i?n(c):r.a.createElement(o.a,{message:"String value cannot be displayed in this graph type"})}},127:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const a=e=>e.app.persisted.timeZone||"Local",r=e=>e.app.persisted.theme||"dark",o=e=>e.app.persisted.navBarState||"collapsed",i=e=>e.app.persisted.versionInfo||{},s=e=>e.app.ephemeral.hasUpdatedTimeRangeInVEO||!1,l=e=>e.app.ephemeral.inPresentationMode||!1,c=e=>e.app.persisted.flowsCTA||{explorer:!0,tasks:!0,alerts:!0}},134:function(e,t,n){"use strict";n.d(t,"i",(function(){return C})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return O})),n.d(t,"r",(function(){return D})),n.d(t,"q",(function(){return T})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return I})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return R})),n.d(t,"j",(function(){return A})),n.d(t,"b",(function(){return _})),n.d(t,"p",(function(){return F})),n.d(t,"m",(function(){return M})),n.d(t,"h",(function(){return L})),n.d(t,"l",(function(){return P})),n.d(t,"g",(function(){return B})),n.d(t,"d",(function(){return $})),n.d(t,"k",(function(){return z}));var a=n(366),r=n(25),o=n(79),i=n(16),s=n(368),l=n(142),c=n(11),u=n(246),d=n(12),m=n(292),p=n(5),h=n(39),f=n(7);const g=async(e,t)=>{var n,a;if(!e.includes("import"))return`${t}\n\n${e}`;const r=await Object(i.postQueryAst)({data:{query:e}});if(200!==r.status)throw new Error(r.data.message);const o=r.data.ast,s=null!==(a=null===(n=null==o?void 0:o.files[0])||void 0===n?void 0:n.imports)&&void 0!==a?a:[],l=Object(f.get)(o,"files.0.body",[]);return`${s.map(e=>e.location.source).join("\n")}\n${t}\n\n${l.map(e=>e.location.source).join("\n\n")}`};var b=n(166),v=n(52),y=n(40),x=n(9),w=n(13),E=n(74),S=n(53);const C=(e=S.e)=>async(t,n)=>{try{const a=n();Object(w.h)(a,p.ResourceType.Tasks)===p.RemoteDataState.NotStarted&&t(Object(u.G)(p.RemoteDataState.Loading));const o={orgID:Object(x.a)(a).id,limit:e},l=await i.getTasks({query:o});if(200!==l.status)throw new Error(l.data.message);const c=Object(r.a)(l.data.tasks,s.a);t(Object(u.G)(p.RemoteDataState.Done,c))}catch(e){t(Object(u.G)(p.RemoteDataState.Error));const n=Object(h.b)(e);console.error(e),t(Object(c.c)(d.Bd(n)))}},k=(e,t)=>async n=>{try{const a=await i.postTasksLabel({taskID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const o=await i.getTask({taskID:e});if(200!==o.status)throw new Error(o.data.message);const l=Object(r.a)(o.data,s.b);n(Object(u.u)(l))}catch(e){console.error(e),n(Object(c.c)(d.q()))}},O=(e,t)=>async n=>{try{const a=await i.deleteTasksLabel({taskID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);const o=await i.getTask({taskID:e});if(200!==o.status)throw new Error(o.data.message);const l=Object(r.a)(o.data,s.b);n(Object(u.u)(l))}catch(e){console.error(e),n(Object(c.c)(d.Wc()))}},D=e=>async t=>{try{const n=await i.patchTask({taskID:e.id,data:{status:e.status}});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,s.b);t(Object(u.u)(a)),t(Object(c.c)(d.Ad()))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.zd(n)))}},T=(e,t)=>async n=>{try{const a=await i.patchTask({taskID:t,data:{name:e}});if(200!==a.status)throw new Error(a.data.message);const o=Object(r.a)(a.data,s.b);n(Object(u.u)(o)),n(Object(c.c)(d.Ad()))}catch(e){console.error(e);const t=Object(h.b)(e);n(Object(c.c)(d.zd(t)))}},j=e=>async t=>{try{const n=await i.deleteTask({taskID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(u.v)(e)),t(Object(c.c)(d.rd()))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.qd(n)))}},I=e=>async(t,n)=>{try{const a=n(),l=await i.getTask({taskID:e.id});if(200!==l.status)throw new Error(l.data.message);const h=l.data.name,f=Object(w.a)(a,p.ResourceType.Tasks).map(e=>e.name),g=Object(E.a)(f,h),{flux:b}=l.data,v=Object(m.a)(b);v.body=v.body.map(e=>{var t;return"OptionStatement"===e.type&&"VariableAssignment"===e.assignment.type&&"task"===e.assignment.id.name&&"ObjectExpression"===e.assignment.init.type&&(e.assignment.init.properties=null===(t=e.assignment.init)||void 0===t?void 0:t.properties.map(e=>{var t,n;return"Identifier"===e.key.type&&"name"===e.key.name&&(null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.location)||void 0===n?void 0:n.source)&&(e.value.location.source=`"${g}"`),e})),e});const x=Object(o.format_from_js_file)(v),S=await i.postTask({data:Object.assign(Object.assign({},l.data),{flux:x})});if(201!==S.status)throw new Error(S.data.message);const C=Object(r.a)(S.data,s.b);t(Object(c.c)(d.od(e.name))),t(Object(u.r)(C)),t(Object(y.g)())}catch(n){if(console.error(n),Object(v.r)(n))t(Object(c.c)(d.cd("tasks")));else{const a=Object(h.b)(n);t(Object(c.c)(d.nd(e.name,a)))}}},N=e=>async t=>{try{const n=await i.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,s.b);t(Object(u.y)(a))}catch(e){console.error(e),t(A());const n=Object(h.b)(e);t(Object(c.c)(d.ud(n)))}},R=e=>async t=>{try{const n=await i.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,s.b);t(Object(u.w)(a))}catch(e){console.error(e),t(A());const n=Object(h.b)(e);t(Object(c.c)(d.ud(n)))}},A=()=>(e,t)=>{const n=Object(x.a)(t());e(Object(a.e)(`/orgs/${n.id}/tasks/`))},_=()=>e=>{e(Object(u.s)()),e(Object(a.c)())},F=()=>async(e,t)=>{try{const n=t(),{tasks:{currentScript:r,currentTask:o,taskOptions:s,currentPage:l}}=n.resources,m={flux:r,name:s.name,offset:s.offset,token:null};s.taskScheduleType===p.TaskSchedule.interval?(m.every=s.interval,m.cron=null):(m.cron=s.cron,m.every=null);const h=await i.patchTask({taskID:o.id,data:m});if(200!==h.status)throw new Error(h.data.message);l===u.q.TasksPage?e(A()):l===u.q.TaskRunsPage&&e((e,t)=>{const n=t(),{tasks:{currentTask:r}}=n.resources,o=Object(x.a)(t());e(Object(a.e)(`/orgs/${o.id}/tasks/${r.id}/runs`))}),e(Object(u.s)()),e(Object(c.c)(d.Ad()))}catch(t){console.error(t);const n=Object(h.b)(t);e(Object(c.c)(d.zd(n)))}},M=(e,t)=>async(n,a)=>{try{const r=await g(e,t),o=Object(x.a)(a()),s=await i.postTask({data:{orgID:o.id,flux:r}});if(201!==s.status)throw new Error(s.data.message);n(Object(u.B)("")),n(Object(u.t)()),n(Object(c.c)(d.pd())),n(Object(y.g)())}catch(e){if(console.error(e),Object(v.r)(e))n(Object(c.c)(d.cd("tasks")));else{const t=Object(h.b)(e);n(Object(c.c)(d.td(t)))}}},L=e=>async t=>{try{t(Object(u.C)([],p.RemoteDataState.Loading)),t(N(e));const n=await i.getTasksRuns({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data.runs.map(e=>{const t=new Date(e.finishedAt),n=new Date(e.startedAt);return Object.assign(Object.assign({},e),{duration:`${V(t,n)}`})});t(Object(u.C)(a,p.RemoteDataState.Done))}catch(e){console.error(e);const n=Object(h.b)(e);t(Object(c.c)(d.sd(n))),t(Object(u.C)([],p.RemoteDataState.Error))}},P=e=>async t=>{try{const n=await i.postTasksRun({taskID:e});if(201!==n.status)throw new Error(n.data.message);t(Object(c.c)(d.yd()))}catch(e){const n=Object(h.b)(e);throw t(Object(c.c)(d.xd(n))),console.error(e),n}},B=(e,t)=>async n=>{try{const a=await i.getTasksRunsLogs({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(u.A)(a.data.events))}catch(e){console.error(e),n(Object(u.A)([]))}},$=e=>async(t,n)=>{try{t(Object(l.l)(p.RemoteDataState.Loading));const a=await i.getTask({taskID:e});if(200!==a.status)throw new Error(a.data.message);const{entities:o,result:c}=Object(r.a)(a.data,s.b),u=Object(b.b)(n(),o.tasks[c]);t(Object(l.l)(p.RemoteDataState.Done,u))}catch(e){t(Object(l.l)(p.RemoteDataState.Error)),t(Object(c.c)(d.db(e)))}},z=(e,t)=>async n=>{try{const a=await i.postTasksRunsRetry({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(c.c)(d.wd(t)))}catch(e){n(Object(c.c)(d.vd(e)))}},V=(e,t)=>{let n="seconds";if(isNaN(e.getTime())||isNaN(t.getTime()))return"";let a=(e.getTime()-t.getTime())/1e3;return a>60&&(a=Math.round(a/60),n="minutes"),a+" "+n}},136:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(71);const s="duration-input--suggestion";t.a=({suggestions:e,onSubmit:t,value:n,placeholder:l,status:c,submitInvalid:u=!0,showDivider:d=!0,testID:m="duration-input",validFunction:p,customClass:h,dividerText:f,dividerOnClick:g})=>{const[b,v]=Object(a.useState)(!1),[y,x]=Object(a.useState)(n);Object(a.useEffect)(()=>{x(n)},[n,x]);const w=e=>{x(e),t(e),v(!1)},E=e=>p?p(e):Object(i.e)(e);let S=c||o.ComponentStatus.Default;S!==o.ComponentStatus.Default||E(y)||(S=o.ComponentStatus.Error);return r.a.createElement("div",{className:`duration-input ${h}`},r.a.createElement(o.ClickOutside,{onClickOutside:e=>{e.target.classList.contains(s)||e.target.parentNode.classList.contains(s)||v(!1)}},r.a.createElement(o.Input,{placeholder:l,value:y,status:S,onChange:e=>{return n=e.target.value,x(n),void((u||!u&&E(n))&&t(n));var n},onFocus:()=>v(!0),testID:m})),b&&r.a.createElement(o.DropdownMenu,{className:"duration-input--menu",noScrollX:!0},d&&f&&g&&r.a.createElement(o.Dropdown.Item,{value:"Customize",key:"Customize",onClick:g,className:s,testID:"custom-duration-input-button"},f),r.a.createElement(o.DropdownDivider,{text:""}),e.map(e=>r.a.createElement(o.DropdownItem,{key:e,value:e,className:s,onClick:w},e))))}},137:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return b}));var a=n(7),r=n(16),o=n(23),i=n(6),s=n(53),l=n(25),c=n(46);let u=null,d=null,m=null;i.f&&(u=n(16).getExperimentalSampledataBuckets,d=n(16).postExperimentalSampledataBucketsMember,m=n(16).deleteExperimentalSampledataBucketsMembers);const p=async()=>{if(!i.f||!u)return[];const e=await u({});if(200!==e.status)throw new Error(e.data.message);const t=Object(a.get)(e.data,"buckets",null);if(!Array.isArray(t))throw new Error("Could not reach demodata endpoint");return t.filter(e=>"user"==e.type)},h=async e=>{if(!i.f||!d)return;const t=await d({bucketID:e});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data.message)},f=async e=>{if(i.f&&m)try{const t=await m({bucketID:e});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data.message)}catch(e){throw console.error(e),e}},g=async()=>{if(!Object(o.c)("demodata")||!i.f)return[];try{const e=await p(),t=Object(a.get)(e,"[0].orgID");if(!t)throw new Error("Could not get demodata orgID");const n=await Object(r.getBuckets)({query:{orgID:t,limit:s.c}});if(200!==n.status)throw new Error(n.data.message);return n.data.buckets.map(e=>Object.assign(Object.assign({},e),{type:"demodata",labels:[]}))}catch(e){return console.error(e),[]}},b=async e=>{const t=await Object(r.getBucket)({bucketID:e});if(200!==t.status)throw new Error(`Request for demo data bucket membership did not succeed: ${t.data.message}`);const n=Object.assign(Object.assign({},t.data),{type:"demodata",labels:[]});return Object(l.a)(n,c.i)}},138:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(95),i=n.n(o),s=n(3);class l extends a.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=()=>{const{onCopy:e}=this.props;e&&e()}}render(){const{text:e,testID:t,size:n}=this.props;return r.a.createElement(i.a,{text:e,onCopy:this.handleCopyAttempt},r.a.createElement(s.Button,{shape:s.ButtonShape.Default,size:n||s.ComponentSize.ExtraSmall,color:s.ComponentColor.Secondary,titleText:"Copy to Clipboard",text:"Copy to Clipboard",onClick:this.handleClickCopy,testID:null!=t?t:"button-copy"}))}}t.a=l},139:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(16),r=n(5);const o=async(e,t)=>{const n=await a.getDashboardsCellsView({dashboardID:e,cellID:t});if(200!==n.status)throw new Error(n.data.message);return Object.assign(Object.assign({},n.data),{dashboardID:e,cellID:t,status:r.RemoteDataState.Done})},i=async(e,t,n)=>{const o=await a.patchDashboardsCellsView({dashboardID:e,cellID:t,data:n});if(200!==o.status)throw new Error(o.data.message);return Object.assign(Object.assign({},o.data),{dashboardID:e,cellID:t,status:r.RemoteDataState.Done})},s=async(e,t,n)=>{const r=e.map(e=>a.getDashboardsCellsView({dashboardID:t,cellID:e.id}).then(t=>Object.assign(Object.assign({},t),{cellID:e.id}))),o=await Promise.all(r);if(o.length>0&&o.some(e=>200!==e.status))throw new Error("An error occurred cloning the dashboard");return o.map(async t=>{const r=t.data,o=e.find(e=>e.id===r.id);if(o){const e=await a.postDashboardsCell({dashboardID:n,data:o});if(201!==e.status)throw new Error("An error occurred cloning the dashboard");return a.patchDashboardsCellsView({dashboardID:n,cellID:e.data.id,data:r})}})}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(2),r=n.n(a),o=n(76),i=n(5);const s={loading:i.RemoteDataState.NotStarted,buckets:[]},l=Object(a.createContext)(s),c=({panel:e,children:t})=>{var n,s;const[c,u]=Object(a.useState)(i.RemoteDataState.NotStarted),[d,m]=Object(a.useState)([]),{getPanelQueries:p}=Object(a.useContext)(o.a),h=null!==(s=null===(n=p(e))||void 0===n?void 0:n.scope)&&void 0!==s?s:{};return Object(a.useEffect)(()=>{if(!h.region||!h.org)return;u(i.RemoteDataState.Loading);const e={"Content-Type":"application/json","Accept-Encoding":"gzip"};h.token&&(e.Authorization=`Token ${h.token}`),fetch(`${h.region}/api/v2/buckets?limit=100&orgID=${h.org}`,{method:"GET",headers:e}).then(e=>e.json()).then(e=>{const t=e.buckets.map(e=>({id:e.id,orgID:e.orgID,type:e.type,name:e.name})).reduce((e,t)=>("system"===t.type?e.system.push(t):e.user.push(t),e),{system:[],user:[],sample:[{type:"sample",name:"Air Sensor Data",id:"airSensor"},{type:"sample",name:"Coinbase bitcoin price",id:"bitcoin"},{type:"sample",name:"Bird Migration",id:"birdMigration"},{type:"sample",name:"NOAA National Buoy Data",id:"noaa"},{type:"sample",name:"USGS Earthquakes",id:"usgs"}]});t.system.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),t.user.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),t.sample.sort((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase())),u(i.RemoteDataState.Done),m([...t.user,...t.system,...t.sample])}).catch(()=>{})},[h.region,h.org]),r.a.createElement(l.Provider,{value:{loading:c,buckets:d}},t)}},144:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3);t.a=e=>{const{items:t,selectedItems:n,onSelectItem:a,multiSelect:i,children:s,testID:l,wrapText:c}=e;return r.a.createElement(o.List,{autoHideScrollbars:!0,testID:l,style:{flex:"1 0 0"},scrollToSelected:!0},t.map(e=>{const t=n.includes(e),s=i&&r.a.createElement(o.List.Indicator,{type:"checkbox"});return r.a.createElement(o.List.Item,{className:"selector-list--item",testID:`selector-list ${e}`,key:e,value:e,onClick:a,title:e,selected:t,size:o.ComponentSize.ExtraSmall,gradient:o.Gradients.GundamPilot,wrapText:c},s,e)}),s)}},145:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s}));const a=()=>new Map,r=e=>{const t=a();return e.forEach((e,n)=>{t.set(n,e)}),t},o=(e,t,n)=>{let a=e.get(t);return void 0===a&&e.set(t,a=n()),a},i=(e,t)=>{const n=[];for(const[a,r]of e)n.push(t(r,a));return n},s=(e,t)=>{for(const[n,a]of e)if(t(a,n))return!0;return!1}},146:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return w}));var a=n(194),r=n(195),o=n(90);class i{constructor(e){this.arr=e,this.pos=0}}const s=e=>new i(e),l=e=>e.pos!==e.arr.length,c=(e,t)=>{const n=a.c(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},u=e=>c(e,m(e)),d=e=>e.arr[e.pos++],m=e=>{let t=0,n=0;for(;;){const a=e.arr[e.pos++];if(t|=(a&r.k)<<n,n+=7,a<r.g)return t>>>0;if(n>35)throw new Error("Integer out of range!")}},p=e=>{let t=e.arr[e.pos++],n=t&r.j,a=6;const o=(t&r.f)>0?-1:1;if(0==(t&r.g))return o*n;for(;;){if(t=e.arr[e.pos++],n|=(t&r.k)<<a,a+=7,t<r.g)return o*(n>>>0);if(a>41)throw new Error("Integer out of range!")}},h=e=>{let t=m(e);if(0===t)return"";{let n=String.fromCodePoint(d(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(d(e));else for(;t>0;){const a=t<1e4?t:1e4,r=e.arr.subarray(e.pos,e.pos+a);e.pos+=a,n+=String.fromCodePoint.apply(null,r),t-=a}return decodeURIComponent(escape(n))}},f=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},g=[e=>{},e=>null,p,e=>f(e,4).getFloat32(0,!1),e=>f(e,8).getFloat64(0,!1),e=>f(e,8).getBigInt64(0,!1),e=>!1,e=>!0,h,e=>{const t=m(e),n={};for(let a=0;a<t;a++){n[h(e)]=b(e)}return n},e=>{const t=m(e),n=[];for(let a=0;a<t;a++)n.push(b(e));return n},u],b=e=>g[127-d(e)](e);class v extends i{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),l(this)?this.count=m(this)+1:this.count=-1),this.count--,this.s}}class y extends i{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=p(this);const e=o.d(this.s);this.count=1,e&&(this.s=-this.s,this.count=m(this)+2)}return this.count--,this.s}}class x extends i{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=p(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=m(this)+2)}return this.s+=this.diff,this.count--,this.s}}class w{constructor(e){this.decoder=new y(e),this.str=h(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},147:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return D}));var a=n(194),r=n(90),o=n(195);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,o.h;const i=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&r.c(e)===e);Number.isNaN;class s{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const l=()=>new s,c=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},u=e=>{const t=new Uint8Array(c(e));let n=0;for(let a=0;a<e.bufs.length;a++){const r=e.bufs[a];t.set(r,n),n+=r.length}return t.set(a.c(e.cbuf.buffer,0,e.cpos),n),t},d=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},m=d,p=(e,t)=>{for(;t>o.k;)d(e,o.g|o.k&t),t>>>=7;d(e,o.k&t)},h=(e,t)=>{const n=r.d(t);for(n&&(t=-t),d(e,(t>o.j?o.g:0)|(n?o.f:0)|o.j&t),t>>>=6;t>0;)d(e,(t>o.k?o.g:0)|o.k&t),t>>>=7},f=(e,t)=>{const n=unescape(encodeURIComponent(t)),a=n.length;p(e,a);for(let t=0;t<a;t++)d(e,n.codePointAt(t))},g=(e,t)=>b(e,u(t)),b=(e,t)=>{const n=e.cbuf.length,a=e.cpos,o=r.g(n-a,t.length),i=t.length-o;e.cbuf.set(t.subarray(0,o),a),e.cpos+=o,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r.f(2*n,i)),e.cbuf.set(t.subarray(o)),e.cpos=i)},v=(e,t)=>{p(e,t.byteLength),b(e,t)},y=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(a.c(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*r.f(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},x=new DataView(new ArrayBuffer(4)),w=(e,t)=>{switch(typeof t){case"string":d(e,119),f(e,t);break;case"number":i(t)&&t<=o.h?(d(e,125),h(e,t)):(n=t,x.setFloat32(0,n),x.getFloat32(0)===n?(d(e,124),((e,t)=>{y(e,4).setFloat32(0,t,!1)})(e,t)):(d(e,123),((e,t)=>{y(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":d(e,122),((e,t)=>{y(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)d(e,126);else if(t instanceof Array){d(e,117),p(e,t.length);for(let n=0;n<t.length;n++)w(e,t[n])}else if(t instanceof Uint8Array)d(e,116),v(e,t);else{d(e,118);const n=Object.keys(t);p(e,n.length);for(let a=0;a<n.length;a++){const r=n[a];f(e,r),w(e,t[r])}}break;case"boolean":d(e,t?120:121);break;default:d(e,127)}var n};class E extends s{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&p(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const S=e=>{e.count>0&&(h(e.encoder,1===e.count?e.s:-e.s),e.count>1&&p(e.encoder,e.count-2))};class C{constructor(){this.encoder=new s,this.s=0,this.count=0}write(e){this.s===e?this.count++:(S(this),this.count=1,this.s=e)}toUint8Array(){return S(this),u(this.encoder)}}const k=e=>{if(e.count>0){const t=e.diff<<1|(1===e.count?0:1);h(e.encoder,t),e.count>1&&p(e.encoder,e.count-2)}};class O{constructor(){this.encoder=new s,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(k(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return k(this),u(this.encoder)}}class D{constructor(){this.sarr=[],this.s="",this.lensE=new C}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new s;return this.sarr.push(this.s),this.s="",f(e,this.sarr.join("")),b(e,this.lensE.toUint8Array()),u(e)}}},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n(2),o=n(7);const i=/\w+\[\]/g,s=/\[\]?\./;class l extends r.PureComponent{constructor(e){super(e),this.createIndex=e=>Object(o.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const n=e[Object(o.sortedIndex)(e,t)];return!(!n||!n.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),n=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=n.slice(e);return t},this.collator=new Intl.Collator("en-us",{numeric:!0})}render(){return this.props.children(this.sorted)}get sorted(){return this.filtered.sort((e,t)=>this.props.sortByKey?this.collator.compare(Object(o.get)(e,this.props.sortByKey),Object(o.get)(t,this.props.sortByKey)):this.collator.compare(e.name,t.name))}get filtered(){const{list:e,labels:t,searchKeys:n}=this.props,{formattedSearchTerm:a}=this;return Object(o.isEmpty)(a)?e:e.filter(e=>{const r=Object.assign(Object.assign({},e),{labels:Object(o.get)(e,"labels",[]).map(e=>t[e])});return n.some(e=>{const t=this.getKey(r,e),n=this.isStringArray(t);if(!n&&"object"==typeof t)throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(n){const e=this.createIndex(t);return this.checkIndex(e,a)}return String(t).toLocaleLowerCase().includes(a)})})}isStringArray(e){return!!Array.isArray(e)&&!(!Object(o.isEmpty)(e)&&"string"!=typeof e[0])}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(i)?this.getInExactKey(e,t):Object(o.get)(e,t,"")}getInExactKey(e,t){return t.split(s).reduce((e,t)=>Object(o.flatMap)(e,e=>Object(o.get)(e,t,[])),[e])}}const c=e=>({labels:e.resources.labels.byID});function u(){return Object(a.c)(c)(l)}},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(2),r=n.n(a);const o=r.a.createContext({launch:()=>{},data:null,element:null,closeFn:()=>{}}),i=()=>{const{element:e}=Object(a.useContext)(o);return e||null},s=({children:e})=>{const[t,n]=Object(a.useState)(null),[i,s]=Object(a.useState)(null);return r.a.createElement(o.Provider,{value:{launch:(e,t)=>{n(e),s(t)},data:i,element:t,closeFn:()=>{n(null),s(null)}}},e)}},150:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(7),s=n(3),l=n(14),c=n(54);let u=class extends r.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(i.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t}=this.props,{searchTerm:n}=this.state;return o.a.createElement(c.a,null,o.a.createElement(s.Input,{icon:s.IconFont.Search,placeholder:e,value:n,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input"}))}};u.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget"},u=Object(a.a)([l.a,Object(a.b)("design:paramtypes",[Object])],u),t.a=u},152:function(e,t,n){"use strict";var a=n(2),r=n(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return r.f?null:e}}},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f}));var a=n(22),r=n(175),o=n(338),i=n(388),s=n(165),l=n(8);const c=n(48).h;function u({orgID:e}){return Object(l.a)("runQuery",{context:"queryBuilder-findBuckets"}),p(Object(r.a)(e,'buckets()\n  |> sort(columns: ["name"])\n  |> limit(n: 200)'),"name")}function d({orgID:e,bucket:t,tagsSelections:n,searchTerm:a="",timeRange:o=c,limit:i=200}){const s=h(n),u=function(e){const t=e.map(({key:e})=>e);if(!t.length)return"";return`\n  |> filter(fn: (r) => ${t.map(e=>`r._value != "${e}"`).join(" and ")})`}(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${f(o)})\n  |> filter(fn: ${s})\n  |> keys()\n  |> keep(columns: ["_value"])\n  |> distinct()${a?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${a}") + ")"))`:""}${u}\n  |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n  |> sort()\n  |> limit(n: ${i})`;return Object(l.a)("runQuery",{context:"queryBuilder-findKeys"}),p(Object(r.a)(e,d),"_value")}function m({orgID:e,bucket:t,tagsSelections:n,key:a,searchTerm:o="",timeRange:i=c,limit:s=200}){const u=h(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${f(i)})\n  |> filter(fn: ${u})\n  |> keep(columns: ["${a}"])\n  |> group()\n  |> distinct(column: "${a}")${o?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${o}") + ")"))`:""}\n  |> limit(n: ${s})\n  |> sort()`;return Object(l.a)("runQuery",{context:"queryBuilder-findValues"}),p(Object(r.a)(e,d),"_value")}function p(e,t){return{promise:e.promise.then(e=>"SUCCESS"!==e.type?Promise.reject(new Error(e.message)):function(e,t){const{table:n}=Object(a.fromFlux)(e);return n.getColumn(t,"string")||[]}(e.csv,t)),cancel:e.cancel}}function h(e){const t=e.filter(({key:e,values:t})=>e&&t.length);return t.length?`(r) => ${t.map(e=>`(${Object(s.g)(e)})`).join(" and ")}`:"(r) => true"}function f(e){const[t,n]=Object(o.b)(e).map(e=>Object(i.a)(e.init));return`start: ${t}, stop: ${n}`}},157:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n(25),r=n(334),o=n(16),i=n(386),s=n(333),l=n(11),c=n(12),u=n(5),d=n(9),m=n(13),p=n(8),h=n(39);const f=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,u.ResourceType.Authorizations)===u.RemoteDataState.NotStarted&&e(Object(s.j)(u.RemoteDataState.Loading));const r=Object(d.a)(n),l=await o.getAuthorizations({query:{orgID:r.id}});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data.authorizations,i.a);e(Object(s.j)(u.RemoteDataState.Done,c))}catch(t){console.error(t),e(Object(s.j)(u.RemoteDataState.Error)),e(Object(l.c)(Object(c.A)()))}},g=e=>async t=>{try{const n=await r.a(e),o=Object(a.a)(n,i.b);Object(p.a)("token.create.success",{id:n.id}),t(Object(s.g)(o)),t(Object(s.k)(u.RemoteDataState.Done,o.entities.tokens[o.result])),t(Object(l.c)(Object(c.v)()))}catch(e){Object(p.a)("token.create.failure");const n=Object(h.b)(e);throw t(Object(l.c)(Object(c.u)(n))),e}},b=e=>async t=>{try{const n=await o.patchAuthorization({authID:e.id,data:e});if(200!==n.status)throw new Error(n.data.message);t(f()),t(Object(l.c)(Object(c.z)()))}catch(n){console.error(n),t(Object(l.c)(Object(c.y)(e.id)))}},v=(e,t="")=>async n=>{try{const a=await o.deleteAuthorization({authID:e});if(204!==a.status)throw new Error(a.data.message);Object(p.a)("token.delete.success",{id:e,name:t}),n(Object(s.h)(e)),n(Object(l.c)(Object(c.x)()))}catch(a){Object(p.a)("token.delete.failure",{id:e,name:t}),console.error(a),n(Object(l.c)(Object(c.w)(t)))}},y=()=>async e=>{const t=await o.getResources({headers:{}});if(200!==t.status)throw new Error(t.data.message);const n=t.data;e(Object(s.i)(n))}},158:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return v}));var a=n(25),r=n(39),o=n(294),i=n(11),s=n(314),l=n(12),c=n(9),u=n(13),d=n(8),m=n(5);const p=()=>async(e,t)=>{try{const n=t();Object(u.h)(n,m.ResourceType.Telegrafs)===m.RemoteDataState.NotStarted&&e(Object(s.j)(m.RemoteDataState.Loading));const i=Object(c.a)(n),l=await r.a.telegrafConfigs.getAll(i.id),d=Object(a.a)(l,o.a);e(Object(s.j)(m.RemoteDataState.Done,d))}catch(t){console.error(t),e(Object(s.j)(m.RemoteDataState.Error)),e(Object(i.c)(Object(l.Ed)()))}},h=e=>async(t,n)=>{try{const i=n(),l=Object(u.g)(i,e.labels),c=await r.a.telegrafConfigs.create(Object.assign(Object.assign({},e),{labels:l})),d=Object(a.a)(c,o.b);t(Object(s.f)(d))}catch(e){console.error(e),t(Object(i.c)(Object(l.Cd)()))}},f=e=>async(t,n)=>{try{const i=n(),l=Object(u.g)(i,e.labels),c=await r.a.telegrafConfigs.update(e.id,Object.assign(Object.assign({},e),{labels:l})),m=Object(a.a)(c,o.b);t(Object(s.g)(m)),Object(d.a)(`telegraf.config.${Object(d.c)(e.name)}.edit.success`,{id:e.id})}catch(n){Object(d.a)(`telegraf.config.${Object(d.c)(e.name)}.edit.failure`,{id:e.id}),console.error(n),t(Object(i.c)(Object(l.Fd)(e.name)))}},g=(e,t)=>async n=>{try{await r.a.telegrafConfigs.delete(e),n(Object(s.h)(e)),Object(d.a)(`telegraf.config.${Object(d.c)(t)}.delete.success`,{id:e})}catch(a){Object(d.a)(`telegraf.config.${Object(d.c)(t)}.delete.failure`,{id:e}),console.error(a),n(Object(i.c)(Object(l.Dd)(t)))}},b=(e,t)=>async n=>{try{await r.a.telegrafConfigs.addLabels(e,t);const i=await r.a.telegrafConfigs.get(e),l=Object(a.a)(i,o.b);n(Object(s.g)(l))}catch(e){console.error(e),n(Object(i.c)(Object(l.r)()))}},v=(e,t)=>async n=>{try{await r.a.telegrafConfigs.removeLabels(e,t);const i=await r.a.telegrafConfigs.get(e),l=Object(a.a)(i,o.b);n(Object(s.g)(l))}catch(e){console.error(e),n(Object(i.c)(Object(l.Xc)()))}}},163:function(e,t,n){"use strict";n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return P})),n.d(t,"i",(function(){return B})),n.d(t,"e",(function(){return $})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"a",(function(){return q})),n.d(t,"k",(function(){return U})),n.d(t,"c",(function(){return G})),n.d(t,"l",(function(){return W})),n.d(t,"j",(function(){return Y})),n.d(t,"n",(function(){return K})),n.d(t,"f",(function(){return Z}));var a=n(25),r=n(366),o=n(7),i=n(139),s=n(16),l=n(186),c=n(219),u=n(46),d=n(235),m=n(11),p=n(141),h=n(113),f=n(142),g=n(40),b=n(234),v=n(121),y=n(179),x=n(94),w=n(210),E=n(227),S=n(112),C=n(335),k=n(166),O=n(438),D=n(26),T=n(74),j=n(52),I=n(9),N=n(13),R=n(12),A=n(129),_=n(53),F=n(5),M=n(339);const L=()=>async(e,t)=>{try{const n=Object(I.a)(t()),o={name:A.e,cells:[],orgID:n.id},i=await s.postDashboard({data:o});if(201!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data,u.k);await e(w.setDashboard(i.data.id,F.RemoteDataState.Done,l)),e(Object(r.e)(`/orgs/${n.id}/dashboards/${i.data.id}`)),e(Object(g.d)())}catch(t){console.error(t),Object(j.r)(t)?e(Object(m.c)(R.cd("dashboards"))):e(Object(m.c)(R.kb()))}},P=(e,t)=>async(n,o)=>{try{const l=o(),c=Object(I.a)(l),d=Object(N.a)(l,F.ResourceType.Dashboards).map(e=>e.name),m=Object(T.a)(d,t),p=await s.getDashboard({dashboardID:e,query:{include:"properties"}});if(200!==p.status)throw new Error(p.data.message);const{entities:h,result:f}=Object(a.a)(p.data,u.k),b=h.dashboards[f],v=Object.values(h.cells||{}),y=await s.postDashboard({data:{orgID:c.id,name:m,description:b.description||""}});if(201!==y.status)throw new Error(y.data.message);const x=Object(a.a)(y.data,u.k);await n(w.setDashboard(y.data.id,F.RemoteDataState.Done,x));const E=p.data.labels.map(e=>s.postDashboardsLabel({dashboardID:y.data.id,data:{labelID:e.id}})),S=await Promise.all(E);if(S.length>0&&S.some(e=>201!==e.status))throw new Error("An error occurred cloning the labels for this dashboard");const C=y.data.id,k=await i.a(v,e,C),O=await Promise.all(k);if(O.length>0&&O.some(e=>200!==e.status))throw new Error("An error occurred cloning the dashboard");n(Object(g.d)()),n(Object(r.e)(`/orgs/${c.id}/dashboards/${y.data.id}`))}catch(e){console.error(e),Object(j.r)(e)?n(Object(m.c)(R.cd("dashboards"))):n(Object(m.c)(R.kb()))}},B=()=>async(e,t)=>{try{const{setDashboards:n}=w,r=t();Object(N.h)(r,F.ResourceType.Dashboards)===F.RemoteDataState.NotStarted&&e(n(F.RemoteDataState.Loading));const o=Object(I.a)(r),i=await s.getDashboards({query:{orgID:o.id,limit:_.b}});if(200!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data.dashboards,u.c);if(e(n(F.RemoteDataState.Done,l)),!l.result.length)return;const c=[],m=[];setTimeout(()=>{Object.values(l.entities.dashboards).map(e=>({id:e.id,cells:e.cells.map(e=>l.entities.cells[e])})).forEach(e=>{const t=Object(d.h)(e.cells,e.id),n=Object(a.a)(t,u.g);m.push(n);const r=Object(a.a)(e.cells,u.b);c.push(r)}),e(Object(v.j)(F.RemoteDataState.Done,c,m))},0)}catch(t){throw e(w.setDashboards(F.RemoteDataState.Error)),console.error(t),t}},$=e=>async(t,n)=>{try{const r=Object(I.a)(n());await l.a(e,r.id);const o=await s.getDashboards({query:{orgID:r.id}});if(200!==o.status)throw new Error(o.data.message);const i=Object(a.a)(o.data.dashboards,u.c);t(w.setDashboards(F.RemoteDataState.Done,i)),t(Object(m.c)(R.ic())),t(Object(g.d)())}catch(e){Object(j.r)(e)?t(Object(m.c)(R.cd("dashboards"))):t(Object(m.c)(R.hc(e)))}},z=(e,t)=>async n=>{n(w.removeDashboard(e)),n(Object(p.b)(e));try{const a=await s.deleteDashboard({dashboardID:e});if(204!==a.status)throw new Error(a.data.message);n(Object(m.c)(R.nb(t))),n(Object(g.d)())}catch(e){n(Object(m.c)(R.mb(t,e.message)))}},V=(e,t)=>async(n,o)=>{try{n(w.setDashboard(e,F.RemoteDataState.Loading));const[r]=await Promise.all([s.getDashboard({dashboardID:e,query:{include:"properties"}},{signal:null==t?void 0:t.signal}),n(Object(h.f)(t))]);if(!r)return;if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,u.k),i=r.data.cells||[],l=Object(d.h)(i,e);setTimeout(()=>{const r=Object(a.a)(i,u.b);n(Object(b.f)(e,F.RemoteDataState.Done,r));const s=Object(a.a)(l,u.g);if(n(Object(v.i)(F.RemoteDataState.Done,s)),n(w.setDashboard(e,F.RemoteDataState.Done,o)),n(Object(p.g)(e)),i.length>0){const e=!0;n(Object(h.g)(e,t))}},0)}catch(t){if("AbortError"===t.name)return;const a=Object(I.a)(o());return n(Object(r.e)(`/orgs/${a.id}/dashboards-list`)),void n(Object(m.c)(R.ob(e,t.message)))}},H=(e,t)=>async(n,r)=>{const o=r(),i=Object(N.f)(o,F.ResourceType.Dashboards,e),l=Object.assign(Object.assign({},i),t);try{const e=await s.patchDashboard({dashboardID:l.id,data:{name:l.name,description:l.description}});if(200!==e.status)throw new Error(e.data.message);const t=Object(a.a)(e.data,u.k);n(w.editDashboard(t))}catch(e){console.error(e),n(Object(m.c)(R.pb()))}},q=(e,t)=>async n=>{try{const r=await s.postDashboardsLabel({dashboardID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data.label,u.l);n(Object(x.g)(e,o))}catch(e){console.error(e),n(Object(m.c)(R.p()))}},U=(e,t)=>async n=>{try{const a=await s.deleteDashboardsLabel({dashboardID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);n(w.removeDashboardLabel(e,t.id))}catch(e){console.error(e),n(Object(m.c)(R.bd()))}},G=e=>async(t,n)=>{try{t(Object(f.l)(F.RemoteDataState.Loading));const r=n(),o=Object(I.a)(r),l=await s.getDashboard({dashboardID:e});if(200!==l.status)throw new Error(l.data.message);const{entities:c,result:d}=Object(a.a)(l.data,u.k),m=c.dashboards[d],p=m.cells.map(e=>c.cells[e]),h=m.cells.map(t=>i.b(e,t)),g=await Promise.all(h),b=await s.getVariables({query:{orgID:o.id}});if(200!==b.status)throw new Error(b.data.message);let v=[];if(b.data.variables.length){const e=Object(a.a)(b.data.variables,M.a);v=Object.values(e.entities.variables)}const y=Object(C.a)(v,g),x=Object(O.a)(y,v),w=Object(k.a)(r,m,p,g,x);t(Object(f.l)(F.RemoteDataState.Done,w))}catch(e){console.error(e),t(Object(f.l)(F.RemoteDataState.Error)),t(Object(m.c)(R.db(e)))}},W=e=>async(t,n)=>{const a=Object(D.j)(n());try{a.id?await t(Object(y.c)(e,a)):await t(Object(c.a)(e,a))}catch(e){throw console.error(e),t(Object(m.c)(R.J(e.message))),e}},Y=e=>(t,n)=>{const a=n(),r=Object(N.f)(a,F.ResourceType.Views,e);if(!r)return;const i=r,s=Object(o.get)(i,"properties.note",""),l=Object(o.get)(i,"properties.showNoteWhenEmpty",!1),c={viewID:i.id,note:s,showNoteWhenEmpty:l,mode:F.NoteEditorMode.Editing};t(Object(E.d)(c))},K=e=>(t,n)=>{const a=n(),{note:r,showNoteWhenEmpty:o}=a.noteEditor,i=Object(N.f)(a,F.ResourceType.Views,e);if("check"===i.properties.type)throw new Error(`view type "${i.properties.type}" does not support notes`);const s=Object.assign(Object.assign({},i),{properties:Object.assign(Object.assign({},i.properties),{note:r,showNoteWhenEmpty:o})});return t(Object(y.b)(i.dashboardID,s))},Z=e=>(t,n)=>{const a=Object(N.f)(n(),F.ResourceType.Dashboards,e);if(!a)throw new Error(`could not find dashboard with id "${e}"`);const{note:r}=n().noteEditor,o=Object(S.a)("markdown");return o.properties.note=r,t(Object(c.a)(a.id,o))}},167:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a="This is a test notification",r={},o=n(475);o.keys().forEach(e=>{o(e).default(e=>{if(r.hasOwnProperty(e.type))throw new Error(`Endpoint of type [${e.type}] has already been registered`);r[e.type]=Object.assign({},e)})})},168:function(e,t,n){"use strict";var a=n(2),r=n.n(a);const o=e=>({background:`linear-gradient(to right, ${e.map((t,n)=>`${t} ${Math.round(n/(e.length-1)*100)}%`).join(", ")})`});t.a=({name:e,colors:t})=>r.a.createElement("div",{className:"color-scheme-dropdown-item"},r.a.createElement("div",{className:"color-scheme-dropdown-item--swatches",style:o(t)}),r.a.createElement("div",{className:"color-scheme-dropdown-item--name"},e))},169:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(3),i=n(19),s=n(8);n(170);const l=({eventName:e,graphType:t,legendOrientation:n,parentName:a,handleSetOrientation:l,testID:c="orientation-toggle"})=>{const u=n=>{l("vertical"===n?i.n:i.m),Object(s.a)(`${e}.${n}`,{type:t})};return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,className:"legend-orientation-toggle",testID:c},r.a.createElement(o.InputLabel,{className:"legend-orientation-label"},"Orientation"),r.a.createElement(o.Toggle,{tabIndex:1,value:"horizontal",className:"legend-orientation--horizontal",id:`${a}-orientation--horizontal`,name:`${a}-orientation--horizontal`,checked:n===i.m,onChange:u,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,appearance:o.Appearance.Outline},r.a.createElement(o.InputLabel,{active:n===i.m,htmlFor:`${a}-orientation--horizontal`},"Horizontal")),r.a.createElement(o.Toggle,{tabIndex:2,value:"vertical",className:"legend-orientation--vertical",id:`${a}-orientation--vertical`,name:`${a}-orientation--vertical`,checked:n<=0,onChange:u,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,appearance:o.Appearance.Outline},r.a.createElement(o.InputLabel,{active:n<=0,htmlFor:`${a}-orientation--vertical`},"Vertical")))},c=({legendOpacity:e,handleSetOpacity:t,testID:n="opacity-slider"})=>{let a=i.h;"number"==typeof e&&e==e&&e>=i.j&&e<=i.i&&(a=e);const s=(100*a).toFixed(0);return r.a.createElement(o.Form.Element,{className:"legend-opacity-slider",label:`Opacity: ${s}%`,testID:n},r.a.createElement(o.RangeSlider,{max:i.i,min:i.j,step:i.k,value:a,onChange:t,hideLabels:!0}))},u=({legendColorizeRows:e,handleSetColorization:t,testID:n="colorize-rows-toggle"})=>{return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Medium,stretchToFitWidth:!0,className:"legend-colorize-rows-toggle",testID:n},r.a.createElement(o.SlideToggle,{active:e,size:o.ComponentSize.ExtraSmall,onChange:t}),r.a.createElement(o.InputLabel,{style:(a=e,a?{color:o.InfluxColors.Cloud}:{color:o.InfluxColors.Sidewalk})},"Colorize Rows"));var a}},170:function(e,t,n){var a=n(251);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},171:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({label:e,checked:t,onSetChecked:n,testID:a})=>r.a.createElement("label",{className:`fancy-checkbox ${t?"checked":""}`},r.a.createElement("input",{"data-testid":a||"checkbox",type:"checkbox",checked:!!t,onChange:()=>n(!t)}),e)},172:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(168);t.a=({colorSchemes:e,selectedColorScheme:t,onSelectColorScheme:n})=>{const a=e.find(e=>e.colors.length===t.length&&e.colors.every((e,n)=>e===t[n]));let s,l;return a?(s=a.name,l=e):(s="Custom",l=[...e,{name:"Custom",colors:t}]),r.a.createElement(o.Dropdown,{className:"color-scheme-dropdown",button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n},r.a.createElement(i.a,{name:s,colors:t})),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},l.map(({name:e,colors:t})=>r.a.createElement(o.Dropdown.Item,{key:e,id:e,value:t,onClick:n,selected:s===e},r.a.createElement(i.a,{name:e,colors:t}))))})}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return re})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return ve})),n.d(t,"d",(function(){return Se}));var a=n(263),r=n(264),o=n(90),i=n(145),s=n(147),l=n(146);"undefined"==typeof window||void 0!==window.performance&&window.performance;const c="undefined"==typeof crypto?null:crypto,u=null!==c?e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);return c.getRandomValues(n),t}:e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);for(let t=0;t<e;t++)n[t]=Math.ceil(4294967295*Math.random()>>>0);return t},d=(Math.random,()=>new Uint32Array(u(4))[0]),m=[1e7]+-1e3+-4e3+-8e3+-1e11;var p=n(194);const h=e=>new Error(e),f=()=>{throw h("Method unimplemented")},g=()=>{throw h("Unexpected case")};var b=n(195),v=n(196),y=n(348),x=n(351);const w=Symbol;class E{constructor(e,t){this.left=e,this.right=t}}const S=(e,t)=>new E(e,t),C="undefined"!=typeof document?document:{},k=("undefined"!=typeof DOMParser&&new DOMParser,e=>i.d(e,(e,t)=>`${t}:${e};`).join(""));C.ELEMENT_NODE,C.TEXT_NODE,C.CDATA_SECTION_NODE,C.COMMENT_NODE,C.DOCUMENT_NODE,C.DOCUMENT_TYPE_NODE,C.DOCUMENT_FRAGMENT_NODE,JSON.stringify,JSON.parse;const O=e=>class{constructor(e){this._=e}destroy(){e(this._)}};O(clearTimeout),O(clearInterval),O(e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)),O(e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e));var D=n(200);const T=w(),j=w(),I=w(),N=w(),R=w(),A=w(),_=w(),F=w(),M=w(),L={[T]:S("font-weight","bold"),[j]:S("font-weight","normal"),[I]:S("color","blue"),[R]:S("color","green"),[N]:S("color","grey"),[A]:S("color","red"),[_]:S("color","purple"),[F]:S("color","orange"),[M]:S("color","black")},P={[T]:"[1m",[j]:"[2m",[I]:"[34m",[R]:"[32m",[N]:"[37m",[A]:"[31m",[_]:"[35m",[F]:"[38;5;208m",[M]:"[0m"},B=x.c?e=>{const t=[],n=[];let a=0;for(;a<e.length;a++){const n=e[a],r=P[n];if(void 0!==r)t.push(r);else{if(n.constructor!==String&&n.constructor!==Number)break;t.push(n)}}for(a>0&&(t.push("[0m"),n.push(t.join("")));a<e.length;a++){const t=e[a];t instanceof Symbol||n.push(t)}return n}:e=>{const t=[],n=[],a=i.c();let r=[],o=0;for(;o<e.length;o++){const r=e[o],i=L[r];if(void 0!==i)a.set(i.left,i.right);else{if(r.constructor!==String&&r.constructor!==Number)break;{const e=k(a);o>0||e.length>0?(t.push("%c"+r),n.push(e)):t.push(r)}}}for(o>0&&(r=n,r.unshift(t.join("")));o<e.length;o++){const t=e[o];t instanceof Symbol||r.push(t)}return r},$=(...e)=>{console.log(...B(e)),z.forEach(t=>t.print(e))},z=new Set;D.a();const V=e=>({[Symbol.iterator](){return this},next:e}),H=(e,t)=>V(()=>{const{done:n,value:a}=e.next();return{done:n,value:n?void 0:t(a)}});var q=n(265);a.a;class U{constructor(e,t){this.clock=e,this.len=t}}class G{constructor(){this.clients=new Map}}const W=(e,t,n)=>t.clients.forEach((t,a)=>{const r=e.doc.store.clients.get(a);for(let a=0;a<t.length;a++){const o=t[a];Ge(e,r,o.clock,o.len,n)}}),Y=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,a=e.length-1;for(;n<=a;){const r=o.c((n+a)/2),i=e[r],s=i.clock;if(s<=t){if(t<s+i.len)return r;n=r+1}else a=r-1}return null})(n,t.clock)},K=e=>{e.clients.forEach(e=>{let t,n;for(e.sort((e,t)=>e.clock-t.clock),t=1,n=1;t<e.length;t++){const a=e[n-1],r=e[t];a.clock+a.len>=r.clock?a.len=o.f(a.len,r.clock+r.len-a.clock):(n<t&&(e[n]=r),n++)}e.length=n})},Z=e=>{const t=new G;for(let n=0;n<e.length;n++)e[n].clients.forEach((a,o)=>{if(!t.clients.has(o)){const i=a.slice();for(let t=n+1;t<e.length;t++)r.a(i,e[t].clients.get(o)||[]);t.clients.set(o,i)}});return K(t),t},X=(e,t,n,a)=>{i.e(e.clients,t,()=>[]).push(new U(n,a))},Q=()=>new G,J=e=>{const t=Q();return e.clients.forEach((e,n)=>{const a=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const r=n.id.clock;let o=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])o+=n.length;a.push(new U(r,o))}}a.length>0&&t.clients.set(n,a)}),t},ee=(e,t)=>{s.n(e.restEncoder,t.clients.size),t.clients.forEach((t,n)=>{e.resetDsCurVal(),s.n(e.restEncoder,n);const a=t.length;s.n(e.restEncoder,a);for(let n=0;n<a;n++){const a=t[n];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},te=e=>{const t=new G,n=l.k(e.restDecoder);for(let a=0;a<n;a++){e.resetDsCurVal();const n=l.k(e.restDecoder),a=l.k(e.restDecoder);if(a>0){const r=i.e(t.clients,n,()=>[]);for(let t=0;t<a;t++)r.push(new U(e.readDsClock(),e.readDsLen()))}}return t},ne=(e,t,n)=>{const a=new G,r=l.k(e.restDecoder);for(let o=0;o<r;o++){e.resetDsCurVal();const r=l.k(e.restDecoder),o=l.k(e.restDecoder),i=n.clients.get(r)||[],s=Be(n,r);for(let n=0;n<o;n++){const n=e.readDsClock(),o=n+e.readDsLen();if(n<s){s<o&&X(a,r,s,o-s);let e=ze(i,n),l=i[e];for(!l.deleted&&l.id.clock<n&&(i.splice(e+1,0,On(t,l,n-l.id.clock)),e++);e<i.length&&(l=i[e++],l.id.clock<o);)l.deleted||(o<l.id.clock+l.length&&i.splice(e,0,On(t,l,o-l.id.clock)),l.delete(t))}else X(a,r,n,o-n)}}if(a.clients.size>0){const e=new me;return s.n(e.restEncoder,0),ee(e,a),e.toUint8Array()}return null},ae=d;class re extends a.a{constructor({guid:e=m.replace(/[018]/g,e=>(e^d()&15>>e/4).toString(16)),gc:t=!0,gcFilter:n=(()=>!0),meta:a=null,autoLoad:r=!1}={}){super(),this.gc=t,this.gcFilter=n,this.clientID=ae(),this.guid=e,this.share=new Map,this.store=new Le,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=r,this.autoLoad=r,this.meta=a}load(){const e=this._item;null===e||this.shouldLoad||et(e.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,t=null){et(this,e,t)}get(e,t=yt){const n=i.e(this.share,e,()=>{const e=new t;return e._integrate(this,null),e}),a=n.constructor;if(t!==yt&&a!==t){if(a===yt){const a=new t;a._map=n._map,n._map.forEach(e=>{for(;null!==e;e=e.left)e.parent=a}),a._start=n._start;for(let e=a._start;null!==e;e=e.right)e.parent=a;return a._length=n._length,this.share.set(e,a),a._integrate(this,null),a}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,Lt)}getText(e=""){return this.get(e,Jt)}getMap(e=""){return this.get(e,Bt)}getXmlFragment(e=""){return this.get(e,tn)}toJSON(){const e={};return this.share.forEach((t,n)=>{e[n]=t.toJSON()}),e}destroy(){r.c(this.subdocs).forEach(e=>e.destroy());const e=this._item;if(null!==e){this._item=null;const t=e.content;e.deleted?t.doc=null:(t.doc=new re({guid:this.guid,...t.opts}),t.doc._item=e),et(e.parent.doc,n=>{e.deleted||n.subdocsAdded.add(t.doc),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class oe{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return l.k(this.restDecoder)}readDsLen(){return l.k(this.restDecoder)}}class ie extends oe{readLeftID(){return Ne(l.k(this.restDecoder),l.k(this.restDecoder))}readRightID(){return Ne(l.k(this.restDecoder),l.k(this.restDecoder))}readClient(){return l.k(this.restDecoder)}readInfo(){return l.h(this.restDecoder)}readString(){return l.j(this.restDecoder)}readParentInfo(){return 1===l.k(this.restDecoder)}readTypeRef(){return l.k(this.restDecoder)}readLen(){return l.k(this.restDecoder)}readAny(){return l.g(this.restDecoder)}readBuf(){return p.a(l.l(this.restDecoder))}readJSON(){return JSON.parse(l.j(this.restDecoder))}readKey(){return l.j(this.restDecoder)}}class se{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=l.k(this.restDecoder),this.dsCurrVal}readDsLen(){const e=l.k(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class le extends se{constructor(e){super(e),this.keys=[],l.k(e),this.keyClockDecoder=new l.a(l.l(e)),this.clientDecoder=new l.d(l.l(e)),this.leftClockDecoder=new l.a(l.l(e)),this.rightClockDecoder=new l.a(l.l(e)),this.infoDecoder=new l.b(l.l(e),l.h),this.stringDecoder=new l.c(l.l(e)),this.parentInfoDecoder=new l.b(l.l(e),l.h),this.typeRefDecoder=new l.d(l.l(e)),this.lenDecoder=new l.d(l.l(e))}readLeftID(){return new je(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new je(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return l.g(this.restDecoder)}readBuf(){return l.l(this.restDecoder)}readJSON(){return l.g(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class ce{constructor(){this.restEncoder=s.e()}toUint8Array(){return s.g(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){s.n(this.restEncoder,e)}writeDsLen(e){s.n(this.restEncoder,e)}}class ue extends ce{writeLeftID(e){s.n(this.restEncoder,e.client),s.n(this.restEncoder,e.clock)}writeRightID(e){s.n(this.restEncoder,e.client),s.n(this.restEncoder,e.clock)}writeClient(e){s.n(this.restEncoder,e)}writeInfo(e){s.j(this.restEncoder,e)}writeString(e){s.m(this.restEncoder,e)}writeParentInfo(e){s.n(this.restEncoder,e?1:0)}writeTypeRef(e){s.n(this.restEncoder,e)}writeLen(e){s.n(this.restEncoder,e)}writeAny(e){s.h(this.restEncoder,e)}writeBuf(e){s.o(this.restEncoder,e)}writeJSON(e){s.m(this.restEncoder,JSON.stringify(e))}writeKey(e){s.m(this.restEncoder,e)}}class de{constructor(){this.restEncoder=s.e(),this.dsCurrVal=0}toUint8Array(){return s.g(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,s.n(this.restEncoder,t)}writeDsLen(e){0===e&&g(),s.n(this.restEncoder,e-1),this.dsCurrVal+=e}}class me extends de{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new s.a,this.clientEncoder=new s.d,this.leftClockEncoder=new s.a,this.rightClockEncoder=new s.a,this.infoEncoder=new s.b(s.j),this.stringEncoder=new s.c,this.parentInfoEncoder=new s.b(s.j),this.typeRefEncoder=new s.d,this.lenEncoder=new s.d}toUint8Array(){const e=s.e();return s.n(e,0),s.o(e,this.keyClockEncoder.toUint8Array()),s.o(e,this.clientEncoder.toUint8Array()),s.o(e,this.leftClockEncoder.toUint8Array()),s.o(e,this.rightClockEncoder.toUint8Array()),s.o(e,s.g(this.infoEncoder)),s.o(e,this.stringEncoder.toUint8Array()),s.o(e,s.g(this.parentInfoEncoder)),s.o(e,this.typeRefEncoder.toUint8Array()),s.o(e,this.lenEncoder.toUint8Array()),s.k(e,s.g(this.restEncoder)),s.g(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){s.h(this.restEncoder,e)}writeBuf(e){s.o(this.restEncoder,e)}writeJSON(e){s.h(this.restEncoder,e)}writeKey(e){void 0===this.keyMap.get(e)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const pe=(e,t,n)=>{const a=new Map;n.forEach((e,n)=>{Be(t,n)>e&&a.set(n,e)}),Pe(t).forEach((e,t)=>{n.has(t)||a.set(t,0)}),s.n(e.restEncoder,a.size),Array.from(a.entries()).sort((e,t)=>t[0]-e[0]).forEach(([n,a])=>{((e,t,n,a)=>{a=o.f(a,t[0].id.clock);const r=ze(t,a);s.n(e.restEncoder,t.length-r),e.writeClient(n),s.n(e.restEncoder,a);const i=t[r];i.write(e,a-i.id.clock);for(let n=r+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(n),n,a)})},he=(e,t,n,a=new le(e))=>et(t,e=>{e.local=!1;let t=!1;const n=e.doc,r=n.store,o=((e,t,n)=>{const a=[];let r=Array.from(n.keys()).sort((e,t)=>e-t);if(0===r.length)return null;const o=()=>{if(0===r.length)return null;let e=n.get(r[r.length-1]);for(;e.refs.length===e.i;){if(r.pop(),!(r.length>0))return null;e=n.get(r[r.length-1])}return e};let l=o();if(null===l&&0===a.length)return null;const c=new Le,u=new Map,d=(e,t)=>{const n=u.get(e);(null==n||n>t)&&u.set(e,t)};let m=l.refs[l.i++];const p=new Map,h=()=>{for(const e of a){const t=e.id.client,a=n.get(t);a?(a.i--,c.clients.set(t,a.refs.slice(a.i)),n.delete(t),a.i=0,a.refs=[]):c.clients.set(t,[e]),r=r.filter(e=>e!==t)}a.length=0};for(;;){if(m.constructor!==In){const r=i.e(p,m.id.client,()=>Be(t,m.id.client))-m.id.clock;if(r<0)a.push(m),d(m.id.client,m.id.clock-1),h();else{const o=m.getMissing(e,t);if(null!==o){a.push(m);const e=n.get(o)||{refs:[],i:0};if(e.refs.length!==e.i){m=e.refs[e.i++];continue}d(o,Be(t,o)),h()}else(0===r||r<m.length)&&(m.integrate(e,r),p.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(null!==l&&l.i<l.refs.length)m=l.refs[l.i++];else{if(l=o(),null===l)break;m=l.refs[l.i++]}}if(c.clients.size>0){const e=new me;return pe(e,c,new Map),s.n(e.restEncoder,0),{missing:u,update:e.toUint8Array()}}return null})(e,r,((e,t)=>{const n=i.c(),a=l.k(e.restDecoder);for(let r=0;r<a;r++){const a=l.k(e.restDecoder),r=new Array(a),o=e.readClient();let i=l.k(e.restDecoder);n.set(o,{i:0,refs:r});for(let n=0;n<a;n++){const a=e.readInfo();switch(b.i&a){case 0:{const t=e.readLen();r[n]=new ln(Ne(o,i),t),i+=t;break}case 10:{const t=l.k(e.restDecoder);r[n]=new In(Ne(o,i),t),i+=t;break}default:{const s=0==(a&(b.f|b.g)),l=new Dn(Ne(o,i),null,(a&b.g)===b.g?e.readLeftID():null,null,(a&b.f)===b.f?e.readRightID():null,s?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,s&&(a&b.e)===b.e?e.readString():null,Tn(e,a));r[n]=l,i+=l.length}}}}return n})(a,n)),c=r.pendingStructs;if(c){for(const[e,n]of c.missing)if(n<Be(r,e)){t=!0;break}if(o){for(const[e,t]of o.missing){const n=c.missing.get(e);(null==n||n>t)&&c.missing.set(e,t)}c.update=ot([c.update,o.update])}}else r.pendingStructs=o;const u=ne(a,e,r);if(r.pendingDs){const t=new le(l.e(r.pendingDs));l.k(t.restDecoder);const n=ne(t,e,r);r.pendingDs=u&&n?ot([u,n]):u||n}else r.pendingDs=u;if(t){const t=r.pendingStructs.update;r.pendingStructs=null,fe(e.doc,t)}},n,!1),fe=(e,t,n,a=le)=>{const r=l.e(t);he(r,e,n,new a(r))},ge=(e,t,n)=>fe(e,t,n,ie),be=(e,t=new Uint8Array([0]),n=new me)=>{((e,t,n=new Map)=>{pe(e,t.store,n),ee(e,J(t.store))})(n,e,xe(t));const a=[n.toUint8Array()];if(e.store.pendingDs&&a.push(e.store.pendingDs),e.store.pendingStructs&&a.push(it(e.store.pendingStructs.update,t)),a.length>1){if(n.constructor===ue)return at(a.map((e,t)=>0===t?e:ut(e)));if(n.constructor===me)return ot(a)}return a[0]},ve=(e,t)=>be(e,t,new ue),ye=e=>{const t=new Map,n=l.k(e.restDecoder);for(let a=0;a<n;a++){const n=l.k(e.restDecoder),a=l.k(e.restDecoder);t.set(n,a)}return t},xe=e=>ye(new oe(l.e(e))),we=(e,t)=>(s.n(e.restEncoder,t.size),t.forEach((t,n)=>{s.n(e.restEncoder,n),s.n(e.restEncoder,t)}),e),Ee=(e,t=new de)=>(e instanceof Map?we(t,e):((e,t)=>{we(e,Pe(t.store))})(t,e),t.toUint8Array()),Se=e=>Ee(e,new ce);class Ce{constructor(){this.l=[]}}const ke=()=>new Ce,Oe=(e,t)=>e.l.push(t),De=(e,t)=>{const n=e.l,a=n.length;e.l=n.filter(e=>t!==e),a===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Te=(e,t,n)=>v.a(e.l,[t,n]);class je{constructor(e,t){this.client=e,this.clock=t}}const Ie=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Ne=(e,t)=>new je(e,t),Re=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw g()};class Ae{constructor(e,t){this.ds=e,this.sv=t}}const _e=(e,t)=>new Ae(e,t),Fe=(_e(Q(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Y(t.ds,e.id)),Me=(e,t)=>{const n=i.e(e.meta,Me,y.a),a=e.doc.store;n.has(t)||(t.sv.forEach((t,n)=>{t<Be(a,n)&&qe(e,Ne(n,t))}),W(e,t.ds,e=>{}),n.add(t))};class Le{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Pe=e=>{const t=new Map;return e.clients.forEach((e,n)=>{const a=e[e.length-1];t.set(n,a.id.clock+a.length)}),t},Be=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const a=n[n.length-1];return a.id.clock+a.length},$e=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw g()}n.push(t)},ze=(e,t)=>{let n=0,a=e.length-1,r=e[a],i=r.id.clock;if(i===t)return a;let s=o.c(t/(i+r.length-1)*a);for(;n<=a;){if(r=e[s],i=r.id.clock,i<=t){if(t<i+r.length)return s;n=s+1}else a=s-1;s=o.c((n+a)/2)}throw g()},Ve=(e,t)=>{const n=e.clients.get(t.client);return n[ze(n,t.clock)]},He=(e,t,n)=>{const a=ze(t,n),r=t[a];return r.id.clock<n&&r instanceof Dn?(t.splice(a+1,0,On(e,r,n-r.id.clock)),a+1):a},qe=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[He(e,n,t.clock)]},Ue=(e,t,n)=>{const a=t.clients.get(n.client),r=ze(a,n.clock),o=a[r];return n.clock!==o.id.clock+o.length-1&&o.constructor!==ln&&a.splice(r+1,0,On(e,o,n.clock-o.id.clock+1)),o},Ge=(e,t,n,a,r)=>{if(0===a)return;const o=n+a;let i,s=He(e,t,n);do{i=t[s++],o<i.id.clock+i.length&&He(e,t,o),r(i)}while(s<t.length&&t[s].id.clock<o)};class We{constructor(e,t,n){this.doc=e,this.deleteSet=new G,this.beforeState=Pe(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Ye=(e,t)=>!(0===t.deleteSet.clients.size&&!i.a(t.afterState,(e,n)=>t.beforeState.get(n)!==e))&&(K(t.deleteSet),((e,t)=>{pe(e,t.doc.store,t.beforeState)})(e,t),ee(e,t.deleteSet),!0),Ke=(e,t,n)=>{const a=t._item;(null===a||a.id.clock<(e.beforeState.get(a.id.client)||0)&&!a.deleted)&&i.e(e.changed,t,y.a).add(n)},Ze=(e,t)=>{const n=e[t-1],a=e[t];n.deleted===a.deleted&&n.constructor===a.constructor&&n.mergeWith(a)&&(e.splice(t,1),a instanceof Dn&&null!==a.parentSub&&a.parent._map.get(a.parentSub)===a&&a.parent._map.set(a.parentSub,n))},Xe=(e,t,n)=>{for(const[a,r]of e.clients.entries()){const e=t.clients.get(a);for(let a=r.length-1;a>=0;a--){const o=r[a],i=o.clock+o.len;for(let a=ze(e,o.clock),r=e[a];a<e.length&&r.id.clock<i;r=e[++a]){const r=e[a];if(o.clock+o.len<=r.id.clock)break;r instanceof Dn&&r.deleted&&!r.keep&&n(r)&&r.gc(t,!1)}}}},Qe=(e,t)=>{e.clients.forEach((e,n)=>{const a=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=o.g(a.length-1,1+ze(a,n.clock+n.len-1)),t=a[e];e>0&&t.id.clock>=n.clock;t=a[--e])Ze(a,e)}})},Je=(e,t)=>{if(t<e.length){const n=e[t],a=n.doc,r=a.store,i=n.deleteSet,s=n._mergeStructs;try{K(i),n.afterState=Pe(n.doc.store),a._transaction=null,a.emit("beforeObserverCalls",[n,a]);const l=[];n.changed.forEach((e,t)=>l.push(()=>{null!==t._item&&t._item.deleted||t._callObserver(n,e)})),l.push(()=>{n.changedParentTypes.forEach((e,t)=>l.push(()=>{null!==t._item&&t._item.deleted||((e=e.filter(e=>null===e.target._item||!e.target._item.deleted)).forEach(e=>{e.currentTarget=t}),e.sort((e,t)=>e.path.length-t.path.length),Te(t._dEH,e,n))})),l.push(()=>a.emit("afterTransaction",[n,a]))}),Object(v.a)(l,[])}finally{a.gc&&Xe(i,r,a.gcFilter),Qe(i,r),n.afterState.forEach((e,t)=>{const a=n.beforeState.get(t)||0;if(a!==e){const e=r.clients.get(t),n=o.f(ze(e,a),1);for(let t=e.length-1;t>=n;t--)Ze(e,t)}});for(let e=0;e<s.length;e++){const{client:t,clock:n}=s[e].id,a=r.clients.get(t),o=ze(a,n);o+1<a.length&&Ze(a,o+1),o>0&&Ze(a,o)}if(n.local||n.afterState.get(a.clientID)===n.beforeState.get(a.clientID)||(a.clientID=ae(),$(F,T,"[yjs] ",j,A,"Changed the client-id because another client seems to be using it.")),a.emit("afterTransactionCleanup",[n,a]),a._observers.has("update")){const e=new ue;Ye(e,n)&&a.emit("update",[e.toUint8Array(),n.origin,a,n])}if(a._observers.has("updateV2")){const e=new me;Ye(e,n)&&a.emit("updateV2",[e.toUint8Array(),n.origin,a,n])}n.subdocsAdded.forEach(e=>a.subdocs.add(e)),n.subdocsRemoved.forEach(e=>a.subdocs.delete(e)),a.emit("subdocs",[{loaded:n.subdocsLoaded,added:n.subdocsAdded,removed:n.subdocsRemoved}]),n.subdocsRemoved.forEach(e=>e.destroy()),e.length<=t+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,e])):Je(e,t+1)}}},et=(e,t,n=null,a=!0)=>{const r=e._transactionCleanups;let o=!1;null===e._transaction&&(o=!0,e._transaction=new We(e,n,a),r.push(e._transaction),1===r.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{o&&r[0]===e._transaction&&Je(r,0)}};a.a;class tt{constructor(e,t){this.gen=function*(e){const t=l.k(e.restDecoder);for(let n=0;n<t;n++){const t=l.k(e.restDecoder),n=e.readClient();let a=l.k(e.restDecoder);for(let r=0;r<t;r++){const t=e.readInfo();if(10===t){const t=l.k(e.restDecoder);yield new In(Ne(n,a),t),a+=t}else if(0!=(b.i&t)){const r=0==(t&(b.f|b.g)),o=new Dn(Ne(n,a),null,(t&b.g)===b.g?e.readLeftID():null,null,(t&b.f)===b.f?e.readRightID():null,r?e.readParentInfo()?e.readString():e.readLeftID():null,r&&(t&b.e)===b.e?e.readString():null,Tn(e,t));yield o,a+=o.length}else{const t=e.readLen();yield new ln(Ne(n,a),t),a+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===In);return this.curr}}class nt{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const at=e=>ot(e,ie,ue),rt=(e,t)=>{if(e.constructor===ln){const{client:n,clock:a}=e.id;return new ln(Ne(n,a+t),e.length-t)}if(e.constructor===In){const{client:n,clock:a}=e.id;return new In(Ne(n,a+t),e.length-t)}{const n=e,{client:a,clock:r}=n.id;return new Dn(Ne(a,r+t),null,Ne(a,r+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},ot=(e,t=le,n=me)=>{if(1===e.length)return e[0];const a=e.map(e=>new t(l.e(e)));let r=a.map(e=>new tt(e,!0)),o=null;const i=new n,s=new nt(i);for(;r=r.filter(e=>null!==e.curr),r.sort((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===In?1:-1:n}return t.curr.id.client-e.curr.id.client}),0!==r.length;){const e=r[0],t=e.curr.id.client;if(null!==o){let n=e.curr,a=!1;for(;null!==n&&n.id.clock+n.length<=o.struct.id.clock+o.struct.length&&n.id.client>=o.struct.id.client;)n=e.next(),a=!0;if(null===n||n.id.client!==t||a&&n.id.clock>o.struct.id.clock+o.struct.length)continue;if(t!==o.struct.id.client)lt(s,o.struct,o.offset),o={struct:n,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<n.id.clock)if(o.struct.constructor===In)o.struct.length=n.id.clock+n.length-o.struct.id.clock;else{lt(s,o.struct,o.offset);const e=n.id.clock-o.struct.id.clock-o.struct.length;o={struct:new In(Ne(t,o.struct.id.clock+o.struct.length),e),offset:0}}else{const t=o.struct.id.clock+o.struct.length-n.id.clock;t>0&&(o.struct.constructor===In?o.struct.length-=t:n=rt(n,t)),o.struct.mergeWith(n)||(lt(s,o.struct,o.offset),o={struct:n,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===o.struct.id.clock+o.struct.length&&n.constructor!==In;n=e.next())lt(s,o.struct,o.offset),o={struct:n,offset:0}}null!==o&&(lt(s,o.struct,o.offset),o=null),ct(s);const c=a.map(e=>te(e)),u=Z(c);return ee(i,u),i.toUint8Array()},it=(e,t,n=le,a=me)=>{const r=xe(t),i=new a,s=new nt(i),c=new n(l.e(e)),u=new tt(c,!1);for(;u.curr;){const e=u.curr,t=e.id.client,n=r.get(t)||0;if(u.curr.constructor!==In)if(e.id.clock+e.length>n)for(lt(s,e,o.f(n-e.id.clock,0)),u.next();u.curr&&u.curr.id.client===t;)lt(s,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===t&&u.curr.id.clock+u.curr.length<=n;)u.next();else u.next()}ct(s);const d=te(c);return ee(i,d),i.toUint8Array()},st=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:s.g(e.encoder.restEncoder)}),e.encoder.restEncoder=s.e(),e.written=0)},lt=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&st(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),s.n(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},ct=e=>{st(e);const t=e.encoder.restEncoder;s.n(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const a=e.clientStructs[n];s.n(t,a.written),s.k(t,a.restEncoder)}},ut=e=>((e,t,n)=>{const a=new t(l.e(e)),r=new tt(a,!1),o=new n,i=new nt(o);for(let e=r.curr;null!==e;e=r.next())lt(i,e,0);ct(i);const s=te(a);return ee(o,s),o.toUint8Array()})(e,le,ue);class dt{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null}get path(){return mt(this.currentTarget,this.target)}deletes(e){return Y(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){const e=new Map,t=this.target;this.transaction.changed.get(t).forEach(n=>{if(null!==n){const a=t._map.get(n);let o,i;if(this.adds(a)){let e=a.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(a)){if(null===e||!this.deletes(e))return;o="delete",i=r.d(e.content.getContent())}else null!==e&&this.deletes(e)?(o="update",i=r.d(e.content.getContent())):(o="add",i=void 0)}else{if(!this.deletes(a))return;o="delete",i=r.d(a.content.getContent())}e.set(n,{action:o,oldValue:i})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){const t=this.target,n=y.a(),a=y.a(),r=[];if(e={added:n,deleted:a,delta:r,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null;const o=()=>{e&&r.push(e)};for(let r=t._start;null!==r;r=r.right)r.deleted?this.deletes(r)&&!this.adds(r)&&(null!==e&&void 0!==e.delete||(o(),e={delete:0}),e.delete+=r.length,a.add(r)):this.adds(r)?(null!==e&&void 0!==e.insert||(o(),e={insert:[]}),e.insert=e.insert.concat(r.content.getContent()),n.add(r)):(null!==e&&void 0!==e.retain||(o(),e={retain:0}),e.retain+=r.length);null!==e&&void 0===e.retain&&o()}this._changes=e}return e}}const mt=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,a=t._item.parent._start;for(;a!==t._item&&null!==a;)a.deleted||e++,a=a.right;n.unshift(e)}t=t._item.parent}return n};let pt=0;class ht{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=pt++}}const ft=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=pt++},gt=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce((e,n)=>o.a(t-e.index)<o.a(t-n.index)?e:n);let a=e._start,r=0;for(null!==n&&(a=n.p,r=n.index,(e=>{e.timestamp=pt++})(n));null!==a.right&&r<t;){if(!a.deleted&&a.countable){if(t<r+a.length)break;r+=a.length}a=a.right}for(;null!==a.left&&r>t;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);for(;null!==a.left&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);return null!==n&&o.a(n.index-r)<a.parent.length/80?(ft(n,a,r),n):((e,t,n)=>{if(e.length>=80){const a=e.reduce((e,t)=>e.timestamp<t.timestamp?e:t);return ft(a,t,n),a}{const a=new ht(t,n);return e.push(a),a}})(e._searchMarker,a,r)},bt=(e,t,n)=>{for(let a=e.length-1;a>=0;a--){const r=e[a];if(n>0){let t=r.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(r.index-=t.length);if(null===t||!0===t.marker){e.splice(a,1);continue}r.p=t,t.marker=!0}(t<r.index||n>0&&t===r.index)&&(r.index=o.f(t,r.index+n))}},vt=(e,t,n)=>{const a=e,r=t.changedParentTypes;for(;i.e(r,e,()=>[]).push(n),null!==e._item;)e=e._item.parent;Te(a._eH,n,t)};class yt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ke(),this._dEH=ke(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw f()}clone(){throw f()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Oe(this._eH,e)}observeDeep(e){Oe(this._dEH,e)}unobserve(e){De(this._eH,e)}unobserveDeep(e){De(this._dEH,e)}toJSON(){}}const xt=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let a=n-t;const r=[];let o=e._start;for(;null!==o&&a>0;){if(o.countable&&!o.deleted){const e=o.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&a>0;n++)r.push(e[n]),a--;t=0}}o=o.right}return r},wt=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},Et=(e,t)=>{let n=0,a=e._start;for(;null!==a;){if(a.countable&&!a.deleted){const r=a.content.getContent();for(let a=0;a<r.length;a++)t(r[a],n++,e)}a=a.right}},St=(e,t)=>{const n=[];return Et(e,(a,r)=>{n.push(t(a,r,e))}),n},Ct=e=>{let t=e._start,n=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),a=0,t=t.right}const e=n[a++];return n.length<=a&&(n=null),{done:!1,value:e}}}},kt=(e,t)=>{const n=gt(e,t);let a=e._start;for(null!==n&&(a=n.p,t-=n.index);null!==a;a=a.right)if(!a.deleted&&a.countable){if(t<a.length)return a.content.getContent()[t];t-=a.length}},Ot=(e,t,n,a)=>{let r=n;const o=e.doc,i=o.clientID,s=o.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(r=new Dn(Ne(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new fn(c)),r.integrate(e,0),c=[])};a.forEach(n=>{switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:r=new Dn(Ne(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new cn(new Uint8Array(n))),r.integrate(e,0);break;case re:r=new Dn(Ne(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new dn(n)),r.integrate(e,0);break;default:if(!(n instanceof yt))throw new Error("Unexpected content type in insert operation");r=new Dn(Ne(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new kn(n)),r.integrate(e,0)}}}),u()},Dt=h("Length exceeded!"),Tt=(e,t,n,a)=>{if(n>t._length)throw Dt;if(0===n)return t._searchMarker&&bt(t._searchMarker,n,a.length),Ot(e,t,null,a);const r=n,o=gt(t,n);let i=t._start;for(null!==o&&(i=o.p,0===(n-=o.index)&&(i=i.prev,n+=i&&i.countable&&!i.deleted?i.length:0));null!==i;i=i.right)if(!i.deleted&&i.countable){if(n<=i.length){n<i.length&&qe(e,Ne(i.id.client,i.id.clock+n));break}n-=i.length}return t._searchMarker&&bt(t._searchMarker,r,a.length),Ot(e,t,i,a)},jt=(e,t,n,a)=>{if(0===a)return;const r=n,o=a,i=gt(t,n);let s=t._start;for(null!==i&&(s=i.p,n-=i.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&qe(e,Ne(s.id.client,s.id.clock+n)),n-=s.length);for(;a>0&&null!==s;)s.deleted||(a<s.length&&qe(e,Ne(s.id.client,s.id.clock+a)),s.delete(e),a-=s.length),s=s.right;if(a>0)throw Dt;t._searchMarker&&bt(t._searchMarker,r,-o+a)},It=(e,t,n)=>{const a=t._map.get(n);void 0!==a&&a.delete(e)},Nt=(e,t,n,a)=>{const r=t._map.get(n)||null,o=e.doc,i=o.clientID;let s;if(null==a)s=new fn([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:s=new fn([a]);break;case Uint8Array:s=new cn(a);break;case re:s=new dn(a);break;default:if(!(a instanceof yt))throw new Error("Unexpected content type");s=new kn(a)}new Dn(Ne(i,Be(o.store,i)),r,r&&r.lastId,null,null,t,n,s).integrate(e,0)},Rt=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},At=e=>{const t={};return e._map.forEach((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])}),t},_t=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Ft=e=>{return t=e.entries(),n=e=>!e[1].deleted,V(()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e});var t,n};class Mt extends dt{constructor(e,t){super(e,t),this._transaction=t}}class Lt extends yt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new Lt;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Lt}clone(){const e=new Lt;return e.insert(0,this.toArray().map(e=>e instanceof yt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),vt(this,e,new Mt(this,e))}insert(e,t){null!==this.doc?et(this.doc,n=>{Tt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?et(this.doc,n=>{jt(n,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return kt(this,e)}toArray(){return wt(this)}slice(e=0,t=this.length){return xt(this,e,t)}toJSON(){return this.map(e=>e instanceof yt?e.toJSON():e)}map(e){return St(this,e)}forEach(e){Et(this,e)}[Symbol.iterator](){return Ct(this)}_write(e){e.writeTypeRef(vn)}}class Pt extends dt{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Bt extends yt{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((e,t)=>{this.set(t,e)}),this._prelimContent=null}_copy(){return new Bt}clone(){const e=new Bt;return this.forEach((t,n)=>{e.set(n,t instanceof yt?t.clone():t)}),e}_callObserver(e,t){vt(this,e,new Pt(this,e,t))}toJSON(){const e={};return this._map.forEach((t,n)=>{if(!t.deleted){const a=t.content.getContent()[t.length-1];e[n]=a instanceof yt?a.toJSON():a}}),e}get size(){return[...Ft(this._map)].length}keys(){return H(Ft(this._map),e=>e[0])}values(){return H(Ft(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return H(Ft(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){return this._map.forEach((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}),{}}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return Rt(this,e)}has(e){return _t(this,e)}clear(){null!==this.doc?et(this.doc,e=>{this.forEach((function(t,n,a){It(e,a,n)}))}):this._prelimContent.clear()}_write(e){e.writeTypeRef(yn)}}const $t=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&q.a(e,t);class zt{constructor(e,t,n,a){this.left=e,this.right=t,this.index=n,this.currentAttributes=a}forward(){switch(null===this.right&&g(),this.right.content.constructor){case mn:case gn:this.right.deleted||(this.index+=this.right.length);break;case pn:this.right.deleted||Ut(this.currentAttributes,this.right.content)}this.left=this.right,this.right=this.right.right}}const Vt=(e,t,n)=>{for(;null!==t.right&&n>0;){switch(t.right.content.constructor){case mn:case gn:t.right.deleted||(n<t.right.length&&qe(e,Ne(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break;case pn:t.right.deleted||Ut(t.currentAttributes,t.right.content)}t.left=t.right,t.right=t.right.right}return t},Ht=(e,t,n)=>{const a=new Map,r=gt(t,n);if(r){const t=new zt(r.p.left,r.p,r.index,a);return Vt(e,t,n-r.index)}{const r=new zt(null,t._start,0,a);return Vt(e,r,n)}},qt=(e,t,n,a)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===pn&&$t(a.get(n.right.content.key),n.right.content.value));)n.right.deleted||a.delete(n.right.content.key),n.forward();const r=e.doc,o=r.clientID;a.forEach((a,i)=>{const s=n.left,l=n.right,c=new Dn(Ne(o,Be(r.store,o)),s,s&&s.lastId,l,l&&l.id,t,null,new pn(i,a));c.integrate(e,0),n.right=c,n.forward()})},Ut=(e,t)=>{const{key:n,value:a}=t;null===a?e.delete(n):e.set(n,a)},Gt=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===pn&&$t(t[e.right.content.key]||null,e.right.content.value));)e.forward()},Wt=(e,t,n,a)=>{const r=e.doc,o=r.clientID,i=new Map;for(const s in a){const l=a[s],c=n.currentAttributes.get(s)||null;if(!$t(c,l)){i.set(s,c);const{left:a,right:u}=n;n.right=new Dn(Ne(o,Be(r.store,o)),a,a&&a.lastId,u,u&&u.id,t,null,new pn(s,l)),n.right.integrate(e,0),n.forward()}}return i},Yt=(e,t,n,a,r)=>{n.currentAttributes.forEach((e,t)=>{void 0===r[t]&&(r[t]=null)});const o=e.doc,i=o.clientID;Gt(n,r);const s=Wt(e,t,n,r),l=a.constructor===String?new gn(a):new mn(a);let{left:c,right:u,index:d}=n;t._searchMarker&&bt(t._searchMarker,n.index,l.getLength()),u=new Dn(Ne(i,Be(o.store,i)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),qt(e,t,n,s)},Kt=(e,t,n,a,r)=>{const o=e.doc,i=o.clientID;Gt(n,r);const s=Wt(e,t,n,r);for(;a>0&&null!==n.right;){if(!n.right.deleted)switch(n.right.content.constructor){case pn:{const{key:t,value:a}=n.right.content,o=r[t];void 0!==o&&($t(o,a)?s.delete(t):s.set(t,a),n.right.delete(e));break}case mn:case gn:a<n.right.length&&qe(e,Ne(n.right.id.client,n.right.id.clock+a)),a-=n.right.length}n.forward()}if(a>0){let r="";for(;a>0;a--)r+="\n";n.right=new Dn(Ne(i,Be(o.store,i)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new gn(r)),n.right.integrate(e,0),n.forward()}qt(e,t,n,s)},Zt=(e,t,n,a,r)=>{for(;n&&n.content.constructor!==gn&&n.content.constructor!==mn;)n.deleted||n.content.constructor!==pn||Ut(r,n.content),n=n.right;let o=0;for(;t!==n;){if(!t.deleted){const n=t.content;switch(n.constructor){case pn:{const{key:i,value:s}=n;(r.get(i)||null)===s&&(a.get(i)||null)!==s||(t.delete(e),o++);break}}}t=t.right}return o},Xt=(e,t,n)=>{const a=n,r=i.b(t.currentAttributes),o=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case mn:case gn:n<t.right.length&&qe(e,Ne(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&Zt(e,o,t.right,r,i.b(t.currentAttributes));const s=(t.left||t.right).parent;return s._searchMarker&&bt(s._searchMarker,t.index,-a+n),t};class Qt extends dt{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)})}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];et(e,e=>{const n=new Map,a=new Map;let r=this.target._start,o=null;const i={};let s="",l=0,c=0;const u=()=>{if(null!==o){let e;switch(o){case"delete":e={delete:c},c=0;break;case"insert":e={insert:s},n.size>0&&(e.attributes={},n.forEach((t,n)=>{null!==t&&(e.attributes[n]=t)})),s="";break;case"retain":if(e={retain:l},Object.keys(i).length>0){e.attributes={};for(const t in i)e.attributes[t]=i[t]}l=0}t.push(e),o=null}};for(;null!==r;){switch(r.content.constructor){case mn:this.adds(r)?this.deletes(r)||(u(),o="insert",s=r.content.embed,u()):this.deletes(r)?("delete"!==o&&(u(),o="delete"),c+=1):r.deleted||("retain"!==o&&(u(),o="retain"),l+=1);break;case gn:this.adds(r)?this.deletes(r)||("insert"!==o&&(u(),o="insert"),s+=r.content.str):this.deletes(r)?("delete"!==o&&(u(),o="delete"),c+=r.length):r.deleted||("retain"!==o&&(u(),o="retain"),l+=r.length);break;case pn:{const{key:t,value:s}=r.content;if(this.adds(r)){if(!this.deletes(r)){const l=n.get(t)||null;$t(l,s)?r.delete(e):("retain"===o&&u(),$t(s,a.get(t)||null)?delete i[t]:i[t]=s)}}else if(this.deletes(r)){a.set(t,s);const e=n.get(t)||null;$t(e,s)||("retain"===o&&u(),i[t]=e)}else if(!r.deleted){a.set(t,s);const n=i[t];void 0!==n&&($t(n,s)?r.delete(e):("retain"===o&&u(),null===s?i[t]=s:delete i[t]))}r.deleted||("insert"===o&&u(),Ut(n,r.content));break}}r=r.right}for(u();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}}),this._delta=t}return this._delta}}class Jt extends yt{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(e=>e())}catch(e){console.error(e)}this._pending=null}_copy(){return new Jt}clone(){const e=new Jt;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new Qt(this,e,t),a=e.doc;if(vt(this,e,n),!e.local){let t=!1;for(const[n,r]of e.afterState.entries()){const o=e.beforeState.get(n)||0;if(r!==o&&(Ge(e,a.store.clients.get(n),o,r,e=>{e.deleted||e.content.constructor!==pn||(t=!0)}),t))break}t||W(e,e.deleteSet,e=>{e instanceof ln||t||e.parent===this&&e.content.constructor===pn&&(t=!0)}),et(a,e=>{t?(e=>{let t=0;et(e.doc,n=>{let a=e._start,r=e._start,o=i.c();const s=i.b(o);for(;r;){if(!1===r.deleted)switch(r.content.constructor){case pn:Ut(s,r.content);break;case mn:case gn:t+=Zt(n,a,r,o,s),o=i.b(s),a=r}r=r.right}})})(this):W(e,e.deleteSet,t=>{t instanceof ln||t.parent===this&&((e,t)=>{for(;t&&t.right&&(t.right.deleted||t.right.content.constructor!==gn&&t.right.content.constructor!==mn);)t=t.right;const n=new Set;for(;t&&(t.deleted||t.content.constructor!==gn&&t.content.constructor!==mn);){if(!t.deleted&&t.content.constructor===pn){const a=t.content.key;n.has(a)?t.delete(e):n.add(a)}t=t.left}})(e,t)})})}}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===gn&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?et(this.doc,n=>{const a=new zt(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const o=e[r];if(void 0!==o.insert){const i=t||"string"!=typeof o.insert||r!==e.length-1||null!==a.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!=typeof i||i.length>0)&&Yt(n,this,a,i,o.attributes||{})}else void 0!==o.retain?Kt(n,this,a,o.retain,o.attributes||{}):void 0!==o.delete&&Xt(n,a,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,n){const a=[],r=new Map,o=this.doc;let i="",s=this._start;function l(){if(i.length>0){const e={};let t=!1;r.forEach((n,a)=>{t=!0,e[a]=n});const n={insert:i};t&&(n.attributes=e),a.push(n),i=""}}return et(o,o=>{for(e&&Me(o,e),t&&Me(o,t);null!==s;){if(Fe(s,e)||void 0!==t&&Fe(s,t))switch(s.content.constructor){case gn:{const a=r.get("ychange");void 0===e||Fe(s,e)?void 0===t||Fe(s,t)?void 0!==a&&(l(),r.delete("ychange")):void 0!==a&&a.user===s.id.client&&"added"===a.state||(l(),r.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==a&&a.user===s.id.client&&"removed"===a.state||(l(),r.set("ychange",n?n("removed",s.id):{type:"removed"})),i+=s.content.str;break}case mn:{l();const e={insert:s.content.embed};if(r.size>0){const t={};e.attributes=t,r.forEach((e,n)=>{t[n]=e})}a.push(e);break}case pn:Fe(s,e)&&(l(),Ut(r,s.content))}s=s.right}l()},Me),a}insert(e,t,n){if(t.length<=0)return;const a=this.doc;null!==a?et(a,a=>{const r=Ht(a,this,e);n||(n={},r.currentAttributes.forEach((e,t)=>{n[t]=e})),Yt(a,this,r,t,n)}):this._pending.push(()=>this.insert(e,t,n))}insertEmbed(e,t,n={}){if(t.constructor!==Object)throw new Error("Embed must be an Object");const a=this.doc;null!==a?et(a,a=>{const r=Ht(a,this,e);Yt(a,this,r,t,n)}):this._pending.push(()=>this.insertEmbed(e,t,n))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?et(n,n=>{Xt(n,Ht(n,this,e),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,n){if(0===t)return;const a=this.doc;null!==a?et(a,a=>{const r=Ht(a,this,e);null!==r.right&&Kt(a,this,r,t,n)}):this._pending.push(()=>this.format(e,t,n))}removeAttribute(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return Rt(this,e)}getAttributes(e){return At(this)}_write(e){e.writeTypeRef(xn)}}class en{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==nn&&t.constructor!==tn||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class tn extends yt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new tn}clone(){const e=new tn;return e.insert(0,this.toArray().map(e=>e instanceof yt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new en(this,e)}querySelector(e){e=e.toUpperCase();const t=new en(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new en(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){vt(this,e,new an(this,t,e))}toString(){return St(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const a=e.createDocumentFragment();return void 0!==n&&n._createAssociation(a,this),Et(this,r=>{a.insertBefore(r.toDOM(e,t,n),null)}),a}insert(e,t){null!==this.doc?et(this.doc,n=>{Tt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)et(this.doc,n=>{const a=e&&e instanceof yt?e._item:e;Ot(n,this,a,t)});else{const n=this._prelimContent,a=null===e?0:n.findIndex(t=>t===e)+1;if(0===a&&null!==e)throw h("Reference item not found");n.splice(a,0,...t)}}delete(e,t=1){null!==this.doc?et(this.doc,n=>{jt(n,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return wt(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return kt(this,e)}slice(e=0,t=this.length){return xt(this,e,t)}_write(e){e.writeTypeRef(En)}}class nn extends tn{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((e,t)=>{this.setAttribute(t,e)}),this._prelimAttrs=null}_copy(){return new nn(this.nodeName)}clone(){const e=new nn(this.nodeName),t=this.getAttributes();for(const n in t)e.setAttribute(n,t[n]);return e.insert(0,this.toArray().map(e=>e instanceof yt?e.clone():e)),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const a=n.length;for(let r=0;r<a;r++){const a=n[r];t.push(a+'="'+e[a]+'"')}const r=this.nodeName.toLocaleLowerCase();return`<${r}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${r}>`}removeAttribute(e){null!==this.doc?et(this.doc,t=>{It(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?et(this.doc,n=>{Nt(n,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return Rt(this,e)}hasAttribute(e){return _t(this,e)}getAttributes(e){return At(this)}toDOM(e=document,t={},n){const a=e.createElement(this.nodeName),r=this.getAttributes();for(const e in r)a.setAttribute(e,r[e]);return Et(this,r=>{a.appendChild(r.toDOM(e,t,n))}),void 0!==n&&n._createAssociation(a,this),a}_write(e){e.writeTypeRef(wn),e.writeKey(this.nodeName)}}class an extends dt{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)})}}class rn extends Bt{constructor(e){super(),this.hookName=e}_copy(){return new rn(this.hookName)}clone(){const e=new rn(this.hookName);return this.forEach((t,n)=>{e.set(n,t)}),e}toDOM(e=document,t={},n){const a=t[this.hookName];let r;return r=void 0!==a?a.createDom(this):document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Sn),e.writeKey(this.hookName)}}class on extends Jt{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new on}clone(){const e=new on;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const a=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(a,this),a}toString(){return this.toDelta().map(e=>{const t=[];for(const n in e.attributes){const a=[];for(const t in e.attributes[n])a.push({key:t,value:e.attributes[n][t]});a.sort((e,t)=>e.key<t.key?-1:1),t.push({nodeName:n,attrs:a})}t.sort((e,t)=>e.nodeName<t.nodeName?-1:1);let n="";for(let e=0;e<t.length;e++){const a=t[e];n+=`<${a.nodeName}`;for(let e=0;e<a.attrs.length;e++){const t=a.attrs[e];n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Cn)}}class sn{constructor(e,t){this.id=e,this.length=t}get deleted(){throw f()}mergeWith(e){return!1}write(e,t,n){throw f()}integrate(e,t){throw f()}}class ln extends sn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),$e(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class cn{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new cn(this.content)}splice(e){throw f()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class un{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new un(this.len)}splice(e){const t=new un(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){X(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}class dn{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new dn(this.doc)}splice(e){throw f()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class mn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new mn(this.embed)}splice(e){throw f()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class pn{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new pn(this.key,this.value)}splice(e){throw f()}mergeWith(e){return!1}integrate(e,t){t.parent._searchMarker=null}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class hn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new hn(this.arr)}splice(e){const t=new hn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}class fn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new fn(this.arr)}splice(e){const t=new fn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeAny(t)}}getRef(){return 8}}class gn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new gn(this.str)}splice(e){const t=new gn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",t.str="�"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const bn=[e=>new Lt,e=>new Bt,e=>new Jt,e=>new nn(e.readKey()),e=>new tn,e=>new rn(e.readKey()),e=>new on],vn=0,yn=1,xn=2,wn=3,En=4,Sn=5,Cn=6;class kn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new kn(this.type._copy())}splice(e){throw f()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;null!==t;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const On=(e,t,n)=>{const{client:a,clock:r}=t.id,o=new Dn(Ne(a,r+n),t,Ne(a,r+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=Ne(t.redone.client,t.redone.clock+n)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=n,o};class Dn extends sn{constructor(e,t,n,a,r,o,i,s){super(e,s.getLength()),this.origin=n,this.left=t,this.right=a,this.rightOrigin=r,this.parent=o,this.parentSub=i,this.redone=null,this.content=s,this.info=this.content.isCountable()?b.b:0}set marker(e){(this.info&b.d)>0!==e&&(this.info^=b.d)}get marker(){return(this.info&b.d)>0}get keep(){return(this.info&b.a)>0}set keep(e){this.keep!==e&&(this.info^=b.a)}get countable(){return(this.info&b.b)>0}get deleted(){return(this.info&b.c)>0}set deleted(e){this.deleted!==e&&(this.info^=b.c)}markDeleted(){this.info|=b.c}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Be(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Be(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===je&&this.id.client!==this.parent.client&&this.parent.clock>=Be(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Ue(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=qe(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ln||this.right&&this.right.constructor===ln)&&(this.parent=null),this.parent){if(this.parent.constructor===je){const e=Ve(t,this.parent);e.constructor===ln?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===Dn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Dn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=Ue(e,e.doc.store,Ne(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const a=new Set,r=new Set;for(;null!==t&&t!==this.right;){if(r.add(t),a.add(t),Ie(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,a.clear();else if(Ie(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!r.has(Ve(e.doc.store,t.origin)))break;a.has(Ve(e.doc.store,t.origin))||(n=t,a.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),$e(e.doc.store,this),this.content.integrate(e,this),Ke(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new ln(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:Ne(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Ie(e.origin,this.lastId)&&this.right===e&&Ie(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach(t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),X(e.deleteSet,this.id.client,this.id.clock,this.length),Ke(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw g();this.content.gc(e),t?((e,t,n)=>{const a=e.clients.get(t.id.client);a[ze(a,t.id.clock)]=n})(e,this,new ln(this.id,this.length)):this.content=new un(this.length)}write(e,t){const n=t>0?Ne(this.id.client,this.id.clock+t-1):this.origin,a=this.rightOrigin,r=this.parentSub,o=this.content.getRef()&b.i|(null===n?0:b.g)|(null===a?0:b.f)|(null===r?0:b.e);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==a&&e.writeRightID(a),null===n&&null===a){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=Re(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===je?(e.writeParentInfo(!1),e.writeLeftID(t)):g();null!==r&&e.writeString(r)}this.content.write(e,t)}}const Tn=(e,t)=>jn[t&b.i](e),jn=[()=>{g()},e=>new un(e.readLen()),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new hn(n)},e=>new cn(e.readBuf()),e=>new gn(e.readString()),e=>new mn(e.readJSON()),e=>new pn(e.readString(),e.readJSON()),e=>new kn(bn[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++)n.push(e.readAny());return new fn(n)},e=>new dn(new re({guid:e.readString(),...e.readAny()})),()=>{g()}];class In extends sn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){g()}write(e,t){e.writeInfo(10),s.n(e.restEncoder,this.length-t)}getMissing(e,t){return null}}},177:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g}));var a=n(25),r=n(16),o=n(103),i=n(5),s=n(11),l=n(12),c=n(94),u=n(9),d=n(202);var m=n(13);const p=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,i.ResourceType.Labels)===i.RemoteDataState.NotStarted&&e(Object(c.h)(i.RemoteDataState.Loading));const s=Object(u.a)(n),l=await Object(r.getLabels)({query:{orgID:s.id}});if(200!==l.status)throw new Error(l.data.message);const p=Object(a.a)((e=>e.filter(e=>!e.name.startsWith(d.c)))(l.data.labels),o.a);e(Object(c.h)(i.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(c.h)(i.RemoteDataState.Error)),e(Object(s.c)(Object(l.Ub)()))}},h=(e,t)=>async(n,d)=>{const m=Object(u.a)(d());try{const s=await Object(r.postLabel)({data:{orgID:m.id,name:e,properties:t}});if(201!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.label,o.b);n(Object(c.f)(s.data.label.id,i.RemoteDataState.Done,l))}catch(e){console.error(e),n(Object(s.c)(Object(l.bb)()))}},f=(e,t)=>async n=>{try{n(Object(c.f)(e,i.RemoteDataState.Loading));const s=await Object(r.patchLabel)({labelID:e,data:t});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.label,o.b);n(Object(c.f)(e,i.RemoteDataState.Done,l))}catch(e){console.error(e),n(Object(s.c)(Object(l.Nd)()))}},g=e=>async t=>{try{const n=await Object(r.deleteLabel)({labelID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(c.e)(e))}catch(e){console.error(e),t(Object(s.c)(Object(l.xb)()))}}},179:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return C}));var a=n(25),r=n(139),o=n(287),i=n(12),s=n(46),l=n(165),c=n(7),u=n(112),d=n(28);var m=function(e){const t=e.properties.queries.map(e=>{if("advanced"===e.editMode)return e;const t=Object(c.get)(e,"builderConfig.functions",[]),n=!!Object(c.get)(e,"text","").trim(),a=Object.assign(Object.assign({},e),{editMode:"advanced",builderConfig:Object(u.b)()});if(0===t.length&&n)return a;let r=!1,o=Object(c.get)(e,"builderConfig.aggregateWindow.period",null);null===o&&(r=!0,o=d.a);let i=Object(c.get)(e,"builderConfig.aggregateWindow.fillValues",null);null===i&&(r=!0,i=d.c);let s=Object(c.get)(e,"builderConfig",{});s=Object.assign(Object.assign({},s),{aggregateWindow:{period:o,fillValues:i}});const m=Object(c.get)(e,"text","");try{const t=r?Object(l.b)(s):m;return Object.assign(Object.assign({},e),{text:t,builderConfig:s})}catch(e){return a}});return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{queries:t})})},p=n(86),h=n(11),f=n(37),g=n(66),b=n(121),v=n(226),y=n(13),x=n(9),w=n(5);const E=(e,t)=>async n=>{const o=t.cellID;n(Object(b.h)(o,w.RemoteDataState.Loading));try{const i=await Object(r.c)(e,o,t),l=Object(a.a)(i,s.p);return n(Object(b.h)(o,w.RemoteDataState.Done,l)),i}catch(e){console.error(e),n(Object(b.h)(o,w.RemoteDataState.Error))}},S=(e,t)=>async(n,o)=>{const l=t.cellID;try{const i=await Object(r.c)(e,l,t),c=Object(v.b)(o(),e);c.splice(c.findIndex(e=>e.id===i.id),1,i);const u=Object(a.a)(i,s.p);n(Object(b.h)(l,w.RemoteDataState.Done,u))}catch(e){console.error(e),n(Object(h.c)(i.N())),n(Object(b.h)(l,w.RemoteDataState.Error))}},C=(e,t,n)=>async(a,s)=>{try{const i=s();let l=Object(y.f)(i,w.ResourceType.Views,t);l||(a(Object(b.h)(t,w.RemoteDataState.Loading)),l=await Object(r.b)(e,t));const c=m(l);a(Object(f.l)(n,{contextID:e,view:c}));const u=l.properties.queries.filter(({text:e})=>!!e.trim());u.length||a(Object(g.h)(w.RemoteDataState.Done,[],null));const{id:d}=Object(x.a)(i),h=u.map(({text:e})=>Object(o.b)(d,e,Object(p.g)(i))),v=(await Promise.all(h.map(e=>e.promise))).map(e=>e.csv);if(v)return void a(Object(g.h)(w.RemoteDataState.Done,v,null,null));a(Object(g.c)())}catch(e){console.error(e),a(Object(h.c)(i.gc(e.message))),a(Object(b.h)(t,w.RemoteDataState.Error))}}},182:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n(25),r=n(39),o=n(186),i=n(391),s=(n(11),n(142)),l=(n(12),n(5)),c=(n(166),n(9)),u=n(13),d=n(130),m=n(340),p=n(8);const h=async e=>await r.a.templates.get(e),f=()=>async(e,t)=>{const n=t();Object(u.h)(n,l.ResourceType.Templates)===l.RemoteDataState.NotStarted&&e(Object(s.q)(l.RemoteDataState.Loading));const o=Object(c.a)(n),d=await r.a.templates.getAll(o.id),m=Object(a.a)(d,i.a);e(Object(s.k)(m))},g=()=>e=>{e(Object(s.l)(l.RemoteDataState.NotStarted,null))},b=e=>async t=>{try{const n=await Object(o.e)(e);t(Object(s.m)(n))}catch(e){console.error(e)}},v=(e,t)=>async n=>{try{const a=await Object(o.d)(t),r=Object(m.l)(a);n(Object(s.p)(e,r))}catch(t){"dashboard"===e?Object(p.a)("Community template README failed",{context:e}):Object(d.b)(t,{name:`The community template github readme fetch failed for ${e}`}),n(Object(s.p)(e,"###### We can't find the readme associated with this template"))}}},187:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(454),i=n(4),s=n(213),l=n(3),c=(n(439),n(140)),u=n(108),d=n(45),m=n(222),p=n(367);const h=e=>Object(m.c)(e,"YYYY-MM-DD HH:mm")||Object(m.c)(e,"YYYY-MM-DD HH:mm:ss")||Object(m.c)(e,"YYYY-MM-DD HH:mm:ss.sss")||Object(m.c)(e,"YYYY-MM-DD")||Object(p.b)(e),f=e=>Object(m.c)(e,"YYYY-MM-DD")?"YYYY-MM-DD":Object(m.c)(e,"YYYY-MM-DD HH:mm")?"YYYY-MM-DD HH:mm":Object(m.c)(e,"YYYY-MM-DD HH:mm:ss")?"YYYY-MM-DD HH:mm:ss":Object(m.c)(e,"YYYY-MM-DD HH:mm:ss.sss")?"YYYY-MM-DD HH:mm:ss.sss":Object(p.b)(e)?d.b:null;class g extends a.PureComponent{constructor(){super(...arguments),this.inCurrentMonth=!1,this.state={inputValue:null,inputFormat:null},this.dayClassName=e=>(1===e.getDate()&&(this.inCurrentMonth=!this.inCurrentMonth),this.inCurrentMonth?"range-picker--day-in-month":"range-picker--day"),this.overrideInputState=()=>{const{dateTime:e,timeZone:t}=this.props,{inputFormat:n}=this.state;let a=new Date(e).toISOString();if(n){a=Object(c.a)(n,t).format(e)}this.setState({inputValue:a,inputFormat:f(a)})},this.handleSelectDate=e=>{const{onSelectDate:t,timeZone:n}=this.props;"UTC"===n&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),this.overrideInputState()},this.handleChangeInput=e=>{const{onSelectDate:t,timeZone:n}=this.props,a=e.target.value;if(h(a)){let e;return e=Object(p.b)(a)?new Date(s.DateTime.fromISO(a)):new Date(s.DateTime.fromFormat(a,Object(m.a)(f(a)))),"UTC"!==n||Object(p.b)(a)||e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),void this.setState({inputValue:a,inputFormat:f(a)})}this.setState({inputValue:a,inputFormat:null})}}componentDidUpdate(){this.isInputValueInvalid&&this.props.onInvalidInput()}render(){const{dateTime:e,label:t,maxDate:n,minDate:a,timeZone:i}=this.props,s=new Date(e);return"UTC"===i&&s.setMinutes(s.getMinutes()+s.getTimezoneOffset()),r.a.createElement("div",{className:"range-picker--date-picker"},r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthXS:l.Columns.Twelve},r.a.createElement(l.Form.Element,{label:t,errorMessage:this.inputErrorMessage},r.a.createElement(l.Input,{size:l.ComponentSize.Medium,className:"range-picker--input react-datepicker-ignore-onclickoutside",titleText:t,value:this.inputValue,onChange:this.handleChangeInput,status:this.inputStatus,testID:"timerange--input"})),r.a.createElement("div",{className:"range-picker--popper-container"},r.a.createElement(o.a,{inline:!0,selected:s,onChange:this.handleSelectDate,startOpen:!0,dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",shouldCloseOnSelect:!1,disabledKeyboardNavigation:!0,calendarClassName:"range-picker--calendar",dayClassName:this.dayClassName,timeIntervals:60,fixedHeight:!0,minDate:new Date(a),maxDate:new Date(n)})))))}get inputValue(){const{dateTime:e,timeZone:t}=this.props,{inputValue:n,inputFormat:a}=this.state;if(this.isInputValueInvalid)return n;if(Object(p.b)(e)&&a===d.b)return e;if(a){return Object(c.a)(a,t).format(new Date(e))}return Object(c.a)(d.a,t).format(new Date(e))}get isInputValueInvalid(){const{inputValue:e}=this.state;return null!==e&&!h(e)}get inputErrorMessage(){return this.isInputValueInvalid?"Format must be YYYY-MM-DD HH:mm:ss":"  "}get inputStatus(){return this.isInputValueInvalid?l.ComponentStatus.Error:l.ComponentStatus.Default}}t.a=Object(i.c)(e=>({timeZone:Object(u.d)(e)}))(g)},188:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(4),i=n(55),s=n(13),l=n(5);const c=r.a.createContext({id:"",type:"custom",query:null,statuses:[],thresholds:[],updateStatuses:()=>{},updateThresholds:()=>{}}),u=({children:e})=>{const{type:t,thresholds:n}=Object(o.e)(e=>e.alertBuilder),[i,s]=Object(a.useState)([]);return r.a.createElement(c.Provider,{value:{id:"new",type:t,query:null,statuses:i,thresholds:n,updateStatuses:s,updateThresholds:()=>{}}},e)};t.c=({id:e,children:t})=>{const n=Object(o.d)(),u=Object(o.e)(t=>Object(s.f)(t,l.ResourceType.Checks,e)),[d,m]=Object(a.useState)([]),p=Object(a.useCallback)(e=>{n(Object(i.q)(e))},[n]);return r.a.createElement(c.Provider,{value:{id:e,type:u.type,query:u.query,statuses:d,thresholds:"threshold"===u.type?u.thresholds:[],updateStatuses:m,updateThresholds:p}},t)}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(15),i=n.n(o),s=n(91),l=n(116);const c=/((http|https)?:\/\/[^\s]+)/g;function u(e){if(!1===(`${e}`.includes("http://")||`${e}`.includes("https://")))return e;const t=RegExp(c.source,c.flags),n=[];let a,o,i=0;do{o=t.exec(e),o&&(o.index-i>0&&n.push(e.slice(i,o.index)),a=e.slice(o.index,o.index+o[1].length),n.push(r.a.createElement("a",{href:a,target:"_blank",rel:"noreferrer"},a)),i=o.index+o[1].length)}while(o);return e.slice(i).length>0&&n.push(e.slice(i)),n}class d extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{data:e}=this.props;return this.isFieldName&&"string"==typeof e?this.props.onClickFieldName(e):null}}render(){const{data:e,rowIndex:t,columnIndex:n,onHover:a}=this.props;return 0===t?r.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,"data-testid":`${e}-table-header`,onMouseOver:a,title:this.contents},this.contents):r.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,onMouseOver:a,title:this.contents},u(this.contents))}get isFieldName(){return this.props.isVerticalTimeAxis?this.isFirstRow:this.isFirstCol}get isHighlightedRow(){const{parent:e,rowIndex:t,hoveredRowIndex:n}=this.props;return t===e.props.scrollToRow||t===n&&n>0}get isHighlightedColumn(){const{columnIndex:e,hoveredColumnIndex:t}=this.props;return e===t&&t>0}get isTimeData(){return this.props.isTimeVisible&&(this.props.isVerticalTimeAxis?!this.isFirstRow&&this.props.columnIndex===this.timeFieldIndex:this.props.rowIndex===this.timeFieldIndex&&this.isFirstCol)}get class(){return i()("table-graph-cell",{"table-graph-cell__fixed-row":this.isFixedRow,"table-graph-cell__fixed-column":this.isFixedColumn,"table-graph-cell__fixed-corner":this.isFixedCorner,"table-graph-cell__highlight-row":this.isHighlightedRow,"table-graph-cell__highlight-column":this.isHighlightedColumn,"table-graph-cell__numerical":!this.isNaN,"table-graph-cell__field-name":this.isFieldName,"table-graph-cell__sort-asc":this.isFieldName&&this.isSorted&&this.isAscending,"table-graph-cell__sort-desc":this.isFieldName&&this.isSorted&&!this.isAscending})}get isSorted(){const{sortOptions:e,data:t}=this.props;return e.field===t}get isAscending(){const{sortOptions:e}=this.props;return e.direction===s.a}get isFirstRow(){const{rowIndex:e}=this.props;return 0===e}get isFirstCol(){const{columnIndex:e}=this.props;return 0===e}get isFixedRow(){return this.isFirstRow&&!this.isFirstCol}get isFixedColumn(){return this.props.isFirstColumnFixed&&!this.isFirstRow&&this.isFirstCol}get isFixedCorner(){return this.isFirstRow&&this.isFirstCol}get isTimestamp(){return"dateTime:RFC3339"===this.props.dataType}get isNaN(){return isNaN(Number(this.props.data))}get isFixed(){return this.isFixedRow||this.isFixedColumn||this.isFixedCorner}get timeFieldIndex(){const{resolvedFieldOptions:e}=this.props;let t=0;return e.findIndex(({internalName:e,visible:n})=>(n||(t+=1),e===s.f.internalName))-t}get style(){const{style:e,properties:t,data:n}=this.props,{colors:a}=t;if(this.isFixed||this.isTimeData||this.isTimestamp||this.isNaN)return e;const r={colors:a,lastValue:n,cellType:"table"},{bgColor:o,textColor:i}=Object(l.a)(r);return Object.assign(Object.assign({},e),{backgroundColor:o,color:i})}get fieldName(){const{data:e,resolvedFieldOptions:t=[s.f]}=this.props,n=this.isFieldName&&t.find(({internalName:t})=>t===e);return n&&(n.displayName||n.internalName)}get contents(){const{properties:e,data:t,dataType:n,timeFormatter:a}=this.props,{decimalPlaces:r}=e;return t&&n.includes("dateTime")&&!this.isFieldName?a(t):"string"==typeof t&&this.isFieldName?(this.fieldName||"").toString():!isNaN(+t)&&r.isEnforced&&r.digits<100?(+t).toFixed(r.digits):(t||"").toString()}}t.b=d},191:function(e,t,n){"use strict";var a=n(2),r=n.n(a);const o={offset:0,size:0,maxSize:0,total:0,totalPages:0,next:()=>{},previous:()=>{},setSize:e=>{},setMaxSize:e=>{},setPage:e=>{},setTotalPages:e=>{}},i=Object(a.createContext)(o),s=({total:e,children:t})=>{const[n,s]=Object(a.useState)(o.offset),[l,c]=Object(a.useState)(o.size),[u,d]=Object(a.useState)(o.maxSize),[m,p]=Object(a.useState)(o.totalPages),h=Object(a.useCallback)(()=>{s(e?((e,t,n)=>n<=e+t?e:e+t)(n,l,e):n+l)},[n,l,s]),f=Object(a.useCallback)(()=>{s(((e,t)=>Math.max(e-t,0))(n,l))},[n,l,s]),g=Object(a.useCallback)(t=>{s(((e,t,n)=>Math.min(Math.max(0,(e-1)*t),n-1))(t,u,e))},[n,u,s]);return r.a.createElement(i.Provider,{value:{offset:n,size:l,maxSize:u,total:e,totalPages:m,next:h,previous:f,setSize:c,setMaxSize:d,setPage:g,setTotalPages:p}},t)};var l=n(3);var c=()=>{const{offset:e,size:t,total:n,totalPages:o,setPage:s}=Object(a.useContext)(i);return r.a.createElement("div",{className:"visualization--simple-table--paging"},n&&t>0&&r.a.createElement(l.PaginationNav.PaginationNav,{totalPages:o,currentPage:Math.min(Math.floor(e/t)+1,o),pageRangeOffset:1,onChange:s}))};var u=({table:e})=>{const t=Object.values(e.cols).map(t=>"table"===t.name?r.a.createElement(l.Table.HeaderCell,{key:"htable",verticalAlignment:l.VerticalAlignment.Top},"table",r.a.createElement("label",null,e.yield)):r.a.createElement(l.Table.HeaderCell,{key:`h${t.name}`},t.name,r.a.createElement("label",null,t.group?"group":"no group"),r.a.createElement("label",null,t.fluxDataType))),n=Array(e.end-e.start).fill(null).map((t,n)=>{const a=Object.values(e.cols).map(e=>{let t=e.data[n];return t&&"time"===e.type&&(t=new Date(t).toISOString()),t&&"boolean"===e.type&&(t=t?"true":"false"),r.a.createElement(l.Table.Cell,{key:`h${e.name}:r${n}`,testID:`table-cell ${e.data[n]}`},null==t?void 0:t.toString())});return r.a.createElement(l.Table.Row,{key:`r${n}`},a)});return r.a.createElement(l.Table,{fontSize:l.ComponentSize.Small,striped:!0,highlight:!0,testID:"simple-table"},r.a.createElement(l.Table.Header,null,r.a.createElement(l.Table.Row,null,t)),r.a.createElement(l.Table.Body,null,n))};const d=(e,t,n)=>{if(0===n)return 0;let a,r,o,i=14,s=t;for(;s<e.table.length;)if(e.table.columns.table.data[s]===a){if(i+=25,i>=n)break;s++}else{if(o=Object.values(e.table.columns).map(t=>`${t.name}::${t.fluxDataType}::${e.fluxGroupKeyUnion.includes(t.name)}`).join("|"),o!==r){if(i+=51,void 0!==a&&(i+=10),i>=n)break;r=o}a=e.table.columns.table.data[s]}return Math.max(0,s-t)};var m=({result:e,properties:t})=>{const{offset:n,setSize:o,maxSize:s,setMaxSize:c,setPage:m,setTotalPages:p}=Object(a.useContext)(i),[h,f]=Object(a.useState)(0),g=Object(a.useRef)();Object(a.useEffect)(()=>{if(!g||!g.current)return;let e;const t=new ResizeObserver(t=>{e&&clearTimeout(e),e=setTimeout(()=>{requestAnimationFrame(()=>{f(t[0].contentRect.height)})},200)});t.observe(g.current);const n=(null==g?void 0:g.current)||{},a=null==n?void 0:n.getBoundingClientRect();return a&&a.height!==h&&f(a.height),()=>{t.disconnect(),e&&clearTimeout(e)}},[null==g?void 0:g.current]);const b=Object(a.useMemo)(()=>d(e,n,h),[e,n,h]),v=Object(a.useMemo)(()=>((e,t,n,a)=>{const r=Object.values(e.table.columns).map(a=>Object.assign(Object.assign({},a),{group:e.fluxGroupKeyUnion.includes(a.name),data:a.data.slice(t,t+n)})).filter(e=>!!e.data.filter(e=>void 0!==e).length).reduce((e,t)=>e[t.name]?(e[t.name].push(t),e):(e[t.name]=[t],e),{}),o=[];let i;for(let e=0;e<n;e++)`y${r.result[0].data[e]}:t${r.table[0].data[e]}`!==i&&(i=`y${r.result[0].data[e]}:t${r.table[0].data[e]}`,o.length&&(o[o.length-1].end=e),o.push({idx:r.table[0].data[e],yield:r.result[0].data[e],cols:[],signature:"",start:e,end:-1}));return o.length&&(o[o.length-1].end=n),o.reduce((e,t)=>(t.cols=[r.table,r._measurement,r._field,r._value].filter(e=>!!e).concat(Object.entries(r).filter(([e,t])=>!["result","table","_measurement","_field","_value"].includes(e)&&(a||!["_start","_stop"].includes(e))).sort((e,t)=>e[0].toLowerCase().localeCompare(t[0].toLowerCase())).map(e=>e[1])).map(e=>e.map(e=>Object.assign(Object.assign({},e),{data:e.data.slice(t.start,t.end)})).filter(e=>!!e.data.filter(e=>void 0!==e).length)).reduce((e,t)=>t.length?(e[t[0].name]=t[0],e):e,{}),t.signature=Object.values(t.cols).map(e=>`${e.name}::${e.fluxDataType}::${e.group}`).join("|"),e.push(t),e),[]).reduce((e,t)=>{const n=e[e.length-1];return n&&t.yield===n.yield&&t.signature===n.signature?(Object.values(n.cols).forEach(e=>{n.cols[e.name]=Object.assign(Object.assign({},e),{data:[...e.data,...t.cols[e.name].data]})}),n.end=t.end,e):(e.push(t),e)},[])})(e,n,b,t.showAll),[e,n,b]);Object(a.useEffect)(()=>{o(b)},[b]),Object(a.useEffect)(()=>{c(d(e,0,h))},[h,e]),Object(a.useEffect)(()=>{m(1)},[e]),Object(a.useEffect)(()=>{var t,n;s&&p(Math.ceil((null!==(n=null===(t=null==e?void 0:e.table)||void 0===t?void 0:t.length)&&void 0!==n?n:0)/s))},[s,e]);const y=!!b&&v.map((e,t)=>r.a.createElement(u,{table:e,key:`table${t}`}));return r.a.createElement("div",{className:"visualization--simple-table--results",ref:g},r.a.createElement(l.DapperScrollbars,{noScrollY:!0},y))};n(257);t.a=({properties:e,result:t})=>{var n;return r.a.createElement("div",{className:"visualization--simple-table","data-testid":"simple-table"},r.a.createElement(s,{total:(null===(n=null==t?void 0:t.table)||void 0===n?void 0:n.length)||0},r.a.createElement(m,{properties:e,result:t}),r.a.createElement(c,null)))}},1928:function(e,t){!function(e){function t(t){return 1===t.length&&"string"==typeof t[0]&&isNaN(e.parse(t[0]))&&(t[0]=t[0].replace(/-/g,"/")),Array.prototype.slice.call(t)}function n(){return this instanceof n?new(Function.prototype.bind.apply(e,[null].concat(t(arguments)))):e()}n.prototype=e.prototype,n.now=e.now,n.UTC=e.UTC,n.parse=function(){return e.parse.apply(e,t(arguments))},Date=n}(Date)},1929:function(e,t,n){var a=n(1930);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=(n(71),n(104)),o=n(24),i=n(7);const s=(e,t)=>{const n=Object(a.useMemo)(()=>Object(o.g)(e),[e]),s=Object(a.useMemo)(()=>{const e=Object(i.flatMap)(t||[],e=>[e.value,e.min,e.max]).filter(e=>null!=e).concat(n);return Object(o.g)(e)},[n,t]),[l,c]=Object(r.a)(s);return[l,c,()=>c(s)]}},1930:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.GlobalSearch .DocSearch-Modal {\n  background-color: #383846 !important;\n  box-shadow: none;\n  min-width: 690px !important;\n  width: 40vw !important;\n}\n.GlobalSearch .DocSearch-Footer {\n  display: none !important;\n}\n.GlobalSearch .DocSearch-Container {\n  background: transparent;\n  height: auto !important;\n  position: absolute !important;\n}\n.GlobalSearch .DocSearch-Hit {\n  padding-left: 0px !important;\n  border-radius: 0px !important;\n  margin-left: 6px !important;\n  border-left: 2px solid #757888;\n  margin-bottom: 8px !important;\n}\n.GlobalSearch .DocSearch-Hit:hover {\n  border-left: 2px solid #00a3ff !important;\n}\n.GlobalSearch .DocSearch-Hit-source {\n  color: #ffffff;\n  background: none;\n  font-size: 21px;\n  margin: 0px !important;\n  font-weight: 400;\n  margin-bottom: 4px !important;\n  position: relative;\n}\n.GlobalSearch .DocSearch-Hit-title {\n  color: #bec2cc;\n  font-size: 15px;\n  font-weight: 400;\n}\n.GlobalSearch .DocSearch-Hit-path {\n  font-weight: bold !important;\n  font-size: 13px;\n  margin-top: 4px !important;\n  color: #757888;\n}\n.GlobalSearch .DocSearch-Hit-path:hover {\n  color: #bec2cc;\n}\n.GlobalSearch .DocSearch-Hit a {\n  background: transparent !important;\n  box-shadow: none;\n  color: #d4d7dd !important;\n  padding: 0 !important;\n}\n.GlobalSearch .DocSearch-Hit-content-wrapper {\n  overflow-x: clip;\n}\n.GlobalSearch .DocSearch-Hit-Container {\n  height: 100% !important;\n  padding-top: 4px !important;\n}\n.GlobalSearch .DocSearch-Hit-icon {\n  display: none;\n}\n.GlobalSearch .DocSearch-SearchBar {\n  padding: 0 !important;\n}\n.GlobalSearch .DocSearch-Form {\n  display: block;\n  width: 100% !important;\n  height: 56px;\n  margin: auto;\n  border-radius: 4px 4px 0px 0px;\n  border: none !important;\n  box-shadow: none !important;\n  outline: none;\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  color: #bec2cc;\n  background-color: #434453;\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIuNyAyMi41IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMi43IDIyLjUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NzY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjguMSIgY3k9IjguNCIgcj0iNi44Ii8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NzY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEzLjIiIHkxPSIxMi45IiB4Mj0iMjEuNSIgeTI9IjIxLjQiLz48L3N2Zz4=);\n  background-position: left 17px center;\n  background-repeat: no-repeat;\n  background-size: 3.5%;\n  padding: 0 52px;\n}\n.GlobalSearch .DocSearch-Form label {\n  display: none;\n}\n.GlobalSearch .DocSearch-Input {\n  color: white;\n  font-size: 21px !important;\n}\n.GlobalSearch .DocSearch-LoadingIndicator {\n  display: none !important;\n}\n.GlobalSearch .DocSearch-Hit-path {\n  font-weight: bold;\n}\n.GlobalSearch .DocSearch-Reset {\n  top: 17px;\n  position: absolute;\n  right: 10px;\n}\n.GlobalSearch .DocSearch-Dropdown::-webkit-scrollbar-thumb {\n  border: none;\n  background: linear-gradient(#be2ee4 0%, #00a3ff 100%) !important;\n}\n.GlobalSearch .DocSearch-Dropdown::-webkit-scrollbar {\n  width: 6px;\n}\n.GlobalSearch .DocSearch-Dropdown {\n  padding-top: 16px !important;\n}\n.GlobalSearch .DocSearch-StartScreen,\n.GlobalSearch .DocSearch-StartScreen > .DocSearch-Help {\n  font-size: 1.3em !important;\n}\n.GlobalSearch .DocSearch-Hits mark {\n  color: #00a3ff !important;\n}',""])},194:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(350),r=n(351);n(147),n(146);const o=e=>new Uint8Array(e),i=(e,t,n)=>new Uint8Array(e,t,n),s=e=>new Uint8Array(e),l=r.b?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=a.b(e[n]);return btoa(t)}:t=>e.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),c=r.b?e=>{const t=atob(e),n=o(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}:t=>{const n=e.from(t,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)},u=e=>{const t=o(e.byteLength);return t.set(e),t}}).call(this,n(349).Buffer)},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"h",(function(){return h}));const a=1,r=2,o=4,i=8,s=32,l=64,c=128,u=31,d=63,m=127,p=255,h=2147483647},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));n(264);var a=n(265);const r=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&r(e,t,n+1)}},o=()=>{},i=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!i(e.get(n),t.get(n)))return!1;break;case Object:if(a.c(e)!==a.c(t))return!1;for(const n in e)if(!a.b(e,n)||!i(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;break;default:return!1}return!0}},198:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),o=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&o.includes("json")?JSON.stringify(n.data):n.data,s=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,s,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let f;return f=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,f)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),o=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t)=>{const n=new URLSearchParams({});if((null==e?void 0:e.startTime)&&n.append("startTime",e.startTime),(null==e?void 0:e.endTime)&&n.append("endTime",e.endTime),null==e?void 0:e.stream){const a="delete"===t?"stream":"streamIncludes";n.append(a,e.stream)}return(null==e?void 0:e.stickers)&&Object.keys(e.stickers).forEach(t=>{n.append(`stickerIncludes[${t}]`,e.stickers[t])}),`${n.toString()}`}),s=async(e,t)=>{var n;const a={data:e.map(e=>Object.assign(Object.assign({},e),{startTime:new Date(e.startTime).toISOString(),endTime:new Date(e.endTime).toISOString()})),query:{orgID:t}},r=await((e,t={})=>o("POST","/api/v2private/annotations",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(a);if(r.status>=300)throw new Error(null===(n=r.data)||void 0===n?void 0:n.message);const[{startTime:i,endTime:s,summary:l,message:c,stickers:u,stream:d}]=r.data;return[{startTime:i,endTime:s,summary:l,message:c,stickers:u,stream:d}]},l=async(e,t)=>{const n={query:{AnnotationListFilter:i({stream:t}),orgID:e}},a=await((e,t={})=>o("GET","/api/v2private/annotations",e,t))(n);if(a.status>=300)throw new Error(a.data.message);return a.data.map(e=>({stream:e.stream,annotations:e.annotations}))},c=async e=>{var t;const n={annotationID:e.id,data:e},a=await((e,t={})=>o("PUT",`/api/v2private/annotations/${e.annotationID}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.data},u=async e=>{var t;const n={annotationID:e.id},a=await((e,t={})=>o("DELETE",`/api/v2private/annotations/${e.annotationID}`,e,t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.status};var d=n(385),m=n(9);const p=()=>async(e,t)=>{const n=Object(m.a)(t()),a=await l(n.id);e(Object(d.i)(a))},h=e=>async(t,n)=>{const a=Object(m.a)(n());await s(e,a.id),p()(t,n)},f=e=>async t=>{await u(Object.assign(Object.assign({},e),{endTime:e.startTime})),t(Object(d.f)(e))},g=e=>async t=>{let{endTime:n}=e;"point"===e.type&&(n=e.startTime);const a=await c(Object.assign(Object.assign({},e),{endTime:n}));t(Object(d.g)(a))}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(2),r=n.n(a),o=n(33),i=n(95),s=n.n(i),l=n(3);var c=({message:e,testID:t})=>{const[n,o]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default,u=()=>{o(!0),setTimeout(()=>o(!1),2e3)},d=Object(a.useRef)(null);return r.a.createElement("div",{className:"cell--view-empty error","data-testid":t},r.a.createElement("div",{ref:d},r.a.createElement("span",{className:`icon ${l.IconFont.AlertTriangle} empty-graph-error--icon`}),r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheRight,triggerRef:d,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"emptygraph-popover",contents:()=>r.a.createElement("pre",null,r.a.createElement(s.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:u,className:"empty-graph-error--copy"})),r.a.createElement("code",null,e))})))};var u=({message:e,testID:t})=>{const[n,o]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default;return r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("div",{className:"empty-graph-error","data-testid":"empty-graph-error"},r.a.createElement(s.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:()=>{o(!0),setTimeout(()=>o(!1),2e3)},className:"empty-graph-error--copy"})),r.a.createElement(l.DapperScrollbars,{className:"empty-graph-error--scroll",autoHide:!0},r.a.createElement("pre",null,r.a.createElement(l.Icon,{glyph:l.IconFont.AlertTriangle}),r.a.createElement("code",{className:"cell--error-message"}," ",e)))))},d=n(237),m=n(7);const p=Object(m.sample)(["Looks like you don’t have any queries. Be a lot cooler if you did!","Create a query. Go on!","Create a query. Have fun!"]);var h,f=n(5);!function(e){e.Tooltip="tooltip",e.Scroll="scroll"}(h||(h={}));class g extends a.PureComponent{render(){const{errorMessage:e,isInitialFetch:t,loading:n,queries:a,fallbackNote:i,hasResults:s,errorFormat:l}=this.props;if(n===f.RemoteDataState.NotStarted||a&&!a.length)return r.a.createElement(o.a,{message:p,testID:"empty-graph--no-queries"});if(e){if(l===h.Tooltip)return r.a.createElement(c,{message:e,testID:"empty-graph--error"});if(l===h.Scroll)return r.a.createElement(u,{message:e,testID:"empty-graph--error"})}return!t&&s||n!==f.RemoteDataState.Loading?!s&&i?r.a.createElement(d.a,{text:i}):s?this.props.children:r.a.createElement(o.a,{message:"No Results",testID:"empty-graph--no-results"}):r.a.createElement(o.a,{message:""})}}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(90);const a=Date.now},205:function(e,t,n){var a=n(325);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},208:function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return _})),n.d(t,"d",(function(){return F})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return P}));var a=n(366),r=n(25),o=n(12),i=n(16),s=n(387),l=n(74),c=n(130),u=n(112),d=n(9);var m=n(71),p=n(26);const h=e=>{const{alertBuilder:t}=e,n=v(e);return b(t),"threshold"===n.type?g(t,n):"deadman"===n.type?f(t,n):"custom"===n.type?Object.assign(Object.assign({},n),{status:n.activeStatus}):void 0},f=(e,t)=>{const{every:n,level:a,offset:r,reportZero:o,staleTime:i,statusMessageTemplate:s,tags:l,timeSince:c,activeStatus:u}=e;if(!Object(m.e)(c)||!Object(m.e)(i))throw new Error("Duration fields must contain valid duration");return Object.assign(Object.assign({},t),{every:n,level:a,offset:r,reportZero:o,staleTime:i,statusMessageTemplate:s,tags:l,timeSince:c,status:u})},g=(e,t)=>{const{activeStatus:n,every:a,offset:r,statusMessageTemplate:o,tags:i,thresholds:s}=e;return(e=>{e.forEach(e=>{if("greater"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("lesser"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("range"===e.type&&(isNaN(e.min)||isNaN(e.min)))throw new Error("Threshold must have defined min and max values")})})(s),Object.assign(Object.assign({},t),{every:a,offset:r,statusMessageTemplate:o,tags:i,thresholds:s,status:n})},b=e=>{if(!Object(m.e)(e.offset))throw new Error("Check offset must be a valid duration");if(!Object(m.e)(e.every))throw new Error("Check every must be a valid duration")},v=e=>{const{type:t,id:n,status:a,activeStatus:r,name:o}=e.alertBuilder,{draftQueries:i}=Object(p.d)(e),{id:s}=Object(d.a)(e);return{id:n,type:t,status:a,activeStatus:r,name:o,query:i[0],orgID:s,labels:[]}};var y=n(13),x=n(39),w=n(11),E=n(37),S=n(55),C=n(434),k=n(40),O=n(94),D=n(5),T=n(103),j=n(53);const I=()=>async(e,t)=>{try{const n=t();Object(y.h)(n,D.ResourceType.Checks)===D.RemoteDataState.NotStarted&&e(Object(C.h)(D.RemoteDataState.Loading));const{id:a}=Object(d.a)(n),o=await i.getChecks({query:{orgID:a,limit:j.c}});if(200!==o.status)throw new Error(o.data.message);const l=Object(r.a)(o.data.checks,s.a);e(Object(C.h)(D.RemoteDataState.Done,l)),e(Object(k.c)())}catch(t){console.error(t),e(Object(C.h)(D.RemoteDataState.Error)),e(Object(w.c)(o.Qb(t.message)))}},N=e=>async(t,n)=>{const l=Object(d.a)(n());try{t(Object(S.h)(D.RemoteDataState.Loading));const n=await i.getCheck({checkID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data,o=Object(r.a)(n.data,s.b),l=o.entities.checks[o.result],c=Object(u.a)(l.type);c.properties.queries=[l.query],t(Object(E.l)("alerting",{view:c,activeTab:"custom"===a.type?"customCheckQuery":"alerting"})),t(Object(S.g)(l))}catch(e){console.error(e),t(Object(a.e)(`/orgs/${l.id}/alerting`)),t(Object(S.h)(D.RemoteDataState.Error)),t(Object(w.c)(o.Pb(e.message)))}},R=()=>async(e,t)=>{const n="Please rename the check before saving";try{const o=t(),l=h(o),c=await i.postCheck({data:l});if(201!==c.status){if(c.data.code.includes("conflict"))throw new Error(`A check named ${l.name} already exists. ${n}`);throw new Error(c.data.message)}const u=Object(r.a)(c.data,s.b);e(Object(C.g)(c.data.id,D.RemoteDataState.Done,u)),e(Object(k.c)()),e(Object(a.e)(`/orgs/${l.orgID}/alerting`)),e(Object(S.f)())}catch(a){console.error(a);const r=Object(x.b)(a);e(Object(w.c)(o.Z(r))),r.includes(n)||Object(c.b)(a,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}},A=()=>async(e,t)=>{const n=t(),l=h(n);try{const t=await i.getCheck({checkID:l.id});if(200!==t.status)throw new Error(t.data.message);const n=await i.putCheck({checkID:l.id,data:Object.assign(Object.assign({},l),{ownerID:t.data.ownerID})});if(200!==n.status)throw new Error(n.data.message);const o=Object(r.a)(n.data,s.b);e(Object(C.g)(n.data.id,D.RemoteDataState.Done,o)),e(Object(k.c)()),e(Object(a.e)(`/orgs/${l.orgID}/alerting`)),e(Object(S.f)())}catch(n){console.error(n),e(Object(w.c)(o.Ld(n.message))),Object(c.b)(n,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}},_=(e,t)=>async n=>{try{const a=await i.patchCheck({checkID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const o=Object(r.a)(a.data,s.b);n(Object(C.g)(e,D.RemoteDataState.Done,o))}catch(e){console.error(e)}},F=e=>async t=>{try{const n=await i.deleteCheck({checkID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(C.e)(e)),t(Object(k.c)())}catch(e){console.error(e),t(Object(w.c)(o.vb(e.message)))}},M=(e,t)=>async n=>{try{const a=await i.postChecksLabel({checkID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const o=Object(r.a)(a.data.label,T.b);n(Object(O.g)(e,o))}catch(e){console.error(e)}},L=(e,t)=>async n=>{try{const a=await i.deleteChecksLabel({checkID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(C.f)(e,t))}catch(e){console.error(e)}},P=e=>async(t,n)=>{try{const a=n(),o=Object(y.a)(a,D.ResourceType.Checks).map(e=>e.name),c=Object(l.a)(o,e.name),u=(e=>{const t=e.activeStatus;return delete e.activeStatus,Object.assign(Object.assign({},e),{status:t})})(Object.assign(Object.assign({},e),{name:c})),d=await i.postCheck({data:u});if(201!==d.status)throw new Error(d.data.message);const m=Object(r.a)(d.data,s.b);t(Object(C.g)(d.data.id,D.RemoteDataState.Done,m)),t(Object(k.c)())}catch(e){console.error(e),t(Object(w.c)(o.Z(e.message)))}}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(71);const l=e=>e?i.ComponentStatus.Disabled:i.ComponentStatus.Default;var c=({selectedDuration:e,onSelectDuration:t,durations:n,disabled:a=!1})=>{let o=n,c=n.find(t=>e===t.duration||Object(s.a)(e,t.duration));return c||(c={duration:e,displayText:e},o=[c,...o]),r.a.createElement(i.Dropdown,{testID:"duration-selector",button:(e,t)=>r.a.createElement(i.Dropdown.Button,{testID:"duration-selector--button",active:e,onClick:t,status:l(a)},c.displayText),menu:n=>r.a.createElement(i.Dropdown.Menu,{onCollapse:n,testID:"duration-selector--menu"},o.map(({duration:n,displayText:a})=>r.a.createElement(i.Dropdown.Item,{id:n,key:n,value:n,testID:`duration-selector--${n}`,selected:n===e,onClick:t},a)))})},u=n(52),d=n(461);const m=2592e3,p=Object(d.a)(m),h=[{duration:"1h",displayText:"1 hour"},{duration:"6h",displayText:"6 hours"},{duration:"12h",displayText:"12 hours"},{duration:"24h",displayText:"24 hours"},{duration:"48h",displayText:"48 hours"},{duration:"72h",displayText:"72 hours"},{duration:"7d",displayText:"7 days"},{duration:"14d",displayText:"14 days"},{duration:"30d",displayText:"30 days"},{duration:"90d",displayText:"90 days"},{duration:"1y",displayText:"1 year"}];class f extends a.PureComponent{constructor(){super(...arguments),this.handleRadioClick=e=>{this.props.onChangeRuleType(e)},this.handleSelectDuration=e=>{const t=Object(s.c)(Object(s.h)(e))/1e3;this.props.onChangeRetentionRule(t)}}render(){const{retentionSeconds:e,maxRetentionSeconds:t,type:n}=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit,className:"retention--radio"},r.a.createElement(i.SelectGroup.Option,{name:"bucket-retention",id:"never",testID:"retention-never--button",active:null===n,onClick:this.handleRadioClick,value:null,titleText:"Never delete data",disabled:!!t},"Never"),r.a.createElement(i.SelectGroup.Option,{name:"bucket-retention",id:"intervals",active:"expire"===n,onClick:this.handleRadioClick,value:"expire",testID:"retention-intervals--button",titleText:"Delete data older than a duration"},"Older Than")),"expire"===n&&r.a.createElement(c,{selectedDuration:`${e}s`,onSelectDuration:this.handleSelectDuration,durations:this.durations}))}get durations(){const{maxRetentionSeconds:e}=this.props;return e?h.filter(({duration:t})=>Object(s.c)(Object(s.h)(t))<=1e3*e):h}}t.c=Object(o.c)(e=>({maxRetentionSeconds:Object(u.c)(e)}))(f)},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),o=n(65),i=n(295),s=n(5);const l={id:"",data:{},range:null,update:()=>{},loading:s.RemoteDataState.NotStarted,results:{source:"",parsed:{}},readOnly:!1},c=r.a.createContext(l),u=({id:e,children:t})=>{const{flow:n,updateData:u}=Object(a.useContext)(o.a),{results:d,statuses:m}=Object(a.useContext)(i.a),p=Object(a.useCallback)(t=>{u(e,t)},[n,u]);return Object(a.useMemo)(()=>r.a.createElement(c.Provider,{value:{id:e,data:n.data.byID[e],range:n.range,update:p,results:d[e]||Object.assign({},l.results),loading:m[e]||s.RemoteDataState.NotStarted,readOnly:n.readOnly}},t),[n,e,d,m,t,p])}},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(25),r=n(16),o=n(137),i=n(46),s=n(6),l=n(53);const c=async(e,t=l.a)=>{const n=await Object(r.getBuckets)({query:{orgID:e,limit:t}});if(200!==n.status)throw new Error(n.data.message);let c=[];return s.f&&(c=await Object(o.b)()),Object(a.a)([...n.data.buckets,...c],i.a)}},212:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({text:e,className:t})=>r.a.createElement("div",{className:`waiting-text ${t||""}`},e)},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(156);const r=new class{constructor(){this.findKeysQueries=[],this.findValuesQueries=[],this.findKeysCache={},this.findValuesCache={},this.findBucketsCache={}}async findBuckets(e){this.cancelFindBuckets();const t=JSON.stringify(e),n=this.findBucketsCache[t];if(n)return Promise.resolve(n);const r=Object(a.a)(e);return r.promise.then(e=>{this.findBucketsCache[t]=e}).catch(()=>{}),r.promise}cancelFindBuckets(){this.findBucketsQuery&&this.findBucketsQuery.cancel()}async findKeys(e,t){this.cancelFindKeys(e);const n=JSON.stringify(t),r=this.findKeysCache[n];if(r)return Promise.resolve(r);const o=Object(a.b)(t);return this.findKeysQueries[e]=o,o.promise.then(e=>{this.findKeysCache[n]=e}).catch(()=>{}),o.promise}cancelFindKeys(e){this.findKeysQueries[e]&&this.findKeysQueries[e].cancel()}async findValues(e,t){this.cancelFindValues(e);const n=JSON.stringify(t),r=this.findValuesCache[n];if(r)return Promise.resolve(r);const o=Object(a.c)(t);return this.findValuesQueries[e]=o,o.promise.then(e=>{this.findValuesCache[n]=e}).catch(()=>{}),o.promise}cancelFindValues(e){this.findValuesQueries[e]&&this.findValuesQueries[e].cancel()}clearCache(){this.findBucketsCache={},this.findKeysCache={},this.findValuesCache={}}}},217:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f}));var a=n(25),r=n(39),o=n(46),i=n(5),s=n(411),l=n(11),c=n(12),u=n(9),d=n(13);const m=()=>async(e,t)=>{try{const n=t();Object(d.h)(n,i.ResourceType.Scrapers)===i.RemoteDataState.NotStarted&&e(Object(s.h)(i.RemoteDataState.Loading));const l=Object(u.a)(n);e(Object(s.h)(i.RemoteDataState.Loading));const c=await r.a.scrapers.getAll(l.id),m=Object(a.a)(c,o.f);e(Object(s.h)(i.RemoteDataState.Done,m))}catch(t){console.error(t),e(Object(s.h)(i.RemoteDataState.Error))}},p=e=>async t=>{try{const n=await r.a.scrapers.create(e),i=Object(a.a)(n,o.o);t(Object(s.e)(i)),t(Object(l.c)(Object(c.gd)()))}catch(e){console.error(e),t(Object(l.c)(Object(c.fd)()))}},h=e=>async t=>{try{const n=await r.a.scrapers.update(e.id,e),i=Object(a.a)(n,o.o);t(Object(s.f)(i)),t(Object(l.c)(Object(c.kd)(e.name)))}catch(n){console.error(n),t(Object(l.c)(Object(c.jd)(e.name)))}},f=e=>async t=>{try{await r.a.scrapers.delete(e.id),t(Object(s.g)(e.id)),t(Object(l.c)(Object(c.id)(e.name)))}catch(n){console.error(n),t(Object(l.c)(Object(c.hd)(e.name)))}}},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5);const r=(e,t)=>{const n=t.map(t=>{if(!e.resources||!e.resources[t].status)throw new Error(`RemoteDataState status for resource "${t}" is undefined in getResourcesStatus`);return e.resources[t].status});let r=a.RemoteDataState.NotStarted;return n.every(e=>e===a.RemoteDataState.Done)?r=a.RemoteDataState.Done:n.includes(a.RemoteDataState.Error)?r=a.RemoteDataState.Error:n.includes(a.RemoteDataState.Loading)&&(r=a.RemoteDataState.Loading),r}},219:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return E}));var a=n(25),r=n(16),o=n(139),i=n(46),s=n(121),l=n(11),c=n(210),u=n(234),d=n(141),m=n(12),p=n(5),h=n(60),f=n.n(h),g=(n(129),n(19));const b=e=>e.reduce((e,t)=>{const{distribution:n,mostCommonCount:a}=e;return n[t]=(n[t]||0)+1,n[t]>a?{distribution:n,mostCommonCount:n[t],mostCommonValue:t}:e},{distribution:{},mostCommonCount:0,mostCommonValue:null}).mostCommonValue;var v=n(13);const y=(e,t,n)=>async a=>{try{await Promise.all([Object(r.deleteDashboardsCell)({dashboardID:e,cellID:t})]),a(Object(s.f)(n)),a(Object(u.d)({dashboardID:e,id:t})),a(Object(l.c)(m.M()))}catch(e){console.error(e)}},x=(e,t,n,h,y,x)=>async(w,E)=>{const S=E();let C=t,k=Object(v.f)(S,p.ResourceType.Dashboards,e);try{if(!k){const t=await Object(r.getDashboard)({dashboardID:e});if(200!==t.status)throw new Error(t.data.message);const n=Object(a.a)(t.data,i.k),{entities:o,result:s}=n;k=o.dashboards[s],x||w(Object(c.setDashboard)(t.data.id,p.RemoteDataState.Done,n))}const l=((e,t,n,a)=>{var r,o;const i=g.C.has(null==a?void 0:a.type),s={id:f.a.v4(),x:0,y:0,h:i&&(null===(o=null===(r=a)||void 0===r?void 0:r.staticLegend)||void 0===o?void 0:o.show)?g.r:4,w:4,links:{self:"",view:"",copy:""},status:p.RemoteDataState.Done},l=t.cells.map(t=>e.resources.cells.byID[t]).filter(e=>!!e);if(!l.length)return s;const c=l.map(e=>e.w),u=l.map(e=>e.h),d=b(c);let m=b(u);if(i){const{staticLegend:e}=a;e.show&&(m=Math.max(g.r,m))}let h=Object.assign(Object.assign({},s),{w:d,h:m});return n&&(h=Object.assign(Object.assign({},s),{w:n.w,h:n.h,x:n.x,y:n.y})),h})(S,k,n,null==t?void 0:t.properties),m=await Object(r.postDashboardsCell)({dashboardID:e,data:l});if(201!==m.status)throw new Error(m.data.message);const v=m.data.id;n&&!x&&(C=Object.assign(Object.assign({},C),{name:`${t.name} (Clone)`})),y&&w(Object(d.d)(e,y));const E=await Object(o.c)(e,v,C),O=Object(a.a)(Object.assign(Object.assign({},m.data),{dashboardID:e}),i.j),D=Object(a.a)(E,i.p);w(Object(u.e)(v,p.RemoteDataState.Done,O)),w(Object(s.h)(v,p.RemoteDataState.Done,D)),h&&h(e)}catch(e){throw w(Object(l.c)(m.J(e.message))),e}},w=(e,t,n,o,s)=>async u=>{try{const d={orgID:e,name:t,cells:[]},h=await Object(r.postDashboard)({data:d});if(201!==h.status)throw new Error(h.data.message);const f=Object(a.a)(h.data,i.k);await u(Object(c.setDashboard)(h.data.id,p.RemoteDataState.Done,f)),await u(x(h.data.id,n,null,null,s)),u(Object(l.c)(m.lb())),o&&o(h.data.id)}catch(e){throw console.error(e),u(Object(l.c)(m.J(e.message))),e}},E=(e,t)=>async n=>{try{const o=await Object(r.putDashboardsCells)({dashboardID:e,data:t});if(201!==o.status)throw new Error(o.data.message);const s=t.map(t=>Object.assign(Object.assign({},t),{dashboardID:e})),l=Object(a.a)(s,i.b);n(Object(u.f)(e,p.RemoteDataState.Done,l))}catch(e){n(Object(l.c)(m.N())),console.error(e)}}},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(5),r=n(13);const o=(e,t)=>Object(r.a)(e,a.ResourceType.Buckets).find(e=>e.name===t),i=(e,t)=>{const n=`${e.name}`.toLowerCase(),a=`${t.name}`.toLowerCase();return n===a?0:n<a?-1:n>a?1:0},s=e=>{const t=[],n=[];return Object(r.a)(e,a.ResourceType.Buckets).forEach(e=>{"system"===e.type?t.push(e):n.push(e)}),t.sort(i),n.sort(i),n.concat(t)}},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(213),r=n(45);const o={[r.a]:{format:"yyyy-MM-dd H:mm:ss",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/},"YYYY-MM-DD":{format:"yyyy-MM-dd",regex:/\d{4}-\d{2}-\d{2}/},"YYYY-MM-DD HH:mm":{format:"yyyy-MM-dd H:mm",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/},"YYYY-MM-DD HH:mm:ss.sss":{format:"yyyy-MM-dd H:mm:ss.SSS",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3}/},"YYYY-MM-DD hh:mm:ss a ZZ":{format:"yyyy-MM-dd h:mm:ss a ZZZ",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"DD/MM/YYYY HH:mm:ss.sss":{format:"dd/MM/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"DD/MM/YYYY hh:mm:ss.sss a":{format:"dd/MM/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MM/DD/YYYY HH:mm:ss.sss":{format:"MM/dd/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"MM/DD/YYYY hh:mm:ss.sss a":{format:"MM/dd/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"YYYY/MM/DD HH:mm:ss":{format:"yyyy/MM/dd H:mm:ss",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/},"YYYY/MM/DD hh:mm:ss a":{format:"yyyy/MM/dd h:mm:ss a",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2} \w{2}/},"HH:mm":{format:"H:mm",regex:/\d{2}:\d{2}/},"hh:mm a":{format:"h:mm a",regex:/\d{2}:\d{2} \w{2}/},"HH:mm:ss":{format:"H:mm:ss",regex:/\d{2}:\d{2}:\d{2}/},"hh:mm:ss a":{format:"h:mm:ss a",regex:/\d{2}:\d{2}:\d{2} \w{2}/},"HH:mm:ss ZZ":{format:"h:mm:ss ZZZ",regex:/\d{2}:\d{2}:\d{2} -?\+?\d{4}/},"hh:mm:ss a ZZ":{format:"h:mm:ss a ZZZ",regex:/\d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"HH:mm:ss.sss":{format:"H:mm:ss.SSS",regex:/\d{2}:\d{2}:\d{2}.\d{3}/},"hh:mm:ss.sss a":{format:"h:mm:ss.SSS a",regex:/\d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MMMM D, YYYY HH:mm:ss":{format:"LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"MMMM D, YYYY hh:mm:ss a":{format:"LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/},"dddd, MMMM D, YYYY HH:mm:ss":{format:"EEEE, LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"dddd, MMMM D, YYYY hh:mm:ss a":{format:"EEEE, LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/}},i=e=>o[e].format?o[e].format:o[r.a].format,s=(e,t)=>{const n=i(t);return a.DateTime.fromFormat(e,n).isValid},l=(e,t)=>{const n=i(t);return((e,t)=>o[t].regex.test(e))(e,t)&&a.DateTime.fromFormat(e,n).isValid}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n.n(a);const o="tooltip-portal";t.b=()=>r.a.createElement("div",{id:o})},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.replace(/&gt;/g,">").replace(/&#39;/g,"'")},226:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(5),r=n(13),o=n(45);const i=(e,t)=>{const n=Object(r.f)(e,a.ResourceType.Dashboards,t),o=new Set(n.cells.map(e=>e));return Object.values(e.resources.views.byID).filter(e=>e&&o.has(e.cellID))},s=(e,t)=>{const n=Object(r.f)(e,a.ResourceType.Views,t);return n.properties&&"timeFormat"in n.properties&&""!==n.properties.timeFormat?n.properties.timeFormat:o.a}},227:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));const a=e=>({type:"SET_IS_PREVIEWING",payload:{isPreviewing:e}}),r=()=>({type:"TOGGLE_SHOW_NOTE_WHEN_EMPTY"}),o=e=>({type:"SET_NOTE",payload:{note:e}}),i=()=>({type:"RESET_NOTE_STATE"}),s=e=>({type:"SET_NOTE_STATE",payload:e})},236:function(e,t,n){"use strict";function a(e,t,n){const a=e.length;let r,o;for(void 0===n?(r=1,o=e[0]):(r=0,o=n);r<a;r++)o=t(o,e[r],r,e);return o}function r(e,t){const n=e.length,a=new Array(n);for(let r=0;r<n;r++)a[r]=t(e[r],r,e);return a}function o(e,t){const n=e.length,a=[];for(let r=0;r<n;r++)t(e[r],r,e)&&a.push(e[r]);return a}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},237:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(3),s=n(225),l=n(14),c=n(114);let u=class extends r.PureComponent{render(){const{text:e}=this.props;return o.a.createElement(i.DapperScrollbars,{className:"markdown-cell",autoHide:!0},o.a.createElement("div",{className:"markdown-cell--contents"},o.a.createElement(c.a,{text:Object(s.a)(e),className:"markdown-format"})))}};u=Object(a.a)([l.a],u),t.a=u},238:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return k}));var a=n(25),r=n(12),o=n(16),i=n(390),s=n(103),l=n(11),c=n(435),u=n(40),d=n(94),m=n(247),p=n(9),h=n(13),f=n(74),g=n(5),b=n(53);const v=()=>async(e,t)=>{try{const n=t();Object(h.h)(n,g.ResourceType.NotificationRules)===g.RemoteDataState.NotStarted&&e(Object(c.j)(g.RemoteDataState.Loading));const{id:r}=Object(p.a)(n),s=await o.getNotificationRules({query:{orgID:r,limit:b.d}});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.notificationRules,i.a);e(Object(c.j)(g.RemoteDataState.Done,l)),e(Object(u.f)())}catch(t){console.error(t),e(Object(c.j)(g.RemoteDataState.Error)),e(Object(l.c)(r.Yb(t.message)))}},y=e=>async t=>{const n=Object(m.d)(e);try{const e=await o.postNotificationRule({data:n});if(201!==e.status)throw new Error(e.data.message);const r=Object(a.a)(e.data,i.b);t(Object(c.i)(e.data.id,g.RemoteDataState.Done,r)),t(Object(u.f)())}catch(e){console.error(e)}},x=e=>async t=>{if(""==e.offset)throw new Error("Notification Rule offset field can not be empty");if(""==e.every)throw new Error("Notification Rule every field can not be empty");t(Object(c.i)(e.id,g.RemoteDataState.Loading));try{const n=await o.putNotificationRule({ruleID:e.id,data:Object(m.d)(e)});if(200!==n.status)throw new Error(n.data.message);const r=Object(a.a)(n.data,i.b);t(Object(c.i)(e.id,g.RemoteDataState.Done,r))}catch(e){console.error(e)}},w=(e,t)=>async n=>{try{const r=await o.patchNotificationRule({ruleID:e,data:t});if(200!==r.status)throw new Error(r.data.message);const s=Object(a.a)(r.data,i.b);n(Object(c.i)(e,g.RemoteDataState.Done,s))}catch(e){console.error(e)}},E=e=>async t=>{try{const n=await o.deleteNotificationRule({ruleID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(c.g)(e)),t(Object(u.f)())}catch(e){console.error(e)}},S=(e,t)=>async n=>{try{const r=await o.postNotificationRulesLabel({ruleID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const i=Object(a.a)(r.data.label,s.b);n(Object(d.g)(e,i))}catch(e){console.error(e)}},C=(e,t)=>async n=>{try{const a=await o.deleteNotificationRulesLabel({ruleID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(c.f)(e,t))}catch(e){console.error(e)}},k=e=>async(t,n)=>{try{const r=n(),s=Object(h.a)(r,g.ResourceType.NotificationRules),l=Object(m.d)(e),d=s.map(e=>e.name),p=Object(f.a)(d,l.name),b=await o.postNotificationRule({data:Object.assign(Object.assign({},l),{name:p})});if(201!==b.status)throw new Error(b.data.message);const v=Object(a.a)(b.data,i.b);t(Object(c.i)(b.data.id,g.RemoteDataState.Done,v)),t(Object(u.f)())}catch(e){console.error(e),t(Object(l.c)(r.cb(e.message)))}}},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));const a=["timestamp","tag","field"],r=["integer","float","boolean","string","unsigned"],o=e=>!!Array.isArray(e)&&e.every(e=>"name"in e&&"string"==typeof e.name&&(!(!("type"in e)||!a.includes(e.type))&&("dataType"in e?r.includes(e.dataType):"field"!==e.type))),i=(e="")=>(e=e.trim()).startsWith("_")||/^[0-9]/.test(e)?{valid:!1,message:"cannot start with '_' or a number"}:e.length>128?{valid:!1,message:"too long, max length is 128 characters"}:{valid:!0,message:null},s=e=>!(Array.isArray(e)&&e.length)||e.every(e=>e.valid)},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return I}));var a=n(2),r=n.n(a),o=n(4);const i={};var s={get(e,t){var n,a;try{return null!==(n=i[e])&&void 0!==n?n:"undefined"===(a=localStorage.getItem(e))?void 0:JSON.parse(null!=a?a:"")}catch(e){return t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),i[e]=void 0,!0}catch(n){return i[e]=t,!1}},remove(e){i[e]=void 0,localStorage.removeItem(e)}};var l=n(60),c=n(9),u=n(48),d=n(6),m=n(42),p=n(443),h=n(412),f=n(12),g=n(11);const b={id:"",data:{}};let v=b,y=null,x=null;const w=async e=>{const t=await Object(h.e)(e);if(200!=t.status)throw new Error(t.data.message)},E=async e=>{const t=await Object(h.f)(e);if(200!=t.status)throw new Error(t.data.message);return t.data};var S=n(74);const C={name:m.a,range:u.b,refresh:d.b,data:{byID:{},allIDs:[]},meta:{byID:{},allIDs:[]},readOnly:!1},k={flows:{},add:e=>{},clone:e=>{},update:(e,t)=>{},remove:e=>{},change:e=>{},getAll:()=>{},currentID:null},O=function(e,t){const n=[];return function(){const[r,o,i]=function(e,t){const[n]=Object(a.useState)(()=>"function"==typeof t?t():t),r=Object(a.useCallback)(()=>({value:s.get(e,n),isPersistent:(()=>{if("undefined"==typeof window)return!0;try{return localStorage.setItem("__ulss","#"),localStorage.removeItem("__ulss"),!0}catch(e){return!1}})()}),[n,e]),[o,i]=Object(a.useState)(r),l=Object(a.useMemo)(()=>{const t=t=>{i("function"==typeof t?n=>({value:t(n.value),isPersistent:s.set(e,t(n.value))}):{value:t,isPersistent:s.set(e,t)})};return t.reset=()=>{s.remove(e),i(e=>({value:n,isPersistent:e.isPersistent}))},t},[e,n]);Object(a.useEffect)(()=>{const t=t=>{t.storageArea===localStorage&&t.key===e&&i({value:s.get(e,n),isPersistent:!0})};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e,n]);const c=Object(a.useRef)(!0);return Object(a.useEffect)(()=>{c.current?c.current=!1:i(r())},[r]),[o.value,l,o.isPersistent]}(e,t),l=Object(a.useMemo)(()=>{const e=e=>{for(const t of n)t(e)};return e.reset=()=>{for(const e of n)e.reset()},e},[]);return Object(a.useEffect)(()=>(n.push(o),()=>{n.splice(n.indexOf(o),1)}),[o]),[r,l,i]}}("flows",k.flows),D=r.a.createContext(k);function T(e,t){return{data:{orgID:t,name:e.name,spec:{name:e.name,readOnly:e.readOnly,range:e.range,refresh:e.refresh,createdAt:e.createdAt,updatedAt:e.updatedAt,pipes:e.data.allIDs.map(t=>{const n=e.meta.byID[t];let a={};return n&&(a=Object.assign(Object.assign({},e.data.byID[t]),{id:t,title:n.title,visible:n.visible}),n.layout&&(a.layout=n.layout)),a})}}}}function j(e){var t;const n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(C))),{name:e.name||C.name,range:e.spec.range,refresh:e.spec.refresh,readOnly:e.spec.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy});return e.id&&(n.id=e.id),(null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.pipes)?(e.spec.pipes.forEach(e=>{const t=e.id||`local_${Object(l.v4)()}`;n.data.allIDs.push(t),n.meta.allIDs.push(t);const a={title:e.title,visible:e.visible};e.layout&&(a.layout=e.layout,delete e.layout),delete e.title,delete e.visible,n.data.byID[t]=e,n.meta.byID[t]=a}),n):n}const I=({children:e})=>{const[t,n]=O(),[i,s]=Object(a.useState)(k.currentID),u=Object(o.e)(c.a),d=Object(o.d)();Object(a.useEffect)(()=>{A(),N()},[]);const C=async e=>{let a;a=e?{name:e.name,range:e.range,refresh:e.refresh,data:e.data,meta:e.meta,readOnly:e.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt}:j(Object.assign(Object.assign({},p.a.default.init()),{name:m.a}));const r=T(a,u.id);let o=`local_${Object(l.v4)()}`;try{const e=await E(r);o=e.id,a=j(e)}catch(e){d(Object(g.c)(Object(f.Cc)()))}return new Promise(e=>{setTimeout(()=>{n(Object.assign(Object.assign({},t),{[o]:a})),s(o),e(o)},200)})},I=Object(a.useCallback)((e,a)=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);n(t=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),a)}));const r=T(Object.assign(Object.assign({},t[e]),a),u.id);(e=>{v=e,y&&(clearTimeout(y),y=null),x||(x=setTimeout(()=>{x=null,v!==b&&(clearTimeout(y),y=null,w(v),v=b)},5e3)),y=setTimeout(()=>{w(v),v=b},500)})(Object.assign({id:e},r))},[n,u.id,t]),N=Object(a.useCallback)(async()=>{const e=await(async e=>{const t=await Object(h.c)({query:{orgID:e}});if(200!=t.status)throw new Error(t.data.message);return t.data})(u.id);if(e&&e.flows){const t={};e.flows.forEach(e=>{t[e.id]=j(e)}),n(t)}},[u.id,n]),R=Object(a.useCallback)(e=>{Object.keys(t).length||N(),s(e)},[s,t]),A=async()=>{const e=await(async(e,t,n,a)=>{const r=Object.keys(t).filter(e=>e.includes("local"));return r.length&&await Promise.all(r.map(async a=>{const r=t[a],o=n(r,e),{id:i}=await E(o);delete t[a],t[i]=r})).catch(()=>{a(Object(g.c)(Object(f.Gc)()))}),t})(u.id,t,T,d);n(Object.assign({},e)),i&&i.includes("local")&&s(Object.keys(e)[0])};return r.a.createElement(D.Provider,{value:{flows:t,add:C,clone:async e=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);const n=t[e],a=Object.values(t).map(e=>e.name),r=Object(S.a)(a,n.name),o=Object.assign(Object.assign({},n),{name:r});return await C(o)},update:I,remove:async e=>{const a=Object.assign({},t);try{await(async e=>{const t=await Object(h.a)(e);if(204!=t.status)throw new Error(t.data.message)})({id:e})}catch(e){d(Object(g.c)(Object(f.Dc)()))}delete a[e],i===e&&s(null),n(a)},getAll:N,currentID:i,change:R}},e)}},244:function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return C}));var a=n(25),r=n(11),o=n(40),i=n(436),s=n(94),l=n(389),c=n(103),u=n(16),d=n(74),m=n(9),p=n(13);const h=e=>Object.assign(Object.assign({},e),{status:e.activeStatus});var f=n(12),g=n(5);const b=()=>async(e,t)=>{try{const n=t();Object(p.h)(n,g.ResourceType.NotificationEndpoints)===g.RemoteDataState.NotStarted&&e(Object(i.h)(g.RemoteDataState.Loading));const{id:r}=Object(m.a)(n),s=await u.getNotificationEndpoints({query:{orgID:r}});if(200!==s.status)throw new Error(s.data.message);const c=Object(a.a)(s.data.notificationEndpoints,l.a);e(Object(i.h)(g.RemoteDataState.Done,c)),e(Object(o.e)())}catch(t){console.error(t),e(Object(r.c)(f.Sb(t.message))),e(Object(i.h)(g.RemoteDataState.Error))}},v=e=>async t=>{const n=h(e);try{const e=await u.postNotificationEndpoint({data:n});if(201!==e.status)throw new Error(e.data.message);const r=Object(a.a)(e.data,l.b);t(Object(i.g)(e.data.id,g.RemoteDataState.Done,r)),t(Object(o.e)())}catch(e){console.error(e),t(Object(r.c)(f.ab(e.message)))}},y=e=>async t=>{t(Object(i.g)(e.id,g.RemoteDataState.Loading));const n=h(e);try{const r=await u.putNotificationEndpoint({endpointID:e.id,data:n});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,l.b);t(Object(i.g)(e.id,g.RemoteDataState.Done,o))}catch(n){console.error(n),t(Object(i.g)(e.id,g.RemoteDataState.Error))}},x=(e,t)=>async n=>{n(Object(i.g)(e,g.RemoteDataState.Loading));try{const r=await u.patchNotificationEndpoint({endpointID:e,data:t});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,l.b);n(Object(i.g)(e,g.RemoteDataState.Done,o))}catch(t){n(Object(r.c)(f.Md(t.message))),n(Object(i.g)(e,g.RemoteDataState.Error))}},w=e=>async t=>{try{const n=await u.deleteNotificationEndpoint({endpointID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(i.e)(e)),t(Object(o.e)())}catch(e){t(Object(r.c)(f.wb(e.message)))}},E=(e,t)=>async n=>{try{const r=await u.postNotificationEndpointsLabel({endpointID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data.label,c.b);n(Object(s.g)(e,o))}catch(e){console.error(e)}},S=(e,t)=>async n=>{try{const a=await u.deleteNotificationEndpointsLabel({endpointID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(i.f)(e,t))}catch(e){console.error(e)}},C=e=>async(t,n)=>{try{const r=n(),s=Object(p.a)(r,g.ResourceType.NotificationEndpoints).map(e=>e.name),c=Object(d.a)(s,e.name),m=await u.postNotificationEndpoint({data:Object.assign(Object.assign({},h(e)),{name:c})});if(201!==m.status)throw new Error(m.data.message);const f=Object(a.a)(m.data,l.b);t(Object(i.g)(m.data.id,g.RemoteDataState.Done,f)),t(Object(o.e)())}catch(e){console.error(e),t(Object(r.c)(f.ab(e.message)))}}},245:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n(25),r=n(16),o=n(5);const i=new a.b.Entity(o.ResourceType.Secrets),s=[i];var l=n(11),c=n(12),u=n(437),d=n(9),m=n(13);const p=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,o.ResourceType.Secrets)===o.RemoteDataState.NotStarted&&e(Object(u.f)(o.RemoteDataState.Loading));const i=Object(d.a)(n),l=await Object(r.getOrgsSecrets)({orgID:i.id});if(200!==l.status)throw new Error(l.data.message);const c=l.data.secrets.map(e=>({id:e,key:e})),p=Object(a.a)(c,s);e(Object(u.f)(o.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(u.f)(o.RemoteDataState.Error)),e(Object(l.c)(Object(c.cc)()))}},h=e=>async(t,n)=>{try{const s=Object(d.a)(n());if(204!==(await Object(r.patchOrgsSecrets)({orgID:s.id,data:{[e.id]:e.value}})).status)throw new Error;const l={id:e.id},c=Object(a.a)(l,i);t(Object(u.e)(e.id,o.RemoteDataState.Done,c))}catch(e){console.error(e),t(Object(l.c)(Object(c.Td)()))}},f=e=>async(t,n)=>{try{const a=Object(d.a)(n()),o=await Object(r.deleteOrgsSecret)({orgID:a.id,secretID:e.id});if(204!==o.status)throw new Error(o.data.message);t(Object(u.d)(e.id))}catch(e){console.error(e),t(Object(l.c)(Object(c.yb)()))}}},2487:function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var o=t.initialState;return{getState:function(){return o},dispatch:function(i,s){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o);o=e(o,{type:i,props:t,payload:s}),n({state:o,prevState:l})}}}function i(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return 0===e.collections.length?0:e.collections.reduce((function(e,t){return e+t.items.length}),0)}n.d(t,"a",(function(){return Ut}));var d=0;var m=function(){};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=[];return Promise.resolve(e(t)).then((function(e){return Array.isArray(e),"The `getSources` function must return an array of sources but returned type ".concat(JSON.stringify(f(e)),":\n\n").concat(JSON.stringify(e,null,2)),Promise.all(e.filter((function(e){return Boolean(e)})).map((function(e){if(e.sourceId,n.includes(e.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(e.sourceId)," is not unique."));n.push(e.sourceId);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getItemInputValue:function(e){return e.state.query},getItemUrl:function(){},onSelect:function(e){(0,e.setIsOpen)(!1)},onActive:m},e);return Promise.resolve(t)})))}))}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return Boolean(e.execute)}function R(e,t){return n=e,Boolean(null==n?void 0:n.execute)?j(j({},e),{},{requests:e.queries.map((function(n){return{query:n,sourceId:t,transformResponse:e.transformResponse}}))}):{items:e,sourceId:t};var n}function A(e){var t=e.reduce((function(e,t){if(!N(t))return e.push(t),e;var n=t.searchClient,a=t.execute,r=t.requests,o=e.find((function(e){return N(t)&&N(e)&&e.searchClient===n&&e.execute===a}));if(o){var i;(i=o.items).push.apply(i,O(r))}else{var s={execute:a,items:r,searchClient:n};e.push(s)}return e}),[]).map((function(e){if(!N(e))return Promise.resolve(e);var t=e,n=t.execute,a=t.items;return n({searchClient:t.searchClient,requests:a})}));return Promise.all(t).then((function(e){return i(e)}))}function _(e,t){return t.map((function(t){var n=e.filter((function(e){return e.sourceId===t.sourceId})),a=n.map((function(e){return e.items})),r=n[0].transformResponse,o=r?r(function(e){var t=e.map((function(e){var t;return S(S({},e),{},{hits:null===(t=e.hits)||void 0===t?void 0:t.map((function(t){return S(S({},t),{},{__autocomplete_indexName:e.index,__autocomplete_queryID:e.queryID})}))})}));return{results:t,hits:t.map((function(e){return e.hits})).filter(Boolean),facetHits:t.map((function(e){var t;return null===(t=e.facetHits)||void 0===t?void 0:t.map((function(e){return{label:e.value,count:e.count,_highlightResult:{label:{value:e.highlighted}}}}))})).filter(Boolean)}}(a)):a;return Array.isArray(o),'The `getItems` function from source "'.concat(t.sourceId,'" must return an array of items but returned type ').concat(JSON.stringify(k(o)),":\n\n").concat(JSON.stringify(o,null,2),".\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems"),o.every(Boolean),'The `getItems` function from source "'.concat(t.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),".\n\nDid you forget to return items?\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems"),{source:t,items:o}}))}function F(e){var t=function(e){var t=e.collections.map((function(e){return e.items.length})).reduce((function(e,t,n){var a=(e[n-1]||0)+t;return e.push(a),e}),[]).reduce((function(t,n){return n<=e.activeItemId?t+1:t}),0);return e.collections[t]}(e);if(!t)return null;var n=t.items[function(e){for(var t=e.state,n=e.collection,a=!1,r=0,o=0;!1===a;){var i=t.collections[r];if(i===n){a=!0;break}o+=i.items.length,r++}return t.activeItemId-o}({state:e,collection:t})],a=t.source;return{item:n,itemInputValue:a.getItemInputValue({item:n,state:e}),itemUrl:a.getItemUrl({item:n,state:e}),source:a}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $=null;function z(e){var t=e.event,n=e.nextState,a=void 0===n?{}:n,r=e.props,o=e.query,i=e.refresh,s=e.store,l=B(e,["event","nextState","props","query","refresh","store"]);$&&r.environment.clearTimeout($);var c,u=l.setCollections,d=l.setIsOpen,m=l.setQuery,p=l.setActiveItemId,h=l.setStatus;return m(o),p(r.defaultActiveItemId),o||!1!==r.openOnFocus?(h("loading"),$=r.environment.setTimeout((function(){h("stalled")}),r.stallThreshold),r.getSources(L({query:o,refresh:i,state:s.getState()},l)).then((function(e){return h("loading"),Promise.all(e.map((function(e){return Promise.resolve(e.getItems(L({query:o,refresh:i,state:s.getState()},l))).then((function(t){return R(t,e.sourceId)}))}))).then(A).then((function(t){return _(t,e)})).then((function(e){var n;h("idle"),u(e);var c=r.shouldPanelOpen({state:s.getState()});d(null!==(n=a.isOpen)&&void 0!==n?n:r.openOnFocus&&!o&&c||c);var m=F(s.getState());if(null!==s.getState().activeItemId&&m){var p=m.item,f=m.itemInputValue,g=m.itemUrl,b=m.source;b.onActive(L({event:t,item:p,itemInputValue:f,itemUrl:g,refresh:i,source:b,state:s.getState()},l))}})).finally((function(){$&&r.environment.clearTimeout($)}))}))):(h("idle"),u(s.getState().collections.map((function(e){return L(L({},e),{},{items:[]})}))),d(null!==(c=a.isOpen)&&void 0!==c?c:r.shouldPanelOpen({state:s.getState()})),Promise.resolve())}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){return e===t||e.contains(t)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X(e){var t=e.props,n=e.refresh,a=e.store,r=Z(e,["props","refresh","store"]);return{getEnvironmentProps:function(e){var n=e.inputElement,r=e.formElement,o=e.panelElement;return Y({onTouchStart:function(e){!1!==a.getState().isOpen&&e.target!==n&&(!1===[r,o].some((function(n){return G(n,e.target)||G(n,t.environment.document.activeElement)}))&&a.dispatch("blur",null))},onTouchMove:function(e){!1!==a.getState().isOpen&&n===t.environment.document.activeElement&&e.target!==n&&n.blur()}},Z(e,["inputElement","formElement","panelElement"]))},getRootProps:function(e){return Y({role:"combobox","aria-expanded":a.getState().isOpen,"aria-haspopup":"listbox","aria-owns":a.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label")},e)},getFormProps:function(e){e.inputElement;return Y({action:"",noValidate:!0,role:"search",onSubmit:function(o){var i;o.preventDefault(),t.onSubmit(Y({event:o,refresh:n,state:a.getState()},r)),a.dispatch("submit",null),null===(i=e.inputElement)||void 0===i||i.blur()},onReset:function(o){var i;o.preventDefault(),t.onReset(Y({event:o,refresh:n,state:a.getState()},r)),a.dispatch("reset",null),null===(i=e.inputElement)||void 0===i||i.focus()}},Z(e,["inputElement"]))},getLabelProps:function(e){return Y({htmlFor:"".concat(t.id,"-input"),id:"".concat(t.id,"-label")},e)},getInputProps:function(e){function o(e){(t.openOnFocus||Boolean(a.getState().query))&&z(Y({event:e,props:t,query:a.getState().completion||a.getState().query,refresh:n,store:a},r)),a.dispatch("focus",null)}var i="ontouchstart"in t.environment,s=e||{},l=(s.inputElement,s.maxLength),c=void 0===l?512:l,u=Z(s,["inputElement","maxLength"]),d=F(a.getState());return Y({"aria-autocomplete":"both","aria-activedescendant":a.getState().isOpen&&null!==a.getState().activeItemId?"".concat(t.id,"-item-").concat(a.getState().activeItemId):void 0,"aria-controls":a.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label"),value:a.getState().completion||a.getState().query,id:"".concat(t.id,"-input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:null!=d&&d.itemUrl?"go":"search",spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:c,type:"search",onChange:function(e){z(Y({event:e,props:t,query:e.currentTarget.value.slice(0,c),refresh:n,store:a},r))},onKeyDown:function(e){!function(e){var t=e.event,n=e.props,a=e.refresh,r=e.store,o=U(e,["event","props","refresh","store"]);if("ArrowUp"===t.key||"ArrowDown"===t.key){var i=function(){var e=n.environment.document.getElementById("".concat(n.id,"-item-").concat(r.getState().activeItemId));e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!1):e.scrollIntoView(!1))},s=function(){var e=F(r.getState());if(null!==r.getState().activeItemId&&e){var n=e.item,i=e.itemInputValue,s=e.itemUrl,l=e.source;l.onActive(H({event:t,item:n,itemInputValue:i,itemUrl:s,refresh:a,source:l,state:r.getState()},o))}};t.preventDefault(),!1===r.getState().isOpen&&(n.openOnFocus||Boolean(r.getState().query))?z(H({event:t,props:n,query:r.getState().query,refresh:a,store:r},o)).then((function(){r.dispatch(t.key,{nextActiveItemId:n.defaultActiveItemId}),s(),setTimeout(i,0)})):(r.dispatch(t.key,{}),s(),i())}else if("Escape"===t.key)t.preventDefault(),r.dispatch(t.key,null);else if("Enter"===t.key){if(null===r.getState().activeItemId||r.getState().collections.every((function(e){return 0===e.items.length})))return;t.preventDefault();var l=F(r.getState()),c=l.item,u=l.itemInputValue,d=l.itemUrl,m=l.source;if(t.metaKey||t.ctrlKey)void 0!==d&&(m.onSelect(H({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),n.navigator.navigateNewTab({itemUrl:d,item:c,state:r.getState()}));else if(t.shiftKey)void 0!==d&&(m.onSelect(H({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),n.navigator.navigateNewWindow({itemUrl:d,item:c,state:r.getState()}));else if(t.altKey);else{if(void 0!==d)return m.onSelect(H({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),void n.navigator.navigate({itemUrl:d,item:c,state:r.getState()});z(H({event:t,nextState:{isOpen:!1},props:n,query:u,refresh:a,store:r},o)).then((function(){m.onSelect(H({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o))}))}}}(Y({event:e,props:t,refresh:n,store:a},r))},onFocus:o,onBlur:function(){i||a.dispatch("blur",null)},onClick:function(n){e.inputElement!==t.environment.document.activeElement||a.getState().isOpen||o(n)}},u)},getPanelProps:function(e){return Y({onMouseDown:function(e){e.preventDefault()},onMouseLeave:function(){a.dispatch("mouseleave",null)}},e)},getListProps:function(e){return Y({role:"listbox","aria-labelledby":"".concat(t.id,"-label"),id:"".concat(t.id,"-list")},e)},getItemProps:function(e){var o=e.item,i=e.source,s=Z(e,["item","source"]);return Y({id:"".concat(t.id,"-item-").concat(o.__autocomplete_id),role:"option","aria-selected":a.getState().activeItemId===o.__autocomplete_id,onMouseMove:function(e){if(o.__autocomplete_id!==a.getState().activeItemId){a.dispatch("mousemove",o.__autocomplete_id);var t=F(a.getState());if(null!==a.getState().activeItemId&&t){var i=t.item,s=t.itemInputValue,l=t.itemUrl,c=t.source;c.onActive(Y({event:e,item:i,itemInputValue:s,itemUrl:l,refresh:n,source:c,state:a.getState()},r))}}},onMouseDown:function(e){e.preventDefault()},onClick:function(e){var s=i.getItemInputValue({item:o,state:a.getState()}),l=i.getItemUrl({item:o,state:a.getState()});(l?Promise.resolve():z(Y({event:e,nextState:{isOpen:!1},props:t,query:s,refresh:n,store:a},r))).then((function(){i.onSelect(Y({event:e,item:o,itemInputValue:s,itemUrl:l,refresh:n,source:i,state:a.getState()},r))}))}},s)}}}function Q(e){var t,n=e.state;return!1===n.isOpen||null===n.activeItemId?null:(null===(t=F(n))||void 0===t?void 0:t.itemInputValue)||null}function J(e,t,n,a){if(!n)return null;if(e<0&&(null===t||null!==a&&0===t))return n+e;var r=(null===t?-1:t)+e;return r<=-1||r>=n?null===a?null:0:r}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e,t){switch(t.type){case"setActiveItemId":return te(te({},e),{},{activeItemId:t.payload});case"setQuery":return te(te({},e),{},{query:t.payload,completion:null});case"setCollections":return te(te({},e),{},{collections:t.payload});case"setIsOpen":return te(te({},e),{},{isOpen:t.payload});case"setStatus":return te(te({},e),{},{status:t.payload});case"setContext":return te(te({},e),{},{context:te(te({},e.context),t.payload)});case"ArrowDown":var n=te(te({},e),{},{activeItemId:t.payload.hasOwnProperty("nextActiveItemId")?t.payload.nextActiveItemId:J(1,e.activeItemId,u(e),t.props.defaultActiveItemId)});return te(te({},n),{},{completion:Q({state:n})});case"ArrowUp":var a=te(te({},e),{},{activeItemId:J(-1,e.activeItemId,u(e),t.props.defaultActiveItemId)});return te(te({},a),{},{completion:Q({state:a})});case"Escape":return e.isOpen?te(te({},e),{},{activeItemId:null,isOpen:!1,completion:null}):te(te({},e),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return te(te({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return te(te({},e),{},{activeItemId:!0===t.props.openOnFocus?t.props.defaultActiveItemId:null,status:"idle",query:""});case"focus":return te(te({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||Boolean(e.query))&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:te(te({},e),{},{isOpen:!1,activeItemId:null});case"mousemove":return te(te({},e),{},{activeItemId:t.payload});case"mouseleave":return te(te({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){var t=[],n=function(e,t){var n,a="undefined"!=typeof window?window:{},r=e.plugins||[];return x(x({debug:!1,openOnFocus:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,environment:a,shouldPanelOpen:function(e){return u(e.state)>0}},e),{},{id:null!==(n=e.id)&&void 0!==n?n:"autocomplete-".concat(d++),plugins:r,initialState:x({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(t){var n;null===(n=e.onStateChange)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onStateChange)||void 0===n?void 0:n.call(e,t)}))},onSubmit:function(t){var n;null===(n=e.onSubmit)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onSubmit)||void 0===n?void 0:n.call(e,t)}))},onReset:function(t){var n;null===(n=e.onReset)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onReset)||void 0===n?void 0:n.call(e,t)}))},getSources:function(n){return Promise.all([].concat(b(r.map((function(e){return e.getSources}))),[e.getSources]).filter(Boolean).map((function(e){return g(e,n)}))).then((function(e){return i(e)})).then((function(e){return e.map((function(e){return x(x({},e),{},{onSelect:function(n){e.onSelect(n),t.forEach((function(e){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,n)}))},onActive:function(n){e.onActive(n),t.forEach((function(e){var t;return null===(t=e.onActive)||void 0===t?void 0:t.call(e,n)}))}})}))}))},navigator:x({navigate:function(e){var t=e.itemUrl;a.location.assign(t)},navigateNewTab:function(e){var t=e.itemUrl,n=a.open(t,"_blank","noopener");null==n||n.focus()},navigateNewWindow:function(e){var t=e.itemUrl;a.open(t,"_blank","noopener")}},e.navigator)})}(e,t),a=o(ae,n,(function(e){var t=e.prevState,a=e.state;n.onStateChange(oe({prevState:t,state:a,refresh:c},r))})),r=function(e){var t=e.store;return{setActiveItemId:function(e){t.dispatch("setActiveItemId",e)},setQuery:function(e){t.dispatch("setQuery",e)},setCollections:function(e){var n=0,a=e.map((function(e){return l(l({},e),{},{items:i(e.items).map((function(e){return l(l({},e),{},{__autocomplete_id:n++})}))})}));t.dispatch("setCollections",a)},setIsOpen:function(e){t.dispatch("setIsOpen",e)},setStatus:function(e){t.dispatch("setStatus",e)},setContext:function(e){t.dispatch("setContext",e)}}}({store:a}),s=X(oe({props:n,refresh:c,store:a},r));function c(){return z(oe({event:new Event("input"),nextState:{isOpen:a.getState().isOpen},props:n,query:a.getState().query,refresh:c,store:a},r))}return n.plugins.forEach((function(e){var n;return null===(n=e.subscribe)||void 0===n?void 0:n.call(e,oe(oe({},r),{},{refresh:c,onSelect:function(e){t.push({onSelect:e})},onActive:function(e){t.push({onActive:e})}}))})),oe(oe({refresh:c},s),r)}var le=n(2),ce=n.n(le);function ue(){return ce.a.createElement("a",{href:"https://www.algolia.com/docsearch",target:"_blank",rel:"noopener noreferrer"},ce.a.createElement("span",{className:"DocSearch-Label"},"Search by"),ce.a.createElement("svg",{width:"77",height:"19"},ce.a.createElement("path",{d:"M2.5067 0h14.0245c1.384.001 2.5058 1.1205 2.5068 2.5017V16.5c-.0014 1.3808-1.1232 2.4995-2.5068 2.5H2.5067C1.1232 18.9995.0014 17.8808 0 16.5V2.4958A2.495 2.495 0 01.735.7294 2.505 2.505 0 012.5068 0zM37.95 15.0695c-3.7068.0168-3.7068-2.986-3.7068-3.4634L34.2372.3576 36.498 0v11.1794c0 .2715 0 1.9889 1.452 1.994v1.8961zm-9.1666-1.8388c.694 0 1.2086-.0397 1.5678-.1088v-2.2934a5.3639 5.3639 0 00-1.3303-.1679 4.8283 4.8283 0 00-.758.0582 2.2845 2.2845 0 00-.688.2024c-.2029.0979-.371.2362-.4919.4142-.1268.1788-.185.2826-.185.5533 0 .5297.185.8359.5205 1.0375.3355.2016.7928.3053 1.365.3053v-.0008zm-.1969-8.1817c.7463 0 1.3768.092 1.8856.2767.5088.1838.9195.4428 1.2204.7717.3068.334.5147.7777.6423 1.251.1327.4723.196.991.196 1.5603v5.798c-.5235.1036-1.05.192-1.5787.2649-.7048.1037-1.4976.156-2.3774.156-.5832 0-1.1215-.0582-1.6016-.167a3.385 3.385 0 01-1.2432-.5364 2.6034 2.6034 0 01-.8037-.9565c-.191-.3922-.29-.9447-.29-1.5208 0-.5533.11-.905.3246-1.2863a2.7351 2.7351 0 01.8849-.9329c.376-.242.8029-.415 1.2948-.5187a7.4517 7.4517 0 011.5381-.156 7.1162 7.1162 0 011.6667.2024V8.886c0-.259-.0296-.5061-.093-.7372a1.5847 1.5847 0 00-.3245-.6158 1.5079 1.5079 0 00-.6119-.4158 2.6788 2.6788 0 00-.966-.173c-.5206 0-.9948.0634-1.4283.1384a6.5481 6.5481 0 00-1.065.259l-.2712-1.849c.2831-.0986.7048-.1964 1.2491-.2943a9.2979 9.2979 0 011.752-.1501v.0008zm44.6597 8.1193c.6947 0 1.2086-.0405 1.567-.1097v-2.2942a5.3743 5.3743 0 00-1.3303-.1679c-.2485 0-.503.0177-.7573.0582a2.2853 2.2853 0 00-.688.2024 1.2333 1.2333 0 00-.4918.4142c-.1268.1788-.1843.2826-.1843.5533 0 .5297.1843.8359.5198 1.0375.3414.2066.7927.3053 1.365.3053v.0009zm-.191-8.1767c.7463 0 1.3768.0912 1.8856.2759.5087.1847.9195.4436 1.2204.7717.3.329.5147.7786.6414 1.251a5.7248 5.7248 0 01.197 1.562v5.7972c-.3466.0742-.874.1602-1.5788.2648-.7049.1038-1.4976.1552-2.3774.1552-.5832 0-1.1215-.0573-1.6016-.167a3.385 3.385 0 01-1.2432-.5356 2.6034 2.6034 0 01-.8038-.9565c-.191-.3922-.2898-.9447-.2898-1.5216 0-.5533.1098-.905.3245-1.2854a2.7373 2.7373 0 01.8849-.9338c.376-.2412.8029-.4141 1.2947-.5178a7.4545 7.4545 0 012.325-.1097c.2781.0287.5672.081.879.156v-.3686a2.7781 2.7781 0 00-.092-.738 1.5788 1.5788 0 00-.3246-.6166 1.5079 1.5079 0 00-.612-.415 2.6797 2.6797 0 00-.966-.1729c-.5205 0-.9947.0633-1.4282.1384a6.5608 6.5608 0 00-1.065.259l-.2712-1.8498c.283-.0979.7048-.1957 1.2491-.2935a9.8597 9.8597 0 011.752-.1494zm-6.79-1.072c-.7576.001-1.373-.6103-1.3759-1.3664 0-.755.6128-1.3664 1.376-1.3664.764 0 1.3775.6115 1.3775 1.3664s-.6195 1.3664-1.3776 1.3664zm1.1393 11.1507h-2.2726V5.3409l2.2734-.3568v10.0845l-.0008.0017zm-3.984 0c-3.707.0168-3.707-2.986-3.707-3.4642L59.7069.3576 61.9685 0v11.1794c0 .2715 0 1.9889 1.452 1.994V15.0703zm-7.3512-4.979c0-.975-.2138-1.7873-.6305-2.3516-.4167-.571-.9998-.852-1.747-.852-.7454 0-1.3302.281-1.7452.852-.4166.5702-.6195 1.3765-.6195 2.3516 0 .9851.208 1.6473.6254 2.2183.4158.576.9998.8587 1.7461.8587.7454 0 1.3303-.2885 1.747-.8595.4158-.5761.6237-1.2315.6237-2.2184v.0009zm2.3132-.006c0 .7609-.1099 1.3361-.3356 1.9654a4.654 4.654 0 01-.9533 1.6076A4.214 4.214 0 0155.613 14.69c-.579.2412-1.4697.3795-1.9143.3795-.4462-.005-1.3303-.1324-1.9033-.3795a4.307 4.307 0 01-1.474-1.0316c-.4115-.4445-.7293-.9801-.9609-1.6076a5.3423 5.3423 0 01-.3465-1.9653c0-.7608.104-1.493.3356-2.1155a4.683 4.683 0 01.9719-1.5958 4.3383 4.3383 0 011.479-1.0257c.5739-.242 1.2043-.3567 1.8864-.3567.6829 0 1.3125.1197 1.8906.3567a4.1245 4.1245 0 011.4816 1.0257 4.7587 4.7587 0 01.9592 1.5958c.2426.6225.3643 1.3547.3643 2.1155zm-17.0198 0c0 .9448.208 1.9932.6238 2.431.4166.4386.955.6579 1.6142.6579.3584 0 .6998-.0523 1.0176-.1502.3186-.0978.5721-.2134.775-.3517V7.0784a8.8706 8.8706 0 00-1.4926-.1906c-.8206-.0236-1.4452.312-1.8847.8468-.4335.5365-.6533 1.476-.6533 2.3516v-.0008zm6.2863 4.4485c0 1.5385-.3938 2.662-1.1866 3.3773-.791.7136-2.0005 1.0712-3.6308 1.0712-.5958 0-1.834-.1156-2.8228-.334l.3643-1.7865c.8282.173 1.9202.2193 2.4932.2193.9077 0 1.555-.1847 1.943-.5533.388-.3686.578-.916.578-1.643v-.3687a6.8289 6.8289 0 01-.8848.3349c-.3634.1096-.786.167-1.261.167-.6246 0-1.1917-.0979-1.7055-.2944a3.5554 3.5554 0 01-1.3244-.8645c-.3642-.3796-.6541-.8579-.8561-1.4289-.2028-.571-.3068-1.59-.3068-2.339 0-.7034.1099-1.5856.3245-2.1735.2198-.5871.5316-1.0949.9542-1.515.4167-.42.9255-.743 1.5213-.98a5.5923 5.5923 0 012.052-.3855c.7353 0 1.4114.092 2.0707.2024.6592.1088 1.2204.2236 1.6776.35v8.945-.0008zM11.5026 4.2418v-.6511c-.0005-.4553-.3704-.8241-.8266-.8241H8.749c-.4561 0-.826.3688-.8265.824v.669c0 .0742.0693.1264.1445.1096a6.0346 6.0346 0 011.6768-.2362 6.125 6.125 0 011.6202.2185.1116.1116 0 00.1386-.1097zm-5.2806.852l-.3296-.3282a.8266.8266 0 00-1.168 0l-.393.3922a.8199.8199 0 000 1.164l.3237.323c.0524.0515.1268.0397.1733-.0117.191-.259.3989-.507.6305-.7372.2374-.2362.48-.4437.7462-.6335.0575-.0354.0634-.1155.017-.1687zm3.5159 2.069v2.818c0 .081.0879.1392.1622.0987l2.5102-1.2964c.0574-.0287.0752-.0987.0464-.1552a3.1237 3.1237 0 00-2.603-1.574c-.0575 0-.115.0456-.115.1097l-.0008-.0009zm.0008 6.789c-2.0933.0005-3.7915-1.6912-3.7947-3.7804C5.9468 8.0821 7.6452 6.39 9.7387 6.391c2.0932-.0005 3.7911 1.6914 3.794 3.7804a3.7783 3.7783 0 01-1.1124 2.675 3.7936 3.7936 0 01-2.6824 1.1054h.0008zM9.738 4.8002c-1.9218 0-3.6975 1.0232-4.6584 2.6841a5.359 5.359 0 000 5.3683c.9609 1.661 2.7366 2.6841 4.6584 2.6841a5.3891 5.3891 0 003.8073-1.5725 5.3675 5.3675 0 001.578-3.7987 5.3574 5.3574 0 00-1.5771-3.797A5.379 5.379 0 009.7387 4.801l-.0008-.0008z",fill:"currentColor",fillRule:"evenodd"})))}function de(){return ce.a.createElement(ce.a.Fragment,null,ce.a.createElement("div",{className:"DocSearch-Logo"},ce.a.createElement(ue,null)),ce.a.createElement("ul",{className:"DocSearch-Commands"},ce.a.createElement("li",null,ce.a.createElement("span",{className:"DocSearch-Commands-Key"},ce.a.createElement(me,null,ce.a.createElement("path",{d:"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"}))),ce.a.createElement("span",{className:"DocSearch-Label"},"to select")),ce.a.createElement("li",null,ce.a.createElement("span",{className:"DocSearch-Commands-Key"},ce.a.createElement(me,null,ce.a.createElement("path",{d:"M7.5 3.5v8M10.5 8.5l-3 3-3-3"}))),ce.a.createElement("span",{className:"DocSearch-Commands-Key"},ce.a.createElement(me,null,ce.a.createElement("path",{d:"M7.5 11.5v-8M10.5 6.5l-3-3-3 3"}))),ce.a.createElement("span",{className:"DocSearch-Label"},"to navigate")),ce.a.createElement("li",null,ce.a.createElement("span",{className:"DocSearch-Commands-Key"},ce.a.createElement(me,null,ce.a.createElement("path",{d:"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"}))),ce.a.createElement("span",{className:"DocSearch-Label"},"to close"))))}function me(e){return ce.a.createElement("svg",{width:"15",height:"15"},ce.a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"},e.children))}function pe(e){var t=e.hit,n=e.children;return ce.a.createElement("a",{href:t.url},n)}function he(){return ce.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ce.a.createElement("path",{d:"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0"}))}function fe(){return ce.a.createElement("div",{className:"DocSearch-ErrorScreen"},ce.a.createElement("div",{className:"DocSearch-Screen-Icon"},ce.a.createElement(he,null)),ce.a.createElement("p",{className:"DocSearch-Title"},"Unable to fetch results"),ce.a.createElement("p",{className:"DocSearch-Help"},"You might want to check your network connection."))}function ge(){return ce.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ce.a.createElement("path",{d:"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2"}))}function be(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ye(e){var t=e.state.context.searchSuggestions;return ce.a.createElement("div",{className:"DocSearch-NoResults"},ce.a.createElement("div",{className:"DocSearch-Screen-Icon"},ce.a.createElement(ge,null)),ce.a.createElement("p",{className:"DocSearch-Title"},'No results for "',ce.a.createElement("strong",null,e.state.query),'"'),t&&t.length>0&&ce.a.createElement("div",{className:"DocSearch-NoResults-Prefill-List"},ce.a.createElement("p",{className:"DocSearch-Help"},"Try searching for:"),ce.a.createElement("ul",null,t.slice(0,3).reduce((function(t,n){return[].concat(be(t),[ce.a.createElement("li",{key:n},ce.a.createElement("button",{className:"DocSearch-Prefill",key:n,onClick:function(){e.setQuery(n.toLowerCase()+" "),e.refresh(),e.inputRef.current.focus()}},n))])}),[]))),ce.a.createElement("p",{className:"DocSearch-Help"},"Believe this query should return results?"," ",ce.a.createElement("a",{href:"https://github.com/algolia/docsearch-configs/issues/new?template=Missing_results.md&title=[".concat(e.indexName,']+Missing+results+for+query+"').concat(e.state.query,'"'),target:"_blank",rel:"noopener noreferrer"},"Let us know"),"."))}function xe(e){switch(e.type){case"lvl1":return ce.a.createElement(we,null);case"content":return ce.a.createElement(Se,null);default:return ce.a.createElement(Ee,null)}}function we(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function Ee(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function Se(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M17 5H3h14zm0 5H3h14zm0 5H3h14z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function Ce(){return ce.a.createElement("svg",{className:"DocSearch-Hit-Select-Icon",width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},ce.a.createElement("path",{d:"M18 3v4c0 2-2 4-4 4H2"}),ce.a.createElement("path",{d:"M8 17l-6-6 6-6"})))}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function je(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function Ie(e){var t=e.hit,n=e.attribute,a=e.tagName,r=void 0===a?"span":a,o=Te(e,["hit","attribute","tagName"]);return Object(le.createElement)(r,Oe(Oe({},o),{},{dangerouslySetInnerHTML:{__html:je(t,"_snippetResult.".concat(n,".value"))||je(t,n)}}))}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _e(e){return e.collection&&0!==e.collection.items.length?ce.a.createElement("section",{className:"DocSearch-Hits"},ce.a.createElement("div",{className:"DocSearch-Hit-source"},e.title),ce.a.createElement("ul",e.getListProps(),e.collection.items.map((function(t,n){return ce.a.createElement(Fe,Ae({key:[e.title,t.objectID].join(":"),item:t,index:n},e))})))):null}function Fe(e){var t=e.item,n=e.index,a=e.renderIcon,r=e.renderAction,o=e.getItemProps,i=e.onItemClick,s=e.collection,l=e.hitComponent,c=Ne(ce.a.useState(!1),2),u=c[0],d=c[1],m=Ne(ce.a.useState(!1),2),p=m[0],h=m[1],f=ce.a.useRef(null),g=l;return ce.a.createElement("li",Ae({className:["DocSearch-Hit",t.__docsearch_parent&&"DocSearch-Hit--Child",u&&"DocSearch-Hit--deleting",p&&"DocSearch-Hit--favoriting"].filter(Boolean).join(" "),onTransitionEnd:function(){f.current&&f.current()}},o({item:t,source:s.source,onClick:function(){i(t)}})),ce.a.createElement(g,{hit:t},ce.a.createElement("div",{className:"DocSearch-Hit-Container"},a({item:t,index:n}),t.hierarchy[t.type]&&"lvl1"===t.type&&ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ce.a.createElement(Ie,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.lvl1"}),t.content&&ce.a.createElement(Ie,{className:"DocSearch-Hit-path",hit:t,attribute:"content"})),t.hierarchy[t.type]&&("lvl2"===t.type||"lvl3"===t.type||"lvl4"===t.type||"lvl5"===t.type||"lvl6"===t.type)&&ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ce.a.createElement(Ie,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.".concat(t.type)}),ce.a.createElement(Ie,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),"content"===t.type&&ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},ce.a.createElement(Ie,{className:"DocSearch-Hit-title",hit:t,attribute:"content"}),ce.a.createElement(Ie,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),r({item:t,runDeleteTransition:function(e){d(!0),f.current=e},runFavoriteTransition:function(e){h(!0),f.current=e}}))))}var Me=/(<mark>|<\/mark>)/g,Le=RegExp(Me.source);function Pe(e){if(!e.__docsearch_parent&&!e._highlightResult)return e.hierarchy.lvl0;var t=(e._highlightResult?e._highlightResult.hierarchy.lvl0:e.__docsearch_parent._highlightResult.hierarchy.lvl0).value;return t&&Le.test(t)?t.replace(Me,""):t}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $e(e){return ce.a.createElement("div",{className:"DocSearch-Dropdown-Container"},e.state.collections.map((function(t,n){if(0===t.items.length)return null;var a=Pe(t.items[0]);return ce.a.createElement(_e,Be({},e,{key:n,title:a,collection:t,renderIcon:function(e){var n,a=e.item,r=e.index;return ce.a.createElement(ce.a.Fragment,null,a.__docsearch_parent&&ce.a.createElement("svg",{className:"DocSearch-Hit-Tree",viewBox:"0 0 24 54"},ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},a.__docsearch_parent!==(null===(n=t.items[r+1])||void 0===n?void 0:n.__docsearch_parent)?ce.a.createElement("path",{d:"M8 6v21M20 27H8.3"}):ce.a.createElement("path",{d:"M8 6v42M20 27H8.3"}))),ce.a.createElement("div",{className:"DocSearch-Hit-icon"},ce.a.createElement(xe,{type:a.type})))},renderAction:function(){return ce.a.createElement("div",{className:"DocSearch-Hit-action"},ce.a.createElement(Ce,null))}}))})),e.resultsFooterComponent&&ce.a.createElement("section",{className:"DocSearch-HitsFooter"},ce.a.createElement(e.resultsFooterComponent,{state:e.state})))}function ze(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},ce.a.createElement("path",{d:"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0"}),ce.a.createElement("path",{d:"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13"})))}function Ve(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function He(){return ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ue(e){return"idle"===e.state.status&&!1===e.hasCollections?e.disableUserPersonalization?null:ce.a.createElement("div",{className:"DocSearch-StartScreen"},ce.a.createElement("p",{className:"DocSearch-Help"},"No recent searches")):!1===e.hasCollections?null:ce.a.createElement("div",{className:"DocSearch-Dropdown-Container"},ce.a.createElement(_e,qe({},e,{title:"Recent",collection:e.state.collections[0],renderIcon:function(){return ce.a.createElement("div",{className:"DocSearch-Hit-icon"},ce.a.createElement(ze,null))},renderAction:function(t){var n=t.item,a=t.runFavoriteTransition,r=t.runDeleteTransition;return ce.a.createElement(ce.a.Fragment,null,ce.a.createElement("div",{className:"DocSearch-Hit-action"},ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:"Save this search",onClick:function(t){t.preventDefault(),t.stopPropagation(),a((function(){e.favoriteSearches.add(n),e.recentSearches.remove(n),e.refresh()}))}},ce.a.createElement(Ve,null))),ce.a.createElement("div",{className:"DocSearch-Hit-action"},ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:"Remove this search from history",onClick:function(t){t.preventDefault(),t.stopPropagation(),r((function(){e.recentSearches.remove(n),e.refresh()}))}},ce.a.createElement(He,null))))}})),ce.a.createElement(_e,qe({},e,{title:"Favorites",collection:e.state.collections[1],renderIcon:function(){return ce.a.createElement("div",{className:"DocSearch-Hit-icon"},ce.a.createElement(Ve,null))},renderAction:function(t){var n=t.item,a=t.runDeleteTransition;return ce.a.createElement("div",{className:"DocSearch-Hit-action"},ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:"Remove this search from favorites",onClick:function(t){t.preventDefault(),t.stopPropagation(),a((function(){e.favoriteSearches.remove(n),e.refresh()}))}},ce.a.createElement(He,null)))}})))}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var We=ce.a.memo((function(e){if("error"===e.state.status)return ce.a.createElement(fe,null);var t=e.state.collections.some((function(e){return e.items.length>0}));return e.state.query?!1===t?ce.a.createElement(ye,e):ce.a.createElement($e,e):ce.a.createElement(Ue,Ge({},e,{hasCollections:t}))}),(function(e,t){return"loading"===t.state.status||"stalled"===t.state.status}));function Ye(){return ce.a.createElement("svg",{viewBox:"0 0 38 38",stroke:"currentColor",strokeOpacity:".5"},ce.a.createElement("g",{fill:"none",fillRule:"evenodd"},ce.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},ce.a.createElement("circle",{strokeOpacity:".3",cx:"18",cy:"18",r:"18"}),ce.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},ce.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}function Ke(){return ce.a.createElement("svg",{width:"20",height:"20",className:"DocSearch-Search-Icon",viewBox:"0 0 20 20"},ce.a.createElement("path",{d:"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e){var t=e.getFormProps({inputElement:e.inputRef.current}).onReset;return ce.a.useEffect((function(){e.autoFocus&&e.inputRef.current&&e.inputRef.current.focus()}),[e.autoFocus,e.inputRef]),ce.a.useEffect((function(){e.isFromSelection&&e.inputRef.current&&e.inputRef.current.select()}),[e.isFromSelection,e.inputRef]),ce.a.createElement(ce.a.Fragment,null,ce.a.createElement("form",{className:"DocSearch-Form",onSubmit:function(e){e.preventDefault()},onReset:t},ce.a.createElement("label",Ze({className:"DocSearch-MagnifierLabel"},e.getLabelProps()),ce.a.createElement(Ke,null)),ce.a.createElement("div",{className:"DocSearch-LoadingIndicator"},ce.a.createElement(Ye,null)),ce.a.createElement("input",Ze({className:"DocSearch-Input",ref:e.inputRef},e.getInputProps({inputElement:e.inputRef.current,autoFocus:e.autoFocus,maxLength:64}))),ce.a.createElement("button",{type:"reset",title:"Clear the query",className:"DocSearch-Reset",hidden:!e.state.query},ce.a.createElement(He,null))),ce.a.createElement("button",{className:"DocSearch-Cancel",onClick:e.onClose},"Cancel"))}function Qe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Je(e){return!1===function(){var e="__TEST_KEY__";try{return localStorage.setItem(e,""),localStorage.removeItem(e),!0}catch(e){return!1}}()?{setItem:function(){},getItem:function(){return[]}}:{setItem:function(t){return window.localStorage.setItem(e,JSON.stringify(t))},getItem:function(){var t=window.localStorage.getItem(e);return t?JSON.parse(t):[]}}}function et(e){var t=e.key,n=e.limit,a=void 0===n?5:n,r=Je(t),o=r.getItem().slice(0,a);return{add:function(e){var t=e,n=(t._highlightResult,t._snippetResult,Qe(t,["_highlightResult","_snippetResult"])),i=o.findIndex((function(e){return e.objectID===n.objectID}));i>-1&&o.splice(i,1),o.unshift(n),o=o.slice(0,a),r.setItem(o)},remove:function(e){o=o.filter((function(t){return t.objectID!==e.objectID})),r.setItem(o)},getAll:function(){return o}}}function tt(e){const t=`algoliasearch-client-js-${e.key}`;let n;const a=()=>(void 0===n&&(n=e.localStorage||window.localStorage),n),r=()=>JSON.parse(a().getItem(t)||"{}");return{get:(e,t,n={miss:()=>Promise.resolve()})=>Promise.resolve().then(()=>{const n=JSON.stringify(e),a=r()[n];return Promise.all([a||t(),void 0!==a])}).then(([e,t])=>Promise.all([e,t||n.miss(e)])).then(([e])=>e),set:(e,n)=>Promise.resolve().then(()=>{const o=r();return o[JSON.stringify(e)]=n,a().setItem(t,JSON.stringify(o)),n}),delete:e=>Promise.resolve().then(()=>{const n=r();delete n[JSON.stringify(e)],a().setItem(t,JSON.stringify(n))}),clear:()=>Promise.resolve().then(()=>{a().removeItem(t)})}}function nt(e){const t=[...e.caches],n=t.shift();return void 0===n?{get:(e,t,n={miss:()=>Promise.resolve()})=>t().then(e=>Promise.all([e,n.miss(e)])).then(([e])=>e),set:(e,t)=>Promise.resolve(t),delete:e=>Promise.resolve(),clear:()=>Promise.resolve()}:{get:(e,a,r={miss:()=>Promise.resolve()})=>n.get(e,a,r).catch(()=>nt({caches:t}).get(e,a,r)),set:(e,a)=>n.set(e,a).catch(()=>nt({caches:t}).set(e,a)),delete:e=>n.delete(e).catch(()=>nt({caches:t}).delete(e)),clear:()=>n.clear().catch(()=>nt({caches:t}).clear())}}function at(e={serializable:!0}){let t={};return{get(n,a,r={miss:()=>Promise.resolve()}){const o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);const i=a(),s=r&&r.miss||(()=>Promise.resolve());return i.then(e=>s(e)).then(()=>i)},set:(n,a)=>(t[JSON.stringify(n)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)),delete:e=>(delete t[JSON.stringify(e)],Promise.resolve()),clear:()=>(t={},Promise.resolve())}}function rt(e){let t=e.length-1;for(;t>0;t--){const n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}function ot(e,t){return t?(Object.keys(t).forEach(n=>{e[n]=t[n](e)}),e):e}function it(e,...t){let n=0;return e.replace(/%s/g,()=>encodeURIComponent(t[n++]))}const st={WithinQueryParameters:0,WithinHeaders:1};function lt(e,t){const n=e||{},a=n.data||{};return Object.keys(n).forEach(e=>{-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(a[e]=n[e])}),{data:Object.entries(a).length>0?a:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}const ct={Read:1,Write:2,Any:3},ut=1,dt=2,mt=3;function pt(e,t=ut){return{...e,status:t,lastUpdate:Date.now()}}function ht(e){return"string"==typeof e?{protocol:"https",url:e,accept:ct.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||ct.Any}}const ft="GET",gt="POST";function bt(e,t){return Promise.all(t.map(t=>e.get(t,()=>Promise.resolve(pt(t))))).then(e=>{const n=e.filter(e=>function(e){return e.status===ut||Date.now()-e.lastUpdate>12e4}(e)),a=e.filter(e=>function(e){return e.status===mt&&Date.now()-e.lastUpdate<=12e4}(e)),r=[...n,...a];return{getTimeout:(e,t)=>(0===a.length&&0===e?1:a.length+3+e)*t,statelessHosts:r.length>0?r.map(e=>ht(e)):t}})}function vt(e,t,n,a){const r=[],o=function(e,t){if(e.method===ft||void 0===e.data&&void 0===t.data)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}(n,a),i=function(e,t){const n={...e.headers,...t.headers},a={};return Object.keys(n).forEach(e=>{const t=n[e];a[e.toLowerCase()]=t}),a}(e,a),s=n.method,l=n.method!==ft?{}:{...n.data,...a.data},c={"x-algolia-agent":e.userAgent.value,...e.queryParameters,...l,...a.queryParameters};let u=0;const d=(t,l)=>{const m=t.pop();if(void 0===m)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:Et(r)};const p={data:o,headers:i,method:s,url:xt(m,n.path,c),connectTimeout:l(u,e.timeouts.connect),responseTimeout:l(u,a.timeout)},h=e=>{const n={request:p,response:e,host:m,triesLeft:t.length};return r.push(n),n},f={onSuccess:e=>function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e),onRetry(n){const a=h(n);return n.isTimedOut&&u++,Promise.all([e.logger.info("Retryable failure",St(a)),e.hostsCache.set(m,pt(m,n.isTimedOut?mt:dt))]).then(()=>d(t,l))},onFail(e){throw h(e),function({content:e,status:t},n){let a=e;try{a=JSON.parse(e).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(a,t,n)}(e,Et(r))}};return e.requester.send(p).then(e=>((e,t)=>(e=>{const t=e.status;return e.isTimedOut||(({isTimedOut:e,status:t})=>!e&&0==~~t)(e)||2!=~~(t/100)&&4!=~~(t/100)})(e)?t.onRetry(e):(({status:e})=>2==~~(e/100))(e)?t.onSuccess(e):t.onFail(e))(e,f))};return bt(e.hostsCache,t).then(e=>d([...e.statelessHosts].reverse(),e.getTimeout))}function yt(e){const t={value:`Algolia for JavaScript (${e})`,add(e){const n=`; ${e.segment}${void 0!==e.version?` (${e.version})`:""}`;return-1===t.value.indexOf(n)&&(t.value=`${t.value}${n}`),t}};return t}function xt(e,t,n){const a=wt(n);let r=`${e.protocol}://${e.url}/${"/"===t.charAt(0)?t.substr(1):t}`;return a.length&&(r+=`?${a}`),r}function wt(e){return Object.keys(e).map(t=>{return it("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function Et(e){return e.map(e=>St(e))}function St(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}const Ct=e=>{const t=e.appId,n=function(e,t,n){const a={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:()=>e===st.WithinHeaders?a:{},queryParameters:()=>e===st.WithinQueryParameters?a:{}}}(void 0!==e.authMode?e.authMode:st.WithinHeaders,t,e.apiKey),a=function(e){const{hostsCache:t,logger:n,requester:a,requestsCache:r,responsesCache:o,timeouts:i,userAgent:s,hosts:l,queryParameters:c,headers:u}=e,d={hostsCache:t,logger:n,requester:a,requestsCache:r,responsesCache:o,timeouts:i,userAgent:s,headers:u,queryParameters:c,hosts:l.map(e=>ht(e)),read(e,t){const n=lt(t,d.timeouts.read),a=()=>vt(d,d.hosts.filter(e=>0!=(e.accept&ct.Read)),e,n);if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return a();const r={request:e,mappedRequestOptions:n,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(r,()=>d.requestsCache.get(r,()=>d.requestsCache.set(r,a()).then(e=>Promise.all([d.requestsCache.delete(r),e]),e=>Promise.all([d.requestsCache.delete(r),Promise.reject(e)])).then(([e,t])=>t)),{miss:e=>d.responsesCache.set(r,e)})},write:(e,t)=>vt(d,d.hosts.filter(e=>0!=(e.accept&ct.Write)),e,lt(t,d.timeouts.write))};return d}({hosts:[{url:`${t}-dsn.algolia.net`,accept:ct.Read},{url:`${t}.algolia.net`,accept:ct.Write}].concat(rt([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}])),...e,headers:{...n.headers(),"content-type":"application/x-www-form-urlencoded",...e.headers},queryParameters:{...n.queryParameters(),...e.queryParameters}});return ot({transporter:a,appId:t,addAlgoliaAgent(e,t){a.userAgent.add({segment:e,version:t})},clearCache:()=>Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},e.methods)},kt=e=>(t,n={})=>ot({transporter:e.transporter,appId:e.appId,indexName:t},n.methods),Ot=e=>(t,n)=>{const a=t.map(e=>({...e,params:wt(e.params||{})}));return e.transporter.read({method:gt,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},n)},Dt=e=>(t,n)=>Promise.all(t.map(t=>{const{facetName:a,facetQuery:r,...o}=t.params;return kt(e)(t.indexName,{methods:{searchForFacetValues:It}}).searchForFacetValues(a,r,{...n,...o})})),Tt=e=>(t,n,a)=>e.transporter.read({method:gt,path:it("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},a),jt=e=>(t,n)=>e.transporter.read({method:gt,path:it("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n),It=e=>(t,n,a)=>e.transporter.read({method:gt,path:it("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},a),Nt=1,Rt=2,At=3;function _t(e,t,n){const a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:e=>new Promise(t=>{const n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(t=>n.setRequestHeader(t,e.headers[t]));const a=(e,a)=>setTimeout(()=>{n.abort(),t({status:0,content:a,isTimedOut:!0})},1e3*e),r=a(e.connectTimeout,"Connection timeout");let o;n.onreadystatechange=()=>{n.readyState>n.OPENED&&void 0===o&&(clearTimeout(r),o=a(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{0===n.status&&(clearTimeout(r),clearTimeout(o),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(r),clearTimeout(o),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})},logger:(r=At,{debug:(e,t)=>(Nt>=r&&console.debug(e,t),Promise.resolve()),info:(e,t)=>(Rt>=r&&console.info(e,t),Promise.resolve()),error:(e,t)=>(console.error(e,t),Promise.resolve())}),responsesCache:at(),requestsCache:at({serializable:!1}),hostsCache:nt({caches:[tt({key:`4.10.3-${e}`}),at()]}),userAgent:yt("4.10.3").add({segment:"Browser",version:"lite"}),authMode:st.WithinQueryParameters};var r;return Ct({...a,...n,methods:{search:Ot,searchForFacetValues:Dt,multipleQueries:Ot,multipleSearchForFacetValues:Dt,initIndex:e=>t=>kt(e)(t,{methods:{search:jt,searchForFacetValues:It,findAnswers:Tt}})}})}_t.version="4.10.3";var Ft=_t;function Mt(){}function Lt(e){return e}function Pt(e,t){return e.reduce((function(e,n){var a=t(n);return e.hasOwnProperty(a)||(e[a]=[]),e[a].length<5&&e[a].push(n),e}),{})}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ut(e){var t=e.appId,n=void 0===t?"BH4D9OD16A":t,a=e.apiKey,r=e.indexName,o=e.placeholder,i=void 0===o?"Search docs":o,s=e.searchParameters,l=e.onClose,c=void 0===l?Mt:l,u=e.transformItems,d=void 0===u?Lt:u,m=e.hitComponent,p=void 0===m?pe:m,h=e.resultsFooterComponent,f=void 0===h?function(){return null}:h,g=e.navigator,b=e.initialScrollY,v=void 0===b?0:b,y=e.transformSearchClient,x=void 0===y?Lt:y,w=e.disableUserPersonalization,E=void 0!==w&&w,S=e.initialQuery,C=void 0===S?"":S,k=Ht(ce.a.useState({query:"",collections:[],completion:null,context:{},isOpen:!1,activeItemId:null,status:"idle"}),2),O=k[0],D=k[1],T=ce.a.useRef(null),j=ce.a.useRef(null),I=ce.a.useRef(null),N=ce.a.useRef(null),R=ce.a.useRef(null),A=ce.a.useRef(10),_=ce.a.useRef("undefined"!=typeof window?window.getSelection().toString().slice(0,64):"").current,F=ce.a.useRef(C||_).current,M=function(e,t,n){return ce.a.useMemo((function(){var a=Ft(e,t);return a.addAlgoliaAgent("docsearch","3.0.0-alpha.37"),!1===/docsearch.js \(.*\)/.test(a.transporter.userAgent.value)&&a.addAlgoliaAgent("docsearch-react","3.0.0-alpha.37"),n(a)}),[e,t,n])}(n,a,x),L=ce.a.useRef(et({key:"__DOCSEARCH_FAVORITE_SEARCHES__".concat(r),limit:10})).current,P=ce.a.useRef(et({key:"__DOCSEARCH_RECENT_SEARCHES__".concat(r),limit:0===L.getAll().length?7:4})).current,B=ce.a.useCallback((function(e){if(!E){var t="content"===e.type?e.__docsearch_parent:e;t&&-1===L.getAll().findIndex((function(e){return e.objectID===t.objectID}))&&P.add(t)}}),[L,P,E]),$=ce.a.useMemo((function(){return se({id:"docsearch",defaultActiveItemId:0,placeholder:i,openOnFocus:!0,initialState:{query:F,context:{searchSuggestions:[]}},navigator:g,onStateChange:function(e){var t=e.state;D(t)},getSources:function(e){var t=e.query,n=e.state,a=e.setContext,o=e.setStatus;return t?M.initIndex(r).search(t,zt({attributesToRetrieve:["hierarchy.lvl0","hierarchy.lvl1","hierarchy.lvl2","hierarchy.lvl3","hierarchy.lvl4","hierarchy.lvl5","hierarchy.lvl6","content","type","url"],attributesToSnippet:["hierarchy.lvl1:".concat(A.current),"hierarchy.lvl2:".concat(A.current),"hierarchy.lvl3:".concat(A.current),"hierarchy.lvl4:".concat(A.current),"hierarchy.lvl5:".concat(A.current),"hierarchy.lvl6:".concat(A.current),"content:".concat(A.current)],snippetEllipsisText:"…",highlightPreTag:"<mark>",highlightPostTag:"</mark>",hitsPerPage:20},s)).catch((function(e){throw"RetryError"===e.name&&o("error"),e})).then((function(e){var t=e.hits,r=e.nbHits,o=Pt(t,(function(e){return Pe(e)}));return n.context.searchSuggestions.length<Object.keys(o).length&&a({searchSuggestions:Object.keys(o)}),a({nbHits:r}),Object.values(o).map((function(e,t){return{sourceId:"hits".concat(t),onSelect:function(e){var t=e.item,n=e.event;B(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return Object.values(Pt(e,(function(e){return e.hierarchy.lvl1}))).map(d).map((function(e){return e.map((function(t){return zt(zt({},t),{},{__docsearch_parent:"lvl1"!==t.type&&e.find((function(e){return"lvl1"===e.type&&e.hierarchy.lvl1===t.hierarchy.lvl1}))})}))})).flat()}}}))})):E?[]:[{sourceId:"recentSearches",onSelect:function(e){var t=e.item,n=e.event;B(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return P.getAll()}},{sourceId:"favoriteSearches",onSelect:function(e){var t=e.item,n=e.event;B(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return L.getAll()}}]}})}),[r,s,M,c,P,L,B,F,i,g,d,E]),z=$.getEnvironmentProps,V=$.getRootProps,H=$.refresh;return function(e){var t=e.getEnvironmentProps,n=e.panelElement,a=e.formElement,r=e.inputElement;ce.a.useEffect((function(){if(n&&a&&r){var e=t({panelElement:n,formElement:a,inputElement:r}),o=e.onTouchStart,i=e.onTouchMove;return window.addEventListener("touchstart",o),window.addEventListener("touchmove",i),function(){window.removeEventListener("touchstart",o),window.removeEventListener("touchmove",i)}}}),[t,n,a,r])}({getEnvironmentProps:z,panelElement:N.current,formElement:I.current,inputElement:R.current}),function(e){var t=e.container;ce.a.useEffect((function(){if(t){var e=t.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), input:not([disabled])"),n=e[0],a=e[e.length-1];return t.addEventListener("keydown",r),function(){t.removeEventListener("keydown",r)}}function r(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),n.focus()))}}),[t])}({container:T.current}),ce.a.useEffect((function(){return document.body.classList.add("DocSearch--active"),function(){var e,t;document.body.classList.remove("DocSearch--active"),null===(e=(t=window).scrollTo)||void 0===e||e.call(t,0,v)}}),[]),ce.a.useEffect((function(){window.matchMedia("(max-width: 750px)").matches&&(A.current=5)}),[]),ce.a.useEffect((function(){N.current&&(N.current.scrollTop=0)}),[O.query]),ce.a.useEffect((function(){F.length>0&&(H(),R.current&&R.current.focus())}),[F,H]),ce.a.useEffect((function(){function e(){if(j.current){var e=.01*window.innerHeight;j.current.style.setProperty("--docsearch-vh","".concat(e,"px"))}}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),ce.a.createElement("div",Bt({ref:T},V({"aria-expanded":!0}),{className:["DocSearch","DocSearch-Container","stalled"===O.status&&"DocSearch-Container--Stalled","error"===O.status&&"DocSearch-Container--Errored"].filter(Boolean).join(" "),onMouseDown:function(e){e.target===e.currentTarget&&c()}}),ce.a.createElement("div",{className:"DocSearch-Modal",ref:j},ce.a.createElement("header",{className:"DocSearch-SearchBar",ref:I},ce.a.createElement(Xe,Bt({},$,{state:O,autoFocus:0===F.length,onClose:c,inputRef:R,isFromSelection:Boolean(F)&&F===_}))),ce.a.createElement("div",{className:"DocSearch-Dropdown",ref:N},ce.a.createElement(We,Bt({},$,{indexName:r,state:O,hitComponent:p,resultsFooterComponent:f,disableUserPersonalization:E,recentSearches:P,favoriteSearches:L,onItemClick:function(e){B(e),c()},inputRef:R}))),ce.a.createElement("footer",{className:"DocSearch-Footer"},ce.a.createElement(de,null))))}},249:function(e,t,n){var a=n(479);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},250:function(e,t,n){var a={"./Band/index.tsx":276,"./Check/index.tsx":270,"./Gauge/index.tsx":272,"./Graph/index.tsx":277,"./Heatmap/index.tsx":278,"./Histogram/index.tsx":279,"./Map/index.tsx":273,"./Mosaic/index.tsx":280,"./Scatter/index.tsx":274,"./SimpleTable/index.tsx":283,"./SingleStat/index.tsx":281,"./SingleStatWithLine/index.tsx":282,"./Table/index.tsx":271};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=250},251:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.hover-legend-toggle,\n.legend-orientation-toggle,\n.legend-opacity-slider,\n.legend-colorize-rows-toggle {\n  margin-top: 8px;\n  margin-bottom: 16px;\n}\n.hover-legend-toggle label.legend-orientation-label,\n.legend-orientation-toggle label.legend-orientation-label,\n.legend-opacity-slider label.legend-orientation-label,\n.legend-colorize-rows-toggle label.legend-orientation-label {\n  color: #999dab;\n}\n\n.legend-orientation--horizontal {\n  margin-bottom: 8px !important;\n}",""])},252:function(e,t,n){var a=n(253);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},253:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.static-legend-options .latest-axis-label {\n  color: #999dab;\n}\n\n.latest-y-axis {\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n\n.latest-x-axis,\n.static-legend-height-slider {\n  margin-bottom: 16px;\n}",""])},255:function(e,t){},256:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'.mapTypeOptions {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n}\n\n.allowPanAndZoom {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  width: 100%;\n}\n\n.allowPanZoomInput {\n  left: 20px;\n  justify-self: end;\n}\n\n.geo-dropdowns {\n  flex: "0 0 120px";\n  padding-bottom: 10px;\n}',""])},257:function(e,t,n){var a=n(258);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},258:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.visualization--simple-table {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-family: "IBMPlexMono", monospace;\n  user-select: text;\n}\n.visualization--simple-table .cf-dapper-scrollbars {\n  border-bottom: 2px solid #202028;\n}\n.visualization--simple-table .cf-dapper-scrollbars--track-x {\n  background-color: rgba(41, 41, 51, 0.5) !important;\n}\n.visualization--simple-table .cf-table {\n  border: 2px solid #434453;\n  margin-bottom: 10px;\n  width: 100%;\n}\n.visualization--simple-table .cf-table--header-cell,\n.visualization--simple-table .cf-table--cell {\n  padding: 4px 10px;\n  white-space: nowrap;\n}\n.visualization--simple-table .cf-table--header-cell label {\n  display: block;\n  font-size: 10px;\n  text-transform: uppercase;\n  color: #757888;\n  font-weight: 500;\n}\n.visualization--simple-table .cf-table--header-cell label:first-of-type {\n  padding-top: 2px;\n}\n\n.visualization--simple-table--results {\n  flex: 1 0 0;\n  position: relative;\n  margin-top: 8px;\n}\n\n.visualization--simple-table--paging {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  margin: 0 auto;\n}\n\n.visualization--simple-table--paging-label {\n  display: inline-block;\n  margin-right: 8px;\n  color: #bec2cc;\n  font-weight: 500;\n  width: 189px;\n}',""])},259:function(e,t,n){var a=n(260);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},260:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.single-stat {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  padding: 8px;\n  color: #00c9ff;\n  user-select: none !important;\n  -moz-user-select: none !important;\n  -webkit-user-select: none !important;\n  -ms-user-select: none !important;\n  -o-user-select: none !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 4px;\n}\n.single-stat, .single-stat:hover {\n  cursor: default;\n}\n\n.single-stat--resizer {\n  display: flex;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.dygraph-child .single-stat--resizer {\n  height: 100%;\n  margin-top: 0;\n}\n\n.single-stat--text {\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 300;\n  letter-spacing: -0.05em;\n}',""])},2606:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(15),s=n.n(i),l=n(155),c=n(181),u=n(27),d=(n(1928),n(6)),m=n(587),p=n(130),h=n(3),f=n(1030),g=n(223),b=n(936),v=n(762),y=n(85),x=n(8),w=n(1039);n(1929);var E=Object(a.memo)(()=>{const[e,t]=Object(a.useState)(!1),n=Object(l.g)(),o=e=>{e.ctrlKey&&"m"===e.key?(t(!0),Object(x.a)(`Global search opened from url ${n.pathname}`)):"Escape"===e.key&&t(!1)};return Object(a.useEffect)(()=>(document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)),[]),e&&(null===d.t||void 0===d.t?void 0:d.t.length)&&(null===d.u||void 0===d.u?void 0:d.u.length)?r.a.createElement(y.a,{onClickOutside:()=>t(!1)},r.a.createElement("div",{className:"GlobalSearch"},r.a.createElement(w.b,{type:w.a.Global}))):null}),S=n(1024),C=n(286),k=n(943),O=n(23);const D=Object(a.lazy)(()=>n.e(65).then(n.bind(null,2597))),T=Object(a.lazy)(()=>n.e(353).then(n.bind(null,2534))),j=()=>{const{theme:e,presentationMode:t}=Object(a.useContext)(u.a),n=Object(o.e)(e=>e.currentPage),i=s()("",{"dashboard-light-mode":"dashboard"===n&&"light"===e});return Object(a.useEffect)(()=>{if(d.f&&Object(O.c)("rudderstackReporting"))try{Object(m.load)(d.E,d.D)}catch(e){console.error("Error loading Rudderstack with wk: ",d.E," at: ",d.D),Object(p.b)(e,{name:"Rudderstack Loading Function"})}if(d.f&&Object(O.c)("coveo")){const e=document.createElement("script");return e.src="https://platform.cloud.coveo.com/rest/organizations/influxdatanonproduction1eh1cn7go/pages/95a20052-218d-4048-9081-16dbcebbdebb/inappwidget/loader",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}Object(c.c)(!1)},[]),r.a.createElement(h.AppWrapper,{presentationMode:t,className:i},Object(O.c)("globalSearch")&&r.a.createElement(E,null),r.a.createElement(v.a,null),r.a.createElement(g.b,null),r.a.createElement(b.a,null),r.a.createElement(S.c,null,r.a.createElement(S.b,null)),r.a.createElement(k.a,null),r.a.createElement(f.a,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(C.a,null)},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/orgs/new",component:T}),r.a.createElement(l.a,{path:"/orgs/:orgID",component:D}))))};t.default=()=>r.a.createElement(u.b,null,r.a.createElement(j,null))},261:function(e,t,n){var a=n(262);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},262:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Modules\n   -----------------------------------------------------------------------------\n   You most likely need these to make components look good\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Variables\n   -----------------------------------------------------------------------------\n*/\n/* Page Layout */\n/* Z Variables */\n/* Motifs */\n/* Typography */\n/* Form Element Sizing */\n/* Empty State */\n/* Event Markers */\n/* Icon Formatting */\n/*\n   Helpers\n   -----------------------------------------------------------------------------\n   So handy, much dandy\n*/\n.text-left {\n  text-align: left;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.u-flex {\n  display: flex;\n  flex-wrap: wrap;\n}\n.u-flex.u-jc-flex-start {\n  justify-content: flex-start;\n}\n.u-flex.u-jc-flex-end {\n  justify-content: flex-end;\n}\n.u-flex.u-jc-center {\n  justify-content: center;\n}\n.u-flex.u-jc-space-between {\n  justify-content: space-between;\n}\n.u-flex.u-jc-space-around {\n  justify-content: space-around;\n}\n.u-flex.u-ai-flex-start {\n  align-items: flex-start;\n}\n.u-flex.u-ai-flex-end {\n  align-items: flex-end;\n}\n.u-flex.u-ai-center {\n  align-items: center;\n}\n.u-flex.u-ai-stretch {\n  align-items: stretch;\n}\n.u-flex.u-ai-baseline {\n  align-items: baseline;\n}\n.u-flex.u-ac-flex-start {\n  align-content: flex-start;\n}\n.u-flex.u-ac-flex-end {\n  align-content: flex-end;\n}\n.u-flex.u-ac-center {\n  align-content: center;\n}\n.u-flex.u-ac-stretch {\n  align-content: stretch;\n}\n.u-flex.u-ac-space-between {\n  align-content: space-between;\n}\n.u-flex.u-ac-space-around {\n  align-content: space-around;\n}\n\n.margin-zero {\n  margin: 0 !important;\n}\n\n.margin-bottom-zero {\n  margin-bottom: 0 !important;\n}\n\n.margin-top-zero {\n  margin-top: 0 !important;\n}\n\n.margin-left-zero {\n  margin-left: 0 !important;\n}\n\n.margin-right-zero {\n  margin-right: 0 !important;\n}\n\n.padding-zero {\n  padding: 0 !important;\n}\n\n.padding-bottom-zero {\n  padding-bottom: 0 !important;\n}\n\n.padding-top-zero {\n  padding-top: 0 !important;\n}\n\n.padding-left-zero {\n  padding-left: 0 !important;\n}\n\n.padding-right-zero {\n  padding-right: 0 !important;\n}\n\n.customizable-field {\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  height: 30px;\n  margin-top: 4px;\n}\n.customizable-field:first-of-type {\n  margin-top: 0;\n}\n.customizable-field.dragging {\n  border-radius: 4px;\n  opacity: 0.4;\n  background: #00a3ff;\n  background: -moz-linear-gradient(left, #00a3ff 0%, #be2ee4 100%);\n  background: -webkit-linear-gradient(left, #00a3ff 0%, #be2ee4 100%);\n  background: linear-gradient(to right, #00a3ff 0%, #be2ee4 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="$startColor", endColorstr="$endColor",GradientType=1 );\n}\n.customizable-field.dragging > * {\n  opacity: 0;\n}\n\n.customizable-field--label,\n.customizable-field--label__hidden {\n  user-select: none !important;\n  -moz-user-select: none !important;\n  -webkit-user-select: none !important;\n  -ms-user-select: none !important;\n  -o-user-select: none !important;\n  height: 30px;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  padding: 0 11px 0 0;\n  border-radius: 4px;\n  width: 100%;\n  transition: background-color 0.25s ease, color 0.25s ease;\n}\n.customizable-field--label, .customizable-field--label:hover,\n.customizable-field--label__hidden,\n.customizable-field--label__hidden:hover {\n  cursor: default;\n}\n.customizable-field--label > span,\n.customizable-field--label__hidden > span {\n  margin-right: 5px;\n}\n\n.customizable-field--label {\n  color: #c6cad3;\n  background-color: #383846;\n}\n\n.customizable-field--label__hidden {\n  background-color: #31313d;\n  color: #545667;\n  font-style: italic;\n}\n\n.customizable-field--input {\n  margin-left: 4px;\n  width: calc(40% - 4px);\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.customizable-field .input-cte__empty {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.customizable-field--name {\n  flex: 1 0 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  font-size: 13px;\n  margin-left: 6px;\n}\n\n.customizable-field--drag,\n.customizable-field--visibility {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  position: relative;\n}\n.customizable-field--drag:hover,\n.customizable-field--visibility:hover {\n  cursor: grab;\n}\n\n.customizable-field--visibility {\n  width: 18px;\n}\n\n.customizable-field--drag .hamburger,\n.customizable-field--visibility .cf-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.customizable-field--drag .hamburger {\n  width: 10px;\n  height: 2px;\n  background-color: #999dab;\n  transition: background-color 0.25s ease;\n  border-radius: 1px;\n}\n.customizable-field--drag .hamburger:before, .customizable-field--drag .hamburger:after {\n  position: absolute;\n  display: block;\n  content: "";\n  width: 100%;\n  height: 100%;\n  background-color: #999dab;\n  transition: background-color 0.25s ease;\n  border-radius: 1px;\n  left: 0;\n}\n.customizable-field--drag .hamburger:before {\n  top: -4px;\n}\n.customizable-field--drag .hamburger:after {\n  top: 4px;\n}\n\n.customizable-field--label__hidden .customizable-field--drag .hamburger, .customizable-field--label__hidden .customizable-field--drag .hamburger:before, .customizable-field--label__hidden .customizable-field--drag .hamburger:after {\n  background-color: #545667;\n}',""])},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(145),r=n(348),o=n(264);class i{constructor(){this._observers=a.c()}on(e,t){a.e(this._observers,e,r.a).add(t)}once(e,t){const n=(...a)=>{this.off(e,n),t(...a)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return o.c((this._observers.get(e)||a.c()).values()).forEach(e=>e(...t))}destroy(){this._observers=a.c()}}},264:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const a=e=>e[e.length-1],r=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},o=Array.from,i=(e,t)=>{return e.length===t.length&&(n=(e,n)=>e===t[n],e.every(n));var n}},265:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));Object.assign;const a=Object.keys,r=(e,t)=>{const n=[];for(const a in e)n.push(t(e[a],a));return n},o=e=>a(e).length,i=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s=(e,t)=>e===t||o(e)===o(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,(e,n)=>(void 0!==e||i(t,n))&&t[n]===e)},266:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));n(7);var a=n(25),r=n(16),o=n(46),i=n(5),s=n(433),l=n(11),c=n(12),u=n(9),d=n(13);const m=()=>async(e,t)=>{try{const n=t();Object(d.h)(n,i.ResourceType.Members)===i.RemoteDataState.NotStarted&&e(Object(s.f)(i.RemoteDataState.Loading));const{id:l}=Object(u.a)(n),[c,m]=await Promise.all([r.getOrgsOwners({orgID:l}),r.getOrgsMembers({orgID:l})]);if(200!==c.status)throw new Error(c.data.message);if(200!==m.status)throw new Error(m.data.message);const p=c.data.users,h=m.data.users,f=[...p,...h],g=Object(a.a)(f,o.d);e(Object(s.f)(i.RemoteDataState.Done,g))}catch(t){console.error(t),e(Object(s.f)(i.RemoteDataState.Error))}},p=e=>async(t,n)=>{try{const{id:a}=Object(u.a)(n()),o=await r.deleteOrgsMember({orgID:a,userID:e.id});if(204!==o.status)throw new Error(o.data.message);t(Object(s.e)(e.id)),t(Object(l.c)(Object(c.zc)(e.name)))}catch(n){console.error(n),t(Object(l.c)(Object(c.yc)(e.name)))}}},268:function(e,t,n){var a=n(619);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),r=n.n(a),o=n(4),i=n(180),s=n(127),l=n(11),c=n(6),u=n(12);const d=r.a.createContext({timeZone:"Local",theme:"dark",presentationMode:!1,navbarMode:"collapsed",flowsCTA:{alerts:!0,explorer:!0,tasks:!0},setTimeZone:e=>{},setTheme:e=>{},setPresentationMode:e=>{},setNavbarMode:e=>{},setFlowsCTA:e=>{}}),m=({children:e})=>{const{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h}=Object(o.e)(e=>({timeZone:Object(s.g)(e),theme:Object(s.f)(e),presentationMode:Object(s.b)(e),navbarMode:Object(s.e)(e),flowsCTA:Object(s.a)(e)})),f=Object(o.d)(),g=Object(a.useCallback)(e=>{f(Object(i.i)(e))},[f]),b=Object(a.useCallback)(e=>{f(Object(i.h)(e))},[f]),v=Object(a.useCallback)(e=>{e?setTimeout(()=>{f(Object(i.d)()),f(Object(l.c)(Object(u.Qc)()))},c.C):f(Object(i.b)())},[f]),y=Object(a.useCallback)(e=>{f(Object(i.g)(e))},[f]),x=Object(a.useCallback)(e=>{f(Object(i.f)(e))},[f]);return r.a.createElement(d.Provider,{value:{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h,setTimeZone:g,setTheme:b,setPresentationMode:v,setNavbarMode:y,setFlowsCTA:x}},e)}},270:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(29),s=n(28),l={type:"check",shape:"chronograf-v2",checkID:"",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}}},c=n(22),u=n(7),d=n(33);var m=({level:e,y:t,onDrag:n,onMouseUp:o})=>{const i=(e=>({onMouseDown:Object(a.useCallback)(t=>{t.stopPropagation(),e({type:"dragStart",x:t.pageX,y:t.pageY});const n=t=>{e({type:"drag",x:t.pageX,y:t.pageY})},a=t=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),e({type:"dragStop",x:t.pageX,y:t.pageY})};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)},[e])}))(n),s=`threshold-marker--${e.toLowerCase()}`,l={top:`${t}px`};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:`threshold-marker--line ${s}`,style:l}),r.a.createElement("div",Object.assign({className:`threshold-marker--handle ${s}`,style:l},i,{onMouseUp:o})))};var p=({level:e,top:t,height:n})=>r.a.createElement("div",{className:`threshold-marker--area threshold-marker--${e.toLowerCase()}`,style:{top:`${t}px`,height:`${n}px`}}),h=n(24);var f=({yScale:e,yDomain:t,threshold:{level:n,within:a,min:o,max:i},onChangeMinPos:s,onChangeMaxPos:l,onMouseUp:c})=>{const u=e(Object(h.b)(o,t)),d=e(Object(h.b)(i,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(o,t)&&r.a.createElement(m,{level:n,y:u,onDrag:s,onMouseUp:c}),Object(h.o)(i,t)&&r.a.createElement(m,{level:n,y:d,onDrag:l,onMouseUp:c}),a?r.a.createElement(p,{level:n,top:d,height:u-d}):r.a.createElement(r.a.Fragment,null,i<=t[1]&&r.a.createElement(p,{level:n,top:e(t[1]),height:d-e(t[1])}),o>=t[0]&&r.a.createElement(p,{level:n,top:u,height:e(t[0])-u})))};var g=({yScale:e,yDomain:t,threshold:{level:n,value:a},onChangePos:o,onMouseUp:i})=>{const s=e(Object(h.b)(a,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,t)&&r.a.createElement(m,{level:n,y:s,onDrag:o,onMouseUp:i}),a>=t[0]&&r.a.createElement(p,{level:n,top:s,height:e(t[0])-s}))};var b=({yDomain:e,yScale:t,threshold:{level:n,value:a},onChangePos:o,onMouseUp:i})=>{const s=t(Object(h.b)(a,e));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,e)&&r.a.createElement(m,{level:n,y:s,onDrag:o,onMouseUp:i}),a<=e[1]&&r.a.createElement(p,{level:n,top:t(e[1]),height:s-t(e[1])}))};var v=({yScale:e,yDomain:t,thresholds:n,onSetThresholds:o})=>{const i=Object(a.useRef)(null),s={},[l,c]=Object(a.useState)(s),d=Object(u.debounce)(()=>{o(n.map((e,t)=>l.index!==t?e:"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{max:e.value}):"range"===e.type?Object.assign(Object.assign({},e),{max:l.maxValue,min:l.minValue}):void 0))},500),m=(a,r,l)=>{s.index=a;const d=l-i.current.getBoundingClientRect().top,m=Object(h.b)(e.invert(d),t),p=Object.assign(Object.assign({},n[a]),{[r]:m});if("range"===p.type&&p.min>p.max){const e=p.min;p.min=p.max,p.max=e}const f=n.map((e,t)=>t===a?p:e).map(e=>"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{value:Object(u.round)(e.value,2),max:t[1]}):"range"===e.type?"maxValue"===r?(s.maxValue=Object(u.round)(e.maxValue,2),s.minValue=Object(u.round)(e.min,2),Object.assign(Object.assign({},e),{max:Object(u.round)(t[1],2),min:Object(u.round)(e.min,2)})):(s.maxValue=Object(u.round)(e.max,2),s.minValue=Object(u.round)(e.minValue,2),Object.assign(Object.assign({},e),{max:Object(u.round)(e.max,2),min:t[0]?Object(u.round)(t[0],2):0})):void 0);c(s),o(f)};return r.a.createElement("div",{className:"threshold-markers",ref:i},n.map((n,a)=>{const o=({y:e})=>m(a,"value",e),i=({y:e})=>m(a,"maxValue",e),s=({y:e})=>m(a,"minValue",e);switch(n.type){case"greater":return r.a.createElement(b,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:o,onMouseUp:d});case"lesser":return r.a.createElement(g,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:o,onMouseUp:d});case"range":return r.a.createElement(f,{key:a,yScale:e,yDomain:t,threshold:Object.assign(Object.assign({},n),{min:l.minValue?l.minValue:Object(u.round)(n.min,2),max:l.maxValue?l.maxValue:Object(u.round)(n.max,2)}),onChangeMinPos:s,onChangeMaxPos:i,onMouseUp:d});default:throw new Error("Unknown threshold type in <ThresholdMarkers /> ")}}))},y=n(100),x=n(223),w=n(3);var E=({triggerRect:e,children:t,maxWidth:n=300,color:o=w.ComponentColor.Primary})=>{const i=Object(a.useRef)(null);return Object(a.useLayoutEffect)(()=>{const t=i.current;if(!t||!e)return;const a=t.getBoundingClientRect();let r=Math.floor(e.left-a.width)-2,s="left";r<0&&(r=e.left+e.width,s="right");let l=e.top+e.height/2-a.height/2;l<0&&(l=0),l+a.height>window.innerHeight&&(l=window.innerHeight-a.height),t.setAttribute("style",`visibility: visible; top: ${l}px; left: ${r}px; max-width: ${n}px;`);const c=e.top+e.height/2-l;t.querySelector(".box-tooltip--caret").setAttribute("style",`top: ${c}px;`),t.className=`box-tooltip  box-tooltip__${o} ${s}`}),Object(y.createPortal)(r.a.createElement("div",{className:`box-tooltip box-tooltip__${o}`,ref:i,style:{maxWidth:n}},t,r.a.createElement("div",{className:"box-tooltip--caret-container"},r.a.createElement("div",{className:"box-tooltip--caret"}))),document.querySelector(`#${x.a}`))},S=n(78);var C=({events:e})=>{const t=(e,t)=>{if(!t)return;return{color:S.l[`${e.toUpperCase()}`]}};return r.a.createElement("div",{className:"box-tooltip--contents event-marker-tooltip"},r.a.createElement("div",{className:"event-marker-tooltip--table"},["time","checkName","level","message"].map(n=>r.a.createElement("div",{key:n,className:"event-marker-tooltip--column"},r.a.createElement("div",{className:"event-marker-tooltip--header"},n),e.map((e,o)=>{const{time:i,checkName:s,level:l}=e;return r.a.createElement(a.Fragment,{key:`${i}-${s}-${l}-${o}`},r.a.createElement("div",{className:"event-marker-tooltip--cell",style:t(l,"level"===n)},e[n]))})))))};var k=({xScale:e,xDomain:t,events:n,xFormatter:o})=>{const i=Object(a.useRef)(null),[s,l]=Object(a.useState)(!1);let c=null;i.current&&(c=i.current.getBoundingClientRect());const{time:u}=n[0],d={left:`${Math.ceil(e(u))}px`},m=`event-marker--line__${(e=>{const t=["crit","warn","info","ok","unknown"],n=e.map(e=>e.level);for(const e of t)if(n.includes(e))return e;return"unknown"})(n).toLowerCase()}`,p=n.map(e=>Object.assign(Object.assign({},e),{time:o(e.time)}));return Object(h.o)(u,t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m,style:d},r.a.createElement("div",{className:"event-marker--line-rect",ref:i,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)}})),s&&i.current&&r.a.createElement(E,{triggerRect:c,maxWidth:50*p[0].message.length},r.a.createElement(C,{events:p})))};const O=(e,t,n,a,r,o)=>e.map(e=>e.length&&e.filter(e=>"ok"===e.level&&t||"info"===e.level&&n||"warn"===e.level&&a||"crit"===e.level&&r||"unknown"===e.level&&o)).filter(e=>e&&e.length);var D=({xScale:e,xDomain:t,eventsArray:n,xFormatter:o})=>{const[i,s]=Object(a.useState)(!1),[l,c]=Object(a.useState)(!0),[u,d]=Object(a.useState)(!0),[m,p]=Object(a.useState)(!0),[h,f]=Object(a.useState)(!0),[g,b]=Object(a.useState)(O(n,i,l,u,m,h));Object(a.useEffect)(()=>{b(O(n,i,l,u,m,h))},[n,i,l,u,m,h]);const v=e=>e?w.IconFont.EyeOpen:w.IconFont.EyeClosed,y=r.a.createElement("div",{className:"event-marker--vis-selector"},"Toggle markers:",r.a.createElement("span",{onClick:()=>s(!i),"data-testid":"event-marker-vis-toggle-ok"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:S.l.OK},glyph:v(i),testID:"event-marker-vis-icon-ok"})),r.a.createElement("span",{onClick:()=>d(!u),"data-testid":"event-marker-vis-toggle-warn"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:S.l.WARN},glyph:v(u)})),r.a.createElement("span",{onClick:()=>c(!l),"data-testid":"event-marker-vis-toggle-info"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:S.l.INFO},glyph:v(l)})),r.a.createElement("span",{onClick:()=>p(!m),"data-testid":"event-marker-vis-toggle-crit"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:S.l.CRIT},glyph:v(m)})),r.a.createElement("span",{onClick:()=>f(!h),"data-testid":"event-marker-vis-toggle-unknown"},r.a.createElement(w.Icon,{className:"event-marker--vis-icon",style:{color:S.l.UNKNOWN},glyph:v(h)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"event-markers","data-testid":"event-markers"},g.map((n,a)=>r.a.createElement(k,{key:a,xScale:e,xDomain:t,events:n,xFormatter:o}))),y)},T=n(38),j=n(188),I=n(27),N=n(6),R=n(19),A=n(193);var _=({properties:e,result:t})=>{const{statuses:n,thresholds:o,updateThresholds:s}=Object(a.useContext)(j.b),{theme:l,timeZone:m}=Object(a.useContext)(I.a),[p,f,g]=Object(A.a)(t.table.getColumn("_value","number"),o),b=t.table.columnKeys;if(!(b.includes("_time")&&b.includes("_value")))return r.a.createElement(d.a,{message:R.e});const y=[...t.fluxGroupKeyUnion,"result"],x=Object(T.a)(t.table.getColumnType("_time"),{timeZone:m,trimZeros:!1}),w=Object(T.a)(t.table.getColumnType("_value"),{timeZone:m,trimZeros:!1}),E=Object(h.h)([...y,"_time","_value"],t.table),S=Object(u.flatMap)(o,e=>[e.value,e.minValue,e.maxValue]).filter(e=>void 0!==e),C=S.length?S:null,k=e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),O="light"===l?N.J:N.I;return r.a.createElement("div",{className:"time-series-container time-series-container--alert-check"},r.a.createElement(c.Plot,{config:Object.assign(Object.assign({},O),{table:t.table,legendColumns:E,yTicks:C,yDomain:p,onSetYDomain:f,onResetYDomain:g,valueFormatters:{_time:x,_value:w},layers:[{type:"line",x:"_time",y:"_value",fill:y,interpolation:"linear",colors:k},{type:"custom",render:({yScale:e,yDomain:t})=>r.a.createElement(v,{key:"thresholds",thresholds:o,onSetThresholds:s,yScale:e,yDomain:t})},{type:"custom",render:({xScale:e,xDomain:t})=>r.a.createElement(D,{key:"events",eventsArray:n,xScale:e,xDomain:t,xFormatter:x})}]})}))};t.default=e=>{e({type:"check",name:"Check",disabled:!0,graphic:o,component:_,initial:l})}},271:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"}))),i=n(28),s=n(22),l={type:"table",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},colors:s.DEFAULT_TABLE_COLORS,fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1},c=n(453),u=n(2528),d=n(3),m=n(44),p=n(36),h=n(10),f=n(100),g=n(2600),b=n(2601),v=n(14);const y={beginDrag:e=>({id:e.id,index:e.index})},x={hover(e,t,n){const a=t.getItem().index,r=e.index;if(a===r)return;const o=Object(f.findDOMNode)(n).getBoundingClientRect(),i=(o.bottom-o.top)/2,s=t.getClientOffset().y-o.top;a<r&&s<i||a>r&&s>i||(e.onMoveColumn(a,r),t.getItem().index=r)}};let w=class extends a.Component{constructor(e){super(e),this.handleColumnRename=e=>{const{onUpdateColumn:t,internalName:n,visible:a}=this.props;t({internalName:n,displayName:e.target.value,visible:a})},this.handleToggleVisible=()=>{const{onUpdateColumn:e,internalName:t,displayName:n,visible:a}=this.props;e({internalName:t,displayName:n,visible:!a})},this.handleColumnRename=this.handleColumnRename.bind(this),this.handleToggleVisible=this.handleToggleVisible.bind(this)}render(){const{internalName:e,displayName:t,connectDragPreview:n,connectDropTarget:a}=this.props;return n(a(r.a.createElement("div",{className:this.columnClassName},r.a.createElement("div",{className:this.labelClassName},this.dragHandle,this.visibilityToggle,r.a.createElement("div",{className:"customizable-field--name"},e)),r.a.createElement(d.Input,{className:"customizable-field--input",id:"internalName",value:t,onChange:this.handleColumnRename,placeholder:`Rename ${e}`,status:this.inputStatus}))))}get inputStatus(){const{visible:e}=this.props;return e?d.ComponentStatus.Default:d.ComponentStatus.Disabled}get dragHandle(){const{connectDragSource:e}=this.props;return e(r.a.createElement("div",{className:"customizable-field--drag"},r.a.createElement("span",{className:"hamburger"})))}get visibilityToggle(){const{visible:e,internalName:t}=this.props;return e?r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to HIDE ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeOpen})):r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to SHOW ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeClosed}))}get labelClassName(){const{visible:e}=this.props;return e?"customizable-field--label":"customizable-field--label__hidden"}get columnClassName(){const{isDragging:e}=this.props;return e?"customizable-field dragging":"customizable-field"}};var E,S,C,k,O,D;w=Object(h.a)([v.a,(k="column",O=x,D=e=>({connectDropTarget:e.dropTarget()}),e=>Object(g.a)(k,O,D)(e)),(E="column",S=y,C=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}),e=>Object(b.a)(E,S,C)(e)),Object(h.b)("design:paramtypes",[Object])],w);var T=w,j=n(19),I=n(34),N=n(83);const R=(e,t,n)=>{if(t===n)return e.slice();const a=e[t],r=[...e.slice(0,t),...e.slice(t+1)];return[...r.slice(0,n),a,...r.slice(n)]};n(261);var A=({properties:e,results:t,update:n})=>{var o;const i=(e.fieldOptions||[]).reduce((e,t)=>(e[t.internalName]=t,e),{});t.table.columnKeys.filter(e=>!i.hasOwnProperty(e)).filter(e=>!["result","","table","time"].includes(e)).forEach(e=>{i[e]={internalName:e,displayName:e,visible:!0}});const s=Object.keys(i).map(e=>i[e]),l=Object(a.useCallback)(t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})},[n,e.decimalPlaces]),h=Object(a.useCallback)(e=>{e===d.AutoInputMode.Auto?l(null):l(2)},[l]),f=Object(a.useCallback)(t=>{n({tableOptions:Object.assign(Object.assign({},e.tableOptions),t)})},[n,e.tableOptions]),g=Object(a.useCallback)(t=>{t===p.m?n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.m}):e)}):n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.n}):e)})},[n,e.colors]),b=e=>"time"!==e.internalName&&""!==e.internalName&&"result"!==e.internalName&&"table"!==e.internalName,v=Object(a.useCallback)(e=>{n({fieldOptions:s.map(t=>t.internalName!==e.internalName?t:Object.assign({},e))})},[n,s]),y=Object(a.useCallback)((e,t)=>{n({fieldOptions:R(s.filter(b),e,t)})},[n,s]),x=(null===(o=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===o?void 0:o.type)||"text",w=Object(a.useMemo)(()=>s.filter(b).map((e,t)=>r.a.createElement(T,{key:e.internalName,index:t,id:e.internalName,internalName:e.internalName,displayName:e.displayName,visible:e.visible,onUpdateColumn:v,onMoveColumn:y})),[s]);return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Formatting"),r.a.createElement(d.Form.Element,{label:"Default Sort Field"},r.a.createElement(d.Dropdown,{className:"dropdown-stretch",button:(t,n)=>{var a,o;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},(null===(o=null===(a=e.tableOptions)||void 0===a?void 0:a.sortBy)||void 0===o?void 0:o.displayName)||"Choose a sort field")},menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},s.filter(e=>!!e.internalName).map(t=>{var n,a;return r.a.createElement(d.Dropdown.Item,{key:t.internalName,id:t.internalName,value:t,onClick:e=>{f({sortBy:e})},selected:t.internalName===(null===(a=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===a?void 0:a.internalName)},t.displayName)}))})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:h,inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{l(Object(I.a)(e))},value:e.decimalPlaces.digits,min:j.q,max:j.p,type:d.InputType.Number})})),r.a.createElement("h5",{className:"view-options--header"},"Colorized Thresholds"),r.a.createElement(N.a,{thresholds:e.colors,onSetThresholds:e=>{n({colors:e})}}),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:x===p.m,onClick:g,value:p.m},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:x===p.n,onClick:g,value:p.n},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Column Settings"),r.a.createElement(d.Form.Element,{label:"First Column"},r.a.createElement(d.Form.Box,null,r.a.createElement(d.FlexBox,{direction:d.FlexDirection.Row,margin:d.ComponentSize.Small},r.a.createElement(d.InputLabel,null,"Scroll with table"),r.a.createElement(d.SlideToggle,{active:e.tableOptions.fixFirstColumn,onChange:()=>{f({fixFirstColumn:!e.tableOptions.fixFirstColumn})},size:d.ComponentSize.ExtraSmall}),r.a.createElement(d.InputLabel,null,"Fixed")))),r.a.createElement(d.Form.Element,{label:"Table Columns"},r.a.createElement(u.a,{backend:c.a},r.a.createElement("div",null,w.length?w:r.a.createElement(d.Form.Box,null,r.a.createElement(d.EmptyState,{size:d.ComponentSize.Small},r.a.createElement(d.EmptyState.Text,null,"This query returned no columns")))))))))},_=n(15),F=n.n(_),M=n(131);var L=class{constructor(e={}){this.columnWidth=({index:e})=>{this.cellMeasurerCache.columnWidth({index:e+this.columnIndexOffset})},this.rowHeight=({index:e})=>{this.cellMeasurerCache.rowHeight({index:e+this.rowIndexOffset})};const{cellMeasurerCache:t,columnIndexOffset:n=0,rowIndexOffset:a=0}=e;this.cellMeasurerCache=t,this.columnIndexOffset=n,this.rowIndexOffset=a}clear(e,t){this.cellMeasurerCache.clear(e+this.rowIndexOffset,t+this.columnIndexOffset)}clearAll(){this.cellMeasurerCache.clearAll()}get defaultHeight(){return this.cellMeasurerCache.defaultHeight}get defaultWidth(){return this.cellMeasurerCache.defaultWidth}hasFixedHeight(){return this.cellMeasurerCache.hasFixedHeight()}hasFixedWidth(){return this.cellMeasurerCache.hasFixedWidth()}getHeight(e,t=0){return this.cellMeasurerCache.getHeight(e+this.rowIndexOffset,t+this.columnIndexOffset)}getWidth(e,t=0){return this.cellMeasurerCache.getWidth(e+this.rowIndexOffset,t+this.columnIndexOffset)}has(e,t=0){return this.cellMeasurerCache.has(e+this.rowIndexOffset,t+this.columnIndexOffset)}set(e,t,n,a){this.cellMeasurerCache.set(e+this.rowIndexOffset,t+this.columnIndexOffset,n,a)}};class P extends r.a.PureComponent{constructor(e,t){super(e,t),this.deferredInvalidateColumnIndex=0,this.deferredInvalidateRowIndex=0,this.leftGridWidth=0,this.topGridHeight=0,this.lastRenderedFixedColumnCount=0,this.lastRenderedFixedRowCount=0,this.lastRenderedHeight=0,this.lastRenderedWidth=0,this.cellRendererBottomLeftGrid=e=>{var{rowIndex:t}=e,n=Object(h.c)(e,["rowIndex"]);const{cellRenderer:a,fixedRowCount:o,rowCount:i}=this.props;return t===i-o?r.a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{height:20})}):a(Object.assign(Object.assign({},n),{parent:this,rowIndex:t+o}))},this.onScrollbarsScroll=e=>{this.onScroll(e)},this.onScroll=e=>{const{scrollLeft:t,scrollTop:n}=e;this.setState({scrollLeft:t,scrollTop:n});const{onScroll:a}=this.props;a&&a(e)},this.onScrollLeft=e=>{const{scrollLeft:t}=e;this.onScroll({scrollLeft:t,scrollTop:this.state.scrollTop})},this.rowHeightBottomGrid=({index:e})=>{const{fixedRowCount:t,rowCount:n,rowHeight:a}=this.props,{scrollbarSize:r,showVerticalScrollbar:o}=this.state;return o&&e===n-t?r:"function"==typeof a?a({index:e+t}):a},this.topLeftGridRef=e=>{this.topLeftGrid=e},this.topRightGridRef=e=>{this.topRightGrid=e},this.bottomLeftGridRef=e=>{this.bottomLeftGrid=e},this.bottomRightGridRef=e=>{this.bottomRightGrid=e},this.cellRendererBottomRightGrid=e=>{var{columnIndex:t,rowIndex:n}=e,a=Object(h.c)(e,["columnIndex","rowIndex"]);const{cellRenderer:r,fixedColumnCount:o,fixedRowCount:i}=this.props;return r(Object.assign(Object.assign({},a),{columnIndex:t+o,parent:this,rowIndex:n+i}))},this.cellRendererTopRightGrid=e=>{var{columnIndex:t}=e,n=Object(h.c)(e,["columnIndex"]);const{cellRenderer:a,columnCount:o,fixedColumnCount:i}=this.props;return t===o-i?r.a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{width:20})}):a(Object.assign(Object.assign({},n),{columnIndex:t+i,parent:this}))},this.columnWidthRightGrid=({index:e})=>{const{columnCount:t,fixedColumnCount:n,columnWidth:a}=this.props,{scrollbarSize:r,showHorizontalScrollbar:o}=this.state;return o&&e===t-n?r:"function"==typeof a?a({index:e+n}):a},this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1};const{deferredMeasurementCache:n,fixedColumnCount:a,fixedRowCount:o}=e;this.maybeCalculateCachedStyles(!0),n&&(this.deferredMeasurementCacheBottomLeftGrid=o>0?new L({cellMeasurerCache:n,columnIndexOffset:0,rowIndexOffset:o}):n,this.deferredMeasurementCacheBottomRightGrid=a>0||o>0?new L({cellMeasurerCache:n,columnIndexOffset:a,rowIndexOffset:o}):n,this.deferredMeasurementCacheTopRightGrid=a>0?new L({cellMeasurerCache:n,columnIndexOffset:a,rowIndexOffset:0}):n)}static getDerivedStateFromProps(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}forceUpdateGrids(){this.bottomLeftGrid&&this.bottomLeftGrid.forceUpdate(),this.bottomRightGrid&&this.bottomRightGrid.forceUpdate(),this.topLeftGrid&&this.topLeftGrid.forceUpdate(),this.topRightGrid&&this.topRightGrid.forceUpdate()}invalidateCellSizeAfterRender({columnIndex:e=0,rowIndex:t=0}={}){this.deferredInvalidateColumnIndex="number"==typeof this.deferredInvalidateColumnIndex?Math.min(this.deferredInvalidateColumnIndex,e):e,this.deferredInvalidateRowIndex="number"==typeof this.deferredInvalidateRowIndex?Math.min(this.deferredInvalidateRowIndex,t):t}measureAllCells(){this.bottomLeftGrid&&this.bottomLeftGrid.measureAllCells(),this.bottomRightGrid&&this.bottomRightGrid.measureAllCells(),this.topLeftGrid&&this.topLeftGrid.measureAllCells(),this.topRightGrid&&this.topRightGrid.measureAllCells()}recomputeGridSize({columnIndex:e=0,rowIndex:t=0}={}){const{fixedColumnCount:n,fixedRowCount:a}=this.props,r=Math.max(0,e-n),o=Math.max(0,t-a);this.bottomLeftGrid&&this.bottomLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:o}),this.bottomRightGrid&&this.bottomRightGrid.recomputeGridSize({columnIndex:r,rowIndex:o}),this.topLeftGrid&&this.topLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:t}),this.topRightGrid&&this.topRightGrid.recomputeGridSize({columnIndex:r,rowIndex:t}),this.leftGridWidth=null,this.topGridHeight=null,this.maybeCalculateCachedStyles(!0)}componentDidMount(){const{scrollLeft:e,scrollTop:t}=this.props;if(e>0||t>0){const n={};e>0&&(n.scrollLeft=e),t>0&&(n.scrollTop=t),this.setState(Object.assign(Object.assign({},this.state),n))}this.handleInvalidatedGridSize()}componentDidUpdate(){this.handleInvalidatedGridSize()}render(){const e=this.props,{onScroll:t,onSectionRendered:n,scrollToRow:a,scrollToColumn:o}=e,i=Object(h.c)(e,["onScroll","onSectionRendered","scrollToRow","scrollToColumn"]);if(this.prepareForRender(),0===this.props.width||0===this.props.height)return null;const{scrollLeft:s,scrollTop:l}=this.state;return r.a.createElement("div",{style:this.containerOuterStyle},r.a.createElement("div",{style:this.containerTopStyle},this.renderTopLeftGrid(i),this.renderTopRightGrid(Object.assign(Object.assign(Object.assign({},i),t),{scrollLeft:s}))),r.a.createElement("div",{style:this.containerBottomStyle},this.renderBottomLeftGrid(Object.assign(Object.assign({},i),{onScroll:t,scrollTop:l})),this.renderBottomRightGrid(Object.assign(Object.assign({},i),{onScroll:t,onSectionRendered:n,scrollLeft:s,scrollToColumn:o,scrollToRow:a,scrollTop:l}))))}getBottomGridHeight(e){const{height:t}=e;return t-this.getTopGridHeight(e)}getLeftGridWidth(e){const{fixedColumnCount:t,columnWidth:n}=e;if(null==this.leftGridWidth)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.leftGridWidth=e}else this.leftGridWidth=n*t;return this.leftGridWidth}getRightGridWidth(e){const{width:t}=e;return t-this.getLeftGridWidth(e)}getTopGridHeight(e){const{fixedRowCount:t,rowHeight:n}=e;if(null==this.topGridHeight)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.topGridHeight=e}else this.topGridHeight=n*t;return this.topGridHeight}renderBottomLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n,rowCount:a}=e;if(!t)return null;const o=this.getLeftGridWidth(e),i=this.getBottomGridHeight(e);return r.a.createElement(M.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:t,deferredMeasurementCache:this.deferredMeasurementCacheBottomLeftGrid,onScroll:this.onScroll,height:i,ref:this.bottomLeftGridRef,rowCount:Math.max(0,a-n),rowHeight:this.rowHeightBottomGrid,style:Object.assign({},this.bottomLeftGridStyle),tabIndex:null,width:o}))}renderBottomRightGrid(e){const{columnCount:t,fixedColumnCount:n,fixedRowCount:a,rowCount:o,scrollToColumn:i,scrollToRow:s}=e,l=this.getRightGridWidth(e),c=this.getBottomGridHeight(e);return r.a.createElement(d.DapperScrollbars,{style:Object.assign(Object.assign({},this.bottomRightGridStyle),{width:l,height:c}),autoHide:!0,scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft,onScroll:this.onScrollbarsScroll},r.a.createElement(M.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheBottomRightGrid,height:c,ref:this.bottomRightGridRef,rowCount:Math.max(0,o-a),rowHeight:this.rowHeightBottomGrid,onScroll:this.onScroll,scrollToColumn:i-n,scrollToRow:s-a,style:Object.assign(Object.assign({},this.bottomRightGridStyle),{overflowX:!1,overflowY:!0,left:0}),width:l})))}renderTopLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n}=e;return t&&n?r.a.createElement(M.c,Object.assign({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this.getTopGridHeight(e),ref:this.topLeftGridRef,rowCount:n,style:this.topLeftGridStyle,tabIndex:null,width:this.getLeftGridWidth(e)})):null}renderTopRightGrid(e){const{columnCount:t,enableFixedRowScroll:n,fixedColumnCount:a,fixedRowCount:o,scrollLeft:i}=e;if(!o)return null;const s=this.getRightGridWidth(e),l=this.getTopGridHeight(e);return r.a.createElement(M.c,Object.assign({},e,{cellRenderer:this.cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-a),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheTopRightGrid,height:l,onScroll:n?this.onScrollLeft:void 0,ref:this.topRightGridRef,rowCount:o,scrollLeft:i,style:this.topRightGridStyle,tabIndex:null,width:s}))}maybeCalculateCachedStyles(e){const{columnWidth:t,height:n,fixedColumnCount:a,fixedRowCount:r,rowHeight:o,style:i,styleBottomLeftGrid:s,styleBottomRightGrid:l,styleTopLeftGrid:c,styleTopRightGrid:u,width:d}=this.props,m=e||n!==this.lastRenderedHeight||d!==this.lastRenderedWidth,p=e||t!==this.lastRenderedColumnWidth||a!==this.lastRenderedFixedColumnCount,h=e||r!==this.lastRenderedFixedRowCount||o!==this.lastRenderedRowHeight;(e||m||i!==this.lastRenderedStyle)&&(this.containerOuterStyle=Object.assign({height:n,overflow:"visible",width:d},i)),(e||m||h)&&(this.containerTopStyle={height:this.getTopGridHeight(this.props),position:"relative",width:d},this.containerBottomStyle={height:n-this.getTopGridHeight(this.props),overflow:"visible",position:"relative",width:d}),(e||s!==this.lastRenderedStyleBottomLeftGrid)&&(this.bottomLeftGridStyle=Object.assign({left:0,overflowY:"hidden",overflowX:"hidden",position:"absolute"},s)),(e||p||l!==this.lastRenderedStyleBottomRightGrid)&&(this.bottomRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),position:"absolute"},l)),(e||c!==this.lastRenderedStyleTopLeftGrid)&&(this.topLeftGridStyle=Object.assign({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},c)),(e||p||u!==this.lastRenderedStyleTopRightGrid)&&(this.topRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},u)),this.lastRenderedColumnWidth=t,this.lastRenderedFixedColumnCount=a,this.lastRenderedFixedRowCount=r,this.lastRenderedHeight=n,this.lastRenderedRowHeight=o,this.lastRenderedStyle=i,this.lastRenderedStyleBottomLeftGrid=s,this.lastRenderedStyleBottomRightGrid=l,this.lastRenderedStyleTopLeftGrid=c,this.lastRenderedStyleTopRightGrid=u,this.lastRenderedWidth=d}handleInvalidatedGridSize(){if("number"==typeof this.deferredInvalidateColumnIndex){const e=this.deferredInvalidateColumnIndex,t=this.deferredInvalidateRowIndex;this.deferredInvalidateColumnIndex=null,this.deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}prepareForRender(){this.lastRenderedColumnWidth===this.props.columnWidth&&this.lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this.leftGridWidth=null),this.lastRenderedFixedRowCount===this.props.fixedRowCount&&this.lastRenderedRowHeight===this.props.rowHeight||(this.topGridHeight=null),this.maybeCalculateCachedStyles(!1),this.lastRenderedColumnWidth=this.props.columnWidth,this.lastRenderedFixedColumnCount=this.props.fixedColumnCount,this.lastRenderedFixedRowCount=this.props.fixedRowCount,this.lastRenderedRowHeight=this.props.rowHeight}}P.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{}};var B=P,$=n(189),z=n(38),V=n(7),H=n(236),q=n(91),U=n(45);const G=e=>7*e.length;var W;!function(e){e.MetaQueryCombo="MetaQueryCombo",e.GeneralError="Error"}(W||(W={}));const Y=(e,t,n,a,r)=>{const o=(e=>(e=Object(V.replace)(e,"MMMM","September"),e=Object(V.replace)(e,"dddd","Wednesday"),e=Object(V.replace)(e,"A","AM"),e=Object(V.replace)(e,"h","00"),e=Object(V.replace)(e,"X","1522286058"),e=Object(V.replace)(e,"x","1536106867461"),G(e)+q.b))(""===n?U.a:n);return Object(H.c)(e,(n,i,s)=>((e,t,n,a,r,o,i,s)=>Object(H.c)(e,(e,l,c)=>{const u=r.find(e=>e.internalName===l);let d=`${l}`;u&&u.displayName?d=u.displayName:!isNaN(+l)&&s.isEnforced&&(d=(+l).toFixed(s.digits));const m=n[c],p=m===q.f.internalName,h=n[0]===q.f.internalName,f=p&&i&&!a||!i&&a&&h&&0!==c?o:G(d.toString().trim())+q.b,{widths:g}=t,b=Object(V.get)(g,`${m}`,0);return(a||f>b)&&(e.widths[m]=f,e.totalWidths+=f-b),e},Object.assign({},t)))(i,n,e[0],0===s,t,o,a,r),{widths:{},totalWidths:0})},K=(e,t,n,a,r,o)=>{const{verticalTimeAxis:i}=a,s=(e=>{const t=e[0],n=["","result","table"].map(e=>t.indexOf(e));return e.map(e=>e.filter((e,t)=>!n.includes(t)))})(e),l=((e,t)=>{let n=[];return t.forEach(e=>{const t={internalName:e,displayName:"",visible:!0};n=[...n,t]}),[...e.filter(e=>n.find(t=>t.internalName===e.internalName)),...n.filter(t=>!e.find(e=>e.internalName===t.internalName))]})(n,s[0]),{sortedData:c,sortedTimeVals:u}=((e,t)=>{const n=new Set(e[0]);let a=0;if(n.has(t.field))a=e[0].indexOf(t.field);else if(!t.field)return{sortedData:[...e],sortedTimeVals:e.map(e=>e[0])};const r=e.slice(1),o=[e[0],...Object(V.orderBy)(r,e=>{const t=e[a];return isNaN(Number(t))?t:Number(t)},[t.direction])];return{sortedData:o,sortedTimeVals:Object(H.b)(o,e=>e[a])}})(s,t),d=((e,t)=>{const n=t.map(t=>e[0].findIndex(e=>e===t.internalName)).filter(e=>-1!==e),a=Object(H.b)(e,e=>e.map((e,t,a)=>a[n[t]]));return a[0].length?a:[[]]})(((e,t)=>{const n={},a=Object(H.b)(e,(e,a)=>Object(H.a)(e,(e,r)=>{if(0===a){const a=t.find(t=>t.internalName===e);n[r]=!a||a.visible}return n[r]}));return a[0].length?a:[[]]})(c,l),l),m=i?d:Object(V.unzip)(d);return{transformedData:m,sortedTimeVals:u,columnWidths:Y(m,l,r,i,o),resolvedFieldOptions:l,sortOptions:t}},Z=(e,t)=>Math.abs(e-new Date(t).valueOf());var X=n(27);var Q=({properties:e,sort:t,updateSort:n,table:o})=>{var i,s,l;const c=Object(a.useMemo)(()=>K(o.data,t,e.fieldOptions.map(e=>Object.assign(Object.assign({},e),{dataType:o.dataTypes[e.internalName]})),e.tableOptions,e.timeFormat,e.decimalPlaces),[o.data,t,e.fieldOptions,e.timeFormat,e.decimalPlaces]),{theme:u,timeZone:d}=Object(a.useContext)(X.a),[p,h]=Object(a.useState)(0),[f,g]=Object(a.useState)(q.j),[b,v]=Object(a.useState)(q.j),[y,x]=Object(a.useState)(0),w=F()("time-machine-table",{"time-machine-table__light-mode":"light"===u}),E=Object(z.a)("time",{timeZone:"Local"===d?void 0:d,timeFormat:Object(m.b)(e.timeFormat)}),S=(null===(i=null==c?void 0:c.transformedData[0])||void 0===i?void 0:i.length)||0,C=0===S?0:(null===(s=null==c?void 0:c.transformedData)||void 0===s?void 0:s.length)||0,k=Object(a.useMemo)(()=>{var t;return 1!==c.resolvedFieldOptions.length&&1!==c.resolvedFieldOptions.reduce((e,t)=>(t.visible&&(e+=1),e),0)&&(void 0===(null===(t=null==e?void 0:e.tableOptions)||void 0===t?void 0:t.fixFirstColumn)?q.d:e.tableOptions.fixFirstColumn)},[e.tableOptions,c]),O=e.tableOptions.verticalTimeAxis||q.g,D=(null===(l=c.resolvedFieldOptions.find(e=>e.internalName===q.f.internalName))||void 0===l?void 0:l.visible)||!1,T=Object(a.useCallback)(e=>t=>{if(k&&0===t.index)return c.columnWidths[c.transformedData[0][t.index]]||0;if(S<=1)return e;const n=p/(S-(k?1:0));return(c.columnWidths[c.transformedData[0][t.index]]||0)+n},[k,c,p,S]),j=Object(a.useCallback)(e=>{const{dataset:t}=e.target;if(!O||0!==parseFloat(t.rowIndex)){if(D){const e=O?c.sortedTimeVals[t.rowIndex]:c.sortedTimeVals[t.columnIndex];x(Date.parse(e))}g(parseFloat(t.columnIndex)),v(parseFloat(t.rowIndex))}},[c,g,v,x,O,D]),I=Object(a.useCallback)(()=>{x(0),g(q.j),v(q.j)},[g,v,x]),[N,R]=Object(a.useMemo)(()=>{if(!y||f!==q.j||!D)return[0,-1];const e=((e,t)=>{if(e.length<2)return-1;const n=Z(t,e[1]);return Object(H.c)(e,(e,n,a)=>{const r=Z(t,n);return r<e.diff?{index:a,diff:r}:e},{index:1,diff:n}).index})(c.sortedTimeVals,y);return[O?-1:e,O?e:null]},[c.sortedTimeVals,y,f,D,O]);return o?r.a.createElement("div",{className:w,ref:e=>{e&&h(e.clientWidth)},onMouseLeave:I},C>0&&r.a.createElement(M.a,null,({width:t,height:a})=>r.a.createElement(M.b,{columnCount:S-(k?1:0),columnMinWidth:q.c,width:t},({adjustedWidth:t,columnWidth:i,registerChild:s})=>r.a.createElement(B,{height:a,ref:s,rowCount:C,width:t,rowHeight:q.k,scrollToRow:R,columnCount:S,scrollToColumn:N,fixedColumnCount:k&&S>1?1:0,cellRenderer:t=>{const a=R>=0?R:b;return r.a.createElement($.b,Object.assign({},t,{sortOptions:c.sortOptions,onHover:j,isTimeVisible:D,data:c.transformedData[t.rowIndex][t.columnIndex],dataType:o.dataTypes[c.transformedData[0][t.columnIndex]]||"n/a",hoveredRowIndex:a,properties:e,resolvedFieldOptions:c.resolvedFieldOptions,hoveredColumnIndex:f,isFirstColumnFixed:k,isVerticalTimeAxis:O,onClickFieldName:n,timeFormatter:E}))},classNameBottomRightGrid:"table-graph--scroll-window",columnWidth:T(i)})))):null},J=n(33),ee=(n(293),n(60)),te=n.n(ee);n(130);const ne=e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,r=["result","table",...a.filter(e=>"result"!==e&&"table"!==e)],o=n.getColumn("table"),i=n.getColumn("result");let s=0,l=0;const c=new Set(["result",...t]),u={"":"#datatype"};let d,m,p;r.forEach(e=>{u[e]=n.getOriginalColumnType(e)});let h,f=r.filter(e=>(d=n.getColumnType(e),p=n.getColumn(e,d),void 0!==p[s])),g={};f.forEach(e=>{d=n.getColumnType(e),m=n.getOriginalColumnType(e),p=n.getColumn(e,d),h=p[s],"dateTime:RFC3339"!==m||"number"!=typeof h||isNaN(h)||(h=new Date(h).toISOString()),c.has(e)&&(g[e]=h)}),f.unshift("");let b=[];b.push(f);let v,y,x,w,E=`${i[s]}`,S=Object.entries(g).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),C={id:te.a.v4(),name:S,data:b,result:E,groupKey:g,dataTypes:u},k=[];const O=[];for(let e=0;e<o.length;e++){i[e]===i[s]&&o[e]===o[l]||(O.push(C),g={},s=e,l=e,f=r.filter(t=>(d=n.getColumnType(t),p=n.getColumn(t,d),void 0!==p[e])),f.forEach(t=>{d=n.getColumnType(t),m=n.getOriginalColumnType(w),p=n.getColumn(t,d),h=p[e],"dateTime:RFC3339"!==m||"number"!=typeof h||isNaN(h)||(h=new Date(h).toISOString()),c.has(t)&&(g[t]=h)}),f.unshift(""),b=[],b.push(f),E=`${i[e]}`,S=Object.entries(g).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),C={id:te.a.v4(),name:S,data:b,result:E,groupKey:g,dataTypes:u}),k=[""];for(let t=0;t<f.length;t++)w=f[t],""!==w&&(v=n.getColumnType(w),y=n.getOriginalColumnType(w),x=n.getColumn(w,v)[e],"dateTime:RFC3339"!==y||"number"!=typeof x||isNaN(x)||(x=new Date(x).toISOString()),"result"===w&&(x=""),k.push(`${x}`));b.push(k)}return O.push(C),O};var ae=n(23);var re=({properties:e,result:t})=>{var n,o,i;const[l,c]=Object(a.useState)(null),[u,m]=Object(a.useState)(""),[p,h]=Object(a.useState)({field:null===(o=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===o?void 0:o.internalName,direction:q.a}),{theme:f}=Object(a.useContext)(X.a),g=Object(a.useMemo)(()=>(c(null),ne(t)),[t]),b=g.find(e=>e.name===l)||g[0],v=Object(a.useCallback)(e=>{const t=Object.assign({},p);e===t.field?t.direction===q.h?(t.field="",t.direction=q.a):t.direction=q.h:(t.field=e,t.direction=q.e),h(t)},[p,h]),y=F()("time-machine-sidebar",{"time-machine-sidebar__light":"light"===f}),x=g.filter(e=>e.name.includes(u)),{timeZone:w}=Object(a.useContext)(X.a);if(Object(ae.c)("useGiraffeGraphs")){const n={fluxResponse:(e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,r=["result","table",...a.filter(e=>"result"!==e&&"table"!==e)],o=n.getColumn("table"),i=n.getColumn("result");let s=null,l=null,c=[];const u=[];let d,m,p,h,f=[];const g=new Set(t);let b=0;for(let e=0;e<o.length;e++){if(i[e]!==s||o[e]!==l){s=i[e],l=o[e],c=r.filter(t=>{const a=n.getColumnType(t);return void 0!==n.getColumn(t,a)[e]});const t=["#datatype"],a=["#default",`${i[e]}`],d=["#group"];let m;u.push([],d,t,a,["",...c]);for(let e=0;e<c.length;e++)m=c[e],d.push(`${g.has(m)}`),t.push(n.getOriginalColumnType(m));b=Math.max(d.length,t.length,b)}f=[""];for(let t=0;t<c.length;t++)h=c[t],d=n.getColumnType(h),m=n.getOriginalColumnType(h),p=n.getColumn(h,d)[e],"dateTime:RFC3339"!==m||"number"!=typeof p||isNaN(p)||(p=new Date(p).toISOString()),"result"===h&&(p=""),f.push(`${p}`);u.push(f)}return u.shift(),{tableData:u,max:b}})(t).tableData.join("\n"),layers:[{type:"table",properties:e,timeZone:w,tableTheme:f}]};return r.a.createElement(s.HoverTimeProvider,null,r.a.createElement(s.Plot,{config:n}))}return r.a.createElement("div",{className:"time-machine-tables"},g.length>1&&r.a.createElement("div",{className:y},!!(null===(i=null==b?void 0:b.data)||void 0===i?void 0:i.length)&&r.a.createElement("div",{className:"time-machine-sidebar--heading"},r.a.createElement(d.Input,{icon:d.IconFont.Search,onChange:e=>{m(e.target.value)},placeholder:"Filter tables...",value:u,className:"time-machine-sidebar--filter"})),r.a.createElement(d.DapperScrollbars,{autoHide:!0,className:"time-machine-sidebar--scroll"},r.a.createElement("div",{className:"time-machine-sidebar--items"},x.map(e=>{const t=`time-machine-sidebar-item ${l===e.name?"active":""}`,n=Object.entries(e.groupKey).filter(([e])=>!q.i.includes(e)).map(([e,t],n)=>r.a.createElement(a.Fragment,{key:n},r.a.createElement("span",{className:"key"},e),r.a.createElement("span",{className:"equals"},"="),r.a.createElement("span",{className:"value"},t)));return r.a.createElement("div",{key:e.id,className:t,onClick:()=>(e=>{c(e===l?null:e)})(e.name)},n)})))),!!b&&r.a.createElement(Q,{key:null==b?void 0:b.name,table:b,sort:p,updateSort:v,properties:e}),(!b||!b.data.length)&&r.a.createElement(J.a,{message:"This table has no data"}))};t.default=e=>{e({type:"table",name:"Table",graphic:o,initial:l,component:re,options:A})}},272:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--gauge"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M110.9,110.9c19.9-19.9,19.9-52,0-71.9s-52-19.9-71.9,0s-19.9,52,0,71.9"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"110.9",x2:"35",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"110.9",x2:"115",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"94.5",x2:"127.2",y2:"96.6"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"125.8",y1:"75",x2:"131.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"55.5",x2:"127.2",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"39.1",x2:"115",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"94.5",y1:"28",x2:"96.6",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"75",y1:"24.2",x2:"75",y2:"18.5"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"55.5",y1:"28",x2:"53.4",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"39.1",x2:"35",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"55.5",x2:"22.8",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"24.2",y1:"75",x2:"18.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"94.5",x2:"22.8",y2:"96.6"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M78.6,73.4L75,56.3l-3.6,17.1c-0.2,0.5-0.3,1-0.3,1.6c0,2.2,1.8,3.9,3.9,3.9s3.9-1.8,3.9-3.9C78.9,74.4,78.8,73.9,78.6,73.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}))),i=n(36),s=n(28),l={type:"gauge",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.e,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(83),d=n(19),m=n(34);var p=({properties:e,update:t})=>{const n=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Prefix"},r.a.createElement(c.Input,{testID:"prefix-input",value:e.prefix,onChange:e=>{t({prefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Suffix"},r.a.createElement(c.Input,{testID:"suffix-input",value:e.suffix,onChange:e=>{t({suffix:e.target.value})},placeholder:"%, MPH, etc."})))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Prefix"},r.a.createElement(c.Input,{testID:"tick-prefix-input",value:e.tickPrefix,onChange:e=>{t({tickPrefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Suffix"},r.a.createElement(c.Input,{testID:"tick-suffix-input",value:e.tickSuffix,onChange:e=>{t({tickSuffix:e.target.value})},placeholder:"%, MPH, etc."})))),e.decimalPlaces&&r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n(null):n(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(m.a)(e))},value:e.decimalPlaces.digits,min:d.q,max:d.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(u.a,{thresholds:e.colors,onSetThresholds:e=>{t({colors:e})}})))))},h=n(22),f=n(23),g=n(131);const b={degree:5/4*Math.PI,labelColor:`${c.InfluxColors.Storm}`,labelFontSize:13,lineColor:`${c.InfluxColors.Platinum}`,lineCount:5,lineStrokeLarge:3,lineStrokeSmall:1,minFontSize:22,minLineWidth:24,needleColor0:`${c.InfluxColors.Wolf}`,needleColor1:`${c.InfluxColors.Smoke}`,smallLineCount:10,tickSizeLarge:18,tickSizeSmall:9,valueColor:`${c.InfluxColors.Graphite}`,overflowDelta:.03},v={degree:5/4*Math.PI,labelColor:`${c.InfluxColors.Wolf}`,labelFontSize:13,lineColor:`${c.InfluxColors.Graphite}`,lineCount:5,lineStrokeLarge:3,lineStrokeSmall:1,minFontSize:22,minLineWidth:24,needleColor0:`${c.InfluxColors.Smoke}`,needleColor1:`${c.InfluxColors.White}`,smallLineCount:10,tickSizeLarge:18,tickSizeSmall:9,valueColor:`${c.InfluxColors.White}`,overflowDelta:.03},y=1.5*Math.PI;var x=n(27),w=n(10),E=n(14);const S=(e,{decimalPlaces:t,prefix:n,suffix:a}={})=>{let r,o;if(o=t&&t.isEnforced?t.digits:(e=>-1===e.toString().indexOf(".")?0:2)(e),o=Math.min(o,d.p),"number"==typeof e){const[t,n]=Number(e).toFixed(o).split(".");r=Number(t).toLocaleString(void 0,{maximumFractionDigits:d.p}),n&&(r+=`.${n}`)}else{if("string"!=typeof e)return"Data cannot be displayed";r=e}return r=(e=>-0===Number(e)?"number"==typeof e?0:e.replace(/-/g,""):e)(r),`${n||""}${r}${a||""}`};let C=class extends a.Component{constructor(e){super(e),this.updateCanvas=()=>{var e,t;this.resetCanvas();const n=this.canvasRef.current.getContext("2d"),{width:a,height:r}=this.props,o=a/2,s=r/2*1.13,l=Math.min(a,r)/2*.5,{minLineWidth:c,minFontSize:u}=this.props.theme,d=Math.max(c,l/4),m=Math.max(u,l/4),{colors:p}=this.props;if(!p||0===p.length)return;const h=(null===(e=p.find(e=>e.type===i.c))||void 0===e?void 0:e.value)||i.j,f=(null===(t=p.find(e=>e.type===i.b))||void 0===t?void 0:t.value)||i.i;p.length===i.k?this.drawGradientGauge(n,o,s,l,d):this.drawSegmentedGauge(n,o,s,l,h,f,d),this.drawGaugeLines(n,o,s,l,d),this.drawGaugeLabels(n,l,d,h,f),this.drawGaugeValue(n,l,m),this.drawNeedle(n,l,h,f)},this.resetCanvas=()=>{const e=this.canvasRef.current,t=e.getContext("2d"),{width:n,height:a}=this.props,r=window.devicePixelRatio||1;e.width=n*r,e.height=a*r,e.style.width=`${n}px`,e.style.height=`${a}px`,t.scale(r,r),t.clearRect(0,0,n,a)},this.drawGradientGauge=(e,t,n,a,r)=>{const{colors:o}=this.props,i=o.sort((e,t)=>e.value-t.value),s=.75*Math.PI,l=s+1.5*Math.PI,c=t+Math.cos(s)*a,u=n+Math.sin(s)*a,d=t+Math.cos(l)*a,m=n+Math.sin(l)*a,p=e.createLinearGradient(c,u,d,m);p.addColorStop(0,i[0].hex),p.addColorStop(1,i[1].hex),e.beginPath(),e.lineWidth=r,e.strokeStyle=p,e.arc(t,n,a,s,l),e.stroke()},this.drawSegmentedGauge=(e,t,n,a,r,o,i)=>{const{colors:s}=this.props,l=s.sort((e,t)=>e.value-t.value),c=Math.abs(o-r),u=1.5*Math.PI;let d=.75*Math.PI;for(let o=0;o<l.length-1;o++){const s=l[o],m=l[o+1],p=Number(s.value)-r,h=Number(m.value)-r,f=u*(Math.abs(p-h)/c);e.beginPath(),e.lineWidth=i,e.strokeStyle=s.hex,e.arc(t,n,a,d,d+f),e.stroke(),d+=f}},this.drawGaugeLines=(e,t,n,a,r)=>{const{degree:o,lineCount:i,lineColor:s,lineStrokeSmall:l,lineStrokeLarge:c,tickSizeSmall:u,tickSizeLarge:d,smallLineCount:m}=this.props.theme,p=.75*Math.PI,h=1.5*Math.PI,f=p+h,g=i*m,b=135*o,v=h/i,y=h/g,x=a+.8*r;e.beginPath(),e.arc(t,n,x,p,f),e.lineWidth=3,e.lineCap="round",e.strokeStyle=s,e.stroke(),e.closePath(),e.translate(t,n);for(let t=0;t<=i;t++)e.rotate(b),e.rotate(t*v),e.beginPath(),e.lineWidth=c,e.lineCap="round",e.strokeStyle=s,e.moveTo(x,0),e.lineTo(x+d,0),e.stroke(),e.closePath(),e.rotate(-t*v),e.rotate(-b);for(let t=0;t<=g;t++)e.rotate(b),e.rotate(t*y),e.beginPath(),e.lineWidth=l,e.lineCap="round",e.strokeStyle=s,e.moveTo(x,0),e.lineTo(x+u,0),e.stroke(),e.closePath(),e.rotate(-t*y),e.rotate(-b)},this.drawGaugeLabels=(e,t,n,a,r)=>{const{tickPrefix:o,tickSuffix:i,decimalPlaces:s}=this.props,{degree:l,lineCount:c,labelColor:u,labelFontSize:d}=this.props.theme,m=Math.abs(r-a)/c,p=[...Array(c).fill(0).map((e,t)=>a+t*m),r].map(e=>S(e,{decimalPlaces:s,prefix:o,suffix:i})),h=135*l,f=1.5*Math.PI/c;let g;e.font=`bold ${d}px Rubik`,e.fillStyle=u,e.textBaseline="middle",e.textAlign="right";for(let a=0;a<=c;a++)3===a?(e.textAlign="center",g=t+n+30):g=t+n+23,a>3&&(e.textAlign="left"),e.rotate(h),e.rotate(a*f),e.translate(g,0),e.rotate(a*-f),e.rotate(-h),e.fillText(p[a],0,0),e.rotate(h),e.rotate(a*f),e.translate(-g,0),e.rotate(a*-f),e.rotate(-h)},this.drawGaugeValue=(e,t,n)=>{const{gaugePosition:a,prefix:r,suffix:o,decimalPlaces:i}=this.props,{valueColor:s}=this.props.theme;e.font=`${n}px Rubik`,e.fillStyle=s,e.textBaseline="middle",e.textAlign="center";const l=t,c=S(a,{decimalPlaces:i,prefix:r,suffix:o});e.fillText(c,0,l)},this.drawNeedle=(e,t,n,a)=>{const{gaugePosition:r}=this.props,{degree:o,needleColor0:i,needleColor1:s,overflowDelta:l}=this.props.theme,c=1.5*Math.PI;let u;u=r<n?0-l:r>=a?1+l:(r-n)/(a-n);const d=e.createLinearGradient(0,-10,0,t);d.addColorStop(0,i),d.addColorStop(1,s),e.rotate(45*o),e.rotate(c*u),e.beginPath(),e.fillStyle=d,e.arc(0,0,10,0,Math.PI,!0),e.lineTo(0,t),e.lineTo(10,0),e.fill()},this.canvasRef=r.a.createRef()}componentDidMount(){this.updateCanvas()}componentDidUpdate(){this.updateCanvas()}render(){const{width:e,height:t}=this.props;return r.a.createElement("canvas",{className:"gauge",width:e,height:t,ref:this.canvasRef})}};C.defaultProps={theme:v},C=Object(w.a)([E.a,Object(w.b)("design:paramtypes",[Object])],C);var k=C,O=n(125);var D=({result:e,properties:t})=>{const{colors:n,prefix:o,tickPrefix:i,suffix:s,tickSuffix:l,decimalPlaces:c}=t,{theme:u}=Object(a.useContext)(x.a),d="light"===u?b:v;if(Object(f.c)("useGiraffeGraphs")){const t={table:e.table,layers:[{type:"gauge",prefix:o,suffix:s,tickPrefix:i,tickSuffix:l,decimalPlaces:c,gaugeColors:n,gaugeSize:y,gaugeTheme:{valuePositionYOffset:1.5}}]};return r.a.createElement(h.Plot,{config:t})}return r.a.createElement(O.a,{table:e.table,allowString:!1},e=>r.a.createElement(g.a,null,({width:t,height:a})=>r.a.createElement("div",{className:"gauge"},r.a.createElement(k,{width:t,height:a,colors:n,prefix:o,tickPrefix:i,suffix:s,tickSuffix:l,gaugePosition:e,decimalPlaces:c,theme:d}))))};t.default=e=>{e({type:"gauge",name:"Gauge",graphic:o,initial:l,component:D,options:p})}},273:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}))),i=n(28),s=n(36),l={type:"geo",queries:[{text:"",editMode:"builder",name:"",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],shape:"chronograf-v2",center:{lat:0,lon:0},zoom:0,allowPanAndZoom:!0,detectCoordinateFields:!1,mapStyle:"",note:"",showNoteWhenEmpty:!1,layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:s.f,isClustered:!1,tooltipColumns:[]}],useS2CellID:!0,s2Column:"",latLonColumns:{lat:{key:"",column:""},lon:{key:"",column:""}}},c=n(22),u=n(3),d=n(7),m=n(24),p=n(8),h=n(6);let f=null;h.f&&(f=n(255).getMapToken);var g=({result:e,properties:t})=>{const{layers:n,zoom:o,allowPanAndZoom:i,mapStyle:s,useS2CellID:l,s2Column:g,latLonColumns:b}=t,{lat:v,lon:y}=t.center,[x,w]=Object(a.useState)(u.RemoteDataState.NotStarted),[E,S]=Object(a.useState)(""),[C,k]=Object(a.useState)(u.RemoteDataState.NotStarted),[O,D]=Object(a.useState)({lat:v,lon:y});Object(a.useEffect)(()=>{if(h.f){(async()=>{try{w(u.RemoteDataState.Loading);const e=await f({});if(200!==e.status)throw new Error(e.data.message);S(e.data.token),w(u.RemoteDataState.Done),Object(p.a)("mapplot.map_token_request.success")}catch(e){w(u.RemoteDataState.Error),Object(p.a)("mapplot.map_token_request.failure")}})()}},[]),Object(a.useEffect)(()=>{try{if(k(u.RemoteDataState.Loading),h.f){const t=Object(m.j)(e.table,0,l,g,b);D(t)}k(u.RemoteDataState.Done),Object(p.a)("mapplot.get_geo_coordinates.success")}catch(e){k(u.RemoteDataState.Error),Object(p.a)("mapplot.get_geo_coordinates.failure")}},[l,g,b,e.table]);let T="";if(x===u.RemoteDataState.NotStarted||C===u.RemoteDataState.NotStarted||x===u.RemoteDataState.Loading||C===u.RemoteDataState.Loading)return null;if(x===u.RemoteDataState.Error)return T="We are having issues connecting to the Maps Server. Please try again later",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},T);if(C===u.RemoteDataState.Error)return T="Map type is not supported with the data provided. Please use customization options to select correct fields to use for lat/lon",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},T);const j={tileServerUrl:E?`https://api.mapbox.com/styles/v1/influxdata/cklspghhd1opp17mmz0yk7rcy/tiles/256/{z}/{x}/{y}@2x?access_token=${E}`:"",bingKey:""};let I=n;n.length||(I=[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:[],isClustered:!1,tooltipColumns:[]}]);const N=Object(d.isEmpty)(I[0].tooltipColumns)?e.fluxGroupKeyUnion:I[0].tooltipColumns;I[0]=Object.assign(Object.assign({},I[0]),{tooltipColumns:N});let R,A=o;return 0===o&&(A=6),h.f&&(R={table:e.table,showAxes:!1,layers:[{type:"geo",lat:O.lat,lon:O.lon,zoom:A,allowPanAndZoom:i,detectCoordinateFields:!0,mapStyle:s,layers:I,tileServerConfiguration:j,useS2CellID:l,s2Column:g,latLonColumns:b}]}),r.a.createElement(c.Plot,{config:R})},b=n(83);const v=(e,t=!1)=>e.columnKeys.reduce((n,a)=>"time"===e.getColumnType(a)||"_measurement"===a||"id"===a||"_field"===a||"result"===a||t&&"s2_cell_id"===a?n:Object.assign(Object.assign({},n),{[a]:{key:"tag",column:e.getColumnName(a)}}),{});n(124);const y=({properties:e,update:t,results:n})=>{const{s2Column:a}=e,o=v(n.table),i=e=>{t({s2Column:e})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},a||"Select S2 Column"),menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map(e=>{const t=o[e];return r.a.createElement(u.Dropdown.Item,{id:t.column,key:t.column,value:t.column,selected:t.column===a,onClick:i},t.column)}))}))},x=({properties:e,update:t,results:n})=>{const{latLonColumns:a}=e,o=Object.assign(Object.assign({},(e=>{const t={},n=e.getColumn("_field");if(n){new Set([...n]).forEach(e=>{t[e]={key:"field",column:e}})}return t})(n.table)),v(n.table,!0)),i=e=>{const n={lat:e,lon:a.lon};t({latLonColumns:n})},s=e=>{const n={lat:a.lat,lon:e};t({latLonColumns:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lat)||void 0===n?void 0:n.column)?a.lat.column:"Select Lat Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map(e=>{var t;const n=o[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lat)||void 0===t?void 0:t.column),onClick:i},n.column)}))}),r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lon)||void 0===n?void 0:n.column)?a.lon.column:"Select Lon Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map(e=>{var t;const n=o[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lon)||void 0===t?void 0:t.column),onClick:s},n.column)}))}))};var w;!function(e){e.Point="pointMap",e.Circle="circleMap",e.Heat="heatmap",e.Track="trackMap"}(w||(w={}));const E=({properties:e,update:t,results:n})=>{const{useS2CellID:a}=e;return h.f?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Grid.Column,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.FlexBox,{direction:u.FlexDirection.Row,alignItems:u.AlignItems.Center,margin:u.ComponentSize.Medium,stretchToFitWidth:!0,style:{marginTop:"0.5em",marginBottom:"1.5em"},testID:"hover-legend-toggle"},r.a.createElement(u.SlideToggle,{active:a,size:u.ComponentSize.ExtraSmall,onChange:()=>{t({useS2CellID:!a})}}),r.a.createElement(u.InputLabel,{style:(o=a,o?{color:u.InfluxColors.Cloud}:{color:u.InfluxColors.Sidewalk})},"Use S2 Cell ID for lat/lon")),a?r.a.createElement(y,{properties:e,update:t,results:n}):r.a.createElement(x,{properties:e,update:t,results:n})),r.a.createElement(u.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(b.a,{thresholds:e.layers[0].colors.filter(e=>"scale"!==e.type),onSetThresholds:e=>{t({layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:e,isClustered:!1}]})}})))):r.a.createElement(u.Grid.Column,null,r.a.createElement("h4",{className:"view-options--header"},"Customize Geo Options"),r.a.createElement("p",null,"To display properly, your data will need to contain fields named 'lat' and 'lon' or a tag named 's2_cell_id'. For help customizing your query, please see our"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/visualize-data/visualization-types/map/",rel:"noreferrer",target:"_blank"},"documentation")));var o};t.default=e=>{e({type:"geo",name:"Map",graphic:o,initial:l,component:g,options:E})}},274:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--scatter"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Scatter",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"77.6",cy:"91.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"47.5",cy:"110.9",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"111.6",cy:"46.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"17.5",cy:"118.5",r:"7.5"}),r.a.createElement("rect",{x:"77.6",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"108.3",y:"83.6",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"125",y:"54",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"123.2",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"49.5,68.6 42,81.4 57,81.4 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"61.1,25.7 53.6,38.6 68.6,38.6 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"93.8,19.2 86.3,32.2 101.3,32.2 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"78.8,47.5 71.3,60.5 86.3,60.5 "}))),i=n(22),s=n(28),l=n(19),c={type:"scatter",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,symbolColumns:null,xColumn:null,xDomain:null,yColumn:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(172),p=n(56),h=n(70),f=n(50);const g=e=>Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1],b=({setDomain:e,xDomain:t,table:n})=>{const[o,i]=Object(a.useState)(!1),[s]=Object(f.a)(t,n.getColumn("_time","number"));return r.a.createElement("div",{"data-testid":"time-domain-toggle"},r.a.createElement(u.SlideToggle,{size:u.ComponentSize.ExtraSmall,active:o,onChange:()=>{e("x",o?[null,null]:s),i(!o)},disabled:!g(s),testID:"time-domain-toggle-slide"}))};var v=n(44),y=n(6),x=n(24);var w=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),o=a.length?u.ComponentStatus.Default:u.ComponentStatus.Disabled,i=Object(x.c)(t.table,e.xColumn),s=Object(x.d)(t.table,e.yColumn);let l=a,c=a;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(l=e.fillColumns),e.symbolColumns&&e.symbolColumns.every(e=>a.includes(e))&&(c=e.symbolColumns);const f=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),g=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"Symbol Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:c,onSelect:e=>{const t=c.find(t=>t===e);let a=c;a=t?c.filter(t=>t!==e):[...c,e],n({symbolColumns:a})},buttonStatus:o})),r.a.createElement(u.Form.Element,{label:"Fill Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find(t=>t===e);let a=l;a=t?l.filter(t=>t!==e):[...l,e],n({fillColumns:a})},buttonStatus:o})),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:f,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==f.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:f,selectedOption:s||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==f.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:v.a.map(e=>e.text),selectedOption:Object(v.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),"_time"===i&&r.a.createElement(u.Form.Element,{label:"Auto Scale Domain"},r.a.createElement(b,{xDomain:e.xDomain,setDomain:g,table:t.table})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(u.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{colorSchemes:y.r,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(u.Form.Element,{label:"X Axis Label"},r.a.createElement(u.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(h.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.xDomain,onSetDomain:e=>{g("x",e)},label:"X Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(u.Input,{value:e.yPrefix,onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(u.Input,{value:e.ySuffix,onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(h.a,{axisName:"y",columnType:s,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.yDomain,onSetDomain:e=>{g("y",e)},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},E=n(4),S=n(33),C=n(68),k=n(38),O=n(57),D=n(27),T=n(49),j=n(29),I=n(47);var N=({properties:e,result:t,timeRange:n})=>{const{theme:o,timeZone:s}=Object(a.useContext)(D.a),c=e.fillColumns||t.fluxGroupKeyUnion||[],u=e.symbolColumns||t.fluxGroupKeyUnion||[],d=e.xColumn||Object(x.c)(t.table),m=e.yColumn||Object(x.d)(t.table),p=t.table.columnKeys,h=Object(C.a)(e),g=Object(O.a)(e.legendOpacity),b=e.legendColorizeRows,v=e.legendOrientationThreshold;let w;"_time"===d&&(w=n);const[N,R,A]=Object(f.a)(e.xDomain,t.table.getColumn(d,"number"),w),[_,F,M]=Object(f.b)(e.yDomain,t.table.getColumn(m,"number")),L=Object(E.d)(),P=Object(E.e)(I.a);if(!(d&&p.includes(d)&&m&&p.includes(m)&&c.every(e=>p.includes(e))&&u.every(e=>p.includes(e))))return r.a.createElement(S.a,{message:l.e});const B=e.colors&&e.colors.length?e.colors:j.a.map(e=>e.hex),$=Object(k.a)(t.table.getColumnType(d),{prefix:e.xPrefix,suffix:e.xSuffix,timeZone:s,timeFormat:e.timeFormat}),z=Object(k.a)(t.table.getColumnType(m),{prefix:e.yPrefix,suffix:e.ySuffix,timeZone:s,timeFormat:e.timeFormat}),V="light"===o?y.J:y.I,H=Object.assign(Object.assign(Object.assign(Object.assign({},V),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:N,onSetXDomain:R,onResetXDomain:A,yDomain:_,onSetYDomain:F,onResetYDomain:M}),h),{legendOpacity:g,legendOrientationThreshold:v,legendColorizeRows:b,valueFormatters:{[d]:$,[m]:z},layers:[{type:"scatter",x:d,y:m,colors:B,fill:c,symbol:u}]});return P&&(H.interactionHandlers={singleClick:()=>{L(Object(T.b)("Scatter Plot"))}}),r.a.createElement(i.Plot,{config:H})};t.default=e=>{e({type:"scatter",name:"Scatter",graphic:o,initial:c,component:N,options:w})}},276:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--band-chart"},r.a.createElement("svg",{id:"Band Chart",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-e",d:"M10,127V52.6v-8c0-1.8,0.8-3.5,2.2-4.6l25-18.3c1.6-1.2,3.7-0.9,5,0.5l24.6,26.9c1.8,1.9,4.5,2.1,6.5,0.5\n\tL104,23c1.8-1.5,7.1-1.5,8.3,0.6l16.5,27c0.7,1.2,2,1.9,3.3,1.9h7.9v5.5V127H10z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M39.5,22c0.8,0,1.5,0.3,2.1,1l24.6,26.9c1.1,1.2,2.7,1.9,4.3,1.9c1.3,0,2.6-0.5,3.7-1.3l30.5-26.7\n\tc0.6-0.5,1.9-0.8,3.3-0.8c1.7,0,3.1,0.5,3.5,1.2l16.5,27c0.9,1.5,2.5,2.4,4.2,2.4h6.9v4.5V126H11V52.6v-8c0-1.5,0.7-2.9,1.8-3.7\n\tl25-18.3C38.3,22.2,38.9,22,39.5,22 M39.5,21c-0.8,0-1.5,0.2-2.2,0.7L12.2,40c-1.4,1-2.2,2.7-2.2,4.6v8V127h130V58.1v-5.5h-7.9\n\tc-1.3,0-2.6-0.7-3.3-1.9l-16.5-27c-0.7-1.1-2.5-1.7-4.4-1.7c-1.6,0-3.1,0.4-4,1.1L73.5,49.7c-0.9,0.7-1.9,1.1-3,1.1\n\tc-1.3,0-2.6-0.5-3.5-1.6L42.3,22.3C41.5,21.4,40.5,21,39.5,21L39.5,21z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-e",d:"M10,91h0.2c1.2,0,2.4-0.4,3.3-1.2L35.6,71c2-1.7,5-1.6,6.9,0.3L66.6,96c2.1,2.1,5.6,2,7.5-0.3l29.2-34.4\n\tc2.2-2.6,6.4-2.3,8.2,0.6l15,24.6c0.9,1.5,2.5,2.4,4.3,2.4h9.3"}))),i=n(29),s=n(28),l=n(19),c={type:"band",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},hoverDimension:"auto",upperColumn:"",mainColumn:s.b,lowerColumn:""},u=n(3),d=n(67),m=n(44),p=n(24),h=n(81),f=n(56),g=n(122),b=n(70);const{BASE_2:v,BASE_10:y}=l.a;var x=({properties:e,results:t,update:n})=>{var a;const o=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),i=Object(p.c)(null==t?void 0:t.table,e.xColumn),s=Object(p.d)(null==t?void 0:t.table,e.yColumn),l=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},c=e=>{n({upperColumn:e.target.value})},x=e=>{n({mainColumn:e.target.value})},w=e=>{n({lowerColumn:e.target.value})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:s||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Aggregate Functions"),r.a.createElement(u.Form.Element,{label:"Upper Column Name"},r.a.createElement(u.Input,{onChange:c,onFocus:c,placeholder:"Please enter upper column's function name",type:u.InputType.Text,value:e.upperColumn})),r.a.createElement(u.Form.Element,{label:"Main Column Name"},r.a.createElement(u.Input,{onChange:x,onFocus:x,placeholder:"Please enter main column's function name",status:e.mainColumn.length?u.ComponentStatus.Default:u.ComponentStatus.Error,type:u.InputType.Text,value:e.mainColumn})),r.a.createElement(u.Form.Element,{label:"Lower Column Name"},r.a.createElement(u.Input,{onChange:w,onFocus:w,placeholder:"Please enter lower column's function name",type:u.InputType.Text,value:e.lowerColumn}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:e=>{n({colors:e})}})),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{l("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{l("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:y,active:e.axes.y.base===y,titleText:"Format values using an International System of Units prefix",onClick:e=>{l("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:v,active:e.axes.y.base===v,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{l("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{l("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{l("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:s,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),l("y",{bounds:t})},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}))))},w=n(22),E=n(47),S=n(4),C=n(49),k=n(33),O=n(68),D=n(38),T=n(57),j=n(123),I=n(50),N=n(6),R=n(27);var A=({properties:e,result:t,annotations:n,cellID:o,timeRange:s})=>{const c=e.mainColumn,u=Object(j.a)(e),{theme:d,timeZone:m}=Object(a.useContext)(R.a),h=Object(S.d)(),f=Object(O.a)(e),g=Object(T.a)(e.legendOpacity),b=e.legendOrientationThreshold,v=e.legendColorizeRows,y=e.legendHide,x=Object(a.useMemo)(()=>Object(p.p)(e.axes.x.bounds),[e.axes.x.bounds]),A=Object(a.useMemo)(()=>Object(p.q)(e.axes.y.bounds),[e.axes.y.bounds]),_=e.xColumn||Object(p.c)(t.table,"_time"),F=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),M=t.table.columnKeys,L=_&&M.includes(_)&&F&&M.includes(F),P=e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),B=Object(p.i)(e.geom),$=[...t.fluxGroupKeyUnion,"result"],[z,V,H]=Object(I.a)(x,t.table.getColumn(_,"number"),s),q=Object(a.useMemo)(()=>t.table.getColumn(F,"number"),[t.table,F]),[U,G,W]=Object(I.b)(A,q),Y=Object(p.h)([...$,_,F],t.table),K=Object(S.e)(E.a),Z=Object(D.a)(t.table.getColumnType(_),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:m,timeFormat:e.timeFormat}),X=Object(D.a)(t.table.getColumnType(F),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:m,timeFormat:e.timeFormat}),Q="light"===d?N.J:N.I;if(!L)return r.a.createElement(k.a,{message:l.e});const J=Object.assign(Object.assign(Object.assign(Object.assign({},Q),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:z,onSetXDomain:V,onResetXDomain:H,yDomain:U,onSetYDomain:G,onResetYDomain:W}),f),{legendColumns:Y,legendOpacity:g,legendOrientationThreshold:b,legendColorizeRows:v,legendHide:y,staticLegend:u,valueFormatters:{[_]:Z,[F]:X},layers:[{type:"band",x:_,y:F,fill:$,interpolation:B,colors:P,lineWidth:l.c,lineOpacity:l.b,shadeOpacity:l.d,hoverDimension:e.hoverDimension,upperColumnName:e.upperColumn,mainColumnName:c,lowerColumnName:e.lowerColumn}]});return Object(C.a)(J,K,o,_,F,$,n,h,"band"),r.a.createElement(w.Plot,{config:J})};t.default=e=>{e({type:"band",name:"Band",graphic:o,initial:c,component:A,options:x})}},277:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(29),s=n(28),l=n(19),c={type:"xy",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(44),p=n(24),h=n(81),f=n(56),g=n(122),b=n(70),v=n(171);const{BASE_2:y,BASE_10:x}=l.a;var w=({properties:e,results:t,update:n})=>{var a,o,i;const s=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),l=Object(p.c)(null==t?void 0:t.table,e.xColumn),c=Object(p.d)(null==t?void 0:t.table,e.yColumn),w=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:c||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map(e=>e.text),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:null!==(i=null===(o=e.colors)||void 0===o?void 0:o.filter(e=>"scale"===e.type))&&void 0!==i?i:[],onChange:e=>{n({colors:e})}})),r.a.createElement(v.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{w("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{w("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:x,active:e.axes.y.base===x,titleText:"Format values using an International System of Units prefix",onClick:e=>{w("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:y,active:e.axes.y.base===y,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{w("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{w("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{w("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:c,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),w("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(u.Form.Element,{label:"Positioning"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(u.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}))))},E=n(4),S=n(22),C=n(33),k=n(27),O=n(47),D=n(6),T=n(68),j=n(38),I=n(57),N=n(123),R=n(50),A=n(49);var _=({properties:e,result:t,timeRange:n,annotations:o,cellID:s})=>{const{theme:c,timeZone:u}=Object(a.useContext)(k.a),d=Object(T.a)(e),m=Object(I.a)(e.legendOpacity),h=e.legendColorizeRows,f=e.legendHide,g=e.legendOrientationThreshold,b=Object(N.a)(e),v=Object(E.d)(),y=Object(E.e)(O.a),x=Object(a.useMemo)(()=>Object(p.p)(e.axes.x.bounds),[e.axes.x.bounds]),w=Object(a.useMemo)(()=>Object(p.q)(e.axes.y.bounds),[e.axes.y.bounds]),_=e.xColumn||Object(p.c)(t.table,"_time"),F=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),M=t.table.columnKeys,L=_&&M.includes(_)&&F&&M.includes(F),P=Object(a.useMemo)(()=>e.colors&&e.colors.length?e.colors.map(e=>e.hex):i.a.map(e=>e.hex),[e.colors]),B=Object(p.i)(e.geom),$=Object(a.useMemo)(()=>[...t.fluxGroupKeyUnion,"result"],[t]),[z,V,H]=Object(R.a)(x,t.table.getColumn(_,"number"),n),q=Object(a.useMemo)(()=>{if("stacked"===e.position){const{lineData:n}=Object(S.lineTransform)(t.table,_,F,$,P,e.position),[a]=Object(S.createGroupIDColumn)(t.table,$);return Object(S.getDomainDataFromLines)(n,[...a],S.DomainLabel.Y)}return t.table.getColumn(F,"number")},[t.table,_,F,$,P,e.position]),[U,G,W]=Object(R.b)(w,q),Y=Object(p.h)("stacked"===e.position?[...$,_,F,`_${S.STACKED_LINE_CUMULATIVE}`,`_${S.LINE_COUNT}`]:[...$,_,F],t.table),K=Object(j.a)(t.table.getColumnType(_),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),Z=Object(j.a)(t.table.getColumnType(F),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),X="light"===c?D.J:D.I;if(!L)return r.a.createElement(C.a,{message:l.e});const Q=Object.assign(Object.assign(Object.assign(Object.assign({},X),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:z,onSetXDomain:V,onResetXDomain:H,yDomain:U,onSetYDomain:G,onResetYDomain:W}),d),{legendColumns:Y,legendOpacity:m,legendOrientationThreshold:g,legendColorizeRows:h,legendHide:f,staticLegend:b,valueFormatters:{[_]:K,[F]:Z},layers:[{type:"line",x:_,y:F,fill:$,interpolation:B,position:e.position,colors:P,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]});return Object(A.a)(Q,y,s,_,F,$,o,v),r.a.createElement(S.Plot,{config:Q})};t.default=e=>{e({type:"xy",name:"Graph",graphic:o,component:_,initial:c,options:w})}},278:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--heatmap"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",{id:"r"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"127.5,127.5 127.5,112.5 112.5,112.5 112.5,127.5 97.5,127.5 97.5,142.5 112.5,142.5 127.5,142.5\n\t\t142.5,142.5 142.5,127.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"67.5,127.5 52.5,127.5 52.5,112.5 37.5,112.5 37.5,97.5 22.5,97.5 22.5,112.5 22.5,127.5 7.5,127.5\n\t\t7.5,142.5 22.5,142.5 37.5,142.5 52.5,142.5 67.5,142.5 82.5,142.5 82.5,127.5 82.5,112.5 67.5,112.5 \t"})),r.a.createElement("g",{id:"rl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M126,114v13.5v1.5h1.5H141v12h-13.5h-15H99v-12h13.5h1.5v-1.5V114H126 M127.5,112.5h-15v15h-15v15h15h15h15\n\t\t\tv-15h-15V112.5L127.5,112.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M36,99v13.5v1.5h1.5H51v13.5v1.5h1.5h15H69v-1.5V114h12v13.5V141H67.5h-15h-15h-15H9v-12h13.5H24v-1.5v-15V99\n\t\t\tH36 M37.5,97.5h-15v15v15h-15v15h15h15h15h15h15v-15v-15h-15v15h-15v-15h-15V97.5L37.5,97.5z"}))),r.a.createElement("g",{id:"g"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"97.5,97.5 97.5,82.5 82.5,82.5 82.5,97.5 67.5,97.5 52.5,97.5 37.5,97.5 37.5,112.5 52.5,112.5\n\t\t52.5,127.5 67.5,127.5 67.5,112.5 82.5,112.5 82.5,127.5 82.5,142.5 97.5,142.5 97.5,127.5 112.5,127.5 112.5,112.5 97.5,112.5\n\t\t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"127.5,82.5 127.5,97.5 112.5,97.5 112.5,112.5 127.5,112.5 127.5,127.5 142.5,127.5 142.5,112.5\n\t\t142.5,97.5 142.5,82.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"37.5,67.5 22.5,67.5 22.5,82.5 7.5,82.5 7.5,97.5 7.5,112.5 7.5,127.5 22.5,127.5 22.5,112.5\n\t\t22.5,97.5 37.5,97.5 37.5,82.5 \t"})),r.a.createElement("g",{id:"gl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M96,84v13.5v15v1.5h1.5H111v12H97.5H96v1.5V141H84v-13.5v-15V111h-1.5h-15H66v1.5V126H54v-13.5V111h-1.5H39\n\t\t\tV99h13.5h15h15H84v-1.5V84H96 M97.5,82.5h-15v15h-15h-15h-15v15h15v15h15v-15h15v15v15h15v-15h15v-15h-15v-15V82.5L97.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M141,84v13.5v15V126h-12v-13.5V111h-1.5H114V99h13.5h1.5v-1.5V84H141 M142.5,82.5h-15v15h-15v15h15v15h15v-15\n\t\t\tv-15V82.5L142.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M36,69v13.5V96H22.5H21v1.5v15V126H9v-13.5v-15V84h13.5H24v-1.5V69H36 M37.5,67.5h-15v15h-15v15v15v15h15v-15\n\t\t\tv-15h15v-15V67.5L37.5,67.5z"}))),r.a.createElement("g",{id:"b"},r.a.createElement("rect",{x:"67.5",y:"82.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"52.5,67.5 37.5,67.5 37.5,82.5 37.5,97.5 52.5,97.5 52.5,82.5 67.5,82.5 67.5,67.5 \t"}),r.a.createElement("rect",{x:"127.5",y:"67.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"22.5,52.5 7.5,52.5 7.5,67.5 22.5,67.5 37.5,67.5 37.5,52.5 \t"}),r.a.createElement("rect",{x:"67.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"112.5,67.5 97.5,67.5 82.5,67.5 82.5,82.5 97.5,82.5 97.5,97.5 97.5,112.5 112.5,112.5 112.5,97.5\n\t\t127.5,97.5 127.5,82.5 112.5,82.5 \t"}),r.a.createElement("rect",{x:"82.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"112.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"37.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"127.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"22.5",y:"22.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"67.5",y:"7.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"})),r.a.createElement("g",{id:"bl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,84v12H69V84H81 M82.5,82.5h-15v15h15V82.5L82.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M66,69v12H52.5H51v1.5V96H39V82.5V69h13.5H66 M67.5,67.5h-15h-15v15v15h15v-15h15V67.5L67.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,69v12h-12V69H141 M142.5,67.5h-15v15h15V67.5L142.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,54v12H22.5H9V54h13.5H36 M37.5,52.5h-15h-15v15h15h15V52.5L37.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,54v12H69V54H81 M82.5,52.5h-15v15h15V52.5L82.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M111,69v13.5V84h1.5H126v12h-13.5H111v1.5V111H99V97.5v-15V81h-1.5H84V69h13.5H111 M112.5,67.5h-15h-15v15h15\n\t\t\tv15v15h15v-15h15v-15h-15V67.5L112.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M96,39v12H84V39H96 M97.5,37.5h-15v15h15V37.5L97.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M126,54v12h-12V54H126 M127.5,52.5h-15v15h15V52.5L127.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M51,39v12H39V39H51 M52.5,37.5h-15v15h15V37.5L52.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,39v12h-12V39H141 M142.5,37.5h-15v15h15V37.5L142.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,24v12H24V24H36 M37.5,22.5h-15v15h15V22.5L37.5,22.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,9v12H69V9H81 M82.5,7.5h-15v15h15V7.5L82.5,7.5z"}))))),i=n(22),s=n(19),l={queries:[],type:"heatmap",shape:"chronograf-v2",xColumn:null,yColumn:null,xDomain:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",colors:i.INFERNO,legendColorizeRows:s.f,legendOpacity:s.h,legendOrientationThreshold:s.l,binSize:10,note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},c=n(3),u=n(44),d=n(34),m=n(24),p=n(67),h=n(172),f=n(56),g=n(70);const b=[{name:"Magma",colors:i.MAGMA},{name:"Inferno",colors:i.INFERNO},{name:"Viridis",colors:i.VIRIDIS},{name:"Plasma",colors:i.PLASMA}];var v=({properties:e,results:t,update:n})=>{const[o,i]=Object(a.useState)(c.ComponentStatus.Default),[s,l]=Object(a.useState)(e.binSize),v=Object(m.c)(t.table,e.xColumn),y=Object(m.d)(t.table,e.yColumn),x=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),w=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:x,selectedOption:v||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==x.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Y Column"},r.a.createElement(c.SelectDropdown,{options:x,selectedOption:y||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==x.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Time Format"},r.a.createElement(c.SelectDropdown,{options:u.a.map(e=>e.text),selectedOption:Object(u.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(h.a,{colorSchemes:b,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Bin Size"},r.a.createElement(c.Input,{status:o,value:s,type:c.InputType.Number,onChange:e=>{const t=Object(d.a)(e);l(t),isNaN(t)||t<5?i(c.ComponentStatus.Error):(i(c.ComponentStatus.Default),n({binSize:t}))},testID:"bin-size-input"}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(g.a,{axisName:"x",columnType:v,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.xDomain,onSetDomain:e=>{w("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(c.Form.Element,{label:"Y Axis Label"},r.a.createElement(c.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(c.Input,{value:e.yPrefix,placeholder:"%, MPH, etc.",onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(c.Input,{value:e.ySuffix,placeholder:"%, MPH, etc.",onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(g.a,{axisName:"y",columnType:y,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.yDomain,onSetDomain:e=>{w("y",e)},label:"Y Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}))))},y=n(4),x=n(33),w=n(68),E=n(38),S=n(57),C=n(50),k=n(49),O=n(6),D=n(29),T=n(27),j=n(47);var I=({result:e,properties:t,timeRange:n})=>{const{theme:o,timeZone:l}=Object(a.useContext)(T.a),c=e.table.columnKeys,u=t.xColumn||["_time","_start","_stop"].filter(t=>e.table.columnKeys.includes(t))[0]||e.table.columnKeys[0],d=t.yColumn||["_value"].filter(t=>e.table.columnKeys.includes(t))[0]||e.table.columnKeys[0],m=Object(w.a)(t),p=Object(S.a)(t.legendOpacity),h=t.legendColorizeRows,f=t.legendOrientationThreshold,[g,b,v]=Object(C.a)(t.xDomain,e.table.getColumn(u,"number"),n),[I,N,R]=Object(C.b)(t.yDomain,e.table.getColumn(d,"number")),A=Object(y.d)(),_=Object(y.e)(j.a);if(!(u&&d&&c.includes(d)&&c.includes(u)))return r.a.createElement(x.a,{message:s.e});const F=t.colors&&t.colors.length?t.colors:D.a.map(e=>e.hex),M=Object(E.a)(e.table.getColumnType(u),{prefix:t.xPrefix,suffix:t.xSuffix,timeZone:l,timeFormat:t.timeFormat}),L=Object(E.a)(e.table.getColumnType(d),{prefix:t.yPrefix,suffix:t.ySuffix,timeZone:l,timeFormat:t.timeFormat}),P="light"===o?O.J:O.I,B=Object.assign(Object.assign(Object.assign(Object.assign({},P),{table:e.table,xAxisLabel:t.xAxisLabel,yAxisLabel:t.yAxisLabel,xDomain:g,onSetXDomain:b,onResetXDomain:v,yDomain:I,onSetYDomain:N,onResetYDomain:R}),m),{legendOpacity:p,legendOrientationThreshold:f,legendColorizeRows:h,valueFormatters:{[u]:M,[d]:L},layers:[{type:"heatmap",x:u,y:d,colors:F,binSize:t.binSize}]});return _&&(B.interactionHandlers={singleClick:()=>{A(Object(k.b)("Heatmap"))}}),r.a.createElement(i.Plot,{config:B})};t.default=e=>{e({type:"heatmap",name:"Heatmap",graphic:o,initial:l,component:I,options:v})}},279:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--histogram"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"5"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"5"})))),i=n(29),s=n(19),l={queries:[],type:"histogram",shape:"chronograf-v2",xColumn:"_value",xDomain:null,xAxisLabel:"",fillColumns:null,position:"stacked",binCount:30,colors:i.a,legendColorizeRows:s.f,legendOpacity:s.h,legendOrientationThreshold:s.l,note:"",showNoteWhenEmpty:!1},c=n(3),u=n(67),d=n(24),m=n(81),p=n(56),h=n(34);var f=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),o=a.length?c.ComponentStatus.Default:c.ComponentStatus.Disabled,i=Object(d.c)(t.table,e.xColumn),s=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n});let l=t.fluxGroupKeyUnion;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(l=e.fillColumns);return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:s,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Group By"},r.a.createElement(c.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find(t=>t===e);let a=l;a=t?l.filter(t=>t!==e):[...l,e],n({fillColumns:a})},buttonStatus:o}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{value:e.colors,onChange:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Positioning"},r.a.createElement(c.Dropdown,{button:(t,n)=>r.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(c.Dropdown.Menu,{onCollapse:t},r.a.createElement(c.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(c.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))})),r.a.createElement(c.Form.Element,{label:"Bins"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.binCount?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n({binCount:null}):n({binCount:30})},inputComponent:r.a.createElement(c.Input,{name:"binCount",value:e.binCount,placeholder:"Enter a number",type:c.InputType.Number,min:0,onChange:e=>{n({binCount:Object(h.a)(e)})}})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>n({xAxisLabel:e.target.value})})),r.a.createElement(u.a,{domain:e.xDomain,onSetDomain:e=>{((e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})})("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},g=n(4),b=n(22),v=n(33),y=n(57),x=n(50),w=n(38),E=n(27),S=n(49),C=n(6),k=n(47);var O=({result:e,properties:t})=>{const{theme:n,timeZone:o}=Object(a.useContext)(E.a),l=e.table.columnKeys,c=t.fillColumns||e.fluxGroupKeyUnion,u=Object(y.a)(t.legendOpacity),d=t.legendColorizeRows,m=t.legendOrientationThreshold,[p,h,f]=Object(x.a)(t.xDomain,e.table.getColumn(t.xColumn,"number")),O=Object(g.d)(),D=Object(g.e)(k.a);if(!(t.xColumn&&l.includes(t.xColumn)&&c.every(e=>l.includes(e))))return r.a.createElement(v.a,{message:s.e});const T=t.colors&&t.colors.length?t.colors.map(e=>e.hex):i.a.map(e=>e.hex),j=Object(w.a)(e.table.getColumnType(t.xColumn),{timeZone:o}),I="light"===n?C.J:C.I,N=Object.assign(Object.assign({},I),{table:e.table,xAxisLabel:t.xAxisLabel,xDomain:p,onSetXDomain:h,onResetXDomain:f,valueFormatters:{[t.xColumn]:j},legendOpacity:u,legendOrientationThreshold:m,legendColorizeRows:d,layers:[{type:"histogram",x:t.xColumn,colors:T,fill:t.fillColumns||[],binCount:t.binCount,position:t.position}]});return D&&(N.interactionHandlers={singleClick:()=>{O(Object(S.b)("Histogram"))}}),r.a.createElement(b.Plot,{config:N})};t.default=e=>{e({type:"histogram",name:"Histogram",graphic:o,initial:l,component:O,options:f})}},280:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--line vis-graphic--line-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--line vis-graphic--line-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--fill vis-graphic--fill-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--fill vis-graphic--fill-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--line vis-graphic--line-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--line vis-graphic--line-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--fill vis-graphic--fill-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--fill vis-graphic--fill-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--line vis-graphic--line-a",width:"13",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--fill vis-graphic--fill-a",width:"13",height:"34"}))),i=n(22),s=n(28),l=n(19),c={type:"mosaic",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"last"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,xColumn:null,xDomain:null,ySeriesColumns:[],yLabelColumns:[],yLabelColumnSeparator:"",yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(4),d=n(33),m=n(68),p=n(38),h=n(57),f=n(50),g=n(24),b=n(27),v=n(49),y=n(6),x=n(29),w=n(47);var E=({properties:e,result:t,timeRange:n})=>{const{theme:o,timeZone:s}=Object(a.useContext)(b.a),c=e.fillColumns||[],E=e.xColumn||Object(g.c)(t.table),S=e.ySeriesColumns||[],C=t.table.columnKeys,k=Object(m.a)(e),O=Object(h.a)(e.legendOpacity),D=e.legendColorizeRows,T=e.legendOrientationThreshold,[j,I,N]=Object(f.a)(e.xDomain,t.table.getColumn(E,"number"),n),[R,A,_]=Object(f.b)(e.yDomain,t.table.getColumn(S[0],"string")),F=Object(u.d)(),M=Object(u.e)(w.a);if(!(E&&C.includes(E)&&S.every(e=>C.includes(e))&&0!==c.length&&c.every(e=>C.includes(e))))return r.a.createElement(d.a,{message:l.e});const L=e.colors&&e.colors.length?e.colors:x.a.map(e=>e.hex),P=Object(p.a)(t.table.getColumnType(E),{timeZone:s,timeFormat:e.timeFormat}),B="light"===o?y.J:y.I,$=Object.assign(Object.assign(Object.assign(Object.assign({},B),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:j,onSetXDomain:I,onResetXDomain:N,yDomain:R,onSetYDomain:A,onResetYDomain:_}),k),{legendOpacity:O,legendOrientationThreshold:T,legendColorizeRows:D,valueFormatters:{[E]:P},layers:[{type:"mosaic",x:E,y:S,yLabelColumns:e.yLabelColumns,yLabelColumnSeparator:e.yLabelColumnSeparator,colors:L,fill:c}]});return M&&($.interactionHandlers={singleClick:()=>{F(Object(v.b)("Mosaic"))}}),r.a.createElement(i.Plot,{config:$})},S=n(3),C=n(81),k=n(56),O=n(70),D=n(44);var T=e=>{var t;const{properties:n,results:a,update:o}=e;let i=[];const s=a.table.columnKeys.filter(e=>"result"!==e&&"table"!==e&&"string"===a.table.getColumnType(e)),l=((null===(t=null==a?void 0:a.table)||void 0===t?void 0:t.columnKeys)||[]).filter(e=>"_time"===e);if(Array.isArray(n.fillColumns)&&n.fillColumns.every(e=>s.includes(e)))i=n.fillColumns;else for(const e of s)if(e.startsWith("_value")){i=[e];break}const c=Object(g.c)(a.table,n.xColumn),u=Object(g.f)(a.table,n.ySeriesColumns),d=Object(g.e)(n.yLabelColumns,u),m=n.colors.map(e=>({hex:e})),p=(e,t,n)=>{const a=!!Array.isArray(t)&&t.find(e=>e===n);let r=t||[];return r=a?t.filter(e=>e!==n):e.includes(n)?[...r,n]:r,r};return r.a.createElement(S.Grid,null,r.a.createElement(S.Grid.Row,null,r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(S.Form.Element,{label:"Fill Column"},r.a.createElement(S.SelectDropdown,{options:s,selectedOption:(null==i?void 0:i[0])||"Build a query before selecting...",onSelect:e=>{o({fillColumns:[e]})},testID:"dropdown-fill",buttonStatus:0==s.length?S.ComponentStatus.Disabled:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"X Column"},r.a.createElement(S.SelectDropdown,{options:l,selectedOption:c||"Build a query before selecting...",onSelect:e=>{o({xColumn:e})},testID:"dropdown-x",buttonStatus:0===l.length?S.ComponentStatus.Disabled:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"Y Columns"},r.a.createElement(S.MultiSelectDropdown,{options:s,selectedOptions:u,onSelect:e=>{const t=!!Array.isArray(u)&&u.find(t=>t===e);let n=u||[];n=t?u.filter(t=>t!==e):[...n,e];const a=p(n,d,e);o({yLabelColumns:a,ySeriesColumns:n})},buttonStatus:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"Time Format"},r.a.createElement(S.SelectDropdown,{options:D.a.map(e=>e.text),selectedOption:Object(D.b)(n.timeFormat),onSelect:e=>{o({timeFormat:e})}}))),r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(S.Form.Element,{label:"Color Scheme"},r.a.createElement(C.a,{value:m,onChange:e=>{o({colors:e.map(e=>e.hex)})}})),r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(S.Form.Element,{label:"X Axis Label"},r.a.createElement(S.Input,{value:n.xAxisLabel,onChange:e=>o({xAxisLabel:e.target.value})})),r.a.createElement(O.a,{axisName:"x",columnType:c,label:"Generate X-Axis Tick Marks",properties:n,results:a,update:o}),r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(S.Form.Element,{label:"Y Axis Label"},r.a.createElement(S.Input,{value:n.yAxisLabel,onChange:e=>o({yAxisLabel:e.target.value})})),r.a.createElement(S.Form.Element,{label:"Y Label Separator"},r.a.createElement(S.Input,{value:n.yLabelColumnSeparator,onChange:e=>o({yLabelColumnSeparator:e.target.value})})),r.a.createElement(S.Form.Element,{label:"Y Labels"},r.a.createElement(S.MultiSelectDropdown,{options:u,selectedOptions:d,onSelect:e=>{o({yLabelColumns:p(u,d,e)})},buttonStatus:S.ComponentStatus.Default}))),r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(k.a,{properties:n,results:a,update:o}))))};t.default=e=>{e({type:"mosaic",name:"Mosaic",graphic:o,component:E,initial:c,options:T})}},281:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"SingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(28),s=n(36),l={type:"single-stat",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],colors:s.g,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(19),d=n(34),m=n(83);var p=({properties:e,update:t})=>{var n;const o=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})},i=Object(a.useCallback)(n=>{t({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:n===s.m?s.m:s.n}):e)})},[t,e.colors]),l=(null===(n=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===n?void 0:n.type)||"text";return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Prefix"},r.a.createElement(c.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{t({prefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Suffix"},r.a.createElement(c.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{t({suffix:e.target.value})}}))))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?o(null):o(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{o(Object(d.a)(e))},value:e.decimalPlaces.digits,min:u.q,max:u.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(m.a,{thresholds:e.colors.filter(e=>"scale"!==e.type),onSetThresholds:e=>{t({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(c.SelectGroup,{shape:c.ButtonShape.StretchToFit},r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:l===s.m,onClick:i,value:s.m},"Background"),r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:l===s.n,onClick:i,value:s.n},"Text"))))))},h=n(4),f=n(125),g=n(116),b=n(38),v=n(49),y=n(23),x=n(22),w=(n(259),n(27)),E=n(45),S=n(47);var C=({properties:e,result:t})=>{const{prefix:n,suffix:o,colors:i,decimalPlaces:s}=e,{timeZone:l}=Object(a.useContext)(w.a),c=Object(h.d)(),u=Object(h.e)(S.a);if(Object(y.c)("useGiraffeGraphs")){const e=Object(x.getLatestValues)(t.table)[0],{bgColor:a,textColor:l}=Object(g.a)({colors:i,lastValue:e,cellType:"single-stat"}),d={table:t.table,showAxes:!1,layers:[{type:"single stat",prefix:n,suffix:o,decimalPlaces:s,textColor:l,textOpacity:100,backgroundColor:a||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}}]};return u&&(d.interactionHandlers={singleClick:()=>{c(Object(v.b)("Single Stat"))}}),r.a.createElement(x.Plot,{config:d})}return r.a.createElement(f.a,{table:t.table,allowString:!0},e=>{const{bgColor:a,textColor:c}=Object(g.a)({colors:i,lastValue:e,cellType:"single-stat"}),u=Object(b.a)("time",{timeZone:"Local"===l?void 0:l,timeFormat:E.a}),d="time"===t.table.getColumnType("_value")?u(e):Object(x.formatStatValue)(e,{decimalPlaces:s,prefix:n,suffix:o});return r.a.createElement("div",{className:"single-stat",style:{backgroundColor:a},"data-testid":"single-stat"},r.a.createElement("div",{className:"single-stat--resizer"},r.a.createElement("svg",{width:"100%",height:"100%",viewBox:`0 0 ${55*d.length} 100`},r.a.createElement("text",{className:"single-stat--text","data-testid":"single-stat--text",fontSize:"100",y:"59%",x:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:c}},d))))})};t.default=e=>{e({type:"single-stat",name:"Single Stat",graphic:o,component:C,initial:l,options:p})}},282:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--line-plus-single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"LineAndSingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,88.2 111.5,95.5 75,25 38.5,54.7 2,66.7 2,125 148,125"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,66.7 38.5,54.7 75,25 111.5,95.5 148,88.2"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(36),s=n(29),l=n(28),c=n(19),u={type:"line-plus-single-stat",shape:"chronograf-v2",xColumn:null,yColumn:null,position:"overlaid",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:l.a,fillValues:l.c}}}],legendColorizeRows:c.f,legendOpacity:c.h,legendOrientationThreshold:c.l,staticLegend:{heightRatio:c.v,opacity:c.h,orientationThreshold:c.l,show:c.x,widthRatio:c.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},colors:[...s.a,...i.g],prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",decimalPlaces:{isEnforced:!0,digits:2},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},d=n(3),m=n(67),p=n(34),h=n(44),f=n(24),g=n(81),b=n(70),v=n(171),y=n(83),x=n(56),w=n(122);const{BASE_2:E,BASE_10:S}=c.a;var C=({properties:e,results:t,update:n})=>{var o;const s=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),l=Object(f.c)(t.table,e.xColumn),u=Object(f.d)(t.table,e.yColumn),C=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},k=t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})},O=t=>{var a;"scale"===(null===(a=t[0])||void 0===a?void 0:a.type)?n({colors:[...e.colors.filter(e=>"scale"!==e.type),...t]}):n({colors:[...e.colors.filter(e=>"scale"===e.type),...t]})},D=Object(a.useCallback)(t=>{n({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:t===i.m?i.m:i.n}):e)})},[n,e.colors]),T=(null===(o=e.colors.filter(e=>"scale"!==e.type)[0])||void 0===o?void 0:o.type)||"text";return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(d.Form.Element,{label:"X Column"},r.a.createElement(d.SelectDropdown,{options:s,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Y Column"},r.a.createElement(d.SelectDropdown,{options:s,selectedOption:u||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==s.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:h.a.map(e=>e.text),selectedOption:Object(h.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(d.Form.Element,{label:"Line Colors"},r.a.createElement(g.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:O})),r.a.createElement(v.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(d.Form.Element,{label:"Hover Dimension"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(d.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(d.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(d.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(d.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(d.Form.Element,{label:"Y Axis Label"},r.a.createElement(d.Input,{value:e.axes.y.label,onChange:e=>{C("y",{label:e.target.value})}})),r.a.createElement(d.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{C("y",{base:e})}},"None"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:S,active:e.axes.y.base===S,titleText:"Format values using an International System of Units prefix",onClick:e=>{C("y",{base:e})}},"SI"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:E,active:e.axes.y.base===E,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{C("y",{base:e})}},"Binary"))),r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(d.Input,{value:e.axes.y.prefix,onChange:e=>{C("y",{prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(d.Input,{value:e.axes.y.suffix,onChange:e=>{C("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:u,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(m.a,{domain:Object(f.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),C("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(d.Form.Element,{label:"Positioning"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(d.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Prefix"},r.a.createElement(d.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{n({prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Suffix"},r.a.createElement(d.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{n({suffix:e.target.value})}}))))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:e=>{e===d.AutoInputMode.Auto?k(null):k(2)},inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{k(Object(p.a)(e))},value:e.decimalPlaces.digits,min:c.q,max:c.p,type:d.InputType.Number})}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(y.a,{thresholds:e.colors.filter(e=>"scale"!==e.type),onSetThresholds:O})),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:T===i.m,onClick:D,value:i.m},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:T===i.n,onClick:D,value:i.n},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(x.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(w.a,{properties:e,results:t,update:n}))))},k=n(22),O=n(47),D=n(33),T=n(125),j=n(68),I=n(38),N=n(57),R=n(123),A=n(50),_=n(116),F=n(27),M=n(6),L=n(45),P=n(23),B=n(49),$=n(4);var z=({properties:e,result:t,timeRange:n,annotations:o,cellID:i})=>{const{theme:l,timeZone:u}=Object(a.useContext)(F.a),d=Object(j.a)(e),m=Object(N.a)(e.legendOpacity),p=e.legendColorizeRows,h=e.legendHide,g=e.legendOrientationThreshold,b=Object(R.a)(e),v=Object($.e)(O.a),y=Object($.d)(),x=Object(a.useMemo)(()=>Object(f.p)(e.axes.x.bounds),[e.axes.x.bounds]),w=Object(a.useMemo)(()=>Object(f.q)(e.axes.y.bounds),[e.axes.y.bounds]),E=e.xColumn||Object(f.c)(t.table,"_time"),S=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(f.d)(t.table),C=t.table.columnKeys,z=E&&C.includes(E)&&S&&C.includes(S),V=Object(a.useMemo)(()=>{const t=e.colors.filter(e=>"scale"===e.type);return t&&t.length?t.map(e=>e.hex):s.a.map(e=>e.hex)},[e.colors]),H=Object(f.i)("line"),q=Object(a.useMemo)(()=>[...t.fluxGroupKeyUnion,"result"],[t]),[U,G,W]=Object(A.a)(x,t.table.getColumn(E,"number"),n),Y=Object(a.useMemo)(()=>{if("stacked"===e.position){const{lineData:n}=Object(k.lineTransform)(t.table,E,S,q,V,e.position),[a]=Object(k.createGroupIDColumn)(t.table,q);return Object(k.getDomainDataFromLines)(n,[...a],k.DomainLabel.Y)}return t.table.getColumn(S,"number")},[t.table,E,S,q,V,e.position]),[K,Z,X]=Object(A.b)(w,Y),Q=Object(f.h)("stacked"===e.position?[...q,E,S,`_${k.STACKED_LINE_CUMULATIVE}`,`_${k.LINE_COUNT}`]:[...q,E,S],t.table),J=Object(I.a)(t.table.getColumnType(E),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),ee=Object(I.a)(t.table.getColumnType(S),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),te="light"===l?M.J:M.I;if(!z)return r.a.createElement(D.a,{message:c.e});const ne=Object(k.getLatestValues)(t.table)[0],{bgColor:ae,textColor:re}=Object(_.a)({colors:e.colors,lastValue:ne,cellType:"single-stat"}),oe=Object.assign(Object.assign(Object.assign(Object.assign({},te),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:U,onSetXDomain:G,onResetXDomain:W,yDomain:K,onSetYDomain:Z,onResetYDomain:X}),d),{legendColumns:Q,legendOpacity:m,legendOrientationThreshold:g,legendColorizeRows:p,legendHide:h,staticLegend:b,valueFormatters:{[E]:J,[S]:ee},layers:[{type:"line",x:E,y:S,fill:q,interpolation:H,position:e.position,colors:V,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]});if(Object(P.c)("useGiraffeGraphs")){const t={type:"single stat",prefix:e.prefix,suffix:e.suffix,decimalPlaces:e.decimalPlaces,textColor:re,textOpacity:100,backgroundColor:ae||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}};return oe.layers.push(t),Object(B.a)(oe,v,i,E,S,q,o,y,"singleStatWline"),r.a.createElement(k.Plot,{config:oe})}{const n=r.a.createElement(T.a,{table:t.table,allowString:!0},n=>{const{bgColor:a,textColor:o}=Object(_.a)({colors:e.colors.filter(e=>"scale"!==e.type),lastValue:n,cellType:"single-stat"}),i=Object(I.a)("time",{timeZone:"Local"===u?void 0:u,timeFormat:L.a}),s="time"===t.table.getColumnType("_value")?i(n):Object(k.formatStatValue)(n,{decimalPlaces:e.decimalPlaces,prefix:e.prefix,suffix:e.suffix});return r.a.createElement("div",{className:"single-stat",style:{backgroundColor:a},"data-testid":"single-stat"},r.a.createElement("div",{className:"single-stat--resizer"},r.a.createElement("svg",{width:"100%",height:"100%",viewBox:`0 0 ${55*s.length} 100`},r.a.createElement("text",{className:"single-stat--text","data-testid":"single-stat--text",fontSize:"100",y:"59%",x:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:o}},s))))});return r.a.createElement(k.Plot,{config:oe},n)}};t.default=e=>{e({type:"line-plus-single-stat",name:"Graph + Single Stat",graphic:o,initial:u,component:z,options:C})}},283:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=()=>r.a.createElement("h5",null,"There is nothing to configure here"),i=n(191);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"})));t.default=e=>{e({type:"simple-table",name:"Simple Table",graphic:s,initial:{type:"simple-table",showAll:!1},component:i.a,options:o})}},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(2),r=n.n(a),o=n(65);const i={},s={results:i,setResult:(e,t)=>{},statuses:{},setStatuses:e=>{}},l=r.a.createContext(s),c=({children:e})=>{const{flow:t}=Object(a.useContext)(o.a),[n,s]=Object(a.useState)({}),[c,u]=Object(a.useState)(Object.assign({},i));Object(a.useEffect)(()=>{u(Object.assign({},i))},[null==t?void 0:t.id]);const d={results:c,setResult:(e,t)=>{c[e]=Object.assign(Object.assign({source:"",parsed:null},c[e]),t),u(Object.assign({},c))},statuses:n,setStatuses:e=>{Object.entries(e).reduce((e,[t,a])=>n[t]===a?e:(n[t]=a,!0),!1)&&s(Object.assign({},n))}};return r.a.createElement(l.Provider,{value:d},e)}},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(82),r=n(5);const o=e=>e===r.RemoteDataState.NotStarted?a.d.Disabled:e===r.RemoteDataState.Loading?a.d.Loading:e===r.RemoteDataState.Error?a.d.Error:a.d.Default},298:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(3),s=n(14);let l=class extends r.Component{constructor(){super(...arguments),this.handleChange=e=>{const{onChangeSearchTerm:t}=this.props;t&&t(e.target.value)}}render(){const{searchTerm:e,searchPlaceholder:t,buttonSize:n,buttonColor:a,buttonStatus:r,buttonTestID:s,selectedOption:l,testID:c,className:u,style:d,menuTheme:m,menuTestID:p}=this.props;return o.a.createElement(i.Dropdown,{testID:c,className:u,style:d,button:(e,t)=>o.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:s,color:a,size:n,status:r},r===i.ComponentStatus.Loading?"Loading...":l),menu:a=>o.a.createElement(i.Dropdown.Menu,{onCollapse:a,theme:m,testID:p},o.a.createElement("div",{className:"searchable-dropdown--input-container"},o.a.createElement(i.Input,{onChange:this.handleChange,value:e,placeholder:t,size:n,autoFocus:!0})),this.filteredMenuOptions)})}get filteredMenuOptions(){const{searchTerm:e,options:t,emptyText:n,selectedOption:a,onSelect:r}=this.props,s=t.filter(t=>`${t}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return s.length?s.map(e=>o.a.createElement(i.Dropdown.Item,{key:e,value:e,selected:e===a,onClick:r,testID:`searchable-dropdown--item ${e}`},e)):o.a.createElement("div",{className:"searchable-dropdown--empty"},n)}};l.defaultProps={buttonSize:i.ComponentSize.Small,buttonColor:i.ComponentColor.Default,buttonStatus:i.ComponentStatus.Default,menuTheme:i.DropdownMenuTheme.Onyx,testID:"searchable-dropdown",buttonTestID:"searchable-dropdown--button",menuTestID:"searchable-dropdown--menu"},l=Object(a.a)([s.a],l),t.a=l},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const a=e=>e.me,r=e=>e.me.quartzMe,o=e=>{var t,n;const{quartzMe:a}=e.me,r=null!==(t=null==a?void 0:a.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(n=null==a?void 0:a.accountType)&&void 0!==n?n:"free")&&!1===r}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(2),r=n.n(a),o=n(3),i=n(209),s=n(7),l=(n(205),n(6));let c=null;l.f&&(c=n(41).MeasurementSchema);const u=({onChangeSchemaType:e,readOnlySchemaType:t})=>{const[n,i]=Object(a.useState)("implicit"),l=t=>{e(t),i(t)},c=r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Toggle,{tabIndex:1,value:"implicit",id:"implicit-bucket-schema-choice",name:"implicit-bucket-schema-choice",className:"option",checked:"implicit"===n,onChange:l,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,testID:"implicit-bucket-schema-choice-ID"},r.a.createElement(o.InputLabel,{htmlFor:"implicit-bucket-schema-choice",active:"implicit"===n},"Implicit")),r.a.createElement(o.Toggle,{tabIndex:2,value:"explicit",id:"explicit-bucket-schema-choice",name:"explicit-bucket-schema-choice",testID:"explicit-bucket-schema-choice-ID",checked:"explicit"===n,className:"option",onChange:l,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary},r.a.createElement(o.InputLabel,{htmlFor:"explicit-bucket-schema-choice",active:"explicit"===n},"Explicit"))),u=r.a.createElement("span",{className:"value-text","data-testid":"bucket-readonly-schema-label"},": ",Object(s.capitalize)(t)),d=t?null:c,m=t?u:null;return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:"create-bucket-schema-type-toggle-box",className:"schema-section"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title-text"},"Bucket Schema Type ",m),r.a.createElement("div",{className:"subtext"},"By default, buckets have an implicit schema that conforms to your data. Use explicit schemas to enforce specific data types and columns. Bucket Schema type cannot be changed after creation."," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/organizations/buckets/bucket-schema/",target:"_blank",rel:"noopener noreferrer"}," ","Learn more"))),d)};var d=n(105),m=n(23),p=n(8),h=n(239),f=n(101),g=n(15),b=n.n(g);const v=({allowedExtensions:e,allowedTypes:t,handleFileUpload:n,setErrorState:o,alreadySetFileName:i})=>{const[s,l]=Object(a.useState)(i),[c,u]=Object(a.useState)(!1),[d,m]=Object(a.useState)(null);const p=(e,t)=>{m(e),o(e,t)},h=e=>{const t=new FileReader;t.readAsText(e),t.onload=()=>{const a=e.name;try{n(t.result,a),l(a),p(!1)}catch(e){p(!0,e.message)}}},f=Object(a.useRef)(null),g=r.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:f,className:"drag-and-drop--input",accept:e,onChange:e=>{const t=e.currentTarget.files[0];t&&h(t)}}),v=null!=s?s:"Add schema file",y=b()("dnd",{active:c,hasError:d&&!s}),x=b()("display-area",{active:c});return r.a.createElement("div",{id:"drop_zone",className:y,onDrop:e=>{const n=e.dataTransfer.files[0];if(!n)return;e.preventDefault(),e.stopPropagation();const a=n.type;if(t.includes(a))h(n);else{const e=(e=>{const t=e.length;if(1===t)return e[0];const n=()=>{const t=e.length-1,n=e[t];return e[t]=`or ${n}`,e};return 2===t?n().join(" "):n().join(", ")})(t);p(!0,`Disallowed file type${a?` (${a})`:""}, you can only upload files with the type of ${e}.`)}u(!1)},onDragOver:function(e){u(!0),e.preventDefault()},onDragLeave:function(e){u(!1),e.preventDefault()},onClick:()=>{f.current.click()},"data-testid":"dndContainer"},r.a.createElement("div",{"data-testid":"displayArea",className:x},v),g)};let y=null,x=null;l.f&&(x=n(41).MeasurementSchema,y=n(41).MeasurementSchemaList);const w=({index:e,name:t,onAddName:n,onAddContents:i,onDelete:s,filename:l,showSchemaValidation:c})=>{const[u,d]=Object(a.useState)(t);let m={valid:!0,message:null};t&&(m=Object(h.c)(t));const[p,f]=Object(a.useState)(m),g=c&&!l,[b,y]=Object(a.useState)(g);let x=null;g&&(x="You must upload a file");const[w,E]=Object(a.useState)(x),S=r.a.createElement(o.DismissButton,{onClick:()=>s(e),size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Default}),C={placeholder:"Give your schema a name",onChange:t=>{const a=t.target.value,r=Object(h.c)(a);f(r),d(a),n(a,r.valid,e)},value:u,className:"schema-name-input",maxLength:48,size:o.ComponentSize.Small,type:o.InputType.Text},k=r.a.createElement(v,{key:`mini-dnd-${e}`,allowedExtensions:".json",allowedTypes:["application/json"],handleFileUpload:(t,n)=>{let a=null;if(t&&(a=JSON.parse(t),!Object(h.a)(a)))throw{message:"column file is not formatted correctly"};i(a,n,e)},setErrorState:(e,t)=>{y(e),e||(t=null),E(t)},alreadySetFileName:l}),O=b?r.a.createElement(o.FormElementError,{style:{wordBreak:"break-word"},message:w}):null;return r.a.createElement(o.Panel,{className:"measurement-schema-panel-container",key:`addMsp-${e}`},r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:`measurement-schema-readOnly-panel-${e}`,className:"measurement-schema-panel",key:`addMsp-column-${e}`},r.a.createElement("div",null," name"),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,className:"schema-row"},(()=>{var e;let t=o.ComponentStatus.Default;const n=!(null==p?void 0:p.valid)||c&&!u;n&&(t=o.ComponentStatus.Error),C.status=t;let a=null;if(n){const t=null!==(e=null==p?void 0:p.message)&&void 0!==e?e:"You must enter a name";a=r.a.createElement(o.FormElementError,{message:t})}return r.a.createElement("span",null,r.a.createElement(o.Input,Object.assign({},C))," ",a)})(),k),O,S))},E=({measurementSchema:e,index:t})=>r.a.createElement(o.Panel,{className:"measurement-schema-panel-container"},r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:`measurement-schema-readOnly-panel-${t}`,className:"measurement-schema-panel",key:`romsp-${t}`},r.a.createElement("div",null," name"),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,className:"schema-row"},r.a.createElement("div",{className:"value-text","data-testid":`measurement-schema-name-${t}`},e.name),r.a.createElement(o.Button,{icon:o.IconFont.Download,color:o.ComponentColor.Secondary,text:"Download Schema",onClick:()=>{const{name:t}=e,n=JSON.stringify(e.columns);Object(p.a)("bucket.download.schema.explicit"),Object(f.b)(n,t||"schema",".json")},testID:"measurement-schema-download-button"})))),S=({measurementSchemaList:e,onUpdateSchemas:t,showSchemaValidation:n})=>{const[i,l]=Object(a.useState)([]),c=null==e?void 0:e.measurementSchemas;let u=null;c&&(u=c.map((e,t)=>r.a.createElement(E,{key:`mss-ep-${t}`,measurementSchema:e,index:t})));const d=Object(s.debounce)(()=>t(i,!1),300),m=e=>{l(e),d()},p=r.a.createElement(o.Button,{onClick:()=>{const e=[...i,{valid:!1}];l(e),t(e,!0)},testID:"measurement-schema-add-file-button",text:"Add New Measurement Schema"}),h=(e="",t,n)=>{const a=i[n],r=e.trim();a.name=r,a.columns&&a.name&&t?a.valid=!0:a.valid=!1,m(i)},f=(e,t,n)=>{const a=i[n];a.columns=e,a.filename=t,a.columns&&a.name&&(a.valid=!0),m(i)},g=e=>{i.splice(e,1),m([...i])},b=Object(a.useMemo)(()=>i.map((e,t)=>r.a.createElement(w,{key:`${e.name}-${t}`,index:t,onAddName:h,onAddContents:f,onDelete:g,filename:e.filename,name:e.name,showSchemaValidation:n||!1})),[i.length,n]);return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:"measurement-schema-section-parent",className:"schema-section measurement"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title-text"},"Measurement Schema"),r.a.createElement("div",{className:"subtext"},"Measurement Schemas provide non-conforming validation for data in the bucket. once a measurement schema is saved you cannot delete or modify existing columns. You may only add new columns."," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/organizations/buckets/bucket-schema/",target:"_blank",rel:"noopener noreferrer"}," ","Learn more"))),u,p,b)};let C=null,k=null,O=null;l.f&&(O=n(41).MeasurementSchema,k=n(41).MeasurementSchemaCreateRequest,C=n(41).MeasurementSchemaList);class D extends a.PureComponent{constructor(){super(...arguments),this.state={showAdvanced:!1,schemaType:"implicit",newMeasurementSchemas:[]},this.onChangeSchemaTypeInternal=e=>{this.setState({schemaType:e}),this.props.onChangeSchemaType(e)},this.onUpdateSchemasInternal=(e,t)=>{this.props.onUpdateNewMeasurementSchemas(e,t),this.setState({newMeasurementSchemas:e})},this.handleNameValidation=e=>Object(d.e)(e)?"Only system bucket names can begin with _":e?0===e.trim().length||e.length<d.a?`Please enter a name with at least ${d.a} letters or numbers`:null:"This bucket needs a name"}render(){const{name:e,onSubmit:t,ruleType:n,buttonText:a,retentionSeconds:s,isEditing:c,onClose:d,onChangeInput:p,onChangeRuleType:h,onChangeRetentionRule:f,onClickRename:g,testID:b="bucket-form",schemaType:v,measurementSchemaList:y,showSchemaValidation:x}=this.props,{showAdvanced:w,schemaType:E}=this.state,C=c&&o.ComponentStatus.Disabled,k=r.a.createElement(S,{measurementSchemaList:y,key:"measurementSchemaSection",onUpdateSchemas:this.onUpdateSchemasInternal,showSchemaValidation:x}),O=c&&"explicit"===v||"explicit"===E?k:null;return r.a.createElement(o.Form,{onSubmit:t,testID:b},r.a.createElement(o.Grid,null,r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.Form.ValidationElement,{value:e,label:"Name",helpText:this.nameHelpText,validationFunc:this.handleNameValidation,required:!0},t=>r.a.createElement(o.Input,{status:C||t,placeholder:"Give your bucket a name",name:"name",autoFocus:!0,value:e,onChange:p,testID:"bucket-form-name"})),r.a.createElement(o.Form.Element,{label:"Delete Data"},r.a.createElement(i.c,{type:n,retentionSeconds:s,onChangeRuleType:h,onChangeRetentionRule:f})),(()=>{if(Object(m.c)("measurementSchema")&&l.f){let e=r.a.createElement(u,{onChangeSchemaType:this.onChangeSchemaTypeInternal});c&&(e=r.a.createElement(u,{key:"schemaToggleSection",readOnlySchemaType:v}));const t=r.a.createElement(r.a.Fragment,null,e,O);return r.a.createElement(o.Accordion,{expanded:w,testID:"schemaBucketToggle"},r.a.createElement(o.Accordion.AccordionHeader,null,r.a.createElement("span",null,"Advanced Configuration (Optional)")),r.a.createElement(o.Accordion.AccordionBodyItem,null,r.a.createElement("div",null,t)))}})())),r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.Form.Footer,null,r.a.createElement(o.Button,{text:"Cancel",onClick:d,type:o.ButtonType.Button}),"Save Changes"===a&&r.a.createElement(o.Button,{text:"Rename",color:o.ComponentColor.Danger,onClick:g}),r.a.createElement(o.Button,{text:a,testID:"bucket-form-submit",color:this.submitButtonColor,status:this.submitButtonStatus,type:o.ButtonType.Submit}))))))}get nameHelpText(){return this.props.isEditing?"To rename bucket use the RENAME button below":""}get submitButtonColor(){const{buttonText:e}=this.props;return"Save Changes"===e?o.ComponentColor.Success:o.ComponentColor.Primary}get submitButtonStatus(){const{name:e}=this.props;return this.handleNameValidation(e)?o.ComponentStatus.Disabled:o.ComponentStatus.Default}}},316:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a,r=n(2),o=n.n(r),i=n(8);!function(e){e.Run="Run",e.Preview="Preview"}(a||(a={}));const s={runMode:a.Preview,setRunMode:()=>{}},l=Object(r.createContext)(s),c=({children:e})=>{const[t,n]=Object(r.useState)(a.Preview);return o.a.createElement(l.Provider,{value:{runMode:t,setRunMode:e=>{Object(i.a)("change_notebook_run_mode",{runMode:e}),n(e)}}},e)}},323:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h}));var a=n(6),r=n(7);const o=["annotations","authorizations","buckets","checks","dashboards","dbrp","documents","labels","notificationRules","notificationEndpoints","orgs","secrets","tasks","telegrafs","users","variables","views"].concat(a.f?["flows","functions"]:["notebooks","scrapers","sources"]);o.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()));const i=(e,t)=>{const n=((e,t)=>n=>{if("orgs"===n)return[{action:"read",resource:{type:n,id:e}}];if("users"===n)return[{action:"read",resource:{type:n,id:t}},{action:"write",resource:{type:n,id:t}}];if(!o.includes(n))throw new Error("Unexpected object: "+n);return[{action:"read",resource:{type:n,orgID:e}},{action:"write",resource:{type:n,orgID:e}}]})(e,t);return o.flatMap(n)},s=(e,t)=>e.map(e=>({action:t,resource:{type:"buckets",orgID:e.orgID,id:e.id}})),l=(e,t)=>[{action:t,resource:{type:"buckets",orgID:e}}],c=(e,t)=>t.find(t=>t===e)?t.filter(t=>t!==e):[...t,e];var u;!function(e){e.AllBuckets="All Buckets",e.Scoped="Scoped"}(u||(u={}));const d=e=>{const t=e.filter(e=>"buckets"!==e&&"telegrafs"!==e);t.sort(),t.unshift("telegrafs"),t.unshift("buckets");const n=t.indexOf("telegrafs");return[t.slice(0,n+1),t.slice(n+1)]},m=e=>{const t=e.reduce((e,{action:t,resource:n})=>{const{type:a,id:r,orgID:o,name:i}=n;let s;return e.hasOwnProperty(a)?(s=Object.assign({},e[a]),!r||"buckets"!==a&&"telegrafs"!==a?s[t]=!0:s.sublevelPermissions.hasOwnProperty(r)?s.sublevelPermissions[r].permissions[t]=!0:s.sublevelPermissions[r]={id:r,orgID:o,name:i,permissions:{read:"read"===t,write:"write"===t}}):s=!r||"buckets"!==a&&"telegrafs"!==a?{read:"read"===t,write:"write"===t}:{read:!1,write:!1,sublevelPermissions:{[r]:{id:r,orgID:o,name:i,permissions:{read:"read"===t,write:"write"===t}}}},Object.assign(Object.assign({},e),{[a]:s})},{});return Object.keys(t).forEach(e=>{const n=Object.assign({},t[e]);n.sublevelPermissions&&(n.read=Object.keys(n.sublevelPermissions).every(e=>!0===n.sublevelPermissions[e].permissions.read),n.write=Object.keys(n.sublevelPermissions).every(e=>!0===n.sublevelPermissions[e].permissions.write),t[e]=n)}),t},p=(e,t,n)=>{const a=[];return Object.keys(e).forEach(r=>{"otherResources"!==r&&(e[r].read&&("orgs"===r?a.push({action:"read",resource:{id:t,name:n,type:r}}):a.push({action:"read",resource:{orgID:t,type:r}})),e[r].write&&("orgs"===r?a.push({action:"write",resource:{id:t,name:n,type:r}}):a.push({action:"write",resource:{orgID:t,type:r}})),e[r].sublevelPermissions&&Object.keys(e[r].sublevelPermissions).forEach(t=>{e[r].sublevelPermissions[t].permissions.read&&!e[r].read&&a.push({action:"read",resource:{orgID:e[r].sublevelPermissions[t].orgID,type:r,id:t,name:e[r].sublevelPermissions[t].name}}),e[r].sublevelPermissions[t].permissions.write&&!e[r].write&&a.push({action:"write",resource:{orgID:e[r].sublevelPermissions[t].orgID,type:r,id:t,name:e[r].sublevelPermissions[t].name}})}))}),a},h=e=>{let t="";if(e.length>2){const n=[];e.forEach(e=>{n.push(e.action)});const a=n.some(e=>"read"===e),r=n.some(e=>"write"===e);a&&r?t+="Read Multiple Write Multiple":a?t+="Read Multiple":r&&(t+="Write Multiple")}else e.forEach(e=>{e.resource.name?t+=`${Object(r.capitalize)(e.action)} ${e.resource.type} ${e.resource.name} `:t+=`${Object(r.capitalize)(e.action)} ${e.resource.type} `});return t.trim()}},324:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(105);class s extends a.PureComponent{render(){var e;return r.a.createElement(o.Dropdown,{testID:null!==(e=this.props.testID)&&void 0!==e?e:"bucket-dropdown",button:(e,t)=>r.a.createElement(o.Dropdown.Button,{testID:"bucket-dropdown--button",active:e,onClick:t,status:this.status},this.selectedBucketName),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},this.dropdownBuckets),style:this.props.style})}get selectedBucketName(){var e,t;const{selectedBucketID:n,buckets:a,emptyOriginal:r}=this.props;return this.isBucketsEmpty?"No buckets found":r?"Choose a bucket":null!==(t=null===(e=a.find(e=>e.id===n))||void 0===e?void 0:e.name)&&void 0!==t?t:""}get status(){return this.isBucketsEmpty?o.ComponentStatus.Disabled:o.ComponentStatus.Default}get isBucketsEmpty(){const{buckets:e}=this.props;return!e||!e.length}get dropdownBuckets(){const{buckets:e,onSelectBucket:t,selectedBucketID:n}=this.props;return this.isBucketsEmpty?[]:e.filter(e=>!Object(i.e)(e.name)).map(e=>r.a.createElement(o.Dropdown.Item,{key:e.name,value:e,id:e.id,onClick:t,selected:e.id===n},e.name))}}t.a=s},325:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.dnd {\n  border: 2px dashed gray;\n  border-radius: 3px;\n}\n.dnd.hasError {\n  border-color: #ff8564;\n  color: #ff8564;\n}\n.dnd input[type=file].drag-and-drop--input {\n  display: none;\n}\n.dnd .display-area {\n  min-width: 150px;\n  padding: 10px;\n  text-align: center;\n}\n.dnd .display-area.active {\n  color: black;\n}\n.dnd.active {\n  background: lightgrey;\n}\n\n.schema-section.measurement {\n  margin-top: 15px;\n}\n.schema-section .schema-name-input {\n  margin-right: 10px;\n  width: 205px !important;\n}\n.schema-section .file-name-read-only {\n  width: 100%;\n  height: 40px;\n  font-size: small;\n  padding-top: 12px;\n}\n.schema-section .add-schema-uploader.drag-and-drop {\n  height: 40px;\n  border-color: lightgray;\n  width: 155px;\n}\n.schema-section .add-schema-uploader.drag-and-drop.has-file {\n  border: none;\n}\n.schema-section .add-schema-uploader.drag-and-drop .drag-and-drop--header {\n  font-size: small;\n  padding-top: 12px;\n  color: lightgray;\n}\n.schema-section .header {\n  margin-bottom: 10px;\n}\n.schema-section .header .subtext {\n  margin-top: 6px;\n  font-weight: 300;\n}\n.schema-section .title-text {\n  color: #c6cad3;\n  font-weight: 500;\n}\n.schema-section .value-text {\n  color: #ffffff;\n  font-weight: 500;\n}\n.schema-section .option {\n  margin-bottom: 6px !important;\n}\n.schema-section .measurement-schema-panel-container {\n  width: 100%;\n  padding-left: 8px;\n  border-radius: 10px;\n}\n.schema-section .measurement-schema-panel-container .measurement-schema-panel {\n  width: 93%;\n}\n.schema-section .measurement-schema-panel-container .measurement-schema-panel .schema-row {\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: 8px;\n}",""])},326:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(15),i=n.n(o),s=n(3);t.a=({text:e,onClick:t,color:n=s.ComponentColor.Primary,size:a=s.ComponentSize.Medium,testID:o="dashed-button"})=>{const l=i()("dashed-button",{[`dashed-button__${n}`]:n,[`dashed-button__${a}`]:a});return r.a.createElement("button",{className:l,onClick:t,type:"button","data-testid":o},e)}},33:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({message:e,testID:t})=>r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("h4",null,e))},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>""===e?NaN:Number(e),r=e=>a(e.target.value)},341:function(e,t,n){var a=n(463);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},343:function(e,t,n){var a=n(476);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},344:function(e,t,n){var a=n(480);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},345:function(e,t,n){var a=n(483);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},348:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>new Set},349:function(e,t,n){"use strict";(function(e){var a=n(413),r=n(414),o=n(415);function i(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=m(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|h(t,n),r=(e=s(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(a=t.length)!=a?s(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function m(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(a)return $(e).length;t=(""+t).toLowerCase(),a=!0}}function f(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function b(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,a,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,a,r){var o,i=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*i}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,m=0;m<l;m++)if(c(e,o+m)!==c(t,m)){d=!1;break}if(d)return o}return-1}function y(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");a>o/2&&(a=o/2);for(var i=0;i<a;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function x(e,t,n,a){return V($(t,e.length-n),e,n,a)}function w(e,t,n,a){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function E(e,t,n,a){return w(e,t,n,a)}function S(e,t,n,a){return V(z(t),e,n,a)}function C(e,t,n,a){return V(function(e,t){for(var n,a,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,r=n%256,o.push(r),o.push(a);return o}(t,e.length-n),e,n,a)}function k(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var o,i,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],i=e[r+2],128==(192&o)&&128==(192&i)&&(l=(15&c)<<12|(63&o)<<6|63&i)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],i=e[r+2],s=e[r+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=4096));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,o=Math.min(n,a);r<o;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var i=e[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(a,r),r+=i.length}return a},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0),s=Math.min(o,i),c=this.slice(a,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],i=u[d];break}return o<i?-1:i<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var o=!1;;)switch(a){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function T(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function j(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",o=t;o<n;++o)r+=B(e[o]);return r}function I(e,t,n){for(var a=e.slice(t,n),r="",o=0;o<a.length;o+=2)r+=String.fromCharCode(a[o]+256*a[o+1]);return r}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,a,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function A(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function _(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function F(e,t,n,a,r,o){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,a,o){return o||F(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function L(e,t,n,a,o){return o||F(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var a=t,r=1,o=this[e+--a];a>0&&(r*=256);)o+=this[e+--a]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,o=a-n;if(this===e&&n<t&&t<a)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=l.isBuffer(e)?e:$(new l(e,a).toString()),s=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var n;t=t||1/0;for(var a=e.length,r=null,o=[],i=0;i<a;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(128))},350:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=String.fromCharCode,r=(String.fromCodePoint,/^\s*/g),o=/([A-Z])/g,i=(e,t)=>(e=>e.replace(r,""))(e.replace(o,e=>`${t}${(e=>e.toLowerCase())(e)}`));"undefined"!=typeof TextEncoder&&new TextEncoder;let s="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});s&&1===s.decode(new Uint8Array).length&&(s=null)},351:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var a=n(145),r=n(350),o=n(503),i=n(352);const s=void 0!==e&&e.release&&/node|io\.js/.test(e.release.name),l="undefined"!=typeof window&&!s;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let c;const u=[],d=()=>{if(void 0===c)if(s){c=a.c();const t=e.argv;let n=null;for(let e=0;e<t.length;e++){const a=t[e];"-"===a[0]?(null!==n&&c.set(n,""),n=a):null!==n?(c.set(n,a),n=null):u.push(a)}null!==n&&c.set(n,"")}else"object"==typeof location?(c=a.c(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){const[t,n]=e.split("=");c.set(`--${r.a(t,"-")}`,n),c.set(`-${r.a(t,"-")}`,n)}})):c=a.c();return c},m=t=>s?o.a(e.env[t.toUpperCase()]):o.a(i.b.getItem(t));(e=>{(e=>d().has(e))("--"+e)||m(e)})("production")}).call(this,n(120))},352:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));let a=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},r=!0;try{"undefined"!=typeof localStorage&&(a=localStorage,r=!1)}catch(e){}const o=a,i=e=>r||addEventListener("storage",e)},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t;return null===(t=e.overlays)||void 0===t?void 0:t.params}},360:function(e,t,n){"use strict";var a,r=n(2),o=n.n(r),i=n(3),s=n(21),l=n(149),c=n(4),u=n(79),d=n(12),m=n(291),p=n(16),h=n(134),f=n(11),g=n(40),b=n(8),v=n(39),y=n(9),x=n(115);!function(e){e.Create="create",e.Update="update"}(a||(a={}));const w={script:"",submit:()=>{},activeTab:a.Create,handleSetActiveTab:e=>{},selectedTask:void 0,handleSetTask:e=>{},taskName:"",handleSetTaskName:e=>{}},E=o.a.createContext(w),S=({type:e,children:t})=>{const n=Object(c.d)(),i=Object(c.e)(y.a),[s,w]=Object(r.useState)(a.Create),[S,C]=Object(r.useState)(void 0),[k,O]=Object(r.useState)(""),[D,T]=Object(r.useState)(""),{data:j,closeFn:I}=Object(r.useContext)(l.a),N=s===a.Create?D:null==S?void 0:S.name,R=k;Object(r.useEffect)(()=>{var e;const t=Object(u.parse)(null!==(e=null==j?void 0:j.query)&&void 0!==e?e:""),n=Object(x.d)(t,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>(e[t.key.name]=t.value.location.source,e),e),e},{});N?n.name=`"${N||"Name this task"}"`:s===a.Create&&T((n.name||"").replace(/^"(.*)"$/,"$1")||"Name this Task");const r=Object.entries(n).map(([e,t])=>`${e}: ${t}`).join(",\n"),o=Object(u.parse)(`option task = {${r}}\n`);t.body.unshift(o.body[0]),O(Object(u.format_from_js_file)(t))},[N,j.query]),Object(r.useEffect)(()=>{n(Object(h.i)())},[n]);const A=Object(r.useCallback)(e=>{w(e)},[]),_=Object(r.useCallback)(e=>{C(e)},[]),F=Object(r.useCallback)(e=>{T(e)},[]);return o.a.createElement(E.Provider,{value:{script:R,submit:async()=>{var t;if(s===a.Create?""!==D:null==S?void 0:S.name){if(s===a.Create){Object(b.a)("Export Task Completed",{exportType:"create",from:e});try{const e=await Object(p.postTask)({data:{orgID:i.id,flux:R}});if(201!==e.status)throw new Error(e.data.message);n(Object(f.c)(Object(d.pd)())),n(Object(g.g)())}catch(e){if((null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)===m.a)n(Object(f.c)(Object(d.cd)("tasks")));else{const t=Object(v.b)(e);n(Object(f.c)(Object(d.td)(t)))}}}else{Object(b.a)("Export Task Completed",{exportType:"update",from:e});try{const e=await Object(p.patchTask)({taskID:S.id,data:Object.assign(Object.assign({},S),{every:j.interval,offset:j.offset||"0s",flux:R})});if(200!==e.status)throw new Error(e.data.message);n(Object(f.c)(Object(d.Ad)()))}catch(e){const t=Object(v.b)(e);n(Object(f.c)(Object(d.zd)(t)))}}I()}},activeTab:s,handleSetActiveTab:A,selectedTask:S,handleSetTask:_,taskName:D,handleSetTaskName:F}},t)};var C=()=>{const{submit:e}=Object(r.useContext)(E),{closeFn:t}=Object(r.useContext)(l.a);return o.a.createElement(i.Form.Footer,null,o.a.createElement(i.Button,{text:"Cancel",onClick:t,titleText:"Cancel",type:i.ButtonType.Button}),o.a.createElement(i.Button,{text:"Export Task",color:i.ComponentColor.Success,type:i.ButtonType.Submit,onClick:e,testID:"task-form-export"}))},k=n(13);var O=()=>{const{handleSetTask:e,selectedTask:t}=Object(r.useContext)(E),n=Object(c.e)(k.d).sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()));let a="Loading tasks...",s=o.a.createElement(i.Dropdown.ItemEmpty,null,o.a.createElement(i.TechnoSpinner,{strokeWidth:i.ComponentSize.Small,diameterPixels:32}));n.length&&(s=o.a.createElement(o.a.Fragment,null,n.map(n=>o.a.createElement(i.Dropdown.Item,{key:n.name,value:n,onClick:t=>e(t),selected:n.name===(null==t?void 0:t.name),title:n.name,wrapText:!0},n.name)))),(null==t?void 0:t.name)?(null==t?void 0:t.name)&&(a=t.name):a="Choose a task";return o.a.createElement(i.Dropdown,{button:(e,t)=>o.a.createElement(i.Dropdown.Button,{onClick:t,active:e,icon:i.IconFont.Calendar,size:i.ComponentSize.Medium},a),menu:e=>o.a.createElement(i.Dropdown.Menu,{onCollapse:e},s),style:{width:"100%"}})};const D=Object(r.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var T=()=>{const{script:e,selectedTask:t}=Object(r.useContext)(E);return Object(c.e)(k.j)?o.a.createElement(i.EmptyState,{size:i.ComponentSize.Medium},o.a.createElement(i.EmptyState.Text,null,"You haven’t created any Tasks yet")):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Grid.Column,{widthXS:i.Columns.Nine},o.a.createElement(i.Form.Element,{label:"Name",required:!0,errorMessage:(null==t?void 0:t.name)?"":"Please choose a task"},o.a.createElement(O,null))),o.a.createElement(i.Grid.Column,null,o.a.createElement(i.Alert,{className:"flow-update-task--export-warning",icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Warning},"Note: Changes made to an existing task cannot be undone"),o.a.createElement(i.Form.Element,{label:"Preview"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:o.a.createElement(i.TechnoSpinner,null)})},o.a.createElement(D,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const j=Object(r.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var I=()=>{const{script:e,taskName:t,handleSetTaskName:n}=Object(r.useContext)(E),[a,s]=Object(r.useState)("");return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Grid.Column,{widthXS:i.Columns.Nine},o.a.createElement(i.Form.Element,{label:"Name",required:!0,errorMessage:a},o.a.createElement(i.Input,{name:"taskName",placeholder:"Name your task",onChange:e=>{const t=e.target.value;n(t),""===t.trim()?s("Cannot be empty"):s("")},value:t,testID:"task-form-name",status:a?i.ComponentStatus.Error:i.ComponentStatus.Default,size:i.ComponentSize.Medium}))),o.a.createElement(i.Grid.Column,null,o.a.createElement(i.Form.Element,{label:"Preview"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:o.a.createElement(i.TechnoSpinner,null)})},o.a.createElement(j,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const N=({text:e})=>{const{activeTab:t,handleSetActiveTab:n}=Object(r.useContext)(E),{closeFn:s}=Object(r.useContext)(l.a);return o.a.createElement(i.Overlay,{visible:!0},o.a.createElement(i.Overlay.Container,{maxWidth:700},o.a.createElement(i.Overlay.Header,{title:null!=e?e:"Export As Task",onDismiss:()=>{Object(b.a)("Export Task Overlay Closed"),s()},testID:"export-as-overlay--header"}),o.a.createElement(i.Overlay.Body,null,o.a.createElement(i.Tabs.Container,{orientation:i.Orientation.Horizontal},o.a.createElement(i.Tabs,{alignment:i.Alignment.Left,size:i.ComponentSize.Small},o.a.createElement(i.Tabs.Tab,{id:a.Create,text:"Create New",testID:"task--radio-button",onClick:()=>n(a.Create),active:t===a.Create}),o.a.createElement(i.Tabs.Tab,{id:a.Update,text:"Update Existing",testID:"variable-radio-button",onClick:()=>n(a.Update),active:t===a.Update})),o.a.createElement(i.Tabs.TabContents,null,o.a.createElement(i.Form,null,o.a.createElement(i.Grid,null,o.a.createElement(i.Grid.Row,null,t===a.Create?o.a.createElement(I,null):o.a.createElement(T,null),o.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},o.a.createElement(C,null))))))))))};var R=({text:e,type:t})=>o.a.createElement(S,{type:t},o.a.createElement(N,{text:e,type:t}));t.a=({text:e,type:t,generate:n})=>{const{data:a,range:c}=Object(r.useContext)(s.a),{launch:u}=Object(r.useContext)(l.a);return o.a.createElement(i.Button,{text:e,color:i.ComponentColor.Success,type:i.ButtonType.Submit,onClick:()=>{Object(b.a)("Export Task Clicked",{from:t}),u(o.a.createElement(R,{text:e,type:t}),{bucket:a.bucket,query:n?n():a.query,range:c})},status:i.ComponentStatus.Default,testID:"task-form-save",style:{opacity:1},icon:i.IconFont.Export,titleText:e})}},362:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(4),s=n(40),l=n(35),c=n(52),u=n(6);var d=({onUpdateBucket:e,testID:t})=>{const n=Object(i.e)(c.p),d=Object(i.d)();Object(a.useEffect)(()=>{d(Object(s.b)())},[d]);return r.a.createElement(o.Dropdown.Item,{title:"Click to create a bucket",onClick:()=>{u.f&&"exceeded"===n?d(Object(l.d)("asset-limit",{asset:"Buckets"},l.b)):d(Object(l.d)("create-bucket",{onUpdateBucket:e},l.b))},testID:t},"+ Create Bucket")},m=n(143);t.a=({selected:e,onSelect:t,testID:n="flow-bucket-selector",style:i={}})=>{const{buckets:s,loading:l}=Object(a.useContext)(m.a);let c="Loading buckets...";Object(a.useEffect)(()=>{l===o.RemoteDataState.Done&&e&&!s.find(t=>t.name===e.name)&&t(null)},[s]);let u=r.a.createElement(o.Dropdown.ItemEmpty,null,r.a.createElement(o.TechnoSpinner,{strokeWidth:o.ComponentSize.Small,diameterPixels:32}));l===o.RemoteDataState.Done&&s.length&&(u=r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onUpdateBucket:t,testID:`${n}--create`}),r.a.createElement(o.Dropdown.Divider,null),s.map(a=>r.a.createElement(o.Dropdown.Item,{key:a.name,value:a,onClick:t,selected:a.name===(null==e?void 0:e.name),title:a.name,wrapText:!0,testID:`${n}--${a.name}`},a.name)))),l!==o.RemoteDataState.Done||(null==e?void 0:e.name)?l===o.RemoteDataState.Done&&(null==e?void 0:e.name)&&(c=e.name):c="Choose a bucket";return r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{onClick:t,active:e,icon:o.IconFont.BucketSolid,testID:n},c),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},u),style:i})}},37:function(e,t,n){"use strict";n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"v",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"n",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"i",(function(){return k})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return D})),n.d(t,"u",(function(){return T})),n.d(t,"w",(function(){return j})),n.d(t,"p",(function(){return I})),n.d(t,"t",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return A}));var a=n(7),r=n(111),o=n(66),i=n(55),s=n(141),l=n(26),c=n(112);var u=n(336);const d=(e,t={})=>({type:"SET_ACTIVE_TIME_MACHINE",payload:{activeTimeMachineID:e,initialState:t}}),m=e=>({type:"SET_ACTIVE_TAB",payload:{activeTab:e}}),p=()=>({type:"TOGGLE_VIS_OPTIONS"}),h=e=>({type:"SET_VIEW_NAME",payload:{name:e}}),f=e=>({type:"SET_TIME_MACHINE_TIME_RANGE",timeRange:e}),g=e=>(t,n)=>{const i=n(),c=Object(u.a)(i),d=Object(l.c)(i);Object(a.isEqual)(e,i.ranges[c])||(t(Object(s.d)(c,e)),t(Object(o.g)())),"builder"===d.editMode&&t(Object(r.d)())},b=e=>({type:"SET_AUTO_REFRESH",payload:{autoRefresh:e}}),v=e=>({type:"SET_VIEW_TYPE",payload:{type:e}}),y=e=>({type:"SET_ACTIVE_QUERY_TEXT",payload:{text:e}}),x=e=>({type:"SET_IS_VIEWING_RAW_DATA",payload:{isViewingRawData:e}}),w=()=>({type:"EDIT_ACTIVE_QUERY_WITH_BUILDER"}),E=()=>e=>{e(w()),e(Object(o.g)())},S=()=>e=>{e({type:"RESET_QUERY_AND_EDIT_WITH_BUILDER"}),e(Object(o.g)())},C=()=>({type:"EDIT_ACTIVE_QUERY_AS_FLUX"}),k=e=>t=>{t((e=>({type:"SET_ACTIVE_QUERY_INDEX",payload:{activeQueryIndex:e}}))(e)),t(Object(r.b)())},O=()=>e=>{e({type:"ADD_QUERY"}),e(Object(r.b)())},D=e=>t=>{t((e=>({type:"REMOVE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(r.b)()),t(Object(o.g)())},T=e=>t=>{t((e=>({type:"TOGGLE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(o.g)())},j=e=>({type:"UPDATE_ACTIVE_QUERY_NAME",payload:{queryName:e}}),I=e=>({type:"SET_STATIC_LEGEND",payload:{staticLegend:e}}),N=e=>({type:"SET_VIEW_PROPERTIES",payload:{properties:e}}),R=()=>e=>{e(d("veo",{view:Object(c.a)("xy")}))},A=()=>(e,t)=>{const n=t(),{alertBuilder:r}=n,{builderConfig:o}=Object(l.c)(n);e(y(function(e,{statusMessageTemplate:t,tags:n,id:r,name:o,every:i,offset:s,type:l,staleTime:c,level:u,timeSince:d,thresholds:m}){const p=`data = from(bucket: "${e.buckets[0]}")`,h=e.tags.filter(e=>!!e.values[0]).map(e=>`  |> filter(fn: (r) => r.${e.key} == "${e.values[0]}")`),f=`messageFn = (r) =>("${t}")`,g=["check = {",`  _check_id: "${r||""}",`,`  _check_name: "${o}",`,'  _type: "custom",',`  tags: {${n?n.filter(e=>e.key&&e.value).map(e=>`${e.key}: "${e.value}"`).join(","):""}},`,`  every: ${i}`,"}"],b=["option task = {",`  name: "${o}",`,`  every: ${i}, // expected to match check.every`,`  offset: ${s}`,"}"];if("deadman"===l){const e=["package main",'import "influxdata/influxdb/monitor"','import "experimental"','import "influxdata/influxdb/v1"'],t=[p,`  |> range(start: -${c})`,...h],n=`${u.toLowerCase()} = (r) => (r.dead)`,a=["data","  |> v1.fieldsAsCols()",`  |> monitor.deadman(t: experimental.subDuration(from: now(), d: ${d}))`,`  |> monitor.check(data: check, messageFn: messageFn,${`${u.toLowerCase()}:${u.toLowerCase()}`})`];return[e.join("\n"),g.join("\n"),b.join("\n"),n,f,t.join("\n"),a.join("\n")].join("\n\n")}if("threshold"===l){const t=["package main",'import "influxdata/influxdb/monitor"','import "influxdata/influxdb/v1"'],n="  |> range(start: -check.every)",r=`  |> aggregateWindow(every: check.every, fn: ${e.functions[0].name}, createEmpty: false)`,o=[p,n,...h,r],i=m.map(t=>{const n=e.tags.find(e=>"_field"===e.key),r=Object(a.get)(n,"values[0]"),o=`${t.level.toLowerCase()} = (r) =>(r.${r}`;return"range"===t.type?t.within?`${o} > ${t.min}) and r.${r} < ${t.max})`:`${o} < ${t.min} and r.${r} > ${t.max})`:`${o} ${"greater"===t.type?">":"<"} ${t.value})`}),s=["data","  |> v1.fieldsAsCols()",`  |> monitor.check(data: check, messageFn: messageFn,${m.map(e=>` ${e.level.toLowerCase()}:${e.level.toLowerCase()}`)})`];return[t.join("\n"),g.join("\n"),b.join("\n"),i.join("\n"),f,o.join("\n"),s.join("\n")].join("\n\n")}}(o,r))),e(v("table")),e(Object(i.a)()),e(m("customCheckQuery"))}},370:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(371),s=n(71),l=n(48),c=n(4),u=n(108);class d extends a.PureComponent{constructor(e){super(e),this.dropdownRef=Object(a.createRef)(),this.handleApplyTimeRange=e=>{this.props.onSetTimeRange(e),this.handleHideDatePicker()},this.handleHideDatePicker=()=>{this.setState({isDatePickerOpen:!1})},this.handleClickCustomTimeRange=()=>{this.setState({isDatePickerOpen:!0})},this.handleClickDropdownItem=e=>{const{onSetTimeRange:t}=this.props;t(l.d.find(t=>t.label===e))},this.state={isDatePickerOpen:!1}}render(){const e=this.timeRange,t=Object(s.d)(e,this.props.timeZone);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Popover,{appearance:o.Appearance.Outline,position:o.PopoverPosition.ToTheLeft,triggerRef:this.dropdownRef,visible:this.state.isDatePickerOpen,showEvent:o.PopoverInteraction.None,hideEvent:o.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(i.a,{timeRange:e,onSetTimeRange:this.handleApplyTimeRange,onClose:this.handleHideDatePicker,position:this.state.isDatePickerOpen?{position:"relative"}:void 0})}),r.a.createElement("div",{ref:this.dropdownRef},r.a.createElement(o.Dropdown,{style:{width:`${this.dropdownWidth}px`},testID:"timerange-dropdown",button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n,icon:o.IconFont.Clock},t),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,style:{width:`${this.dropdownWidth}px`}},r.a.createElement(o.Dropdown.Divider,{key:"Time Range",text:"Time Range",id:"Time Range"}),r.a.createElement(o.Dropdown.Item,{key:l.a,value:l.a,id:l.a,testID:"dropdown-item-customtimerange",selected:this.state.isDatePickerOpen,onClick:this.handleClickCustomTimeRange},l.a),l.d.map(({label:e})=>{const n=e.toLowerCase().replace(/\s/g,"");return r.a.createElement(o.Dropdown.Item,{key:e,value:e,id:e,testID:`dropdown-item-${n}`,selected:e===t,onClick:this.handleClickDropdownItem},e)}))})))}get dropdownWidth(){return"custom"===this.props.timeRange.type?282:this.props.width?this.props.width:158}get timeRange(){const{timeRange:e}=this.props,{isDatePickerOpen:t}=this.state;return t&&"custom"!==e.type||"duration"===e.type?Object(s.b)(e):e}}t.a=Object(c.c)(e=>({timeZone:Object(u.d)(e)}))(d)},371:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(187),i=n(85),s=n(5),l=n(3);class c extends a.PureComponent{constructor(e){super(e),this.handleSetTimeRange=()=>{const{onSetTimeRange:e}=this.props,{upper:t,lower:n}=this.state;e({lower:n,upper:t,type:"custom"})},this.handleSelectLower=e=>{this.setState({lower:e,validDateRange:this.isTimeRangeValid(e,this.state.upper)})},this.handleSelectUpper=e=>{this.setState({upper:e,validDateRange:this.isTimeRangeValid(this.state.lower,e)})},this.isTimeRangeValid=(e,t)=>new Date(e).getTime()<new Date(t).getTime(),this.handleInvalidInput=()=>{this.setState({validDateRange:!1})};const{timeRange:{lower:t,upper:n}}=e,a=this.isTimeRangeValid(t,n);this.state={lower:t,upper:n,validDateRange:a}}render(){const{onClose:e,singleDirection:t}=this.props,{upper:n,lower:a,validDateRange:c}=this.state;return r.a.createElement(i.a,{onClickOutside:e},r.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:this.stylePosition},r.a.createElement("button",{className:"range-picker--dismiss",onClick:e}),r.a.createElement("div",{className:"range-picker--date-pickers"},t!==s.TimeRangeDirection.Upper&&r.a.createElement(o.a,{dateTime:a,onSelectDate:this.handleSelectLower,onInvalidInput:this.handleInvalidInput,label:"Start",maxDate:n}),t!==s.TimeRangeDirection.Lower&&r.a.createElement(o.a,{dateTime:n,onSelectDate:this.handleSelectUpper,onInvalidInput:this.handleInvalidInput,label:"Stop",minDate:a})),r.a.createElement(l.Button,{className:"range-picker--submit",color:l.ComponentColor.Primary,size:l.ComponentSize.Small,onClick:this.handleSetTimeRange,text:"Apply Time Range",testID:"daterange--apply-btn",status:c?l.ComponentStatus.Default:l.ComponentStatus.Disabled})))}get stylePosition(){const{position:e}=this.props;return e?Object.entries(e).reduce((e,[t,n])=>{const a=Object.assign({},e);return isNaN(+n)?a[t]=n:a[t]=`${n}px`,a},{}):{top:`${window.innerHeight/2}px`,left:`${window.innerWidth/2}px`,transform:"translate(-50%, -50%)"}}}t.a=c},372:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(209);const r=[{type:"expire",everySeconds:a.a}],o=(e,t)=>({name:"",retentionRules:e?r:[],ruleType:e?"expire":null,readableRetention:e?a.b:"forever",orgID:t,type:"user",schemaType:"implicit"}),i=(e,t)=>{switch(t.type){case"updateName":return Object.assign(Object.assign({},e),{name:t.payload});case"updateRuleType":return Object.assign(Object.assign({},e),{ruleType:t.payload});case"updateRetentionRules":return Object.assign(Object.assign({},e),{retentionRules:t.payload});case"updateReadableRetention":return Object.assign(Object.assign({},e),{readableRetention:t.payload});case"updateSchema":return Object.assign(Object.assign({},e),{schemaType:t.payload})}}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(44),r=n(6),o=n(45),i=n(22);const s=(e,{prefix:t,suffix:n,base:s,timeZone:l,trimZeros:c=!0,timeFormat:u=o.a,format:d}={})=>{if("number"===e&&"2"===s)return Object(i.binaryPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,format:d});if("number"===e&&"10"===s)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,trimZeros:c,format:d});if("number"===e&&""===s)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.H,trimZeros:c,format:!0});if("time"===e){const e={timeZone:"Local"===l?void 0:l,format:Object(a.b)(u)};return e.format.includes("HH")&&(e.hour12=!1),Object(i.timeFormatter)(e)}return null}},394:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(66),l=n(11),c=n(26),u=n(8),d=n(12),m=n(86),p=n(9),h=n(5);class f extends a.PureComponent{constructor(){super(...arguments),this.state={timer:!1},this.handleClick=()=>{Object(u.a)("SubmitQueryButton click"),this.props.onSubmit()},this.handleCancelClick=()=>{this.props.onNotify&&this.props.onNotify(Object(d.Sc)()),this.props.cancelAllRunningQueries()}}componentDidUpdate(e){this.props.queryStatus!==e.queryStatus&&this.props.queryStatus===h.RemoteDataState.Loading&&(this.timer=setTimeout(()=>{this.setState({timer:!0}),delete this.timer},2e3)),this.props.queryStatus!==e.queryStatus&&e.queryStatus===h.RemoteDataState.Loading&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.setState({timer:!1}))}componentWillUnmount(){clearTimeout(this.timer),delete this.timer,this.props.cancelAllRunningQueries()}render(){const{color:e,text:t,queryStatus:n,icon:a,testID:o,className:s}=this.props;return n===h.RemoteDataState.Loading&&this.state.timer?r.a.createElement(i.Button,{text:"Cancel",className:s,size:i.ComponentSize.Small,status:i.ComponentStatus.Default,onClick:this.handleCancelClick,color:i.ComponentColor.Danger,testID:o,style:{minWidth:"100px"}}):r.a.createElement(i.Button,{text:t,className:s,icon:a,size:i.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:null!=e?e:i.ComponentColor.Primary,testID:o,style:{minWidth:"100px"}})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props;return t?i.ComponentStatus.Disabled:e===h.RemoteDataState.Loading?i.ComponentStatus.Loading:i.ComponentStatus.Default}}f.defaultProps={text:"Submit",testID:"time-machine-submit-button"};const g={onSubmit:s.g,onNotify:l.c,cancelAllRunningQueries:s.a},b=Object(o.c)(e=>{const t=Object(c.d)(e).queryResults.status,n=Object(c.c)(e).text,a=""===n,r=Object(m.g)(e),o=Object(p.a)(e).id;return{queryID:Object(s.d)(n,r,o),submitButtonDisabled:a,queryStatus:t}},g);t.b=b(f)},405:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(15),s=n.n(i),l=n(3),c=n(155),u=n(7);var d=e=>{const{searchTerm:t,funcs:n,children:a}=e,o=n.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),i=Object(u.groupBy)(o,"category");return 0===o.length?r.a.createElement(l.EmptyState,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.EmptyState.Text,null,"No functions match your search")):a(i)};var m=({description:e})=>r.a.createElement("article",{className:"flux-functions-toolbar--description"},r.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),r.a.createElement("span",null,e));class p extends a.PureComponent{render(){return r.a.createElement("article",null,r.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),r.a.createElement("div",{className:"flux-function-docs--snippet"},this.arguments))}get arguments(){const{argsList:e}=this.props;return e.length>0?e.map(e=>r.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},r.a.createElement("span",null,e.name,":"),r.a.createElement("span",null,e.type),r.a.createElement("div",null,e.desc))):r.a.createElement("div",{className:"flux-function-docs--arguments"},"None")}}var h=p;var f=({example:e})=>r.a.createElement("article",null,r.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),r.a.createElement("div",{className:"flux-function-docs--snippet"},e));var g=({link:e})=>r.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e},"Flux Docs"),".");var b=({func:{desc:e,args:t,example:n,link:a,name:o}})=>r.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${o}`},r.a.createElement(l.DapperScrollbars,{autoHide:!1},r.a.createElement("div",{className:"flux-toolbar--popover"},r.a.createElement(m,{description:e}),r.a.createElement(h,{argsList:t}),r.a.createElement(f,{example:n}),r.a.createElement(g,{link:a}))));const v=({func:e,onClickFunction:t,testID:n})=>{const o=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,enableDefaultStyles:!1,position:l.PopoverPosition.ToTheLeft,triggerRef:o,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>r.a.createElement(b,{func:e})}),r.a.createElement("dd",{ref:o,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},r.a.createElement("code",null,e.name),r.a.createElement(l.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Primary})))};v.defaultProps={testID:"flux-function"};var y=v;var x=e=>{const{category:t,funcs:n,onClickFunction:a}=e;return r.a.createElement("dl",{className:"flux-toolbar--category"},r.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map(e=>r.a.createElement(y,{onClickFunction:a,key:`${e.name}_${e.desc}`,func:e,testID:e.name})))};class w extends a.PureComponent{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:""},this.handleSearch=Object(u.debounce)(this.handleSearch,100)}render(){return r.a.createElement("div",{className:"flux-toolbar--search"},r.a.createElement(l.Input,{type:l.InputType.Text,icon:l.IconFont.Search,placeholder:`Filter ${this.props.resourceName}...`,onChange:this.handleChange,value:this.state.searchTerm,testID:"flux-toolbar-search--input"}))}}var E=w,S=n(54),C=n(72);var k=e=>{const[t,n]=Object(a.useState)(""),o=e=>{n(e)},i=Object(a.useCallback)(t=>{e.onInsertFluxFunction(t)},[e.onInsertFluxFunction]);return Object(a.useMemo)(()=>r.a.createElement(S.a,null,r.a.createElement(E,{onSearch:o,resourceName:"Functions"}),r.a.createElement(l.DapperScrollbars,{className:"flux-toolbar--scroll-area"},r.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},r.a.createElement(d,{funcs:C.b,searchTerm:t},e=>Object.entries(e).map(([e,t])=>r.a.createElement(x,{key:e,category:e,funcs:t,onClickFunction:i})))))),[t,i])},O=n(66),D=n(113),T=n(86),j=n(5);class I extends a.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{const{variableID:t,onSelectValue:n,onSelect:a,selectedValue:r}=this.props;r!==e&&n(t,e),a&&a()}}render(){const{selectedValue:e,values:t,name:n}=this.props,a=0===t.length?l.ComponentStatus.Disabled:l.ComponentStatus.Default,o=Math.floor(9.5*t.reduce((function(e,t){return e.length>t.length?e:t}),"").length),i=Math.max(140,o);return r.a.createElement(l.Dropdown,{style:{width:"140px"},className:"variable-dropdown--dropdown",testID:this.props.testID||`variable-dropdown--${n}`,button:(e,t)=>r.a.createElement(l.Dropdown.Button,{active:e,onClick:t,testID:"variable-dropdown--button",status:a},this.selectedText),menu:n=>r.a.createElement(l.Dropdown.Menu,{style:{width:`${i}px`},onCollapse:n,theme:l.DropdownMenuTheme.Amethyst},t.map(t=>r.a.createElement(l.Dropdown.Item,{key:t,id:t,value:t,onClick:this.handleSelect,selected:t===e,testID:"variable-dropdown--item",className:"variable-dropdown--item"},t)))})}get selectedText(){const{selectedValue:e,status:t}=this.props;return t===j.RemoteDataState.Loading?"Loading":e||"No Values"}}const N={onSelectValue:D.j};var R=Object(o.c)((e,t)=>{const{variableID:n}=t,a=Object(T.j)(e,n),r=a.selected&&a.selected.length?a.selected[0]:null;return{status:a.status,values:Object(T.m)(a),selectedValue:r,name:a.name}},N)(I);const A={execute:O.c};var _=Object(o.c)(null,A)(({variableID:e,execute:t})=>r.a.createElement("div",{className:"flux-toolbar--popover","data-testid":"flux-toolbar--variable-popover"},r.a.createElement(l.Form.Element,{label:"Value"},r.a.createElement(R,{variableID:e,onSelect:()=>{t()},testID:"variable--tooltip-dropdown"}))));var F=({variable:e,onClickVariable:t,testID:n="variable"})=>{const o=Object(a.useRef)(null),i=()=>{const n=Object(u.get)(e,"name","variableName");t(n)};return function(e){return"system"!==e.arguments.type&&(!("constant"===e.arguments.type&&e.arguments.values.length<=1)&&(!("map"===e.arguments.type&&Object.keys(e.arguments.values).length<=1)&&!("query"===e.arguments.type&&(!e.arguments.values.results||e.arguments.values.results.length<=1))))}(e)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable",ref:o,"data-testid":`variable--${n}`},r.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),r.a.createElement(l.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:i,size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Success})),r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheLeft,triggerRef:o,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,color:l.ComponentColor.Success,distanceFromTrigger:8,testID:"toolbar-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(_,{variableID:e.id})})):r.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable","data-testid":`variable--${n}`},r.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),r.a.createElement(l.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:i,size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Success}))};var M=Object(o.c)(e=>{const t=Object(T.g)(e);return{variables:Object(T.n)(t)}})(({variables:e,onClickVariable:t})=>{const n=Object(o.d)(),[i,s]=Object(a.useState)(""),c=e.filter(e=>e.name.includes(i));Object(a.useEffect)(()=>{n(Object(D.g)())},[n]);let u=r.a.createElement(l.EmptyState,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.EmptyState.Text,null,"No variables match your search"));return Boolean(c.length)&&(u=c.map(e=>r.a.createElement(F,{variable:e,key:e.id,onClickVariable:t,testID:e.name}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{onSearch:s,resourceName:"Variables"}),r.a.createElement(l.DapperScrollbars,{className:"flux-toolbar--scroll-area"},r.a.createElement("div",{className:"flux-toolbar--list"},u)))});var L=({onClick:e,name:t,active:n,testID:a="toolbar-tab",id:o})=>{const i=s()("flux-toolbar--tab",{"flux-toolbar--tab__active":n});return r.a.createElement("div",{className:i,onClick:()=>{e(n?"none":o)},title:t,"data-testid":a},r.a.createElement("div",{className:"flux-toolbar--tab-label"},t))};var P=({activeQueryBuilderTab:e,onInsertFluxFunction:t,onInsertVariable:n})=>{const[o,i]=Object(a.useState)("functions"),s=e=>{i(e)};let l;"functions"===o&&(l=r.a.createElement(k,{onInsertFluxFunction:t})),"variables"===o&&(l=r.a.createElement(M,{onClickVariable:n}));const c="functions"===o||"variables"===o;return r.a.createElement("div",{className:"flux-toolbar"},c&&r.a.createElement("div",{className:"flux-toolbar--tab-contents","data-testid":`functions-toolbar-contents--${o}`},l),r.a.createElement("div",{className:"flux-toolbar--tabs"},r.a.createElement(L,{id:"functions",onClick:s,name:"Functions",active:"functions"===o,testID:"functions-toolbar-tab"}),"customCheckQuery"!==e&&r.a.createElement(L,{id:"variables",onClick:s,name:"Variables",active:"variables"===o})))},B=n(37),$=n(26);const z=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(11),n.e(8)]).then(n.bind(null,1491))),V={onSetActiveQueryText:B.j,onSubmitQueries:O.g};var H=Object(o.c)(e=>{const t=Object($.c)(e).text,{activeTab:n,activeQueryIndex:a}=Object($.d)(e);return{activeQueryText:t,activeTab:n,activeQueryIndex:a}},V)(({activeQueryText:e,onSubmitQueries:t,onSetActiveQueryText:n,activeTab:o,activeQueryIndex:i})=>{const[s,c]=Object(a.useState)(null),u=e=>{if(!s)return null;const t=s.getPosition();s.executeEdits("",[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:`v.${e}`}]),n(s.getValue())},d=t=>{if(!s)return null;const n=s.getPosition(),a=(t=>{const n=e.split("\n");return(n[t]||n[n.length-1]).trim()?t+1:t})(n.lineNumber);let r=a;const[o]=s.getVisibleRanges();let i=a>o.endLineNumber;1===n.lineNumber&&1===n.column&&(i=!0,r=o.endLineNumber+1);let l="";return l=i?`\n  |> ${t.example}`:`  |> ${t.example}\n`,(e=>{switch(e){case C.c.name:case C.d.name:return!0;default:return!1}})(t.name)&&(l=`\n${t.example}\n`),{text:l,range:new window.monaco.Range(r,1,r,1)}},m=e=>{if(!s)return;const{text:t,range:a}=d(e),r=[{range:a,text:t}],o=((e,t)=>{const n=`import "${e}"`;return!(!e||t.includes(n))&&n})(e.package,s.getValue());o&&r.unshift({range:new window.monaco.Range(1,1,1,1),text:`${o}\n`}),s.executeEdits("",r),n(s.getValue())};return Object(a.useMemo)(()=>r.a.createElement("div",{className:"flux-editor"},r.a.createElement("div",{className:"flux-editor--left-panel"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(l.SpinnerContainer,{loading:l.RemoteDataState.Loading,spinnerComponent:r.a.createElement(l.TechnoSpinner,null)})},r.a.createElement(z,{script:e,onChangeScript:n,onSubmitScript:t,setEditorInstance:c}))),r.a.createElement("div",{className:"flux-editor--right-panel"},r.a.createElement(P,{activeQueryBuilderTab:o,onInsertFluxFunction:m,onInsertVariable:u}))),[s,i])}),q=n(101),U=n(140);class G extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{files:e}=this.props,t=Object(U.a)("YYYY-MM-DD HH:mm"),n=e.join("\n\n"),a=`${t.format(new Date).replace(/\s+/gi,"_")} InfluxDB Data`;Object(q.b)(n,a,".csv","text/csv")}}render(){return r.a.createElement(l.Button,{titleText:this.titleText,text:"CSV",icon:l.IconFont.Download,onClick:this.handleClick,status:this.buttonStatus})}get buttonStatus(){const{files:e}=this.props;return e?l.ComponentStatus.Default:l.ComponentStatus.Disabled}get titleText(){const{files:e}=this.props;return e?"Download query results as a .CSV file":"Create a query in order to download results as .CSV"}}var W=Object(o.c)(e=>{const{queryResults:{files:t}}=Object($.d)(e);return{files:t}})(G),Y=n(165);class K extends a.PureComponent{render(){const{onEditAsFlux:e,onEditWithBuilder:t,onResetAndEditWithBuilder:n}=this.props,{editMode:a,text:o,builderConfig:i}=this.props.activeQuery,s="builder"!==a;let c=r.a.createElement(l.Button,{text:"Script Editor",titleText:"Switch to Script Editor",onClick:e,testID:"switch-to-script-editor"});return s&&(c=r.a.createElement(l.Button,{text:"Query Builder",titleText:"Switch to Query Builder",onClick:t,testID:"switch-to-query-builder"})),s&&Object(Y.c)(o,i)===Y.a.Required&&(c=r.a.createElement(l.ConfirmationButton,{popoverColor:l.ComponentColor.Danger,popoverAppearance:l.Appearance.Outline,popoverStyle:{width:"400px"},confirmationLabel:"Switching to Query Builder mode will discard any changes you\n                have made using Flux. This cannot be recovered.",confirmationButtonText:"Switch to Builder",text:"Query Builder",onConfirm:n,testID:"switch-query-builder-confirm"})),c}}const Z={onEditWithBuilder:B.c,onResetAndEditWithBuilder:B.h,onEditAsFlux:B.b};var X=Object(o.c)(e=>({activeQuery:Object($.c)(e)}),Z)(K),Q=n(456),J=n(423);class ee extends a.PureComponent{constructor(){super(...arguments),this.autoRefresher=new J.a,this.handleChooseAutoRefresh=e=>{const{onSetAutoRefresh:t,autoRefresh:n}=this.props;t(0!==e?Object.assign(Object.assign({},n),{interval:e,status:j.AutoRefreshStatus.Active}):Object.assign(Object.assign({},n),{status:j.AutoRefreshStatus.Paused,interval:e}))},this.executeQueries=()=>{this.props.onExecuteQueries()}}componentDidMount(){const{autoRefresh:e}=this.props;e.status===j.AutoRefreshStatus.Active&&this.autoRefresher.poll(e),this.autoRefresher.subscribe(this.executeQueries)}componentDidUpdate(e){const{autoRefresh:t}=this.props;if(!Object(u.isEqual)(t,e.autoRefresh)){if(t.status===j.AutoRefreshStatus.Active)return void this.autoRefresher.poll(t);this.autoRefresher.stopPolling()}}componentWillUnmount(){this.autoRefresher.unsubscribe(this.executeQueries),this.autoRefresher.stopPolling()}render(){const{autoRefresh:e}=this.props;return r.a.createElement(Q.a,{selected:e,onChoose:this.handleChooseAutoRefresh,onManualRefresh:this.executeQueries,showAutoRefresh:!1})}}const te={onExecuteQueries:O.c,onSetAutoRefresh:B.m};var ne=Object(o.c)(e=>{const{autoRefresh:t}=Object($.d)(e);return{autoRefresh:t}},te)(ee),ae=n(370),re=n(10),oe=n(298),ie=n(212),se=n(144),le=n(69),ce=n(14),ue=n(111),de=n(176);var me=class{constructor(){this.timers={}}call(e,t){const n=this.timers[e];n&&clearTimeout(n),this.timers[e]=setTimeout(e,t)}cancel(e){const t=this.timers[e];t&&clearTimeout(t)}cancelAll(){const e=Object.values(this.timers);for(const t of e)clearTimeout(t)}},pe=n(297);const he=["_start","_stop","_time"];let fe=class extends a.PureComponent{constructor(){super(...arguments),this.debouncer=new me,this.handleSelectTag=e=>{const{index:t,onSelectTag:n}=this.props;n(t,e)},this.handleSelectValue=e=>{const{index:t,onSelectValue:n}=this.props;n(t,e)},this.handleRemoveTagSelector=()=>{const{index:e,onRemoveTagSelector:t}=this.props;t(e)},this.handleKeysSearch=e=>{const{onSetKeysSearchTerm:t,index:n}=this.props;t(n,e),this.debouncer.call(this.emitKeysSearch,500)},this.emitKeysSearch=()=>{const{index:e,onSearchKeys:t}=this.props;t(e)},this.handleValuesSearch=e=>{const{onSetValuesSearchTerm:t,index:n}=this.props,{value:a}=e.target;t(n,a),this.debouncer.call(this.emitValuesSearch,500)},this.emitValuesSearch=()=>{const{index:e,onSearchValues:t}=this.props;t(e)},this.handleAggregateFunctionSelect=e=>{const{index:t,onSetBuilderAggregateFunctionType:n}=this.props;n(e,t)}}renderAggregateFunctionType(e){return"group"===e?"Group":"Filter"}render(){return r.a.createElement(le.a,null,this.header,this.body)}get header(){const{aggregateFunctionType:e,index:t,isInCheckOverlay:n}=this.props;return r.a.createElement(le.a.DropdownHeader,{options:["filter","group"],selectedOption:this.renderAggregateFunctionType(e),onDelete:0!==t&&this.handleRemoveTagSelector,onSelect:this.handleAggregateFunctionSelect,isInCheckOverlay:n})}get body(){const{aggregateFunctionType:e,index:t,keys:n,keysStatus:a,selectedKey:o,emptyText:i,valuesSearchTerm:s,keysSearchTerm:c}=this.props;if(a===j.RemoteDataState.NotStarted)return r.a.createElement(le.a.Empty,null,i);if(a===j.RemoteDataState.Error)return r.a.createElement(le.a.Empty,null,"Failed to load tag keys");if(a===j.RemoteDataState.Done&&!n.length)return r.a.createElement(le.a.Empty,{testID:"empty-tag-keys"},"No tag keys found ",r.a.createElement("small",null,"in the current time range"));const u="group"===e?"Search group column values":`Search ${o} tag values`;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Menu,{testID:`tag-selector--container ${t}`},"group"!==e&&r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,alignItems:l.AlignItems.Center,margin:l.ComponentSize.Small},r.a.createElement(oe.a,{searchTerm:c,emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:o,onSelect:this.handleSelectTag,buttonStatus:Object(pe.a)(a),onChangeSearchTerm:this.handleKeysSearch,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:n}),this.selectedCounter),r.a.createElement(l.Input,{value:s,placeholder:u,className:"tag-selector--search",onChange:this.handleValuesSearch})),this.values)}get values(){const{selectedKey:e,values:t,valuesStatus:n,selectedValues:a}=this.props;return n===j.RemoteDataState.Error?r.a.createElement(le.a.Empty,null,`Failed to load tag values for ${e}`):n===j.RemoteDataState.Loading||n===j.RemoteDataState.NotStarted?r.a.createElement(le.a.Empty,null,r.a.createElement(ie.a,{text:"Loading tag values"})):n!==j.RemoteDataState.Done||t.length?r.a.createElement(se.a,{items:t,selectedItems:a,onSelectItem:this.handleSelectValue,multiSelect:!this.props.isInCheckOverlay}):r.a.createElement(le.a.Empty,null,"No values found ",r.a.createElement("small",null,"in the current time range"))}get selectedCounter(){const{selectedValues:e}=this.props,t=1===e.length?"":"s";if(e.length>0)return r.a.createElement("div",{className:"tag-selector--count",title:`${e.length} value${t} selected`},e.length)}};fe=Object(re.a)([ce.a],fe);const ge={onRemoveTagSelector:ue.e,onSearchKeys:ue.f,onSearchValues:ue.g,onSelectTag:ue.j,onSelectValue:ue.k,onSetBuilderAggregateFunctionType:de.e,onSetKeysSearchTerm:de.q,onSetValuesSearchTerm:de.r};var be=Object(o.c)((e,t)=>{const n=Object($.d)(e).queryBuilder;let a=[],r="",o=j.RemoteDataState.NotStarted,i="",s=j.RemoteDataState.NotStarted,l=[];if(null==n?void 0:n.tags[null==t?void 0:t.index]){const e=n.tags[t.index];a=e.keys,r=e.keysSearchTerm,o=e.keysStatus,i=e.valuesSearchTerm,s=e.valuesStatus,l=e.values}const c=Object($.c)(e).builderConfig.tags;let u="";const d=c[t.index-1];d&&d.key&&(u=`Select a ${d.key} value first`);const{key:m,values:p,aggregateFunctionType:h}=c[t.index];return"group"===h&&(l=[...he,...c.map(e=>e.key)]),{aggregateFunctionType:h,emptyText:u,keys:a,keysStatus:o,selectedKey:m,values:l,valuesStatus:s,selectedValues:p,valuesSearchTerm:i,keysSearchTerm:r,isInCheckOverlay:Object($.i)(e)}},ge)(fe);const ve={onSetAggregateFillValues:de.c};var ye=Object(o.c)(e=>{var t,n;const{builderConfig:a}=Object($.c)(e);return{isInCheckOverlay:Object($.i)(e),fillValues:null!==(n=null===(t=null==a?void 0:a.aggregateWindow)||void 0===t?void 0:t.fillValues)&&void 0!==n&&n}},ve)(({fillValues:e,onSetAggregateFillValues:t,isInCheckOverlay:n})=>n?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Toggle,{id:"isFillValues",type:l.InputToggleType.Checkbox,checked:e,onChange:()=>{t(!e)},color:l.ComponentColor.Primary,size:l.ComponentSize.ExtraSmall}),r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(l.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}}))),xe=n(136),we=n(28);const Ee={onSetWindowPeriodSelectionMode:ue.m,onSelectAggregateWindow:ue.h};var Se=Object(o.c)(e=>{var t,n;const{builderConfig:a}=Object($.c)(e),r=e.alertBuilder.every;return{period:null!==(n=null===(t=null==a?void 0:a.aggregateWindow)||void 0===t?void 0:t.period)&&void 0!==n?n:"",isInCheckOverlay:Object($.i)(e),autoWindowPeriod:Object($.n)(e),everyWindowPeriod:r}},Ee)(({period:e,autoWindowPeriod:t,everyWindowPeriod:n,onSetWindowPeriodSelectionMode:a,onSelectAggregateWindow:o,isInCheckOverlay:i})=>{const s=i||e===we.a;let c=e;e&&!s||(c=we.a,t&&(c=`${we.a} (${t})`,i&&(c=`${we.a} (${n})`)));const u=s?l.ComponentStatus.Disabled:l.ComponentStatus.Default;return i?r.a.createElement(xe.a,{onSubmit:o,value:c,suggestions:we.d,submitInvalid:!1,status:u}):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.SelectGroup,{shape:l.ButtonShape.StretchToFit,size:l.ComponentSize.ExtraSmall},r.a.createElement(l.SelectGroup.Option,{name:"custom",id:"custom-window-period",testID:"custom-window-period",active:!s,value:"custom",onClick:a,titleText:"Custom"},"Custom"),r.a.createElement(l.SelectGroup.Option,{name:"auto",id:"auto-window-period",testID:"auto-window-period",active:s,value:"auto",onClick:a,titleText:"Auto"},"Auto")),r.a.createElement(xe.a,{onSubmit:o,value:c,suggestions:we.d,submitInvalid:!1,status:u}))}),Ce=n(664);const ke={onMultiSelectBuilderFunction:ue.c,onSingleSelectBuilderFunction:ue.n,onSetFunctions:de.p,onSetIsAutoFunction:Ce.b};var Oe=Object(o.c)(e=>{const t=Object($.b)(e),{builderConfig:n}=Object($.c)(e),{functions:a}=n;return{activeGraphType:t,isInCheckOverlay:Object($.i)(e),savedFunctions:a.map(e=>e.name)}},ke)(({activeGraphType:e,isInCheckOverlay:t,onMultiSelectBuilderFunction:n,onSetFunctions:o,onSetIsAutoFunction:i,onSingleSelectBuilderFunction:s,savedFunctions:c})=>{const u=Object(we.f)(e).map(e=>e.name),[d,m]=Object(a.useState)(!t&&1===c.length&&u.includes(c[0]));Object(a.useEffect)(()=>{d&&!1===u.includes(c[0])&&s(u[0])},[u,d,s,c]);const p=d?u:we.e.map(e=>e.name),h=e=>{m(e),i(e)},f=e=>{if("custom"===e)return void h(!1);const t=c.filter(e=>u.includes(e));0===t.length?o([u[0]]):t.length>1?o([t[0]]):o(t),h(!0)},g=d?s:n;if(t)return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),r.a.createElement(se.a,{items:p,selectedItems:c,onSelectItem:s,multiSelect:!1}));const b=c.filter(e=>p.includes(e));let v=c;return d&&(v=b.length?b:u),r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),r.a.createElement(le.a.Menu,{className:"aggregation-selector-menu"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.ExtraSmall,alignItems:l.AlignItems.Stretch},r.a.createElement(l.SelectGroup,{shape:l.ButtonShape.StretchToFit,size:l.ComponentSize.ExtraSmall},r.a.createElement(l.SelectGroup.Option,{name:"custom",id:"custom-function",testID:"custom-function",active:!d,value:"custom",onClick:f,titleText:"Custom"},"Custom"),r.a.createElement(l.SelectGroup.Option,{name:"auto",id:"auto-function",testID:"auto-function",active:d,value:"auto",onClick:f,titleText:"Auto"},"Auto")))),r.a.createElement(se.a,{items:p,selectedItems:v,onSelectItem:g,multiSelect:!d}))});var De=()=>r.a.createElement(le.a,{className:"aggregation-selector",testID:"aggregation-selector"},r.a.createElement(le.a.Header,{title:"Window Period",className:"aggregation-selector-header"}),r.a.createElement(le.a.Body,{scrollable:!1,addPadding:!1,className:"aggregation-selector-body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,margin:l.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(Se,null),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(ye,null)))),r.a.createElement(Oe,null));class Te extends a.PureComponent{render(){const{onClick:e}=this.props;return r.a.createElement(l.SquareButton,{className:"query-builder--add-card-button",onClick:e,icon:l.IconFont.Plus})}}var je=n(307),Ie=n(105),Ne=n(52),Re=n(40),Ae=n(110),_e=n(372),Fe=n(9);const Me={createBucket:Ae.c};var Le=Object(o.c)(e=>({org:Object(Fe.a)(e),isRetentionLimitEnforced:!!Object(Ne.c)(e),limitStatus:Object(Ne.p)(e)}),Me)(({org:e,createBucket:t,isRetentionLimitEnforced:n,limitStatus:i})=>{const s=Object(o.d)(),c=Object(a.useRef)(null),[u,d]=Object(a.useReducer)(_e.b,Object(_e.c)(n,e.id));Object(a.useEffect)(()=>{s(Object(Re.b)())},[s]);let m="Click to create a bucket",p=!1;"exceeded"===i&&(m="This account has the maximum number of buckets allowed",p=!0);const h=u.retentionRules.find(e=>"expire"===e.type),f=h?h.everySeconds:3600,g=e=>{d("expire"===e?{type:"updateRetentionRules",payload:_e.a}:{type:"updateRetentionRules",payload:[]}),d({type:"updateRuleType",payload:e})},b=e=>{d({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})},v=e=>n=>{n.preventDefault(),t(u),e()},y=e=>{d({type:"updateSchema",payload:e})},x=e=>{const t=e.target.value;"name"===e.target.name&&d({type:"updateName",payload:t})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.List.Item,{className:"selector-list--item",testID:"selector-list add-bucket",disabled:p,title:m,ref:c,onClick:()=>{},wrapText:!1,size:l.ComponentSize.ExtraSmall},"+ Create Bucket"),r.a.createElement(l.Popover,{triggerRef:c,appearance:l.Appearance.Outline,color:l.ComponentColor.Primary,position:l.PopoverPosition.Above,showEvent:l.PopoverInteraction.Click,hideEvent:l.PopoverInteraction.Click,style:{maxWidth:Ie.b},testID:"create-bucket-popover",contents:e=>r.a.createElement(je.a,{name:u.name,buttonText:"Create",isEditing:!1,ruleType:u.ruleType,onClose:e,onSubmit:v(e),onChangeInput:x,retentionSeconds:f,onChangeRuleType:g,onChangeRetentionRule:b,onChangeSchemaType:y})}))}),Pe=n(13);const Be=({list:e,selected:t,onSelect:n})=>e.length?r.a.createElement(se.a,{items:e,selectedItems:[t],onSelectItem:n,multiSelect:!1,testID:"buckets-list"},r.a.createElement(Le,null)):r.a.createElement(le.a.Empty,null,"No buckets matched your search"),$e={onSelectBucket:ue.i};var ze=Object(o.c)(e=>{const t=Object(Pe.a)(e,j.ResourceType.Buckets).map(e=>e.name||""),n=Object(Pe.h)(e,j.ResourceType.Buckets);return{selectedBucket:Object($.c)(e).builderConfig.buckets[0]||t[0],bucketNames:t,bucketsStatus:n}},$e)(({selectedBucket:e,bucketNames:t,bucketsStatus:n,onSelectBucket:o})=>{const[i,s]=Object(a.useState)(""),c=t.filter((u=i,e=>e.toLocaleLowerCase().includes(u.toLocaleLowerCase())));var u;return n===j.RemoteDataState.Error?r.a.createElement(le.a.Empty,null,"Failed to load buckets"):n===j.RemoteDataState.Loading?r.a.createElement(le.a.Empty,null,r.a.createElement(ie.a,{text:"Loading buckets"})):n!==j.RemoteDataState.Done||t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Menu,null,r.a.createElement(l.Input,{value:i,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>s(e.target.value)})),r.a.createElement(Be,{list:c,selected:e,onSelect:e=>{o(e,!0)}})):r.a.createElement(le.a.Empty,null,"No buckets found")}),Ve=n(8);class He extends a.PureComponent{constructor(e){super(e),Object(Ve.a)("TimeMachineQueryBuilder load start")}componentDidMount(){this.props.onLoadBuckets()}render(){const{tagFiltersLength:e}=this.props;return r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(l.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(le.a,{testID:"bucket-selector"},r.a.createElement(le.a.Header,{title:"From"}),r.a.createElement(ze,null)),e&&Object(u.range)(e).map(e=>r.a.createElement(be,{key:e,index:e})),this.addButton)),this.functionSelector))}get functionSelector(){const{checkType:e}=this.props;if("deadman"!==e)return r.a.createElement(De,null)}get addButton(){const{moreTags:e,onAddTagSelector:t}=this.props;return e?r.a.createElement(Te,{onClick:t,collapsible:!1}):null}}const qe={onLoadBuckets:ue.b,onAddTagSelector:ue.a};var Ue=Object(o.c)(e=>{const t=Object($.c)(e).builderConfig.tags.length,{queryBuilder:{tags:n}}=Object($.d)(e),{alertBuilder:{type:a}}=e;if(!n.length)return{tagFiltersLength:t,moreTags:!1,checkType:a};const{keys:r,keysStatus:o}=n[n.length-1];return{tagFiltersLength:t,moreTags:!(0===r.length&&o===j.RemoteDataState.Done),checkType:a}},qe)(He),Ge=n(394);class We extends a.PureComponent{constructor(){super(...arguments),this.handleToggleIsViewingRawData=()=>{const{isViewingRawData:e,onSetIsViewingRawData:t}=this.props;t(!e)}}render(){const{giraffeResult:e,isInCheckOverlay:t,isViewingRawData:n}=this.props;return t&&"number"!==e.table.getColumnType("_value")&&!!e.table.length?null:r.a.createElement("div",{className:"view-raw-data-toggle"},r.a.createElement(l.InputLabel,null,"View Raw Data"),r.a.createElement(l.SlideToggle,{active:n,onChange:this.handleToggleIsViewingRawData,size:l.ComponentSize.ExtraSmall,testID:"raw-data--toggle"}))}}const Ye={onSetIsViewingRawData:B.n};var Ke=Object(o.c)(e=>{const{isViewingRawData:t}=Object($.d)(e);return{giraffeResult:Object($.m)(e),isInCheckOverlay:Object($.i)(e),isViewingRawData:t}},Ye)(We);class Ze extends a.PureComponent{constructor(){super(...arguments),this.state={newName:null},this.handleDoubleClick=()=>{this.props.isActive&&(this.props.onEdit(),this.setState({newName:this.props.name||""}))},this.handleChange=e=>{this.setState({newName:e.target.value})},this.handleEnterKey=e=>{switch(e.key){case"Enter":return this.handleUpdate();case"Escape":return this.props.onCancelEdit()}}}render(){const{queryIndex:e,name:t,isEditing:n,onCancelEdit:a}=this.props,o=t||`Query ${e+1}`;return n?r.a.createElement(l.Input,{type:l.InputType.Text,value:this.state.newName||"",onChange:this.handleChange,onBlur:a,onKeyUp:this.handleEnterKey,size:l.ComponentSize.ExtraSmall,autoFocus:!0,testID:"edit-query-name"}):r.a.createElement("div",{className:"query-tab--name",onDoubleClick:this.handleDoubleClick,title:o},o)}handleUpdate(){const{onUpdate:e,onCancelEdit:t}=this.props,{newName:n}=this.state;null!==n&&(e(n),t()),this.setState({newName:null})}}var Xe=Ze;var Qe=Object(o.c)(e=>{const{status:t,fetchDuration:n}=Object($.d)(e).queryResults;return{status:t,duration:n}})(({duration:e,status:t})=>{const n=s()("query-tab--timer",{"query-tab--timer__visible":t===j.RemoteDataState.Done});return r.a.createElement("div",{className:n},`(${(e/1e3).toFixed(2)}s)`)});class Je extends a.PureComponent{constructor(){super(...arguments),this.triggerRef=Object(a.createRef)(),this.state={isEditingName:!1},this.handleEditActiveQueryName=()=>{this.handleSetActive(),this.handleEditName()},this.handleUpdateName=e=>{this.props.onUpdateActiveQueryName(e)},this.handleSetActive=()=>{const{queryIndex:e,activeQueryIndex:t,onSetActiveQueryIndex:n}=this.props;e!==t&&n(e)},this.handleCancelEditName=()=>{this.setState({isEditingName:!1})},this.handleEditName=()=>{this.setState({isEditingName:!0})},this.handleRemove=()=>{const{queryIndex:e,onRemoveQuery:t}=this.props;t(e)},this.handleToggleView=e=>{const{queryIndex:t,onToggleQuery:n}=this.props;e.stopPropagation(),n(t)}}static getDerivedStateFromProps(e){return e.queryIndex!==e.activeQueryIndex?{isEditingName:!1}:null}render(){const{queryIndex:e,activeQueryIndex:t,query:n}=this.props,a=e===t,o=s()("query-tab",{"query-tab__active":e===t,"query-tab__hidden":n.hidden});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o,onClick:this.handleSetActive,ref:this.triggerRef},this.showHideButton,r.a.createElement(Xe,{isActive:a,name:n.name,queryIndex:e,isEditing:this.state.isEditingName,onUpdate:this.handleUpdateName,onEdit:this.handleEditName,onCancelEdit:this.handleCancelEditName}),this.queriesTimer,this.removeButton),r.a.createElement(l.RightClick,{triggerRef:this.triggerRef,color:l.ComponentColor.Primary},r.a.createElement(l.RightClick.MenuItem,{onClick:this.handleEditActiveQueryName,testID:"right-click--edit-tab"},"Edit"),r.a.createElement(l.RightClick.MenuItem,{onClick:this.handleRemove,disabled:!this.isRemovable,testID:"right-click--remove-tab"},"Remove")))}get queriesTimer(){const{queryIndex:e,activeQueryIndex:t}=this.props;if(e===t)return r.a.createElement(Qe,null)}get removeButton(){return this.state.isEditingName||!this.isRemovable?null:r.a.createElement("div",{className:"query-tab--close",onClick:this.handleRemove},r.a.createElement(l.Icon,{glyph:l.IconFont.Remove}))}get showHideButton(){const{query:e}=this.props;if(this.state.isEditingName||!this.isRemovable&&!(null==e?void 0:e.hidden))return null;const t=e.hidden?l.IconFont.EyeClosed:l.IconFont.EyeOpen;return r.a.createElement("div",{className:"query-tab--hide",onClick:this.handleToggleView},r.a.createElement(l.Icon,{glyph:t}))}get isRemovable(){return this.props.queryCount>1}}const et={onSetActiveQueryIndex:B.i,onRemoveQuery:B.g,onUpdateActiveQueryName:B.w,onToggleQuery:B.u};var tt=Object(o.c)(e=>{const{activeQueryIndex:t,draftQueries:n}=Object($.d)(e);return{activeQueryIndex:t,queryCount:n.length}},et)(Je);const nt={onAddQuery:B.a};var at=Object(o.c)(e=>{const{draftQueries:t}=Object($.d)(e);return{draftQueries:t,isInCheckOverlay:Object($.i)(e)}},nt)(({draftQueries:e,isInCheckOverlay:t,onAddQuery:n})=>r.a.createElement("div",{className:"time-machine-queries--tabs"},e.map((e,t)=>r.a.createElement(tt,{key:t,queryIndex:t,query:e})),!t&&r.a.createElement(l.SquareButton,{className:"time-machine-queries--new",icon:l.IconFont.PlusSkinny,size:l.ComponentSize.Small,color:l.ComponentColor.Default,onClick:n})));var rt=()=>r.a.createElement(l.QuestionMarkTooltip,{testID:"editor-shortcuts",tooltipContents:r.a.createElement("div",{className:"editor-shortcuts"},r.a.createElement("h5",null,"Shortcuts"),r.a.createElement("dl",{className:"editor-shortcuts--body"},r.a.createElement("dt",null,"[Ctl or ⌘] + /:"),r.a.createElement("dd",null,"Toggle comment for line or lines"),r.a.createElement("dt",null,"[Ctl or ⌘] + [Enter]:"),r.a.createElement("dd",null,"Submit Script")))}),ot=n(180),it=n(108);class st extends a.PureComponent{constructor(){super(...arguments),this.handleSetTimeRange=e=>{const{autoRefresh:t,location:{pathname:n},onEnableUpdatedTimeRangeInVEO:a,onSetAutoRefresh:r,onSetTimeRange:o,setTimeMachineTimeRange:i,match:{params:{cellID:s,dashboardID:l,orgID:c}}}=this.props;if(n===`orgs/${c}/dashboards/${l}/cell/${s}/edit`&&a(),o(e),i(e),"custom"!==e.type){if(t.status===j.AutoRefreshStatus.Disabled){if(0===t.interval)return void r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Paused}));r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Active}))}}else r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Disabled}))}}render(){const{timeRange:e,isInCheckOverlay:t,activeQuery:n}=this.props;return r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement(at,null),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small,className:"time-machine-queries--buttons"},"advanced"===n.editMode&&r.a.createElement(rt,null),r.a.createElement(Ke,null),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(ne,null),r.a.createElement(ae.a,{timeRange:e,onSetTimeRange:this.handleSetTimeRange}),r.a.createElement(X,null)),r.a.createElement(Ge.b,null))),r.a.createElement("div",{className:"time-machine-queries--body"},this.queryEditor))}get queryEditor(){const{activeQuery:e}=this.props;return"builder"===e.editMode?r.a.createElement(Ue,null):"advanced"===e.editMode?r.a.createElement(H,null):null}}const lt={setTimeMachineTimeRange:B.q,onSetTimeRange:B.r,onEnableUpdatedTimeRangeInVEO:ot.e,onSetAutoRefresh:B.m};var ct=Object(o.c)(e=>{const t=Object(it.b)(e),{autoRefresh:n}=Object($.d)(e);return{timeRange:t,activeQuery:Object($.c)(e),autoRefresh:n,isInCheckOverlay:Object($.i)(e)}},lt)(Object(c.j)(st)),ut=n(326);var dt=({tagSet:e,index:t,handleChangeTagRow:n,handleRemoveTagRow:a})=>{const o=a=>{n(t,Object.assign(Object.assign({},e),{[a.target.name]:a.target.value}))};return r.a.createElement(l.Panel,{testID:"tag-rule",className:"alert-builder--tag-row"},r.a.createElement(l.DismissButton,{onClick:()=>{a(t)},color:l.ComponentColor.Default}),r.a.createElement(l.Panel.Body,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small},r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.Input,{testID:"tag-rule-key--input",placeholder:"Tag",value:e.key,name:"key",onChange:o})),r.a.createElement(l.FlexBox.Child,{grow:0,basis:20},r.a.createElement(l.TextBlock,{text:"="})),r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.Input,{testID:"tag-rule-key--input",placeholder:"Value",value:e.value,name:"value",onChange:o})))))},mt=n(55);var pt=n(78);const ht={key:"",value:""},ft={onSelectCheckEvery:e=>t=>{t(Object(mt.i)(e)),t(Object(O.c)())},onSetOffset:mt.k,onRemoveTagSet:mt.d,onEditTagSetByIndex:mt.b};var gt=Object(o.c)(({alertBuilder:{tags:e,offset:t,every:n}})=>({tags:e||[],offset:t,every:n}),ft)(({tags:e,offset:t,every:n,onSelectCheckEvery:a,onSetOffset:o,onRemoveTagSet:i,onEditTagSetByIndex:s})=>r.a.createElement(le.a,{testID:"builder-meta",className:"alert-builder--card alert-builder--meta-card"},r.a.createElement(le.a.Header,{title:"Properties"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.Grid,null,r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthSM:6},r.a.createElement(l.Form.Element,{label:"Schedule Every"},r.a.createElement(xe.a,{value:n,suggestions:we.d,onSubmit:a,testID:"schedule-check"}))),r.a.createElement(l.Grid.Column,{widthSM:6},r.a.createElement(l.Form.Element,{label:"Offset"},r.a.createElement(xe.a,{value:t,suggestions:pt.b,onSubmit:o,testID:"offset-options"}))))),r.a.createElement(l.Form.Label,{label:"Tags"}),e.map((e,t)=>r.a.createElement(dt,{key:t,index:t,tagSet:e,handleChangeTagRow:s,handleRemoveTagRow:i})),r.a.createElement(ut.a,{text:"+ Tag",onClick:()=>s(e.length,ht),color:l.ComponentColor.Primary,size:l.ComponentSize.Small}))));const bt={onSetStatusMessageTemplate:mt.m};var vt=Object(o.c)(({alertBuilder:{statusMessageTemplate:e}})=>({statusMessageTemplate:e}),bt)(({statusMessageTemplate:e,onSetStatusMessageTemplate:t})=>r.a.createElement(le.a,{testID:"builder-message",className:"alert-builder--card alert-builder--message-card"},r.a.createElement(le.a.Header,{title:"Status Message Template"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.TextArea,{className:"alert-builder--message-template",autoFocus:!1,autocomplete:l.AutoComplete.Off,form:"",maxLength:500,minLength:5,name:"statusMessageTemplate",onChange:e=>{t(e.target.value)},readOnly:!1,required:!1,size:l.ComponentSize.Medium,spellCheck:!1,testID:"status-message-textarea",value:e,wrap:l.Wrap.Soft,placeholder:"This template what this Check will use to write status messages"}),r.a.createElement("div",{className:"alert-builder--message-help"},r.a.createElement("p",null,"You can use any columns from your query as well as the following:"),r.a.createElement("p",null,r.a.createElement("code",null,"${r._check_name}")," The name of this check"),r.a.createElement("p",null,r.a.createElement("code",null,"${r._level}")," Indicates the level of the check"),r.a.createElement("p",null,r.a.createElement("code",null,"${string(v: r.numericColumn)}")," Functions can be used"," ","as well"),r.a.createElement("p",null,"Need help? Check out the Status Message Template"," ",r.a.createElement("a",{href:`https://docs.influxdata.com/influxdb/${C.a}/monitor-alert/checks/create/#flux-only-interpolates-string-values`,target:"_blank",rel:"noreferrer"},"Documentation"))))));var yt=({threshold:e,children:t,removeLevel:n,changeThresholdType:a})=>{const o={"is above":"greater","is below":"lesser","is inside range":"range","is outside range":"range"},i=pt.l[e.level],s=(e=>"greater"==e.type?"is above":"lesser"==e.type?"is below":e.within?"is inside range":"is outside range")(e);return r.a.createElement(l.Panel,{backgroundColor:l.InfluxColors.Castle,testID:"panel"},r.a.createElement(l.DismissButton,{color:l.ComponentColor.Default,onClick:n,testID:"dismiss-button",type:l.ButtonType.Button}),r.a.createElement(l.PanelBody,{testID:"panel--body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.Small,testID:"component-spacer"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"When value"}),r.a.createElement(l.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},r.a.createElement(l.SelectDropdown,{options:Object.keys(o),selectedOption:s,onSelect:e=>{a(o[e],"is inside range"===e)},testID:"select-option-dropdown"}))),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},t,r.a.createElement(l.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),r.a.createElement(l.TextBlock,{backgroundColor:i,testID:"threshold-level-text-block",text:e.level})))))},xt=n(34);var wt=({threshold:e,changeValue:t,level:n})=>r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:e=>{t(Object(xt.a)(e))},name:"",type:l.InputType.Number,value:e.value,testID:`input-field-${n}`}));var Et=({threshold:e,changeRange:t})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:n=>{const a=Object(xt.a)(n);t(a,e.max)},name:"min",testID:"input-field",type:l.InputType.Number,value:e.min})),r.a.createElement(l.TextBlock,{testID:"text-block",text:"to"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:n=>{const a=Object(xt.a)(n);t(e.min,a)},disabledTitleText:"This input is disabled",name:"max",testID:"input-field",type:l.InputType.Number,value:e.max}))),St=n(193);const Ct={type:"greater"},kt={onUpdateThreshold:mt.p,onRemoveThreshold:mt.e};var Ot=Object(o.c)(e=>({table:Object($.m)(e).table}),kt)(({level:e,table:t,threshold:n,onUpdateThreshold:o,onRemoveThreshold:i})=>{const[s,c]=Object(a.useState)([Object(u.get)(n,"value")||Object(u.get)(n,"min",0),Object(u.get)(n,"max",100)]),d=Object(u.get)(n,"value")||Object(u.get)(n,"min",s[0]),m=Object(u.get)(n,"max",s[1]);Object(a.useEffect)(()=>{c([d,m])},[d,m]);const[p]=Object(St.a)(t.getColumn("_value","number"),[]),h=()=>{const t=p[0]||0,n=p[1]||40,a=Object.assign(Object.assign({},Ct),{value:(n-t)/2+t,level:e});o(a)};return n?r.a.createElement(yt,{threshold:n,removeLevel:()=>{i(e)},changeThresholdType:(e,t)=>{if("greater"===e||"lesser"===e){const t={type:e,level:n.level,value:s[0]};o(t)}if("range"===e){const a={type:e,level:n.level,min:s[0],max:s[1],within:t};o(a)}}},"range"===n.type?r.a.createElement(Et,{threshold:n,changeRange:(e,t)=>{const a=Object.assign(Object.assign({},n),{min:e,max:t});o(a)}}):r.a.createElement(wt,{threshold:n,changeValue:e=>{const t=Object.assign(Object.assign({},n),{value:e});o(t)},level:e})):r.a.createElement(ut.a,{text:`+ ${e}`,color:pt.m[e],size:l.ComponentSize.Large,onClick:h,testID:`add-threshold-condition-${e}`})});var Dt=Object(o.c)(({alertBuilder:{thresholds:e}})=>{const t={};return e.forEach(e=>{t[e.level]=e}),{thresholds:t}})(({thresholds:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{level:"CRIT",threshold:e.CRIT}),r.a.createElement(Ot,{level:"WARN",threshold:e.WARN}),r.a.createElement(Ot,{level:"INFO",threshold:e.INFO}),r.a.createElement(Ot,{level:"OK",threshold:e.OK})));const Tt=[{display:"CRIT",hex:l.InfluxColors.Fire,value:"CRIT"},{display:"INFO",hex:l.InfluxColors.Ocean,value:"INFO"},{display:"WARN",hex:l.InfluxColors.Thunder,value:"WARN"},{display:"OK",hex:l.InfluxColors.Viridian,value:"OK"}];var jt=({selectedLevel:e,onClickLevel:t})=>{const n=Tt.find(t=>t.value===e);if(!n)throw new Error("Unknown level type provided to <CheckLevelsDropdown/>");const a=Tt.map(({value:e,display:n,hex:a})=>r.a.createElement(l.Dropdown.Item,{key:e,id:e,value:e,onClick:()=>t(e),testID:`check-levels--dropdown-item ${e}`},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:a}}),r.a.createElement("div",{className:"color-dropdown--name"},n))));return r.a.createElement(l.Dropdown,{button:(e,t)=>r.a.createElement(l.Dropdown.Button,{color:l.ComponentColor.Default,active:e,onClick:t,testID:"check-levels--dropdown--button"},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:n.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},n.value))),menu:e=>r.a.createElement(l.Dropdown.Menu,{theme:l.DropdownMenuTheme.Onyx,onCollapse:e},a),testID:"check-levels--dropdown"})};const It={onSetStaleTime:mt.l,onSetTimeSince:mt.n,onSetLevel:mt.j};var Nt=Object(o.c)(({alertBuilder:{staleTime:e,timeSince:t,level:n}})=>({staleTime:e,timeSince:t,level:n}),It)(({staleTime:e,timeSince:t,level:n,onSetStaleTime:a,onSetTimeSince:o,onSetLevel:i})=>r.a.createElement(l.Panel,{backgroundColor:l.InfluxColors.Castle,testID:"panel"},r.a.createElement(l.PanelBody,{testID:"panel--body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.Small,testID:"component-spacer"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"When values are not reporting"}))),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"for"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(xe.a,{suggestions:pt.b,onSubmit:o,value:t,showDivider:!1})),r.a.createElement(l.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(jt,{selectedLevel:n,onClickLevel:i}))),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(xe.a,{suggestions:pt.b,onSubmit:a,value:e,showDivider:!1})))))));var Rt=Object(o.c)(({alertBuilder:{type:e}})=>({checkType:e}),null)(({checkType:e})=>{let t,n;if("deadman"===e)t="Deadman",n=r.a.createElement(Nt,null);else{if("threshold"!==e)throw new Error("Incorrect check type provided to <CheckConditionsCard/>");t="Thresholds",n=r.a.createElement(Dt,null)}return r.a.createElement(le.a,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},r.a.createElement(le.a.Header,{title:t}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,margin:l.ComponentSize.Medium},n)))}),At=n(22);var _t=Object(o.c)(e=>({endpoints:Object(Pe.a)(e,j.ResourceType.NotificationEndpoints)}))(({rule:e,endpoints:t})=>{const n=t.find(t=>t.id===e.endpointID);return r.a.createElement(l.ResourceCard,{key:`rule-id--${e.id}`,testID:"rule-card"},r.a.createElement(l.ResourceCard.Name,{name:e.name}),r.a.createElement(l.ResourceCard.Description,{description:e.description}),r.a.createElement(l.ResourceCard.Meta,null,r.a.createElement(r.a.Fragment,null,`Checks every: ${e.every}`),r.a.createElement(r.a.Fragment,null,`Sends notifications to: ${n.name}`)))}),Ft=n(247),Mt=n(16);var Lt=Object(o.c)(e=>{const{alertBuilder:{tags:t}}=e,{id:n}=Object(Fe.a)(e),{queryResults:{files:a}}=Object($.d)(e);return{tags:t,orgID:n,queryResults:a}})(({orgID:e,tags:t,queryResults:n})=>{const[{matchingRules:o,status:i},s]=Object(a.useState)({matchingRules:[],status:l.RemoteDataState.NotStarted});let c;return Object(a.useEffect)(()=>{s({matchingRules:o,status:l.RemoteDataState.Loading}),(async()=>{const a=t.filter(e=>e.key&&e.value).map(e=>[e.key,e.value]),r=[];if(n){const e=n.join("\n\n"),t=Object(At.fromFlux)(e).table;Object(At.fromFlux)(e).fluxGroupKeyUnion.filter(e=>"_start"!==e&&"_stop"!==e).forEach(e=>{Object(u.uniq)(t.getColumn(e,"string")).forEach(t=>{r.push([e,t])})})}const o=[...a,...r].map(e=>["tag",`${e[0].trim()}:${e[1].trim()}`]),i=await Object(Mt.getNotificationRules)({query:[["orgID",e],...o]});if(200!==i.status)return void s({matchingRules:[],status:l.RemoteDataState.Error});const c=i.data.notificationRules.map(e=>Object(Ft.h)(e));s({matchingRules:c,status:l.RemoteDataState.Done})})()},[t,n]),c=i===l.RemoteDataState.NotStarted||i===l.RemoteDataState.Loading?r.a.createElement(l.SpinnerContainer,{spinnerComponent:r.a.createElement(l.TechnoSpinner,null),loading:i}):o.length?r.a.createElement(r.a.Fragment,null,o.map(e=>r.a.createElement(_t,{key:e.id,rule:e}))):r.a.createElement(l.EmptyState,{size:l.ComponentSize.Small,className:"alert-builder--card__empty"},r.a.createElement(l.EmptyState.Text,null,"Notification Rules configured to act on tag sets matching this Alert Check will show up here"),r.a.createElement(l.EmptyState.Text,null,"Looks like no notification rules match the tag set defined in this Alert Check")),r.a.createElement(le.a,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},r.a.createElement(le.a.Header,{title:"Matching Notification Rules"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,margin:l.ComponentSize.Medium},c)))}),Pt=n(23);var Bt=()=>r.a.createElement("div",{className:"alert-builder","data-testid":"query-builder"},r.a.createElement(gt,null),r.a.createElement(vt,null),r.a.createElement(Rt,null),Object(Pt.c)("matchingNotificationRules")&&r.a.createElement(Lt,null));const $t={onLoadCustomCheckQueryState:B.e};var zt=Object(o.c)(null,$t)(({onLoadCustomCheckQueryState:e})=>r.a.createElement(l.Button,{text:"Customize Check Query",titleText:"Switch to Script Editor",onClick:()=>{e()},testID:"switch-to-custom-check"}));var Vt=()=>r.a.createElement(l.Button,{titleText:"Learn more about alerting",text:"Help",onClick:()=>{window.open(`https://docs.influxdata.com/influxdb/${C.a}/monitor-alert/checks/create/#configure-the-check`).focus()}});var Ht=()=>r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement("div",{className:"time-machine--editor-title"},"Configure a Check"),r.a.createElement("div",{className:"time-machine-queries--buttons"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small},Object(Pt.c)("customCheckQuery")&&r.a.createElement(zt,null),r.a.createElement(Ke,null),r.a.createElement(Vt,null)))),r.a.createElement("div",{className:"time-machine-queries--body"},r.a.createElement(Bt,null))),qt=n(102),Ut=n(199),Gt=n(191);var Wt=Object(o.c)(e=>{const t=Object($.d)(e),{isViewingRawData:n,view:{properties:a},queryResults:{status:r,errorMessage:o,isInitialFetch:i,files:s}}=t,l=Object(it.c)(e),c=Object($.m)(e),u=Object($.o)(e),d=Object($.p)(e),m=Object($.q)(e),p=Object($.h)(e),h=Object($.l)(e),f=Object($.f)(e),g=Object($.a)(e);return{loading:r,errorMessage:o,isInitialFetch:i,files:s,viewProperties:a,isViewingRawData:n,giraffeResult:c,xColumn:u,yColumn:d,ySeriesColumns:m,fillColumns:p,symbolColumns:h,timeRange:Object($.e)(l,a.queries),annotations:f,cellID:g}})(Object(a.memo)(({loading:e,errorMessage:t,timeRange:n,isInitialFetch:a,isViewingRawData:o,files:i,viewProperties:l,giraffeResult:c,xColumn:u,yColumn:d,ySeriesColumns:m,fillColumns:p,symbolColumns:h,annotations:f,cellID:g})=>{var b;const{type:v}=l;let y=Object.assign(Object.assign({},l),{xColumn:u,[`${"mosaic"===v?"ySeriesColumns":"yColumn"}`]:"mosaic"===v?m:d,fillColumns:p,symbolColumns:h});const x={type:"simple-table",showAll:!0};o&&(y={type:"simple-table",showAll:!0});const w=e===j.RemoteDataState.NotStarted||!l.queries.length,E=s()("time-machine--view",{"time-machine--view__empty":w});if((o||"check"===v&&"number"!==c.table.getColumnType("_value")&&!!c.table.length)&&i&&(null==i?void 0:i.length)){const[n]=i.flatMap(At.fromFlux);return r.a.createElement("div",{className:E},r.a.createElement(S.a,null,r.a.createElement(Ut.b,{loading:e,errorMessage:t,errorFormat:Ut.a.Scroll,hasResults:!!(null===(b=null==n?void 0:n.table)||void 0===b?void 0:b.length),isInitialFetch:a},r.a.createElement(Gt.a,{result:n,properties:x}))))}return r.a.createElement("div",{className:E},r.a.createElement(qt.b,{loading:e,error:t,isInitial:a,properties:y,result:c,timeRange:n,annotations:f,cellID:g}))},(e,t)=>Object(u.isEqual)(e,t)));var Yt=()=>{const{view:e}=Object(o.e)($.d),t=Object(o.e)($.m),n=Object(o.d)(),i=Object(a.useCallback)(t=>{n(Object(B.t)(Object.assign(Object.assign({},e.properties),t)))},[n,e.properties]);return r.a.createElement("div",{className:"view-options--wrap"},r.a.createElement(l.DapperScrollbars,{autoHide:!1,style:{width:"100%",height:"100%"}},r.a.createElement(qt.c,{properties:e.properties,results:t,update:i})))};class Kt extends a.PureComponent{constructor(){super(...arguments),this.state={didClick:!1},this.handleClick=()=>{this.props.onExecuteCheckQuery(),this.setState({didClick:!0})}}componentDidUpdate(e){e.queryStatus===j.RemoteDataState.Loading&&this.props.queryStatus===j.RemoteDataState.Done&&this.setState({didClick:!1})}render(){return r.a.createElement(l.Button,{text:"Execute check query and view statuses",size:l.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:l.ComponentColor.Primary,testID:"time-machine-check-query-run-button"})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props,{didClick:n}=this.state;return t?l.ComponentStatus.Disabled:e===j.RemoteDataState.Loading&&n?l.ComponentStatus.Loading:l.ComponentStatus.Default}}const Zt={onExecuteCheckQuery:O.b};var Xt=Object(o.c)(e=>({submitButtonDisabled:""===Object($.c)(e).text,queryStatus:Object($.d)(e).queryResults.status}),Zt)(Kt);var Qt=()=>r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement(at,null),r.a.createElement("div",{className:"time-machine-queries--buttons"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small},r.a.createElement(Ke,null),r.a.createElement(Xt,null)))),r.a.createElement("div",{className:"time-machine-queries--body"},r.a.createElement(H,null)));t.a=Object(o.c)(e=>{const{activeTab:t,isViewingVisOptions:n}=Object($.d)(e);return{activeTab:t,isViewingVisOptions:n}})(({activeTab:e,isViewingVisOptions:t})=>{const[n,o]=Object(a.useState)([.5]),i=s()("time-machine",{"time-machine--split":t});let c=null;return"alerting"===e?c=r.a.createElement(Ht,null):"queries"===e?c=r.a.createElement(ct,null):"customCheckQuery"===e&&(c=r.a.createElement(Qt,null)),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Yt,null),r.a.createElement("div",{className:i},r.a.createElement(l.DraggableResizer,{handleOrientation:l.Orientation.Horizontal,handlePositions:n,onChangePositions:o},r.a.createElement(l.DraggableResizer.Panel,null,r.a.createElement("div",{className:"time-machine--top"},r.a.createElement(Wt,null))),r.a.createElement(l.DraggableResizer.Panel,null,r.a.createElement(S.a,null,r.a.createElement("div",{className:"time-machine--bottom","data-testid":"time-machine--bottom"},r.a.createElement("div",{className:"time-machine--bottom-contents"},c)))))))})},412:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return m}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),o=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&o.includes("json")?JSON.stringify(n.data):n.data,s=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,s,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let f;return f=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,f)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),o=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t={})=>o("GET","/api/v2private/notebooks",e,t)),s=(e,t={})=>o("POST","/api/v2private/notebooks",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),l=(e,t={})=>o("PATCH",`/api/v2private/notebooks/${e.id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),c=(e,t={})=>o("DELETE",`/api/v2private/notebooks/${e.id}`,e,t),u=(e,t={})=>o("GET","/api/v2private/notebooks/share",e,t),d=(e,t={})=>o("POST","/api/v2private/notebooks/share",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),m=(e,t={})=>o("DELETE",`/api/v2private/notebooks/share/${e.id}`,e,t)},413:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=c(e),i=a[0],s=a[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,s)),u=0,d=s>0?i-4:i;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],i=0,s=n-r;i<s;i+=16383)o.push(u(e,i,i+16383>s?s:i+16383));1===r?(t=e[n-1],o.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return o.join("")};for(var a=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)a[s]=i[s],r[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(a[(o=r)>>18&63]+a[o>>12&63]+a[o>>6&63]+a[63&o]);return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},414:function(e,t){t.read=function(e,t,n,a,r){var o,i,s=8*r-a-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,m=n?-1:1,p=e[t+d];for(d+=m,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=m,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=m,u-=8);if(0===o)o=1-c;else{if(o===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),o-=c}return(p?-1:1)*i*Math.pow(2,o-a)},t.write=function(e,t,n,a,r,o){var i,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,m=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:o-1,h=a?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?m/l:m*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=u?(s=0,i=u):i+d>=1?(s=(t*l-1)*Math.pow(2,r),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),i=0));r>=8;e[n+p]=255&s,p+=h,s/=256,r-=8);for(i=i<<r|s,c+=r;c>0;e[n+p]=255&i,p+=h,i/=256,c-=8);e[n+p-h]|=128*f}},415:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},42:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(72);const r="This cell will display results from the previous cell after selecting Preview.",o={},i="Notebook",s=`Untitled ${i}`,l="Books",c=`${i}s`,u=`https://docs.influxdata.com/influxdb/${a.a}/notebooks/create-notebook/`,d=n(462);d.keys().forEach(e=>{d(e).default(e=>{if(o.hasOwnProperty(e.type))throw new Error(`Pipe of type [${e.type}] has already been registered`);o[e.type]=Object.assign({},e)})})},422:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(15),i=n.n(o),s=n(3),l=n(85);t.a=({onRename:e,onClickOutside:t,name:n,placeholder:o,maxLength:c})=>{const[u,d]=Object(a.useState)(!1),[m,p]=Object(a.useState)(n);Object(a.useEffect)(()=>(p(n),function(){d(!1)}),[n]);const h=n=>{e(m),t&&t(n)},f=()=>{d(!1)},g=e=>{p(e.target.value)},b=t=>{"Enter"===t.key&&(e(m),d(!1)),"Escape"===t.key&&(d(!1),p(n))},v=e=>{e.currentTarget.select()},y=n===o||""===n,x=i()("renamable-page-title",{untitled:y});return u?r.a.createElement(l.a,{onClickOutside:h},r.a.createElement("div",{className:x,"data-testid":"renamable-page-title"},r.a.createElement(s.Input,{maxLength:c,autoFocus:!0,spellCheck:!1,placeholder:o,onBlur:f,onFocus:v,onChange:g,onKeyDown:b,className:"renamable-page-title--input",value:m,testID:"renamable-page-title--input"}))):r.a.createElement("div",{className:x,onClick:()=>{d(!0)}},r.a.createElement(s.Page.Title,{title:m||o}),r.a.createElement(s.Icon,{glyph:s.IconFont.Pencil,className:"renamable-page-title--icon"}))}},423:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));class a{constructor(){this.subscribers=[],this.refresh=(e=!1,t)=>{e&&t&&t(),this.subscribers.forEach(e=>e())}}subscribe(e){this.subscribers=[...this.subscribers,e]}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}poll(e,t){this.clearInterval(),this.intervalID=setInterval(()=>{this.refresh(!0,t)},e.interval)}stopPolling(){this.clearInterval()}clearInterval(){this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null)}}const r=new a},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(45);const r=[{text:a.a},{text:"YYYY-MM-DD hh:mm:ss a ZZ"},{text:"DD/MM/YYYY HH:mm:ss.sss"},{text:"DD/MM/YYYY hh:mm:ss.sss a"},{text:"MM/DD/YYYY HH:mm:ss.sss"},{text:"MM/DD/YYYY hh:mm:ss.sss a"},{text:"YYYY/MM/DD HH:mm:ss"},{text:"YYYY/MM/DD hh:mm:ss a"},{text:"HH:mm"},{text:"hh:mm a"},{text:"HH:mm:ss"},{text:"hh:mm:ss a"},{text:"HH:mm:ss ZZ"},{text:"hh:mm:ss a ZZ"},{text:"HH:mm:ss.sss"},{text:"hh:mm:ss.sss a"},{text:"MMMM D, YYYY HH:mm:ss"},{text:"MMMM D, YYYY hh:mm:ss a"},{text:"dddd, MMMM D, YYYY HH:mm:ss"},{text:"dddd, MMMM D, YYYY hh:mm:ss a"}],o=e=>r.find(t=>t.text===e)?e:a.a},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={},r=n(491);r.keys().forEach(e=>{r(e).default(e=>{a[e.type]=e})})},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a="YYYY-MM-DD HH:mm:ss",r="STRICT_ISO8061_TIME_FORMAT"},456:function(e,t,n){"use strict";var a,r=n(10),o=n(2),i=n.n(o),s=n(15),l=n.n(s),c=n(3);!function(e){e.Option="option",e.Header="header"}(a||(a={}));var u=[{id:"auto-refresh-header",milliseconds:1,label:"Refresh",type:a.Header},{id:"auto-refresh-paused",milliseconds:0,label:"Paused",type:a.Option},{id:"auto-refresh-5s",milliseconds:5e3,label:"5s",type:a.Option},{id:"auto-refresh-10s",milliseconds:1e4,label:"10s",type:a.Option},{id:"auto-refresh-15s",milliseconds:15e3,label:"15s",type:a.Option},{id:"auto-refresh-30s",milliseconds:3e4,label:"30s",type:a.Option},{id:"auto-refresh-60s",milliseconds:6e4,label:"60s",type:a.Option}],d=n(5),m=n(14);let p=class extends o.Component{constructor(e){super(e),this.handleDropdownChange=e=>{this.props.onChoose(e.milliseconds)},this.state={isOpen:!1}}render(){return this.props.showAutoRefresh?i.a.createElement("div",{className:this.className},i.a.createElement(c.Dropdown,{style:{width:`${this.dropdownWidthPixels}px`},button:(e,t)=>i.a.createElement(c.Dropdown.Button,{active:e,onClick:t,status:this.dropdownStatus,icon:this.dropdownIcon,testID:"autorefresh-dropdown--button"},this.selectedOptionLabel),menu:e=>i.a.createElement(c.Dropdown.Menu,{onCollapse:e,style:{width:"84px"}},u.map(e=>e.type===a.Header?i.a.createElement(c.Dropdown.Divider,{key:e.id,id:e.id,text:e.label}):i.a.createElement(c.Dropdown.Item,{key:e.id,id:e.id,testID:e.id,value:e,selected:e.id===this.selectedOptionID,onClick:this.handleDropdownChange},e.label)))}),this.manualRefreshButton):i.a.createElement("div",{className:this.className},this.manualRefreshButton)}get dropdownStatus(){return this.isDisabled?c.ComponentStatus.Disabled:c.ComponentStatus.Default}get isDisabled(){const{selected:e}=this.props;return e.status===d.AutoRefreshStatus.Disabled}get isPaused(){const{selected:e}=this.props;return e.status===d.AutoRefreshStatus.Paused||this.isDisabled}get className(){return l()("autorefresh-dropdown",{paused:this.isPaused})}get dropdownIcon(){return this.isPaused?c.IconFont.Pause:c.IconFont.Refresh}get dropdownWidthPixels(){return this.isPaused?50:84}get selectedOptionID(){const{selected:e}=this.props;return u.find(t=>t.milliseconds===e.interval).id}get selectedOptionLabel(){const{selected:e}=this.props;return u.find(t=>t.milliseconds===e.interval).label}get manualRefreshButton(){const{onManualRefresh:e}=this.props;if(e)return i.a.createElement(c.SquareButton,{icon:c.IconFont.Refresh,onClick:e,className:`autorefresh-dropdown--pause ${this.props.customClass}`,testID:"autorefresh-dropdown-refresh"})}};p.defaultProps={showAutoRefresh:!0,selected:{interval:0,status:"paused"}},p=Object(r.a)([m.a,Object(r.b)("design:paramtypes",[Object])],p);t.a=p},462:function(e,t,n){var a={"./Columns/index.tsx":533,"./Downsample/index.ts":534,"./Markdown/index.ts":531,"./MetricSelector/index.ts":527,"./Missing/index.ts":542,"./Notification/index.ts":529,"./QueryBuilder/index.ts":528,"./RawFluxEditor/index.ts":530,"./Region/index.ts":535,"./RemoteCSV/index.ts":543,"./Schedule/index.ts":536,"./Spotify/index.ts":532,"./Table/index.ts":544,"./ToBucket/index.ts":537,"./Visualization/index.ts":538,"./Youtube/index.ts":545};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=462},463:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-columns {\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, minmax(100px, 1fr));\n  grid-gap: 4px;\n  height: auto;\n  background-color: #0f0e15;\n  padding: 4px;\n}\n\n.flow-columns--column {\n  display: flex;\n  padding: 16px;\n  background: #292933;\n  border-radius: 4px;\n  align-items: center;\n}\n\n.flow-columns--toggle {\n  flex: 0;\n  margin-right: 12px;\n}\n\n.flow-columns--text {\n  font-size: 14px;\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 500;\n}\n\n.flow-columns--input {\n  flex: 1 1;\n  font-size: 14px;\n  font-weight: 500;\n  user-select: none;\n  color: #d4d7dd;\n  height: 30px;\n  position: relative;\n}\n.flow-columns--input input {\n  background-color: transparent;\n  border: 2px solid #292933;\n  color: #d4d7dd;\n  font-size: 14px;\n  font-family: "Rubik", Helvetica, Arial, Tahoma, Verdana, sans-serif;\n  font-weight: 500;\n  transition: color 0.25s ease, background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;\n  outline: none;\n  width: 100%;\n  height: 30px;\n  border-radius: 4px;\n}\n.flow-columns--input input:hover {\n  border-color: #383846;\n}\n.flow-columns--input input:hover, .flow-columns--input input:focus {\n  color: #ffffff;\n}\n.flow-columns--input input:focus {\n  background-color: #202028;\n  border-color: #00a3ff;\n  box-shadow: 0 0 6px 0 #00a3ff;\n}\n.flow-columns--input:hover .flow-panel--title-icon {\n  opacity: 1;\n}\n\n.column-card--content {\n  box-shadow: none;\n  height: 45px;\n}\n\n.column-card--content > div {\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n}\n\n.column-card--name > span {\n  color: lightgray;\n  font-size: 14px;\n}\n\n.column-card--name {\n  flex: 1;\n}\n\n.column-card--vistoggle {\n  flex: 0;\n  margin-right: 12px;\n}',""])},464:function(e,t,n){var a=n(465);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},465:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".downsample-panel {\n  display: flex;\n  margin: 0 -8px;\n  padding-bottom: 16px;\n}\n.downsample-panel .duration-input {\n  width: 200px;\n  margin-bottom: 8px;\n}\n.downsample-panel .downsample-panel--left {\n  padding: 0 8px;\n}\n.downsample-panel .downsample-panel--right {\n  padding: 0 8px;\n}",""])},467:function(e,t,n){var a=n(468);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},468:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel--markdown {\n  font-size: 14px;\n  line-height: 16px;\n  padding: 8px;\n  border-radius: 3px;\n  transition: border-color 0.25s ease;\n}\n\n.flow-panel--body .markdown-editor--monaco {\n  position: relative;\n}\n.flow-panel--body .markdown-editor--monaco .react-monaco-editor-container {\n  min-height: 100px;\n}\n\n.flow-panel--markdown__placeholder.markdown-format {\n  color: #676978;\n  font-style: italic;\n}",""])},469:function(e,t,n){var a=n(470);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(7);const a=e=>e.annotations.enableAnnotationsMode},470:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.data-source {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\n\n.data-source--controls {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n  flex-wrap: wrap;\n  flex: 0 0 0;\n}\n\n.data-source--search {\n  flex: 0 0 0;\n}\n\n.data-source--bucket {\n  flex: 1 0 0;\n  order: 1;\n}\n\n.data-source--aggregate {\n  order: 2;\n}\n\n.data-source--filters {\n  order: 3;\n  flex: 1 0 100%;\n  margin-top: 4px;\n  display: flex;\n  align-items: center;\n}\n\n.data-source--filters-label {\n  height: 30px;\n  line-height: 30px;\n  font-weight: 500;\n  margin: 0;\n  margin-right: 8px;\n}\n\n.data-source--filter {\n  margin: 2px;\n}\n.data-source--filter > .cf-label--name {\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.data-source--filters-list {\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 0;\n}\n\n.data-source--block {\n  display: block;\n  flex-direction: column;\n  align-items: stretch;\n  width: 100%;\n}\n\n.data-source--block-results {\n  display: flex;\n  align-items: stretch;\n  flex: 1 1 0;\n}\n.data-source--block-results .cf-dapper-scrollbars {\n  height: 100% !important;\n}\n\n.data-source--block-title {\n  font-size: 14px;\n  user-select: none;\n  font-weight: 500;\n  padding-bottom: 8px;\n  margin-bottom: 8px;\n  color: #bec2cc;\n  border-bottom: 2px solid #292933;\n  text-transform: capitalize;\n}\n\n.data-source--list__empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  color: #676978;\n  height: 304px;\n}\n\n.data-source--list__no-results {\n  color: #676978;\n  justify-content: center;\n  background-color: #0f0e15;\n  border-radius: 4px;\n}\n.data-source--list__no-results > * {\n  margin: 4px;\n}\n\n/*\n  Selectors\n*/\n.selectors--item-value {\n  transition: color 0.25s ease;\n  font-family: "IBMPlexMono", monospace;\n}\n\n.selectors--item-name {\n  margin: 0 8px;\n}\n\n.selectors--item-type {\n  font-size: 0.75em;\n  text-transform: uppercase;\n  opacity: 0.666;\n}\n\n.selectors--item__measurement {\n  color: #ff69b4;\n}\n.cf-list-item:hover .selectors--item__measurement {\n  color: #ffb6c1;\n}\n\n.selectors--item__field {\n  color: #6495ed;\n}\n.cf-list-item:hover .selectors--item__field {\n  color: #87cefa;\n}\n\n.selectors--item__tag {\n  color: #32cd32;\n}\n.cf-list-item:hover .selectors--item__tag {\n  color: #7cfc00;\n}\n\n.data-source--agg-info {\n  font-size: 13px;\n  padding: 8px;\n  user-select: none;\n  color: #bec2cc;\n  cursor: default;\n}\n.data-source--agg-info > p {\n  margin: 0;\n}\n.data-source--agg-info .cf-icon {\n  display: inline-block;\n  margin-right: 4px;\n  line-height: 1em;\n}\n\n@media screen and (min-width: 1200px) {\n  .data-source--controls {\n    flex-wrap: nowrap;\n  }\n\n  .data-source--bucket {\n    flex: initial;\n  }\n\n  .data-source--filters-label {\n    margin-left: 8px;\n  }\n\n  .data-source--aggregate {\n    order: 3;\n  }\n\n  .data-source--filters {\n    order: 2;\n    flex: 1 0 100px;\n    margin-top: 0;\n    margin-right: 4px;\n  }\n}',""])},471:function(e,t,n){var a=n(472);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},472:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-error {\n  margin-top: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  width: 100%;\n  border: 2px solid #202028;\n  background-color: #202028;\n  border-radius: 4px 0 0 4px;\n}\n\n.flow-error--header {\n  color: #d4d7dd;\n  width: 47px;\n  flex: 0 0 47px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 8px 0;\n}\n\n.flow-error--vis-toggle {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  font-size: 1.5em;\n  transition: color 0.25s ease;\n  width: 30px;\n  height: 30px;\n  position: relative;\n  color: #ff8564;\n}\n.flow-error--vis-toggle:before {\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.flow-error--body {\n  position: relative;\n  flex: 1 0 0;\n  padding: 8px 0;\n}\n.flow-error--body h1 {\n  color: #d4d7dd;\n  user-select: none;\n  font-weight: 500;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n}\n.flow-error--body p {\n  margin: 0;\n}",""])},473:function(e,t,n){var a=n(474);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},474:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.threshold-trash-icon--block {\n  margin-left: 8px;\n}\n.threshold-trash-icon--block :hover {\n  cursor: pointer;\n}\n\n.threshold-add-icon--block:hover {\n  cursor: pointer;\n}",""])},475:function(e,t,n){var a={"./HTTP/index.ts":539,"./PagerDuty/index.ts":540,"./Slack/index.ts":541};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=475},476:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flows-endpoints--dropdown {\n  background: #181820;\n  height: 100%;\n}\n\n.slack-endpoint-details--flex {\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n  justify-content: space-between;\n  height: 100%;\n}\n.slack-endpoint-details--flex .cf-color-picker--swatches {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--form > button {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--form .cf-status-indicator {\n  display: none;\n}\n.slack-endpoint-details--flex .cf-color-picker--input {\n  margin-right: 0px;\n}\n.slack-endpoint-details--flex .cf-color-picker--selected {\n  top: 19px;\n}\n.slack-endpoint-details--flex .cf-color-picker--form .cf-input-field {\n  height: 38px;\n  font-size: 14px;\n}\n\n.form-element--authorization {\n  width: 100%;\n}\n.form-element--authorization .cf-select-group {\n  display: flex;\n  justify-content: space-around;\n  width: 50%;\n}\n\n.endpoint-details--element {\n  height: 100%;\n}\n.endpoint-details--element .cf-form--label {\n  margin-bottom: 8px;\n}\n\n.http-endpoint--flex {\n  padding: 8px;\n}\n\n.endpoint-dropdown--element {\n  flex: 1;\n  max-width: 14%;\n}",""])},477:function(e,t,n){var a=n(478);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},478:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel--body .query-builder {\n  border: 2px solid #0f0e15;\n  background-color: #0f0e15;\n  border-radius: 4px;\n  padding: 4px;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}",""])},479:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-sidebar .flux-toolbar {\n  flex-direction: column;\n}\n\n.flow-nonsidebar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 300px;\n}\n.flow-nonsidebar .flux-toolbar {\n  flex-direction: column;\n  background-color: #292933;\n}\n\n.flow-panel--body .flux-editor--monaco {\n  height: 100%;\n  position: static;\n}",""])},480:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel-region--header h5 {\n  margin-bottom: 0;\n}\n.flow-panel-region--header p {\n  margin-top: 0;\n  color: #999dab;\n}",""])},481:function(e,t,n){var a=n(482);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},482:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.remote-csv-card {\n  display: flex;\n}\n\n.remote-csv--dropdown {\n  flex: 0 0 300px;\n  margin-right: 8px;\n}\n\n.remote-csv-url-input {\n  flex: 4;\n  width: 100%;\n}",""])},483:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-panel-schedule--header h5 {\n  margin-bottom: 0;\n}\n.flow-panel-schedule--header p {\n  margin-top: 0;\n  color: #999dab;\n}\n\n.flow-update-task--export-warning {\n  margin: 8px 0;\n}\n.flow-update-task--export-warning > .cf-panel--body {\n  padding: 8px 16px;\n}",""])},484:function(e,t,n){var a=n(485);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},485:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flow-spotify {\n  text-align: center;\n}\n\n.flow-spotify--editor {\n  width: 600px;\n  margin: 0 auto;\n  text-align: right;\n}",""])},487:function(e,t,n){var a=n(488);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},488:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.flow-visualization {\n  background-color: #202028;\n  border-radius: 4px;\n  display: flex;\n  align-items: stretch;\n  height: 100%;\n}\n\n.flow-visualization--view {\n  width: 100%;\n  border-radius: 3px;\n  background-color: #0f0e15;\n  padding: 12px;\n}\n.flow-visualization--view .empty-graph-error {\n  height: 200px;\n}\n\n.flow-sidebar--submenu .view-options {\n  padding: 0;\n  padding-right: 15px;\n}\n\n.flow-visualization--export-warning {\n  margin: 8px 0;\n}\n.flow-visualization--export-warning > .cf-panel--body {\n  padding: 8px 16px;\n}",""])},489:function(e,t,n){var a=n(490);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var a=n(198),r=n(35),o=n(8),i=n(11),s=n(12),l=n(39),c=n(22);const u=(e,t,n="xyplot")=>async r=>{const{summary:c,startTime:u,endTime:d,type:m}=r,p="point"===m?u:d;try{await e(Object(a.d)([{summary:c,stream:t,startTime:new Date(u).getTime(),endTime:new Date(p).getTime()}])),Object(o.a)(`${n}.annotations.create_${m}_annotation.create`)}catch(t){e(Object(i.c)(Object(s.Y)(Object(l.b)(t)))),Object(o.a)(`${n}.annotations.create_${m}_annotation.failure`)}},d=(e,t,n="xyplot")=>{const a=u(e,t,n);return i=>{var s;Object(o.a)(`${n}.annotations.create_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:null!==(s=null==i?void 0:i.clampedValueX)&&void 0!==s?s:i.valueX,eventPrefix:n,cellID:t},()=>{Object(r.b)()}))}},m=(e,t)=>(e.startTime===e.endTime?1:0)-(t.startTime===t.endTime?1:0),p=(e,t,n,a,i,s,l,u="xyplot")=>{var d;const p=(i&&null!==(d=i[e])&&void 0!==d?d:[]).sort(m).map(e=>Object.assign(Object.assign({},e),{color:c.InfluxColors.Honeydew})),h=((e,t,n,a="xyplot")=>i=>{const s=n[e].find(e=>e.id===i);s&&(Object(o.a)(`${a}.annotations.edit_annotation.show_overlay`),t(Object(r.d)("edit-annotation",{clickedAnnotation:Object.assign(Object.assign({},s),{stream:e,eventPrefix:a}),cellID:e},()=>{Object(r.b)()})))})(e,l,i,u);if(s&&p.length){return{type:"annotation",x:t,y:n,fill:a,handleAnnotationClick:h,annotations:p.map(e=>({id:e.id,title:e.summary,description:"",color:e.color,startValue:new Date(e.startTime).getTime(),stopValue:new Date(e.endTime).getTime(),dimension:"x",pin:"start"}))}}return null},h=(e,t,n,a,i,s,l,c,m="xyplot")=>{t&&n&&(e.interactionHandlers={singleShiftClick:d(c,n,m)},e.interactionHandlers.onXBrush=((e,t,n="xyplot")=>{const a=u(e,t,n);return(i,s)=>{Object(o.a)(`${n}.annotations.create_range_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:i,endTime:s,range:!0,eventPrefix:n,cellID:t},()=>{Object(r.b)()}))}})(c,n,m));const h=p(n,a,i,s,l,t,c,m);h&&e.layers.push(h)},f=e=>Object(i.c)(Object(s.t)(e))},490:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".flow-youtube {\n  text-align: center;\n  height: 100%;\n}\n\n.flow-youtube--editor {\n  width: 600px;\n  margin: 0 auto;\n  padding-bottom: 40px;\n  text-align: right;\n}",""])},491:function(e,t,n){var a={"./blank.ts":492,"./bucket.ts":493,"./dashboard.ts":494,"./default.ts":495,"./downsample.ts":496,"./flow.ts":497,"./flux.ts":498,"./intro.ts":499,"./notification.ts":500,"./share.ts":501,"./task.ts":502};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=491},492:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"blank",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[]}})})},493:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),o=n(42);t.default=e=>e({type:"bucket",init:e=>Promise.resolve({name:`Explore the ${e} bucket`,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign(Object.assign({type:"queryBuilder",title:"Build a Query",visible:!0},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{buckets:[e]}),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial)))]}})})},494:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"dashboard",init:e=>fetch(`/api/v2/dashboards/${e}`).then(e=>e.json()).then(e=>Promise.all(e.cells.map(e=>fetch(e.links.view).then(e=>e.json()).then(t=>{if("markdown"===t.properties.type)return[{title:"Note",visible:!0,type:"markdown",text:t.properties.note,mode:"preview",layout:{x:e.x,y:e.y,w:e.w,h:e.h}}];const n=t.properties.queries;return delete t.properties.queries,[{activeQuery:0,queries:n,type:"rawFluxEditor",title:`${t.name} - Query`,visible:!0},{title:t.name,visible:!0,type:"visualization",properties:t.properties,layout:{x:e.x,y:e.y,w:e.w,h:e.h}}]}))).then(t=>({name:e.name,spec:{readOnly:!0,range:a.b,refresh:r.b,pipes:t.reduce((e,t)=>e.concat(t),[])}})))})},495:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),o=n(42);t.default=e=>e({type:"default",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial)))]}})})},496:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"downsample",init:()=>Promise.resolve({name:"Example: Demo Data Notebook",spec:{readOnly:!1,range:{duration:"5m",label:"Past 5m",lower:"now() - 5m",seconds:300,type:"selectable-duration",upper:null,windowPeriod:1e4},refresh:{duration:null,inactivityTimeout:0,infiniteDuration:!1,interval:0,status:"paused"},pipes:[{mode:"preview",text:"The goal of this example Notebook is to get you working with data in the InfluxDB Cloud developer platform. \n\n#### 5 Ways to Use Notebooks in this Example:\n1. Select `input`\n2. Transform data with a `downsample` example\n3. Write data to a new Bucket once\n4. Output the workflow to repeat on as schedule as a `Task`",type:"markdown",title:"👋  Hello world",visible:!0},{mode:"preview",text:"In the Input/Metric Selector panel, select the demo data bucket `Website Monitoring Bucket` \nThen select `response_time`\n\n// No Website Monitoring Bucket? You can add this demo data for free with one click by going to Load Data in main navigation > Buckets Tab > Clicking Add Demo Data Button. [Learn More](https://docs.influxdata.com/influxdb/cloud/write-data/#add-a-demo-data-bucket)",type:"markdown",title:"Step 1  - Search Inputs",visible:!0},{aggregateFunction:{name:"mean"},bucket:{name:"Website Monitoring Bucket"},field:"response_time",measurement:"",tags:{},type:"metricSelector",title:"Select Input Metric",visible:!0},{functions:[{name:"mean"}],panelHeight:200,panelVisibility:"visible",period:"10s",properties:{axes:{x:{base:"10",bounds:["",""],label:"",prefix:"",scale:"linear",suffix:""},y:{base:"10",bounds:["",""],label:"",prefix:"",scale:"linear",suffix:""}},colors:[{hex:"#31C0F6",id:"d001b766-bf5c-4ae3-a867-9a3774849cc1",name:"Nineteen Eighty Four",type:"scale",value:0},{hex:"#A500A5",id:"547f5c28-4e2a-4c06-af49-a02e6fd11c5f",name:"Nineteen Eighty Four",type:"scale",value:0},{hex:"#FF7E27",id:"3c0dadaf-f8aa-45a4-ba1a-3597b685b76f",name:"Nineteen Eighty Four",type:"scale",value:0}],generateXAxisTicks:[],generateYAxisTicks:[],geom:"line",hoverDimension:"auto",legendOpacity:1,legendOrientationThreshold:1e8,note:"",position:"overlaid",queries:[{builderConfig:{aggregateWindow:{fillValues:!1,period:"auto"},buckets:[],functions:[{name:"mean"}],tags:[{aggregateFunctionType:"filter",key:"_measurement",values:[]}]},editMode:"builder",name:"",text:""}],shape:"chronograf-v2",showNoteWhenEmpty:!1,staticLegend:{heightRatio:.2,hide:!0,widthRatio:1},type:"xy",xColumn:null,xTickStart:null,xTickStep:null,xTotalTicks:null,yColumn:null,yTickStart:null,yTickStep:null,yTotalTicks:null},type:"visualization",title:"Visualize response_time",visible:!0},{mode:"preview",text:"One of the most common use cases for InfluxDB is downsampling data to reduce the overall disk usage as data collects over time.\n\nThis is done by aggregating data within windows of time, then storing the aggregate value in a new bucket.",type:"markdown",title:"Step 2 - Let's Downsample",visible:!0},{activeQuery:0,queries:[{builderConfig:{buckets:[],functions:[],tags:[]},editMode:"advanced",text:"// __Previous_Result__ uses data from all the panels above it as an input to the Flux function\n__PREVIOUS_RESULT__\n\n  // This Flux function windows and aggregates the data in to 15m averages\n|> aggregateWindow(fn: mean, every: 15m)"}],type:"rawFluxEditor",title:"Downsample with Flux",visible:!0},{mode:"preview",text:"You might want to keep your downsampled data separate from your raw data with a longer retention policy.\n\nSelect a separate bucket or create a new one from the dropdown in the next output cell.\n\nThis generates:\n\n`|> to(bucket: 'YOUR NEW BUCKET')`\n\nBonus: You can switch the notebook mode from Preview to Run to write this data to the new bucket manually.\n",type:"markdown",title:"Step 3 - Select Output",visible:!0},{type:"toBucket",bucket:{name:"_tasks"},title:"Output to New Bucket",visible:!0},{mode:"preview",text:"Run all the steps in this notebook continuously by clicking Export as Task in your Output cell above\n\nThe Flux code generated by this entire notebook looks like this:\n```\noption v = {\n  timeRangeStart: -15m,\n  timeRangeStop: now(),\n  windowPeriod: 5m\n}\n\noption task = { \n  name: 'Downsample Task',\n  every: 15m,\n  offset: 0s\n}\n\nfrom(bucket: 'Website Monitoring Bucket') \n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop) \n  |> filter(fn: (r) => r['_field'] == 'response_time')\n\n  \n\n  |> aggregateWindow(fn: mean, every: 15m) \n  |> to(bucket: 'Downsampled Website Monitoring')\n  ```\n\n[Learn More about Tasks](https://docs.influxdata.com/influxdb/cloud/process-data/get-started/)",type:"markdown",title:"Step 4 - Repeat as a Task",visible:!0},{mode:"preview",text:"Invite your team to start collaborating on your data with notebooks 🤝\n\nAdd your team now by going to the /users page\n\nRepeat after me: The team that builds together, stays together\n",type:"markdown",title:"🎉   That's it!",visible:!0}]}})})},497:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"id",init:e=>fetch(`/api/v2private/notebooks/${e}`).then(e=>e.json())})},498:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"flux",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"}]}})})},499:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6);t.default=e=>e({type:"intro",init:()=>Promise.resolve({name:"Welcome to Notebooks",spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{title:"Welcome",visible:!0,type:"youtube",uri:"Rs16uhxK0h8"}]}})})},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(2),r=n(104),o=n(24),i=n(26);const s=(e=[],t)=>{const n=Object(o.g)(e);if(null===t)return n;if(n&&n.length>=2){const e=Object(i.k)(t),a=Object(i.g)(t);return[Math.min(e,n[0]),Math.max(a,n[1])]}return n},l=(e,t,n=null)=>{const o=Object(a.useMemo)(()=>e||s(t,n),[e,t]),[i,l]=Object(r.a)(o);return[i,l,()=>l(o)]},c=e=>"number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e),u=(e,t,n=null)=>{const l=Object(a.useMemo)(()=>!Array.isArray(e)||e.every(e=>null===e)?s(t,n):e.includes(null)?((e=[],t,n)=>{const a=Object(o.g)(e);if(Array.isArray(a)&&a.length>=2){const e=Object(i.k)(t),r=Object(i.g)(t);return[c(n[0])?n[0]:Math.min(e,a[0]),c(n[1])?n[1]:Math.max(r,a[1])]}return a})(t,n,e):e,[e,t]),[u,d]=Object(r.a)(l);return[u,d,()=>d(l)]}},500:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),o=n(42);t.default=e=>e({type:"notification",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial))),Object.assign({type:"notification",visible:!0,title:"New Alert"},JSON.parse(JSON.stringify(o.c.notification.initial)))]}})})},501:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"share",init:e=>fetch(`/api/share/${e}`).then(e=>e.json()).then(e=>(delete e.id,e.spec.pipes.forEach(e=>delete e.id),e))})},502:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(6),o=n(79),i=n(115);t.default=e=>e({type:"task",init:e=>e?fetch(`/api/v2/tasks/${e}`).then(e=>e.json()).then(e=>{const t=Object(o.parse)(e.flux),n=Object(i.d)(t,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reverse().reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});return{name:e.name,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:Object(o.format_from_js_file)(t),editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule",visible:!0,interval:n.every,offset:n.offset}]}}}):Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:"",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule",visible:!0}]}})})},503:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>void 0===e?null:e},504:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(508),r=n(200),o=n(147),i=n(146),s=n(505),l=n(506),c=n(507),u=n(510),d=n(263),m=n(90),p=n(509);const h=[];h[0]=(e,t,n,a,r)=>{o.n(e,0);const i=s.b(t,e,n.doc,n);a&&i===s.a&&!n.synced&&(n.synced=!0)},h[3]=(e,t,n,a,r)=>{o.n(e,1),o.o(e,c.c(n.awareness,Array.from(n.awareness.getStates().keys())))},h[1]=(e,t,n,a,r)=>{c.b(n.awareness,i.l(t),n)},h[2]=(e,t,n,a,r)=>{l.a(t,n.doc,f)};const f=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),g=(e,t,n)=>{const a=i.e(t),r=o.e(),s=i.k(a),l=e.messageHandlers[s];return l?l(r,a,e,n,s):console.error("Unable to compute message"),r},b=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=r.a();const a=g(e,new Uint8Array(n.data),!0);o.f(a)>1&&t.send(o.g(a))},t.onclose=()=>{e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,c.d(e.awareness,Array.from(e.awareness.getStates().keys()).filter(t=>t!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(b,m.g(1200*m.e(e.wsUnsuccessfulReconnects+1),2500),e)},t.onopen=()=>{e.wsLastMessageReceived=r.a(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=o.e();if(o.n(n,0),s.c(n,e.doc),t.send(o.g(n)),null!==e.awareness.getLocalState()){const n=o.e();o.n(n,1),o.o(n,c.c(e.awareness,[e.doc.clientID])),t.send(o.g(n))}},e.emit("status",[{status:"connecting"}])}},v=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux(()=>{a.a(e.bcChannel,t)})};class y extends d.a{constructor(t,n,i,{connect:l=!0,awareness:d=new c.a(i),params:m={},WebSocketPolyfill:f=WebSocket,resyncInterval:b=-1}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);const y=p.a(m);this.bcChannel=t+"/"+n,this.url=t+"/"+n+(0===y.length?"":"?"+y),this.roomname=n,this.doc=i,this._WS=f,this.awareness=d,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=h.slice(),this.mux=u.a(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=l,this._resyncInterval=0,b>0&&(this._resyncInterval=setInterval(()=>{if(this.ws){const e=o.e();o.n(e,0),s.c(e,i),this.ws.send(o.g(e))}},b)),this._bcSubscriber=e=>{this.mux(()=>{const t=g(this,new Uint8Array(e),!1);o.f(t)>1&&a.a(this.bcChannel,o.g(t))})},this._updateHandler=(e,t)=>{if(t!==this){const t=o.e();o.n(t,0),s.e(t,e),v(this,o.g(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},a)=>{const r=e.concat(t).concat(n),i=o.e();o.n(i,1),o.o(i,c.c(d,r)),v(this,o.g(i))},this._beforeUnloadHandler=()=>{c.d(this.awareness,[i.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.on("exit",()=>this._beforeUnloadHandler),d.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<r.a()-this.wsLastMessageReceived&&this.ws.close()},3e3),l&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.off("exit",()=>this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(a.b(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux(()=>{const e=o.e();o.n(e,0),s.c(e,this.doc),a.a(this.bcChannel,o.g(e));const t=o.e();o.n(t,0),s.d(t,this.doc),a.a(this.bcChannel,o.g(t));const n=o.e();o.n(n,3),a.a(this.bcChannel,o.g(n));const r=o.e();o.n(r,1),o.o(r,c.c(this.awareness,[this.doc.clientID])),a.a(this.bcChannel,o.g(r))})}disconnectBc(){const e=o.e();o.n(e,1),o.o(e,c.c(this.awareness,[this.doc.clientID],new Map)),v(this,o.g(e)),this.bcconnected&&(a.c(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(b(this),this.connectBc())}}}).call(this,n(120))},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(147),r=n(146),o=n(173);const i=1,s=(e,t)=>{a.n(e,0);const n=o.d(t);a.o(e,n)},l=(e,t,n)=>{a.n(e,i),a.o(e,o.c(t,n))},c=(e,t,n)=>{try{o.b(t,r.l(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},u=(e,t)=>{a.n(e,2),a.o(e,t)},d=c,m=(e,t,n,a)=>{const o=r.k(e);switch(o){case 0:((e,t,n)=>{l(t,n,r.l(e))})(e,t,n);break;case i:c(e,n,a);break;case 2:d(e,n,a);break;default:throw new Error("Unknown message type")}return o}},506:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(147);var a=n(146);const r=(e,t,n)=>{switch(a.k(e)){case 0:n(t,a.j(e))}}},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(147),r=n(146),o=n(200),i=n(90),s=n(263),l=n(196);class c extends s.a{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=o.a();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach((n,a)=>{a!==this.clientID&&3e4<=e-n.lastUpdated&&this.states.has(a)&&t.push(a)}),t.length>0&&u(this,t,"timeout")},i.c(3e3)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),a=void 0===n?0:n.clock+1,r=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:a,lastUpdated:o.a()});const i=[],s=[],c=[],u=[];null===e?u.push(t):null==r?null!=e&&i.push(t):(s.push(t),l.b(r,e)||c.push(t)),(i.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:i,updated:c,removed:u},"local"]),this.emit("update",[{added:i,updated:s,removed:u},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const u=(e,t,n)=>{const a=[];for(let n=0;n<t.length;n++){const r=t[n];if(e.states.has(r)){if(e.states.delete(r),r===e.clientID){const t=e.meta.get(r);e.meta.set(r,{clock:t.clock+1,lastUpdated:o.a()})}a.push(r)}}a.length>0&&(e.emit("change",[{added:[],updated:[],removed:a},n]),e.emit("update",[{added:[],updated:[],removed:a},n]))},d=(e,t,n=e.states)=>{const r=t.length,o=a.e();a.n(o,r);for(let i=0;i<r;i++){const r=t[i],s=n.get(r)||null,l=e.meta.get(r).clock;a.n(o,r),a.n(o,l),a.m(o,JSON.stringify(s))}return a.g(o)},m=(e,t,n)=>{const a=r.e(t),i=o.a(),s=[],c=[],u=[],d=[],m=r.k(a);for(let t=0;t<m;t++){const t=r.k(a);let n=r.k(a);const o=JSON.parse(r.j(a)),m=e.meta.get(t),p=e.states.get(t),h=void 0===m?0:m.clock;(h<n||h===n&&null===o&&e.states.has(t))&&(null===o?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,o),e.meta.set(t,{clock:n,lastUpdated:i}),void 0===m&&null!==o?s.push(t):void 0!==m&&null===o?d.push(t):null!==o&&(l.b(o,p)||u.push(t),c.push(t)))}(s.length>0||u.length>0||d.length>0)&&e.emit("change",[{added:s,updated:u,removed:d},n]),(s.length>0||c.length>0||d.length>0)&&e.emit("update",[{added:s,updated:c,removed:d},n])}},508:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(145),r=n(194),o=n(352);const i=new Map;const s="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,o.a(t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:r.d(t.newValue||"")}))}postMessage(e){o.b.setItem(this.room,r.e(r.b(e)))}}:BroadcastChannel,l=e=>a.e(i,e,()=>{const t=new Set,n=new s(e);return n.onmessage=e=>t.forEach(t=>t(e.data)),{bc:n,subs:t}}),c=(e,t)=>l(e).subs.add(t),u=(e,t)=>l(e).subs.delete(t),d=(e,t)=>{const n=l(e);n.bc.postMessage(t),n.subs.forEach(e=>e(t))}},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(265);const r=e=>a.d(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&")},51:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(15),s=n.n(i),l=n(155),c=n(3),u=n(75),d=n(30);t.a=({size:e=c.ComponentSize.Small,className:t,buttonText:n="Upgrade Now",metric:a})=>{const i=Object(o.e)(d.c),m=s()("upgrade-payg--button",{[`${t}`]:t}),p=Object(l.f)();return r.a.createElement(u.a,null,i&&r.a.createElement(c.Button,{icon:c.IconFont.CrownSolid,className:m,color:c.ComponentColor.Success,size:e,shape:c.ButtonShape.Default,onClick:()=>{a&&a(),p.push("/checkout")},text:n,testID:"cloud-upgrade--button"}))}},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}}},512:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(162);const r=[a.c,a.d,a.e],o=(e,t,n)=>{if((t||"").match(/^\s*$/))return{error:"Variable name cannot be empty"};if(!t.match(/^[A-Za-z_]+\w*$/))return{error:"Variable name must start with a letter or underscore, and contain only numbers, letters, and underscores."};const a=t.toLocaleLowerCase(),o=r.find(e=>e.toLocaleLowerCase()===a);if(o)return{error:(i=o,`Variable name is reserved: ${i}`)};var i;return(null==e?void 0:e.find(e=>n?e.id!==n&&e.name.toLocaleLowerCase()===a:e.name.toLocaleLowerCase()===a))?{error:"Variable name must be unique"}:{error:null}}},513:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),r=n.n(a),o=n(3),i=n(618),s=n(138),l=n(101);class c extends a.PureComponent{constructor(){super(...arguments),this.doNothing=()=>{},this.handleExport=()=>{var e,t,n;const{resource:a,resourceName:r,onDismissOverlay:o}=this.props,i=(null===(n=null===(t=null===(e=null==a?void 0:a.content)||void 0===e?void 0:e.data)||void 0===t?void 0:t.attributes)||void 0===n?void 0:n.name)||r;Object(l.b)(JSON.stringify(a,null,1),i,".json"),o()}}render(){const{isVisible:e,resourceName:t,onDismissOverlay:n,status:a}=this.props;return r.a.createElement(o.Overlay,{visible:e},r.a.createElement(o.Overlay.Container,{maxWidth:800},r.a.createElement(o.Form,{onSubmit:this.handleExport},r.a.createElement(o.Overlay.Header,{title:`Export ${t}`,onDismiss:n}),r.a.createElement(o.Overlay.Body,null,r.a.createElement(o.SpinnerContainer,{loading:a,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)},this.overlayBody)),r.a.createElement(o.Overlay.Footer,null,this.downloadButton,this.copyButton))))}get overlayBody(){return r.a.createElement("div",{className:"export-overlay--text-area","data-testid":"export-overlay--text-area"},r.a.createElement(i.Controlled,{autoFocus:!1,autoCursor:!0,value:this.resourceText,options:{tabIndex:1,mode:"json",readonly:!0,lineNumbers:!0,autoRefresh:!0,theme:"time-machine",completeSingle:!1},onBeforeChange:this.doNothing,onTouchStart:this.doNothing}))}get resourceText(){return JSON.stringify(this.props.resource,null,2)}get copyButton(){return r.a.createElement(s.a,{text:this.resourceText,onCopy:this.props.onCopy,size:o.ComponentSize.Small})}get downloadButton(){return r.a.createElement(o.Button,{text:"Download JSON",onClick:this.handleExport,color:o.ComponentColor.Primary})}}c.defaultProps={isVisible:!0}},527:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(143),i=n(76),s=n(21),l=n(65),c=n(156),u=n(5);const d={loading:u.RemoteDataState.NotStarted,measurements:[],fields:[],tags:[],searchTerm:"",setSearchTerm:e=>{}},m=r.a.createContext(d),p=r.a.memo(({children:e})=>{var t,n,o,d;const{data:p}=Object(a.useContext)(s.a),{flow:h}=Object(a.useContext)(l.a),{query:f,getPanelQueries:g}=Object(a.useContext)(i.a),[b,v]=Object(a.useState)(""),[y,x]=Object(a.useState)({}),[w,E]=Object(a.useState)(u.RemoteDataState.NotStarted),S=Object(c.d)(null==h?void 0:h.range);Object(a.useEffect)(()=>{var e,t;if(!(null==p?void 0:p.bucket))return;E(u.RemoteDataState.Loading);const n=null!==(t=null===(e=g(p.id))||void 0===e?void 0:e.scope)&&void 0!==t?t:{},a=`from(bucket: "${p.bucket.name}")\n|> range(${S})\n|> first()\n|> drop(columns: ["_value"])\n|> group()`;f(a,n).then(e=>{const t=(e=>{var t,n;let a,r;const o=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const i=e.table,s=i.length,l=null===(t=i.columns._measurement)||void 0===t?void 0:t.data,c=null===(n=i.columns._field)||void 0===n?void 0:n.data,u=i.columnKeys.filter(e=>o.reduce((t,n)=>t&&!n.test(e),!0)),d=u.length,m={};for(a=0;a<s;a++)for(m.hasOwnProperty(l[a])||(m[l[a]]={fields:new Set,tags:{}}),m[l[a]].fields.add(c[a]),r=0;r<d;r++)i.columns[u[r]].data[a]&&(m[l[a]].tags.hasOwnProperty(u[r])||(m[l[a]].tags[u[r]]=new Set),m[l[a]].tags[u[r]].add(i.columns[u[r]].data[a]));return Object.entries(m).forEach(([e,t])=>{m[e].fields=Array.from(t.fields)}),m})(e.parsed);x(t),E(u.RemoteDataState.Done)}).catch(e=>{console.error("error: ",e),E(u.RemoteDataState.Error),x({})})},[null===(t=null==p?void 0:p.bucket)||void 0===t?void 0:t.name,S]);const C=Object(a.useMemo)(()=>((e,t,n)=>{const{measurements:a,fields:r,tags:o}=Object.entries(e||{}).map(([e,a])=>({measurement:e,fields:a.fields.filter(e=>!!t.field&&e===t.field||!t.field&&e.toLowerCase().includes(n.toLowerCase())),tags:Object.entries(a.tags).filter(([e,t])=>!n||Array.from(t).some(t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase()))).map(([e,t])=>n?[e,Array.from(t).filter(t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase()))]:[e,t])})).filter(e=>t.measurement?e.measurement===t.measurement:t.field?e.fields.length:!n||(`measurement = ${e.measurement.toLowerCase()}`.includes(n.toLowerCase())||e.fields.length||e.tags.length)).reduce((e,t)=>(`measurement = ${t.measurement.toLowerCase()}`.includes(n.toLowerCase())&&(e.measurements[t.measurement]=!0),t.fields.reduce((e,t)=>(e[t]=!0,e),e.fields),t.tags.reduce((e,[t,n])=>(e[""+t]||(e[""+t]=new Set),Array.from(n).forEach(n=>e[""+t].add(""+n)),e),e.tags),e),{measurements:{},fields:{},tags:{}});return{measurements:Object.keys(a),fields:Object.keys(r),tags:Object.entries(o).map(([e,t])=>({[e]:Array.from(t)}))}})(y,p,b),[p,y,b]);return r.a.createElement(m.Provider,{value:{loading:w,measurements:null!==(n=null==C?void 0:C.measurements)&&void 0!==n?n:[],fields:null!==(o=null==C?void 0:C.fields)&&void 0!==o?o:[],tags:null!==(d=null==C?void 0:C.tags)&&void 0!==d?d:[],searchTerm:b,setSearchTerm:v}},e)});var h=n(362),f=n(3),g=n(8);var b=({measurements:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),{setSearchTerm:o}=Object(a.useContext)(m),i=null==t?void 0:t.measurement,l=Object(a.useCallback)(e=>{let t=e;t===i?(Object(g.a)("metric_selector_add_filter"),Object(g.a)("Deselecting Measurement in Flow Query Builder"),t=""):(o(""),Object(g.a)("metric_selector_remove_filter"),Object(g.a)("Selecting Measurement in Flow Query Builder",{measurement:e})),n({measurement:t})},[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())).map(e=>r.a.createElement(f.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`measurement-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__measurement"},e),r.a.createElement("div",{className:"selectors--item-name"},"measurement"))))};var v=({fields:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),{setSearchTerm:o}=Object(a.useContext)(m),i=null==t?void 0:t.field,l=Object(a.useCallback)(e=>{let t=e;t===i?(Object(g.a)("metric_selector_add_filter"),Object(g.a)("Deselecting Field in Flow Query Builder"),t=""):(o(""),Object(g.a)("metric_selector_remove_filter"),Object(g.a)("Selecting Field in Flow Query Builder",{field:e})),n({field:t})},[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())).map(e=>r.a.createElement(f.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`field-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__field"},e),r.a.createElement("div",{className:"selectors--item-name"},"field"))))};var y=({tags:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),o=null==t?void 0:t.tags,i=Object(a.useCallback)((e,t)=>{var a;let r=[];r=o[e]?o[e]&&o[e].includes(t)?o[e].filter(e=>e!==t):[...o[e],t]:[t];const i=Object.assign(Object.assign({},o),{[e]:r});r.length<(null===(a=o[e])||void 0===a?void 0:a.length)?(Object(g.a)("metric_selector_add_filter"),Object(g.a)("Deselecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(i)})):(Object(g.a)("metric_selector_remove_filter"),Object(g.a)("Selecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(i)})),n({tags:i})},[n]),l=Object(a.useCallback)((e,t,a)=>{var r;if(e.metaKey||e.ctrlKey)return void i(t,a);let s=[a],l={[t]:s};(null===(r=o[t])||void 0===r?void 0:r.includes(a))&&(s=[],l[t]=s),t in o&&0===s.length?(Object(g.a)("Deselecting Tag in Flow Query Builder",{type:"single-select"}),l={}):Object(g.a)("Selecting Tag in Flow Query Builder",{type:"single-select",tags:JSON.stringify(l)}),n({tags:l})},[n]),c=e.reduce((e,t)=>{const n=Object.entries(t).reduce((e,t)=>{const n=t[0],a=t[1].map(e=>{var t;return r.a.createElement(f.List.Item,{key:`${n}::${e}`,value:e,onClick:(e,t)=>{l(t,n,e)},selected:null===(t=o[n])||void 0===t?void 0:t.includes(e),title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`tag-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__tag"},`${n} = ${e}`),r.a.createElement("div",{className:"selectors--item-name"},"tag"))});return e.concat(a)},[]);return e.concat(n)},[]);return r.a.createElement(r.a.Fragment,null,c)};var x=()=>{const{fields:e,measurements:t,tags:n,searchTerm:o}=Object(a.useContext)(m),i=!e.length&&!t.length&&!n.length;let s=r.a.createElement(f.List,{className:"data-source--list",backgroundColor:f.InfluxColors.Obsidian},r.a.createElement(b,{measurements:t}),r.a.createElement(v,{fields:e}),r.a.createElement(y,{tags:n}));return i&&o?s=r.a.createElement(f.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("p",null,`No fields, measurements, or tags match "${o}"`)):i&&!o&&(s=r.a.createElement(f.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("h5",null,"No tags found in the selected time range"),r.a.createElement("p",null,"Try selecting a different time range"))),r.a.createElement("div",{className:"data-source--block-results"},s)};var w=()=>{const{data:e}=Object(a.useContext)(s.a),{loading:t}=Object(a.useContext)(m);return e.bucket?t===f.RemoteDataState.NotStarted||t===f.RemoteDataState.Loading?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement(f.TechnoSpinner,{strokeWidth:f.ComponentSize.Small,diameterPixels:32})):t===f.RemoteDataState.Error?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Could not fetch schema")):t===f.RemoteDataState.Done?r.a.createElement(x,null):null:r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Select a bucket first"))};const E=(e,t)=>{if(!e)return null;switch(t){case"measurement":return{id:e,name:`measurement = ${e}`,properties:{color:"hotpink",description:""},type:t};case"field":return{id:e,name:`field = ${e}`,properties:{color:"lightskyblue",description:""},type:t};case"tags":{const n=Object.keys(e);if(n){const a=[];return n.filter(t=>!!e[t]).forEach(n=>{const r=e[n].map(e=>({id:e,name:`${n} = ${e}`,properties:{color:"limegreen",description:""},type:t}));a.push(...r)}),a}return null}default:return null}};var S=()=>{const{data:e,update:t}=Object(a.useContext)(s.a);return r.a.createElement("div",{className:"data-source--filters"},r.a.createElement("p",{className:"data-source--filters-label"},"Filters:"),r.a.createElement("div",{className:"data-source--filters-list"},(()=>{const n=E(e.measurement,"measurement");let a=[];n&&(a=a.concat(n));const o=E(e.field,"field");o&&(a=a.concat(o));const i=E(e.tags,"tags");return i&&(a=a.concat(i)),a.length?a.map(n=>{const a=Object.assign({},n);return r.a.createElement(f.Label,{className:"data-source--filter",id:a.id,key:a.name,name:a.name,color:a.properties.color,description:a.properties.description,onDelete:()=>((n,a)=>{if(Object(g.a)("Deleting the Filter Label in Flow Query Builder",{type:n}),"tags"===n){const[n,r]=a.split(" = "),o=(null==e?void 0:e.tags)||{};t({tags:Object.entries(o).reduce((e,[t,a])=>t!==n?(e[t]=a,e):(e[t]=a.filter(e=>e!==r),e[t].length||delete e[t],e),{})})}else t({[n]:""})})(a.type,a.name)})}):r.a.createElement("span",null)})()))};var C=()=>{const{searchTerm:e,setSearchTerm:t}=Object(a.useContext)(m);return r.a.createElement(f.Input,{className:"data-source--search",icon:f.IconFont.Search,size:f.ComponentSize.Medium,value:e,placeholder:"Filter data by measurement, field, or tag ...",onChange:e=>{return n=e.target.value,void t(n);var n}})},k=n(42);var O=({Context:e})=>{const{id:t,data:n,update:i}=Object(a.useContext)(s.a);return r.a.createElement(o.b,{panel:t},r.a.createElement(p,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(h.a,{selected:n.bucket,onSelect:e=>{var t;(null==e?void 0:e.id)!==(null===(t=n.bucket)||void 0===t?void 0:t.id)&&(Object(g.a)("Updated Bucket",{context:"metric selector"}),i(Object.assign({bucket:e},k.c.metricSelector.initial)))},style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(S,null)),r.a.createElement(C,null),r.a.createElement(w,null)))))};var D=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(p,null,r.a.createElement(e,null,r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(f.Dropdown,{button:(e,n)=>{var a,o;return r.a.createElement(f.Dropdown.Button,{onClick:n,active:e,icon:f.IconFont.BucketSolid,status:f.ComponentStatus.Disabled},null!==(o=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==o?o:"No Bucket Selected")},menu:e=>r.a.createElement(f.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(S,null)))))},T=(n(469),n(28));t.default=e=>{e({type:"metricSelector",family:"inputs",priority:1,component:O,readOnlyComponent:D,button:"Metric Selector",disabled:!0,initial:{field:"",measurement:"",tags:{},aggregateFunction:T.e[0]},source:e=>{var t;const{bucket:n,field:a,measurement:r,tags:o}=e;if(!n)return"";if(!(a||r||Object.values(o).length))return"";let i=`from(bucket: "${n.name}") |> range(start: v.timeRangeStart, stop: v.timeRangeStop)`;return r&&(i+=` |> filter(fn: (r) => r["_measurement"] == "${r}")`),a&&(i+=` |> filter(fn: (r) => r["_field"] == "${a}")`),o&&(null===(t=Object.keys(o))||void 0===t?void 0:t.length)>0&&Object.keys(o).filter(e=>!!o[e]).forEach(e=>{const t=o[e];1===t.length?i+=` |> filter(fn: (r) => r["${e}"] == "${t[0]}")`:t.forEach((n,a)=>{0===a&&(i+=` |> filter(fn: (r) => r["${e}"] == "${n}"`),t.length-1===a?i+=` or r["${e}"] == "${n}")`:i+=` or r["${e}"] == "${n}"`})}),i}})}},528:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(143),s=n(21),l=n(76),c=n(156),u=n(5);const d=()=>({keys:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},values:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},aggregateFunctionType:"filter"}),m={cards:[d()],add:()=>{},remove:e=>{},update:(e,t)=>{},loadKeys:(e,t)=>{},loadValues:(e,t)=>{}},p=Object(a.createContext)(m),h=e=>({key:(e.keys.selected||[])[0],values:(e.values.selected||[]).slice(0),aggregateFunctionType:e.aggregateFunctionType}),f=({children:e})=>{const{id:t,data:n,range:o,update:m}=Object(a.useContext)(s.a),{query:f,getPanelQueries:g}=Object(a.useContext)(l.a),{buckets:b}=Object(a.useContext)(i.a),[v,y]=Object(a.useState)(Array(n.tags.length).fill({keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}));Object(a.useEffect)(()=>{if("string"==typeof n.buckets[0]){const e=b.find(e=>e.name===n.buckets[0]);return e?void m({buckets:[e]}):void m({buckets:[{type:"user",name:n.buckets[0]}]})}if(n.tags.length)return;const e=d();e.keys.selected=["_measurement"],m({tags:[e].map(h)}),y([{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}])},[n.buckets]);const x=Object(a.useMemo)(()=>n.tags.map((e,t)=>((e,t)=>{var n,a,r,o;const i=d();return i.keys.selected=[e.key],i.keys.results=null!==(n=null==t?void 0:t.keys)&&void 0!==n?n:[],i.keys.loading=null!==(a=null==t?void 0:t.loadingKeys)&&void 0!==a?a:u.RemoteDataState.NotStarted,i.values.selected=[...e.values],i.values.results=null!==(r=null==t?void 0:t.values)&&void 0!==r?r:[],i.values.loading=null!==(o=null==t?void 0:t.loadingValues)&&void 0!==o?o:u.RemoteDataState.NotStarted,i.aggregateFunctionType=e.aggregateFunctionType,i})(e,v[t])),[n.tags,v]),w=Object(a.useCallback)(()=>{x.push(d()),y([...v,{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}]),m({tags:x.map(h)})},[x]),E=Object(a.useCallback)((e,a)=>{if(!n.buckets[0]||"string"==typeof n.buckets[0]||!x[e])return;if(!v[e])return;if(v[e].loadingKeys===u.RemoteDataState.Loading)return;v.splice(e,1,Object.assign(Object.assign({},v[e]),{loadingKeys:u.RemoteDataState.Loading})),y([...v]);const r=x.filter(e=>e.keys.selected[0]&&e.values.selected.length).map(e=>`(${e.values.selected.map(t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`),i=r.length?r.join(" and "):"true",s=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",l=x.slice(0,e).map(e=>`r._value != "${e.keys.selected[0]}"`),d=l.length?`\n  |> filter(fn: (r) => ${l.join(" and ")})`:"",{scope:p}=g(t);let b;b="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,f(`${b}\n              |> range(${Object(c.d)(o)})\n              |> filter(fn: (r) => ${i})\n              |> keys()\n              |> keep(columns: ["_value"])\n              |> distinct()${s}${d}\n              |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n              |> sort()\n              |> limit(n: 200)`,p).then(e=>e.parsed.table.getColumn("_value","string")||[]).then(t=>{x[e].keys.selected[0]?t.includes(x[e].keys.selected[0])||t.unshift(x[e].keys.selected[0]):(0===e&&t.includes("_measurement")?x[e].keys.selected=["_measurement"]:x[e].keys.selected=[t[0]],m({tags:x.map(h)})),v.splice(e,1,{keys:t,values:[],loadingKeys:u.RemoteDataState.Done,loadingValues:u.RemoteDataState.NotStarted}),y([...v])}).catch(()=>{})},[n.buckets,x]),S=Object(a.useCallback)((e,a)=>{if(v[e].loadingValues===u.RemoteDataState.Loading)return;v.splice(e,1,Object.assign(Object.assign({},v[e]),{loadingValues:u.RemoteDataState.Loading})),y([...v]);const r=x.slice(0,e).filter(e=>e.keys.selected[0]&&e.values.selected.length).map(e=>`(${e.values.selected.map(t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`),i=r.length?r.join(" and "):"true",s=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",{scope:l}=g(t);let d;d="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,f(`${d}\n              |> range(${Object(c.d)(o)})\n              |> filter(fn: (r) => ${i})\n              |> keep(columns: ["${x[e].keys.selected[0]}"])\n              |> group()\n              |> distinct(column: "${x[e].keys.selected[0]}")${s}\n              |> limit(n: 200)\n              |> sort()`,l).then(e=>e.parsed.table.getColumn("_value","string")||[]).then(t=>{v.splice(e,1,Object.assign(Object.assign({},v[e]),{values:t,loadingValues:u.RemoteDataState.Done})),y([...v])}).catch(()=>{})},[n.buckets,x]);return r.a.createElement(p.Provider,{value:{cards:x,add:w,remove:e=>{0===e||e>x.length||(x.splice(e,1),v.splice(e,1),y(v.map((t,n)=>n<e?t:{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted})),m({tags:x.map(h)}))},update:(e,t)=>{var a,r,o;if(e<0||e>n.tags.length)return;const i=Object.assign(Object.assign(Object.assign({},x[e]),t),{keys:Object.assign(Object.assign({},x[e].keys),t.keys||{}),values:Object.assign(Object.assign({},x[e].values),t.values||{})});(null===(a=i.keys)||void 0===a?void 0:a.selected[0])!==(null===(o=null===(r=x[e])||void 0===r?void 0:r.keys)||void 0===o?void 0:o.selected[0])&&(v.splice(e,1,Object.assign(Object.assign({},v[e]),{values:[],loadingValues:u.RemoteDataState.NotStarted})),y([...v])),x[e]=Object.assign(Object.assign({},x[e]),i),m({tags:x.map(h)})},loadKeys:E,loadValues:S}},e)};var g=()=>{const{cards:e,add:t}=Object(a.useContext)(p),n=Object(a.useCallback)(()=>{t()},[t]);if(!e.length)return null;const{keys:i}=e[e.length-1];return 0===i.results.length&&i.loading===u.RemoteDataState.Done?null:r.a.createElement(o.SquareButton,{className:"query-builder--add-card-button",onClick:n,icon:o.IconFont.Plus})},b=n(69);var v=()=>{const{data:e,update:t}=Object(a.useContext)(s.a),{loading:n,buckets:l}=Object(a.useContext)(i.a),[c,d]=Object(a.useState)(""),m=n=>{e.buckets=n?[n]:[],e.tags=[],t(e)};if(Object(a.useEffect)(()=>{if(n!==u.RemoteDataState.Done)return;if(!e.buckets.length)return;const t=l.reduce((e,t)=>(e[t.name]=!0,e),{}),a=e.buckets.filter(e=>t.hasOwnProperty(e.name));e.buckets.length!=a.length&&m()},[l]),n===u.RemoteDataState.Done&&!l.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Empty,null,"No buckets found"));const p=l.filter(e=>!c.length||e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase()));if(!p.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:c,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>d(e.target.value)})),r.a.createElement(b.a.Empty,null,"No buckets matched your search"));const h=p.reduce((e,t)=>(e[t.type].push(t),e),{user:[],system:[],sample:[]}),f=t=>{const n=!!e.buckets.find(e=>e.name===t.name),a=n?"Click to remove this filter":`Click to filter by ${t.name}`;return r.a.createElement(o.List.Item,{className:"selector-list--item",testID:`selector-list ${t.name}`,key:t.name,value:t.name,onClick:m,title:a,selected:n,size:o.ComponentSize.ExtraSmall,gradient:o.Gradients.GundamPilot,wrapText:!1},t.name)};return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:c,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>d(e.target.value)})),r.a.createElement(o.List,{autoHideScrollbars:!0,testID:"buckets-list",style:{flex:"1 0 0"}},h.user.length&&r.a.createElement(o.List.Divider,{key:"userHeader",text:"user",size:o.ComponentSize.ExtraSmall}),h.user.map(f),h.system.length&&r.a.createElement(o.List.Divider,{key:"systemHeader",text:"system",size:o.ComponentSize.ExtraSmall}),h.system.map(f),h.sample.length&&r.a.createElement(o.List.Divider,{key:"sampleHeader",text:"sample",size:o.ComponentSize.ExtraSmall}),h.sample.map(f)))},y=n(297),x=n(298),w=n(144),E=n(212);const S=[],C=(e,t)=>{S[e]&&clearTimeout(S[e]),S[e]=setTimeout(()=>{t(),delete S[e]},500)},k=({idx:e})=>{const{cards:t,add:n,update:i,remove:l,loadKeys:c,loadValues:d}=Object(a.useContext)(p),{data:m}=Object(a.useContext)(s.a),h=t[e],[f,g]=Object(a.useState)([]),[v,S]=Object(a.useState)([]),k=0!==e&&(()=>{l(e)}),O=t=>{i(e,{aggregateFunctionType:t.toLowerCase()})},D=Object(a.useCallback)(t=>{f[e]=t,g([...f]),C(e,()=>{c(e,t)})},[c,h.keys,e]),T=t=>{v[e]=t,S([...v]),C(e,()=>{d(e,t)})},j=a=>{const r=[...h.values.selected],o=r.indexOf(a);if(-1===o?r.push(a):r.splice(o,1),i(e,{values:Object.assign(Object.assign({},h.values),{selected:r})}),-1===o&&1===r.length&&e===t.length-1)n();else for(let n=e+1;n<t.length;n++)c(n)};if(Object(a.useEffect)(()=>{m.buckets[0]&&h.keys.loading===u.RemoteDataState.NotStarted&&c(e)},[m.buckets,h.keys.loading]),Object(a.useEffect)(()=>{h.keys.loading===u.RemoteDataState.Done&&h.values.loading!==u.RemoteDataState.Done&&d(e)},[h.keys.loading,h.values.loading]),h.keys.loading===u.RemoteDataState.NotStarted){let t="Select a value first";return 0===e&&(t="Select a bucket first"),r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,t))}if(h.keys.loading===u.RemoteDataState.Error)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,"Failed to load tag keys"));if(h.keys.loading===u.RemoteDataState.Done&&!h.keys.results.length)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,{testID:"empty-tag-keys"},"No tag keys found ",r.a.createElement("small",null,"in the current time range")));let I;return I=h.values.loading===u.RemoteDataState.Error?r.a.createElement(b.a.Empty,null,`Failed to load tag values for ${h.keys.selected[0]}`):h.values.loading===u.RemoteDataState.Loading||h.values.loading===u.RemoteDataState.NotStarted?r.a.createElement(b.a.Empty,null,r.a.createElement(E.a,{text:"Loading tag values"})):h.values.loading!==u.RemoteDataState.Done||h.values.results.length?r.a.createElement(w.a,{items:h.values.results,selectedItems:h.values.selected,onSelectItem:j,multiSelect:!0}):r.a.createElement(b.a.Empty,null,"No values found ",r.a.createElement("small",null,"in the current time range")),"group"===h.aggregateFunctionType?r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map(e=>e.toUpperCase()),selectedOption:h.aggregateFunctionType.toUpperCase(),onDelete:k,onSelect:O}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:v[e]||"",placeholder:`Search ${h.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{T(e.target.value)}})),I):r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map(e=>e.toUpperCase()),selectedOption:h.aggregateFunctionType.toUpperCase(),onDelete:k,onSelect:O}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Small},r.a.createElement(x.a,{searchTerm:f[e]||"",emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:h.keys.selected[0],onSelect:t=>{i(e,{keys:Object.assign(Object.assign({},h.keys),{selected:[t]})})},buttonStatus:Object(y.a)(h.keys.loading),onChangeSearchTerm:D,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:h.keys.results})),r.a.createElement(o.Input,{value:v[e]||"",placeholder:`Search ${h.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{T(e.target.value)}})),I)};var O=()=>{const{cards:e}=Object(a.useContext)(p);return e.length?r.a.createElement(r.a.Fragment,null,e.map((e,t)=>r.a.createElement(k,{key:t,idx:t}))):null};var D=({Context:e})=>{const{id:t}=Object(a.useContext)(s.a);return r.a.createElement(i.b,{panel:t},r.a.createElement(f,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(o.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(v,null),r.a.createElement(O,null),r.a.createElement(g,null))))))))};var T=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(o.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Dropdown,{button:(e,n)=>{var a;return r.a.createElement(o.Dropdown.Button,{onClick:n,active:e,icon:o.IconFont.BucketSolid,status:o.ComponentStatus.Disabled},null!==(a=t.buckets[0])&&void 0!==a?a:"No Bucket Selected")},menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))),t.tags.map(e=>r.a.createElement(b.a,{key:e.key},r.a.createElement(b.a.Header,{title:e.aggregateFunctionType.toUpperCase()}),r.a.createElement(o.Dropdown,{button:(t,n)=>r.a.createElement(o.Dropdown.Button,{onClick:n,active:t,icon:"filter"===e.aggregateFunctionType?o.IconFont.FunnelSolid:o.IconFont.Link,status:o.ComponentStatus.Disabled},e.key),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}}),r.a.createElement(w.a,{items:e.values,selectedItems:e.values,onSelectItem:()=>{},multiSelect:!0}))))))))};n(477),t.default=e=>{e({type:"queryBuilder",family:"inputs",priority:1,component:D,featureFlag:"flow-panel--query-builder",button:"Query Builder",initial:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}]},readOnlyComponent:T,source:e=>{if(!e.buckets[0]||!e.tags.reduce((e,t)=>e.concat(t.values),[]).length)return"";const t=e.tags.map(e=>{if(!e.key)return"";if("filter"===e.aggregateFunctionType){if(!e.values.length)return"";return`\n  |> filter(fn: (r) => ${e.values.map(t=>`r["${e.key}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")})`}if("group"===e.aggregateFunctionType){const t=e.values.map(e=>`"${e}"`);return t.length?`\n  |> group(columns: [${t.join(", ")}])`:"\n  |> group()"}return""}).join("");let n;return n="sample"===e.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${e.buckets[0].id}")`:`from(bucket: "${e.buckets[0].name}")`,`${n} |> range(start: v.timeRangeStart, stop: v.timeRangeStop)${t}`}})}},529:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(79),s=n(3),l=n(21),c=n(76),u=n(115);const d=({expression:e,onClickFunction:t,testID:n})=>r.a.createElement("dd",{"data-testid":n,className:"flux-toolbar--list-item flux-toolbar--function"},r.a.createElement("code",null,e),r.a.createElement(s.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:s.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:s.ComponentColor.Primary}));d.defaultProps={testID:"alert-expression"};var m=d;var p,h=({parsed:e,onSelect:t})=>{const[n,o]=Object(a.useState)(""),i=Object(a.useCallback)(e=>{o(e.target.value)},[n,o]),l=Object(a.useMemo)(()=>((e,t)=>{var n,a;const r=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const o=e.table,i=null===(n=o.columns._field)||void 0===n?void 0:n.data,s=o.columnKeys.filter(e=>r.reduce((t,n)=>t&&!n.test(e),!0)),l=["_start","_stop","_measurement"],c={fields:new Set(null==i?void 0:i.filter(e=>e.toLowerCase().includes(t.toLowerCase()))),tags:new Set(null==s?void 0:s.filter(e=>o.columns[e].data.filter(e=>e)&&e.toLowerCase().includes(t.toLowerCase()))),columns:null===(a=o.columnKeys)||void 0===a?void 0:a.filter(e=>l.includes(e)&&e.toLowerCase().includes(t.toLowerCase())),system:["_check_id","_check_name","_level","_notebook_link","_source_measurement","_type"].filter(e=>e.toLowerCase().includes(t.toLowerCase()))},u={};return Object.keys(c).forEach(e=>{(c[e].length||c[e].size)&&(u[e]=Array.from(c[e]))}),u})(e,n),[e,n]);let c;return c=Object.keys(l).length?r.a.createElement(r.a.Fragment,null,Object.keys(l).sort((e,t)=>((e,t)=>{const n=["measurements","fields","tags","columns","system"];return n.indexOf(e)-n.indexOf(t)})(e,t)).map(e=>{return r.a.createElement("dl",{className:"flux-toolbar--category",key:e},r.a.createElement("dt",{className:"flux-toolbar--heading"},(n=e).charAt(0).toUpperCase()+n.slice(1)),l[e].map(n=>r.a.createElement(m,{onClickFunction:t,key:`${e}-${n}`,testID:`${e}-${n}`,expression:n})));var n})):r.a.createElement(s.EmptyState,{size:s.ComponentSize.ExtraSmall},r.a.createElement(s.EmptyState.Text,null,"No expressions match your search")),r.a.createElement("div",{className:"flux-toolbar"},r.a.createElement("div",{className:"flux-toolbar--search"},r.a.createElement(s.Input,{type:s.InputType.Text,icon:s.IconFont.Search,placeholder:"Filter Expressions...",onChange:i,value:n,testID:"flux-toolbar-search--input"})),r.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},c))},f=n(136),g=n(78),b=(n(473),n(8));!function(e){e.Value="value",e.Range="range",e.Deadman="deadman"}(p||(p={}));const v="missing-for-longer-than",y={greater:{name:"greater than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] > ${e.value})`},"greater-equal":{name:"greater than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] >= ${e.value})`},less:{name:"less than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] < ${e.value})`},"less-equal":{name:"less than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] <= ${e.value})`},equal:{name:"equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] == ${e.value})`},"not-equal":{name:"not equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] != ${e.value})`},between:{name:"between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] > ${e.min} and r["${e.field}"] < ${e.max})`},"not-between":{name:"not between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] < ${e.min} or r["${e.field}"] > ${e.max})`},[v]:{name:"missing for longer than",format:p.Deadman,condition:e=>'(r) => (r["dead"])'}};var x=({readOnly:e})=>{var t;const{data:n,update:o,results:i}=Object(a.useContext)(l.a),c=Array.from(new Set(null===(t=i.parsed.table.columns._field)||void 0===t?void 0:t.data)),u=Object(a.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.thresholds)&&void 0!==e?e:[]},[null==n?void 0:n.thresholds]),d=Object(a.useCallback)((e,t)=>{if(!y[e])return;Object(b.a)("Changed Notification Threshold",{type:e});const n=u.find((e,n)=>t===n);if(!n)return;n.type=e,n.field=n.field||"_value";let a=u;y[e].format===p.Range?(n.min=0,n.max=100):y[e].format===p.Deadman?a=[{type:v,deadmanCheckValue:"5s",deadmanStopValue:"90s",field:n.field||"_value"}]:n.value=20,o({thresholds:a})},[u,o]),m=Object(a.useCallback)((e,t)=>{Object(b.a)("Changed Notification Threshold Column");const n=u.find((e,n)=>t===n);n&&(n.field=e),o({thresholds:u})},[u,o]),h=Object(a.useCallback)((t,n)=>{const a=Object.entries(y).filter(([e])=>!(n>0&&e===v)).map(([a,o])=>r.a.createElement(s.Dropdown.Item,{key:a,value:a,onClick:e=>d(e,n),selected:a===(null==t?void 0:t.type),title:o.name,disabled:!!e},null==o?void 0:o.name));return r.a.createElement(s.Dropdown,{menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>{var o;return r.a.createElement(s.Dropdown.Button,{onClick:a,active:n,size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default},(null===(o=y[null==t?void 0:t.type])||void 0===o?void 0:o.name)||"Select a function")}})},[d]),x=Object(a.useCallback)((t,n)=>{const a=c.map(a=>r.a.createElement(s.Dropdown.Item,{key:a,value:a,onClick:e=>m(e,n),selected:a===(null==t?void 0:t.field),title:a,disabled:!!e},a));return r.a.createElement(s.Dropdown,{menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>r.a.createElement(s.Dropdown.Button,{onClick:a,active:n,size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default},(null==t?void 0:t.field)||"Select a numeric column")})},[c,m]),w=e=>{o({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanCheckValue:e,type:v})]})},E=e=>{o({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanStopValue:e,type:v})]})},S=(t,n)=>{var a,i,l;return(null==t?void 0:t.type)===v?r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(f.a,{suggestions:g.b,onSubmit:w,value:null!==(a=t.deadmanCheckValue)&&void 0!==a?a:"5s",showDivider:!1})),r.a.createElement(s.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),r.a.createElement(s.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(f.a,{suggestions:g.b,onSubmit:E,value:null!==(i=t.deadmanStopValue)&&void 0!==i?i:"90s",showDivider:!1}))):(null===(l=y[null==t?void 0:t.type])||void 0===l?void 0:l.format)===p.Range?r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"min",value:t.min,onChange:e=>((e,t)=>{const n=u.find((e,n)=>t===n);n&&(n.min=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default})),r.a.createElement(s.TextBlock,{testID:"is-value-text-block",text:"to"}),r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"max",value:t.max,onChange:e=>((e,t)=>{const n=u.find((e,n)=>t===n);n&&(n.max=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default}))):r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"value",value:t.value,onChange:e=>((e,t)=>{Object(b.a)("Alert Panel (Notebooks) - Threshold Value Entered");const n=u.find((e,n)=>t===n);n&&(n.value=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default})))};return r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Column,margin:s.ComponentSize.Small,testID:"component-spacer",style:{padding:"24px 0"}},u.map((t,n)=>r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Medium,stretchToFitWidth:!0,testID:"component-spacer",key:`${t.type}_${n}`},r.a.createElement(s.TextBlock,{testID:"when-value-text-block",text:0===n?"When":"And",style:{minWidth:56,textAlign:"center"}}),r.a.createElement(s.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},x(t,n)),r.a.createElement(s.TextBlock,{testID:"is-value-text-block",text:"is"}),r.a.createElement(s.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},h(t,n)),r.a.createElement(s.FlexBox.Child,{grow:3,testID:"component-spacer--flex-child"},S(t,n)),r.a.createElement(s.FlexBox.Child,{grow:4,testID:"component-spacer--flex-child"},0===n||e?null:r.a.createElement("div",{className:"threshold-trash-icon--block",onClick:()=>(e=>{const t=u.slice();t.splice(e,1),o({thresholds:t})})(n)},r.a.createElement(s.Icon,{glyph:s.IconFont.Trash}))))),u[0].type!==v&&!e&&r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement("div",{className:"threshold-add-icon--block",onClick:()=>{Object(b.a)("Alert Panel (Notebooks) - New Threshold Added"),o({thresholds:[...u,{type:"greater",value:0}]})}},r.a.createElement(s.TextBlock,{testID:"add-value-text-block",text:"+",style:{fontWeight:400,fontSize:25,textAlign:"center",minWidth:56}}))))},w=n(167),E=n(360),S=n(92),C=n(5),k=n(11),O=n(12),D=n(23),T=(n(343),n(42));const j=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(20)]).then(n.bind(null,2532)));var I=({Context:e})=>{var t,n,d,m,p;const f=Object(o.d)(),{id:g,data:I,update:N,results:R,loading:A}=Object(a.useContext)(l.a),{query:_,simplify:F,getPanelQueries:M}=Object(a.useContext)(c.a),{hideSub:L,id:P,show:B,showSub:$}=Object(a.useContext)(S.a),[z,V]=Object(a.useState)(C.RemoteDataState.NotStarted),[H,q]=Object(a.useState)(null);let U="",G="";I.interval?I.interval!==(null===(t=I.interval.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===t?void 0:t.join(""))&&(U="Invalid Time"):U="Required",I.offset&&I.offset!==(null===(n=I.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))&&(G="Invalid Time");const W=Object(a.useMemo)(()=>A===C.RemoteDataState.Loading?"Loading":A===C.RemoteDataState.NotStarted?T.g:"No Data Returned",[A]),Y=null===(d=M(g,!0))||void 0===d?void 0:d.source,K=Object(a.useMemo)(()=>!!Object.keys(Object(u.d)(Object(i.parse)(F(Y)),e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{})).length,[Y]),Z=((null===(p=null===(m=null==R?void 0:R.parsed)||void 0===m?void 0:m.table)||void 0===p?void 0:p.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const t=R.parsed.table.getColumnType(e);return"time"===t||"number"===t}),X=e=>{N({message:e})},Q=Object(a.useCallback)(e=>{if(!H)return;const t=H.getPosition(),n=[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:` \${r.${e}} `}];H.executeEdits("",n),X(H.getValue())},[H]),J=Object(a.useMemo)(()=>{if(K)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))},[K]),ee=Object.keys(w.a).map(e=>r.a.createElement(s.Dropdown.Item,{key:e,id:e,onClick:()=>{return t=e,Object(b.a)("Changed Notification Endpoint",{which:t}),void N({endpoint:t,endpointData:w.a[t].data});var t},selected:I.endpoint===e},w.a[e].name)),te=Object(a.useCallback)(()=>{var e,t;const n=Object(i.parse)(F(Y)),[a]=I.thresholds,r=Object(u.d)(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});r.timeRangeStart=`-${null==a?void 0:a.deadmanStopValue}`;const o=Object(u.d)(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),s=y[v].condition(a),l=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${g}",\n\t_check_name: "Notebook Generated Deadman Check",\n\t_type: "deadman",\n\ttags: {},\n}\n\nnotification = {\n\t_notification_rule_id: "${g}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${g}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.format_from_js_file)(n)}\ntrigger = ${s}\nmessageFn = (r) => ("${I.message}")\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateQuery(I.endpointData)}\n|> monitor["deadman"](t: experimental["subDuration"](from: now(), d: ${a.deadmanCheckValue}))`,c=Object(i.parse)(l);if(o.name||(o.name=`"Notebook Deadman Task for ${g}"`),I.interval&&(o.every=I.interval),I.offset&&(o.offset=I.offset),Object.keys(r).length){const e=Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(i.parse)(`option v = {${e}}\n`);c.body.unshift(t.body[0])}const d=Object.entries(o).map(([e,t])=>`${e}: ${t}`).join(",\n"),m=Object(i.parse)(`option task = {${d}}\n`);return c.body.unshift(m.body[0]),Object(i.format_from_js_file)(c)},[g,Y,I.every,I.offset,I.endpointData,I.endpoint,I.thresholds,I.message]),ne=Object(a.useCallback)(()=>{var e,t;if(I.thresholds[0].type===v)return te();const n=Object(i.parse)(F(Y)),a=Object(u.d)(n,e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),r=Object(u.d)(n,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{}),o=I.thresholds.map(e=>y[e.type].condition(e)).join(" and "),s=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${g}",\n\t_check_name: "Notebook Generated Check",\n\t_type: "custom",\n\ttags: {},\n}\nnotification = {\n\t_notification_rule_id: "${g}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${g}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.format_from_js_file)(n)}\ntrigger = ${o}\nmessageFn = (r) => ("${I.message}")\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateQuery(I.endpointData)}`,l=Object(i.parse)(s);if(r.name||(r.name=`"Notebook Task for ${g}"`),I.interval&&(r.every=I.interval),I.offset&&(r.offset=I.offset),Object.keys(a).length){const e=Object.entries(a).map(([e,t])=>`${e}: ${t}`).join(",\n"),t=Object(i.parse)(`option v = {${e}}\n`);l.body.unshift(t.body[0])}const c=Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(",\n"),d=Object(i.parse)(`option task = {${c}}\n`);return l.body.unshift(d.body[0]),Object(i.format_from_js_file)(l)},[g,Y,I.every,I.offset,I.endpointData,I.endpoint,I.thresholds,I.message]);return A===C.RemoteDataState.NotStarted||A===C.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},W))),J):Z.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(x,null),r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Check Every",required:!0,errorMessage:U,style:{paddingBottom:"4px"}},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:I.interval,onChange:e=>{N({interval:e.target.value})},status:U?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Query Offset",required:!0,errorMessage:G},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:I.offset,onChange:e=>{N({offset:e.target.value})},status:G?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium})))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,null,r.a.createElement(s.Form.Element,{label:"Notification",required:!0},r.a.createElement(s.Panel,{backgroundColor:s.InfluxColors.Onyx},r.a.createElement(s.Panel.Body,null,r.a.createElement(s.FlexBox,{justifyContent:s.JustifyContent.FlexEnd,alignItems:s.AlignItems.FlexEnd,margin:s.ComponentSize.Medium},Object(D.c)("notebooksExp")&&r.a.createElement(s.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(s.Button,{text:"${exp}",onClick:()=>{P===g?L():(B(g),$(r.a.createElement(h,{parsed:null==R?void 0:R.parsed,onSelect:Q})))},color:s.ComponentColor.Secondary,testID:"notification-exp-button",status:H?s.ComponentStatus.Default:s.ComponentStatus.Loading})),r.a.createElement(s.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(s.Button,{text:"Test Alert",status:z===C.RemoteDataState.Loading?s.ComponentStatus.Loading:s.ComponentStatus.Default,onClick:async()=>{var e,t;Object(b.a)("Alert Panel (Notebooks) - Test Alert Clicked");const n=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=w.a[I.endpoint])||void 0===e?void 0:e.generateTestImports()}\n\n${null===(t=w.a[I.endpoint])||void 0===t?void 0:t.generateTestQuery(I.endpointData)}`;try{V(C.RemoteDataState.Loading),await _(n),V(C.RemoteDataState.Done),f(Object(k.c)(Object(O.Hd)(I.endpoint)))}catch(e){V(C.RemoteDataState.Error),f(Object(k.c)(Object(O.Gd)(I.endpoint)))}},color:s.ComponentColor.Primary}))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(s.Dropdown.Menu,{className:"flows-endpoints--dropdown"},ee)),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(w.a[I.endpoint].component))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.SpinnerContainer,{loading:C.RemoteDataState.Loading,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)})},r.a.createElement(j,{text:I.message,onChangeText:X,setEditorInstance:q}))))))))))),r.a.createElement(s.Panel.Footer,{justifyContent:s.JustifyContent.FlexEnd},r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium},r.a.createElement(E.a,{generate:ne,text:"Export Alert Task",type:"alert"})))),J):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))),J)};const N=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(20)]).then(n.bind(null,2532)));var R=({Context:e})=>{var t,n;const{data:o,results:i,loading:c}=Object(a.useContext)(l.a),u=Object(a.useMemo)(()=>c===C.RemoteDataState.Loading?"Loading":c===C.RemoteDataState.NotStarted?T.g:"No Data Returned",[c]),d=((null===(n=null===(t=null==i?void 0:i.parsed)||void 0===t?void 0:t.table)||void 0===n?void 0:n.columnKeys)||[]).filter(e=>{if("result"===e||"table"===e)return!1;const t=i.parsed.table.getColumnType(e);return"time"===t||"number"===t});return c===C.RemoteDataState.NotStarted||c===C.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},u)))):d.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(x,{readOnly:!0}),r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Check Every",required:!0,style:{paddingBottom:"4px"}},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:o.interval,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Query Offset",required:!0},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:o.offset,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium})))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,null,r.a.createElement(s.Form.Element,{label:"Notification",required:!0},r.a.createElement(s.Panel,{backgroundColor:s.InfluxColors.Onyx},r.a.createElement(s.Panel.Body,null,r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(s.Dropdown.Menu,{className:"flows-endpoints--dropdown"},r.a.createElement(s.Dropdown.Item,{selected:!0},w.a[o.endpoint].name))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(w.a[o.endpoint].readOnlyComponent))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.SpinnerContainer,{loading:C.RemoteDataState.Loading,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)})},r.a.createElement(N,{text:o.message,onChangeText:()=>{},readOnly:!0}))))))))))))):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))))};t.default=e=>{e({type:"notification",family:"output",priority:1,component:I,readOnlyComponent:R,featureFlag:"flow-panel--notification",button:"Alert",initial:{interval:"10m",offset:"0s",thresholds:[{type:"greater",value:0}],message:"${strings.title(v: r._type)} for ${r._source_measurement} triggered at ${time(v: r._source_timestamp)}!",endpoint:"slack",endpointData:{url:"https://hooks.slack.com/services/X/X/X"}},visual:(e,t)=>t})}},53:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s}));const a=100,r=100,o=100,i=100,s=500},530:function(e,t,n){"use strict";n.r(t);var a=n(79),r=n(115),o=n(2),i=n.n(o),s=n(3),l=n(21),c=n(92),u=n(72);const d=({func:e})=>{let t=i.a.createElement("div",{className:"flux-function-docs--arguments"},"None");return e.args.length>0&&(t=i.a.createElement(i.a.Fragment,null,e.args.map(e=>i.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},i.a.createElement("span",null,e.name,":"),i.a.createElement("span",null,e.type),i.a.createElement("div",null,e.desc))))),i.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${e.name}`},i.a.createElement(s.DapperScrollbars,{autoHide:!1},i.a.createElement("div",{className:"flux-toolbar--popover"},i.a.createElement("article",{className:"flux-functions-toolbar--description"},i.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),i.a.createElement("span",null,e.desc)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),i.a.createElement("div",{className:"flux-function-docs--snippet"},t)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),i.a.createElement("div",{className:"flux-function-docs--snippet"},e.example)),i.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",i.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.link},"Flux Docs"),"."))))},m=({func:e,onClickFunction:t,testID:n})=>{const a=Object(o.createRef)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Popover,{appearance:s.Appearance.Outline,enableDefaultStyles:!1,position:s.PopoverPosition.ToTheLeft,triggerRef:a,showEvent:s.PopoverInteraction.Hover,hideEvent:s.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>i.a.createElement(d,{func:e})}),i.a.createElement("dd",{ref:a,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},i.a.createElement("code",null,e.name),i.a.createElement(s.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:s.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:s.ComponentColor.Primary})))};m.defaultProps={testID:"flux-function"};var p=m;var h=({onSelect:e})=>{const[t,n]=Object(o.useState)(""),a=Object(o.useCallback)(e=>{n(e.target.value)},[t,n]),r=Object(o.useMemo)(()=>u.b.filter(e=>!t.length||e.name.toLowerCase().includes(t.toLowerCase())).reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),[t]);return Object(o.useMemo)(()=>{let n;return n=Object.keys(r).length?Object.entries(r).map(([t,n])=>i.a.createElement("dl",{className:"flux-toolbar--category",key:t},i.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map(t=>i.a.createElement(p,{onClickFunction:e,key:`${t.name}_${t.desc}`,func:t,testID:t.name})))):i.a.createElement(s.EmptyState,{size:s.ComponentSize.ExtraSmall},i.a.createElement(s.EmptyState.Text,null,"No functions match your search")),i.a.createElement("div",{className:"flux-toolbar"},i.a.createElement("div",{className:"flux-toolbar--search"},i.a.createElement(s.Input,{type:s.InputType.Text,icon:s.IconFont.Search,placeholder:"Filter Functions...",onChange:a,value:t,testID:"flux-toolbar-search--input"})),i.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},n))},[t,e])},f=(n(249),n(8));const g=Object(o.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var b=({Context:e})=>{const{id:t,data:n,update:a}=Object(o.useContext)(l.a),{hideSub:r,id:u,show:d,showSub:m}=Object(o.useContext)(c.a),[p,b]=Object(o.useState)(null),{queries:v,activeQuery:y}=n,x=v[y],w=Object(o.useCallback)(e=>{const t=v.slice();t[y]=Object.assign(Object.assign({},v[y]),{text:e}),a({queries:t})},[a,v,y]),E=Object(o.useCallback)(e=>{if(!p)return;const t=p.getPosition(),n=x.text.split("\n");let a=t.lineNumber,r="";(n[a]||n[n.length-1]).trim()&&(a=t.lineNumber+1);const[o]=p.getVisibleRanges();let i=a>o.endLineNumber;1===t.lineNumber&&1===t.column&&(i=!0,a=o.endLineNumber+1),r=i?`\n  |> ${e.example}`:`  |> ${e.example}\n`,"from"!==e.name&&"union"!==e.name||(r=`\n${e.example}\n`);const s=[{range:new window.monaco.Range(a,1,a,1),text:r}];e.package&&!p.getModel().getValue().includes(`import "${e.package}"`)&&s.unshift({range:new window.monaco.Range(1,1,1,1),text:`import "${e.package}"\n`}),p.executeEdits("",s),w(p.getValue())},[p,x.text]),S=i.a.createElement(s.Button,{text:"Functions",icon:s.IconFont.Function,onClick:()=>{u===t?(Object(f.a)("Flux Panel (Notebooks) - Toggle Functions - Off"),r()):(Object(f.a)("Flux Panel (Notebooks) - Toggle Functions - On"),d(t),m(i.a.createElement(h,{onSelect:E})))},color:s.ComponentColor.Default,titleText:"Function Reference",className:"flows-config-function-button"});return i.a.createElement(e,{controls:S},i.a.createElement(o.Suspense,{fallback:i.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:i.a.createElement(s.TechnoSpinner,null)})},i.a.createElement(g,{script:x.text,onChangeScript:w,onSubmitScript:()=>{},setEditorInstance:b,wrapLines:"on",autogrow:!0})))};const v=Object(o.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(8)]).then(n.bind(null,1491)));var y=({Context:e})=>{const{data:t}=Object(o.useContext)(l.a),{queries:n,activeQuery:a}=t,r=n[a];return i.a.createElement(e,null,i.a.createElement(o.Suspense,{fallback:i.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:i.a.createElement(s.TechnoSpinner,null)})},i.a.createElement(v,{script:r.text,onChangeScript:()=>{},onSubmitScript:()=>{},autogrow:!0,readOnly:!0,wrapLines:"on"})))};t.default=e=>{e({type:"rawFluxEditor",family:"inputs",priority:0,component:b,readOnlyComponent:y,featureFlag:"flow-panel--raw-flux",button:"Flux Script",initial:{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}]},source:(e,t)=>{try{const n=Object(a.parse)(t),o=Object(a.parse)(e.queries[e.activeQuery].text),i=n.body.map(e=>e.location.source).join("\n");return o.body.length?(o.imports=Object.values(n.imports.concat(o.imports).reduce((e,t)=>(e[t.path.value]=t,e),{})),Object(r.c)(o,e=>!!Object.keys(e.comments||{}).length).forEach(e=>{delete e.comments}),Object(r.c)(o,e=>"Identifier"===e.type&&"__PREVIOUS_RESULT__"===e.name).forEach(e=>{e.name=i}),Object(a.format_from_js_file)(o)):""}catch(e){return}}})}},531:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(15),s=n.n(i),l=n(21);var c=()=>{const{data:e,update:t}=Object(a.useContext)(l.a);return r.a.createElement(o.SelectGroup,null,r.a.createElement(o.SelectGroup.Option,{active:"edit"===e.mode,onClick:()=>t({mode:"edit"}),value:"edit",id:"edit"},"Edit"),r.a.createElement(o.SelectGroup.Option,{active:"preview"===e.mode,onClick:()=>t({mode:"preview"}),value:"preview",id:"preview"},"Preview"))},u=n(114),d=n(65);const m=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(19)]).then(n.bind(null,2531)));var p=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(l.a),{flow:i}=Object(a.useContext)(d.a);let p=r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(m,{script:t.text,onChangeScript:e=>{n({text:e})},autogrow:!0}));if(i.readOnly||"preview"===t.mode){const e=s()("flow-panel--markdown markdown-format");p=r.a.createElement("div",{className:e},r.a.createElement(u.a,{text:t.text}))}const h=r.a.createElement(c,null);return r.a.createElement(e,{controls:h},p)};var h=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-panel--markdown markdown-format"},r.a.createElement(u.a,{text:t.text})))};n(467),t.default=e=>{e({type:"markdown",family:"passThrough",component:p,readOnlyComponent:h,featureFlag:"flow-panel--markdown",button:"Note",initial:()=>({text:"",mode:"edit"})})}},532:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(21);var i=({visible:e})=>{const{data:t}=Object(a.useContext)(o.a),n=t.uri.split(":");return Object(a.useMemo)(()=>e&&r.a.createElement("iframe",{src:`https://open.spotify.com/embed/${n[1]}/${n[2]}`,width:"600",height:"80",frameBorder:"0",allow:"encrypted-media"}),[e,n[1],n[2]])},s=n(3);var l=({visible:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a);return e?r.a.createElement("div",{className:"flow-spotify--editor"},r.a.createElement("label",null,"Spotify URI"),r.a.createElement(s.Input,{value:t.uri,onChange:e=>{n({uri:e.target.value})}})):null},c=n(92);var u=({Context:e})=>{const{id:t,data:n}=Object(a.useContext)(o.a),{register:s}=Object(a.useContext)(c.a),[u,d]=Object(a.useState)(!1),m=()=>{d(!u)};Object(a.useEffect)(()=>{t&&s(t,[{title:"Controls",actions:[{title:"Edit Spotify URI",action:m}]}])},[t,m]);const p=u||!n.uri;return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-spotify"},r.a.createElement(l,{visible:p}),r.a.createElement(i,{visible:!p})))};n(484),t.default=e=>{e({type:"spotify",family:"test",priority:-1,featureFlag:"flow-panel--spotify",button:"Music",component:u,initial:{uri:"spotify:track:55A8N3HXzIecctUSvru3Ch"}})}},533:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(21),i=n(3),s=n(5),l=(n(341),n(42));var c=({Context:e})=>{const{update:t,data:n,results:c,loading:u}=Object(a.useContext)(o.a),d=(e,a)=>{if((n.mappings||{})[e]&&a.name===e&&!0===a.visible)return delete n.mappings[e],void t({mappings:Object.assign({},n.mappings)});(n.mappings||{})[e]&&n.mappings[e].name===a.name&&n.mappings[e].visible===a.visible||(n.mappings||(n.mappings={}),n.mappings[e]=a,t({mappings:Object.assign({},n.mappings)}))};if(!c.parsed||!c.parsed.table){let t=l.g;return u===s.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const m=Object.entries(n.mappings||{}).reduce((e,[t,n])=>(e[t]&&(e[t]=n),e),Object.keys(c.parsed.table.columns).reduce((e,t)=>(e[t]={name:t,visible:!0},e),{})),p=Object.entries(m).map(([e,t])=>r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{d(e,Object.assign(Object.assign({},t),{visible:!t.visible}))},active:t.visible}),r.a.createElement("div",{className:"flow-columns--input"},r.a.createElement("input",{type:"text",value:t.name,onChange:n=>{d(e,Object.assign(Object.assign({},t),{name:n.target.value}))},placeholder:"Column Name",autoComplete:"off",autoCorrect:"off",spellCheck:!1}),r.a.createElement(i.Icon,{glyph:i.IconFont.Pencil,className:"flow-panel--title-icon"}))));return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},p))};var u=({Context:e})=>{const{data:t,loading:n,results:c}=Object(a.useContext)(o.a);if(!c.parsed||!c.parsed.table){let t=l.g;return n===s.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const u=Object.entries(t.mappings||{}).reduce((e,[t,n])=>(e[t]&&(e[t]=n),e),Object.keys(c.parsed.table.columns).reduce((e,t)=>(e[t]={name:t,visible:!0},e),{})),d=Object.entries(u).map(([e,t])=>{var n;return r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{},active:t.visible,disabled:!0}),r.a.createElement("p",{className:"flow-columns--text"},null!==(n=t.name)&&void 0!==n?n:"Column Name"))});return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},d))};t.default=e=>{e({type:"columnEditor",family:"transform",component:c,button:"Column Editor",initial:{mappings:{}},readOnlyComponent:u,visual:(e,t)=>`${t} |> limit(n: 100)`,source:(e,t)=>{if(!Object.values(e.mappings).length)return t;const n=Object.entries(e.mappings).reduce((e,[t,n])=>n.visible?(e.renamed.push(`"${t}": "${n.name}"`),e):(e.dropped.push(`"${t}"`),e),{renamed:[],dropped:[]}),a=t.split("|>");let r=a[0];return a.slice(1).map(e=>{-1===e.indexOf("yield")?r+=`|>${e}`:(n.renamed.length&&(r+=`|> rename(columns: {${n.renamed.join(", ")}})\n`),n.dropped.length&&(r+=`|> drop(columns: [${n.dropped.join(", ")}])\n`),r+=`|> ${e}`)}),r}})}},534:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(28),s=n(21),l=n(136);const c=i.e.map(e=>e.name);var u=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),u=Object(a.useMemo)(()=>t.functions&&t.functions.length?t.functions.map(e=>e.name):[{name:"mean"}].map(e=>e.name),[t.functions]),d=Object(a.useCallback)(e=>{const t=u.map(e=>({name:e}));let a=!1,r=t.findIndex(t=>t.name===e);for(;-1!==r;)a=!0,t.splice(r,1),r=t.findIndex(t=>t.name===e);a||t.push({name:e}),t.length||t.push({name:"mean"}),n({functions:t})},[u,n]);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(o.MultiSelectDropdown,{emptyText:"Select",style:{width:"250px"},options:c,selectedOptions:u,onSelect:d,buttonColor:o.ComponentColor.Secondary,buttonIcon:o.IconFont.BarChart})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(l.a,{onSubmit:e=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{period:e})})},placeholder:"ex: 3h30s",value:t.aggregateWindow.period,suggestions:i.d,submitInvalid:!1,status:o.ComponentStatus.Default}),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(o.Toggle,{id:"isFillValues",type:o.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{fillValues:!t.aggregateWindow.fillValues})})},color:o.ComponentColor.Primary,size:o.ComponentSize.ExtraSmall}),r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(o.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};var d=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(o.Dropdown,{button:(e,n)=>r.a.createElement(o.Dropdown.Button,{onClick:n,active:e,icon:o.IconFont.BarChart,color:o.ComponentColor.Secondary,status:o.ComponentStatus.Disabled},t.functions.map(e=>e.name).join(", ")),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(o.Input,{name:"period",type:o.InputType.Text,placeholder:"ex: 3h30s",value:t.aggregateWindow.period,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium}),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(o.Toggle,{id:"isFillValues",type:o.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{},color:o.ComponentColor.Primary,size:o.ComponentSize.ExtraSmall}),r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(o.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};n(464),t.default=e=>{e({type:"downsample",family:"transform",component:u,readOnlyComponent:d,featureFlag:"flow-panel--downsample",button:"Downsample",initial:{functions:[{name:"mean"}],aggregateWindow:{period:"",fillValues:!1}},source:(e,t)=>e.aggregateWindow.period&&e.functions.length?t+e.functions.map(t=>{const n=t&&i.e.find(e=>e.name===t.name);if(!n)return"";const a=e.aggregateWindow.period;return n.flux("auto"!==a&&a?a:"v.windowPeriod",e.aggregateWindow.fillValues)}).join(""):t})}},535:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(586),s=n(21),l=n(9),c=n(3);n(344);const u=[{label:"US West (Oregon)",group:"Amazon Web Services",value:"https://us-west-2-1.aws.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Amazon Web Services",value:"https://us-east-1-1.aws.cloud2.influxdata.com"},{label:"Europe West (Frankfurt)",group:"Amazon Web Services",value:"https://eu-central-1-1.aws.cloud2.influxdata.com"},{label:"US Central (Iowa)",group:"Google Cloud Platform",value:"https://us-central1-1.gcp.cloud2.influxdata.com"},{label:"Europe West (Belgium)",group:"Google Cloud Platform",value:"https://europe-west1-1.gcp.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Microsoft Azure",value:"https://eastus-1.azure.cloud2.influxdata.com"},{label:"Europe West (Amsterdam)",group:"Microsoft Azure",value:"https://westeurope-1.azure.cloud2.influxdata.com"},{label:"Tools Cluster",group:"Development",flag:"local-dev",value:"https://influxdb.aws.influxdata.io"},{label:"Local Kind Cluster",group:"Development",flag:"local-dev",value:"https://twodotoh.a.influxcloud.dev.local"},{label:"Current Region",value:"self"},{label:"Self Hosted",value:"self-hosted"}];var d=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),d=Object(o.e)(l.a),[m,p]=Object(a.useState)(!1),h=Object(o.e)(i.a),f=e=>{"self-hosted"===e.value?n({source:"custom",region:"https://localhost:8086"}):"self"===e.value?n({source:"self",region:window.location.origin}):n({source:"static",region:e.value})},[g,b]=Object(a.useMemo)(()=>{const e=JSON.parse(JSON.stringify(u)).reduce((e,n)=>n.flag&&!h[n.flag]?e:(n.value===t.region&&(e.selected=n),n.group?(e[n.group]||(e[n.group]={label:n.group,options:[]}),e[n.group].options.push(n),delete n.group,e):(e["no-group"].push(n),e)),{"no-group":[]}),a=Object.entries(e).reduce((e,[t,n])=>"selected"===t?e:"no-group"===t?e.concat(n):(e.push(n),e),[]);return"custom"===t.source?[a,u[u.length-1]]:"self"===t.source?[a,u[u.length-2]]:e.selected?[a,e.selected]:(n({source:"self",region:window.location.origin}),t.source="self",t.region=window.location.origin,[a,u[u.length-2]])},[t.source,t.region,h]);return Object(a.useEffect)(()=>{t.region!==window.location.origin?t.region&&t.token&&fetch(`${t.region}/api/v2/orgs`,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9",Authorization:`Token ${t.token}`},body:null,method:"GET",mode:"cors"}).then(e=>{200===e.status?(m&&p(!1),e.json().then(e=>{(e.orgs||[]).length&&n({org:e.orgs[0].id})})):p(!0)}):n({org:d.id})},[t.region,t.token]),r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},b.label),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e},g.reduce((e,n)=>{if(!n.options){const a="self"===t.source&&"self"===n.value||"custom"===t.source&&"custom"===n.value||t.region===n.value;return e.push(r.a.createElement(c.Dropdown.Item,{value:n.value,key:n.value,onClick:()=>f(n),selected:a},n.label)),e}return e.push(r.a.createElement(c.Dropdown.Divider,{key:n.label,text:n.label})),e.concat(n.options.map(e=>{const n="self"===t.source&&"self"===e.value||"custom"===t.source&&"custom"===e.value||t.region===e.value;return r.a.createElement(c.Dropdown.Item,{value:e.value,key:e.value,onClick:()=>f(e),selected:n},e.label)}))},[]))}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,onChange:e=>n({region:e.target.value}),size:c.ComponentSize.Medium,status:"custom"!==t.source?c.ComponentStatus.Disabled:c.ComponentStatus.Default}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Text,value:t.token,size:c.ComponentSize.Medium,onChange:e=>n({token:e.target.value})})))),!!m&&r.a.createElement("div",{className:"region-panel--eror"},"could not validate token against region"))};var m=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a),n=u.filter(e=>e.value===t.region)[0].label;return r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,status:c.ComponentStatus.Disabled,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},n),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e})}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Password,value:t.token,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled})))))};t.default=e=>{e({type:"region",family:"inputs",component:d,featureFlag:"flow-panel--remote",button:"Remote Database",description:"Queries a remote region using a token",initial:{type:"static",region:"",token:"",org:""},readOnlyComponent:m,scope:(e,t)=>Object.assign(Object.assign({},t),{region:e.region,token:e.token,org:e.org})})}},536:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(79),s=n(360),l=n(21),c=n(76),u=n(115);n(345);var d=({Context:e})=>{var t,n,d,m;const{id:p,data:h,update:f}=Object(a.useContext)(l.a),{simplify:g,getPanelQueries:b}=Object(a.useContext)(c.a);let v="",y="";h.interval?h.interval!==(null===(t=h.interval.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===t?void 0:t.join(""))&&(v="Invalid Time"):v="Required",h.offset&&h.offset!==(null===(n=h.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))&&(y="Invalid Time");const x=null!==(m=null===(d=b(p,!0))||void 0===d?void 0:d.source)&&void 0!==m?m:"",w=Object(a.useMemo)(()=>!!Object.keys(Object(u.d)(Object(i.parse)(g(x)),e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{})).length,[x]),E=Object(a.useMemo)(()=>{if(w)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))},[w]),S=Object(a.useCallback)(()=>{const e=Object(i.parse)(g(x)),t=Object(u.d)(e,e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name).reduce((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e},e),e},{});t.name||(t.name=`"Notebook Task for ${p}"`),h.interval&&!v&&(t.every=h.interval),h.offset&&!y&&(t.offset=h.offset);const n=Object.entries(t).map(([e,t])=>`${e}: ${t}`).join(",\n"),a=Object(i.parse)(`option task = {${n}}\n`);return e.body.unshift(a.body[0]),Object(i.format_from_js_file)(e)},[x,h.interval,h.offset]),C=r.a.createElement(s.a,{generate:S,text:"Export as Task",type:"task"});return r.a.createElement(e,{persistentControls:C},r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,{basis:168,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Every",required:!0,errorMessage:v},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:h.interval,onChange:e=>{f({interval:e.target.value})},status:v?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Offset",required:!1,errorMessage:y},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 20m",value:h.offset,onChange:e=>{f({offset:e.target.value})},status:y?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium})))),E)};var m=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,{basis:168,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Every",required:!0},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,value:t.interval,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Offset",required:!1},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 20m",value:t.offset,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium})))))};t.default=e=>{e({type:"schedule",family:"output",priority:1,component:d,readOnlyComponent:m,featureFlag:"flow-panel--schedule",button:"Task"})}},537:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(143),i=n(21),s=n(362),l=n(8);var c=({Context:e})=>{const{id:t,data:n,update:c}=Object(a.useContext)(i.a);return r.a.createElement(o.b,{panel:t},r.a.createElement(e,null,r.a.createElement("div",{className:"data-source--controls"},r.a.createElement(s.a,{selected:n.bucket,onSelect:e=>{Object(l.a)("Updated Bucket",{context:"to bucket"}),c({bucket:e})},style:{width:"250px",flex:"0 0 250px"}}))))},u=n(3);var d=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(u.Dropdown,{button:(e,n)=>{var a,o;return r.a.createElement(u.Dropdown.Button,{onClick:n,active:e,icon:u.IconFont.BucketSolid,status:u.ComponentStatus.Disabled},null!==(o=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==o?o:"No Bucket Selected")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))))};t.default=e=>{e({type:"toBucket",family:"output",priority:0,component:c,readOnlyComponent:d,featureFlag:"flow-panel--to-bucket",button:"Output to Bucket",source:(e,t,n)=>{var a;return n.withSideEffects&&(null==e?void 0:e.bucket)?`${t} |> to(bucket: "${null===(a=e.bucket)||void 0===a?void 0:a.name.trim()}")`:t}})}},538:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(71),s=n(102),l=n(8),c=n(92),u=n(21);const d=()=>{const{data:e,update:t,results:n}=Object(a.useContext)(u.a),o=Object(a.useCallback)(n=>{t({properties:Object.assign(Object.assign({},e.properties),n)})},[e.properties,t]);return r.a.createElement(s.c,{properties:e.properties,results:n.parsed,update:o})};var m=()=>{const{id:e,data:t,range:n,update:m,results:p}=Object(a.useContext)(u.a),{hideSub:h,id:f,show:g,showSub:b}=Object(a.useContext)(c.a),v=e=>{Object(l.a)("notebook_change_visualization_type",{viewType:e}),m({properties:s.a[e].initial})};Object(a.useEffect)(()=>{let e;"custom"===n.type?e=Object(i.g)(Math.round((Date.parse(n.upper)-Date.parse(n.lower))/360)):"selectable-duration"===n.type&&(e=Object(i.g)(n.windowPeriod)),e&&e!==t.period&&m({period:e})},[n,m,t.period]);const y=p.parsed&&Object.entries(p.parsed).length,x=r.a.createElement(o.Button,{text:"Configure",icon:o.IconFont.CogThick,onClick:()=>{e===f?h():(g(e),b(r.a.createElement(u.b,{id:e},r.a.createElement(d,null))))},status:y?o.ComponentStatus.Default:o.ComponentStatus.Disabled,color:o.ComponentColor.Default,titleText:y?"Configure Visualization":"No data to visualize yet",className:"flows-config-visualization-button"});return"simple-table"===t.properties.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px"}},"Limited to most recent 100 results per series"),r.a.createElement(s.d,{viewType:t.properties.type,onUpdateType:v}),x):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,{viewType:t.properties.type,onUpdateType:v}),x)},p=n(5),h=n(76),f=n(101),g=n(42),b=n(23);var v=({Context:e})=>{var t,i;const{id:d,data:v,range:y,loading:x,results:w}=Object(a.useContext)(u.a),{basic:E,getPanelQueries:S}=Object(a.useContext)(h.a),{register:C}=Object(a.useContext)(c.a),k=!!((null===(t=null==w?void 0:w.parsed)||void 0===t?void 0:t.table)||[]).length,O=(null===(i=S(d,!0))||void 0===i?void 0:i.source)||"",D=()=>{Object(l.a)("CSV Download Initiated"),E(O).promise.then(e=>{"SUCCESS"===e.type&&Object(f.b)(e.csv,"influx.data",".csv","text/csv")})},T=Object(a.useMemo)(()=>x===p.RemoteDataState.Loading?"Loading":x===p.RemoteDataState.NotStarted?g.g:"No Data Returned",[x]);return Object(a.useEffect)(()=>{d&&C(d,[{title:"Visualization",actions:[{title:"Download as CSV",disable:!k,action:D},{title:"Download As Image",action:()=>(e=>{const t=document.getElementById(e);n.e(15).then(n.t.bind(null,2410,7)).then(e=>e.default(t).then(e=>{Object(f.a)(e.toDataURL(),"visualization.png")}))})(d),disable:!Object(b.c)("pdfImageDownload")},{title:"Download As PDF",action:()=>(e=>{const t=document.getElementById(e);n.e(15).then(n.t.bind(null,2410,7)).then(e=>e.default(t).then(e=>{n.e(74).then(n.bind(null,2533)).then(t=>{const n=new t.default({orientation:"l",unit:"pt",format:[e.width,e.height]});n.addImage(e.toDataURL("image/png"),"PNG",0,0,e.width,e.height),n.save("visualization.pdf")})}))})(d),disable:!Object(b.c)("pdfImageDownload")}]}])},[d,v.properties,w.parsed,y]),w.error?r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"})))):k?r.a.createElement(e,{controls:r.a.createElement(m,null),resizes:!0},r.a.createElement("div",{className:"flow-visualization",id:d},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(s.b,{loading:x,properties:v.properties,result:w.parsed,timeRange:y})))):r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:d},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.BarChart,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},T))))},y=(n(487),n(79));t.default=e=>{e({type:"visualization",family:"passThrough",component:v,button:"Graph",initial:{properties:s.a.xy.initial},visual:(e,t)=>{if(!t)return"";try{if(!Object(y.parse)(t).body.length)return""}catch(e){return""}return"simple-table"===e.properties.type?`${t} |> limit(n: 100)`:"single-stat"===e.properties.type||"gauge"===e.properties.type?`${t} |> last()`:t}})}},539:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),o=n.n(r),i=n(3),s=n(21);var l=()=>{const{data:e,update:t}=Object(r.useContext)(s.a),n=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},a=e=>{n("auth",e)},l=e=>{n("username",e.target.value)},c=e=>{n("password",e.target.value)},u=e=>{n("token",e.target.value)};let d;return"basic"===e.endpointData.auth?d=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Form.Element,{label:"Username"},o.a.createElement(i.Input,{name:"username",type:i.InputType.Text,value:e.endpointData.username,onChange:l,size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Password"},o.a.createElement(i.Input,{name:"password",type:i.InputType.Text,value:e.endpointData.password,onChange:c,size:i.ComponentSize.Medium}))):"bearer"===e.endpointData.auth&&(d=o.a.createElement(i.Form.Element,{label:"Token"},o.a.createElement(i.Input,{name:"token",type:i.InputType.Text,value:e.endpointData.token,onChange:u,size:i.ComponentSize.Medium}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Endpoint URL"},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,onChange:e=>{n("url",e.target.value)},size:i.ComponentSize.Medium}))),o.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},o.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},o.a.createElement(i.SelectGroup,null,o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"none",active:"none"===e.endpointData.auth,onClick:a},"None"),o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"basic",active:"basic"===e.endpointData.auth,onClick:a},"Basic"),o.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",value:"bearer",active:"bearer"===e.endpointData.auth,onClick:a},"Bearer"))))),d)};var c=()=>{const{data:e}=Object(r.useContext)(s.a);let t;return"basic"===e.endpointData.auth?t=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Form.Element,{label:"Username"},o.a.createElement(i.Input,{name:"username",type:i.InputType.Text,value:e.endpointData.username,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Password"},o.a.createElement(i.Input,{name:"password",type:i.InputType.Text,value:e.endpointData.password,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))):"bearer"===e.endpointData.auth&&(t=o.a.createElement(i.Form.Element,{label:"Token"},o.a.createElement(i.Input,{name:"token",type:i.InputType.Text,value:e.endpointData.token,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Endpoint URL"},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),o.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},o.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},o.a.createElement(i.SelectGroup,null,o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"none",onClick:()=>{},active:"none"===e.endpointData.auth,disabled:!0},"None"),o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"basic",onClick:()=>{},active:"basic"===e.endpointData.auth,disabled:!0},"Basic"),o.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",value:"bearer",onClick:()=>{},active:"bearer"===e.endpointData.auth,disabled:!0},"Bearer"))))),t)};t.default=e=>{e({type:"http",name:"HTTP Post",data:{auth:"none",url:"https://www.example.com/endpoint"},component:l,readOnlyComponent:c,generateImports:()=>["http","json"].map(e=>`import "${e}"`).join("\n"),generateTestImports:()=>["array","http","json"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e),[]).join(", ");return`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      body = {r with _version: 1}\n      return {headers: {${n}}, data: json["encode"](v: body)}\n  }))`},generateTestQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e),[]).join(", ");return`http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      return {headers: {${n}}, data: json["encode"](v: "${a.b}")}\n  })\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`}})}},540:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),o=n.n(r),i=n(4),s=n(3),l=n(21),c=n(9);var u=()=>{const{data:e,update:t}=Object(r.useContext)(l.a),n=Object(i.e)(c.a),a=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},u=`${window.location.origin}/org/${n.id}/alert-history`;return o.a.createElement(s.FlexBox,{className:"http-endpoint--flex",direction:s.FlexDirection.Column},o.a.createElement(s.Form.Element,{label:"Client URL"},o.a.createElement(s.Input,{name:"url",type:s.InputType.Text,placeholder:u,value:e.endpointData.url,onChange:e=>{a("url",e.target.value)},size:s.ComponentSize.Medium})),o.a.createElement(s.Form.Element,{label:"Routing Key"},o.a.createElement(s.Input,{name:"key",type:s.InputType.Password,value:e.endpointData.key,onChange:e=>{a("key",e.target.value)},size:s.ComponentSize.Medium})))};var d=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement(s.FlexBox,{className:"http-endpoint--flex",direction:s.FlexDirection.Column},o.a.createElement(s.Form.Element,{label:"Client URL"},o.a.createElement(s.Input,{name:"url",type:s.InputType.Text,value:e.endpointData.url,size:s.ComponentSize.Medium,status:s.ComponentStatus.Disabled})),o.a.createElement(s.Form.Element,{label:"Routing Key"},o.a.createElement(s.Input,{name:"key",type:s.InputType.Password,value:e.endpointData.key,size:s.ComponentSize.Medium,status:s.ComponentStatus.Disabled})))};t.default=e=>{e({type:"pagerduty",name:"Pager Duty",data:{url:"",key:"",level:"warning"},component:u,readOnlyComponent:d,generateTestImports:()=>["array","pagerduty","influxdata/influxdb/secrets"].map(e=>`import "${e}"`).join("\n"),generateImports:()=>["pagerduty","influxdata/influxdb/secrets"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n  |> set(key: "_notebook_link", value: "${window.location.href}")  \n  |> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n    crit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: pagerduty["endpoint"]()(mapFn: (r) => ({\n        routingKey: "${e.key}",\n        client: "influxdata",\n        clientURL: "${e.url}",\n        class: r._check_name,\n        group: r["_source_measurement"],\n        severity: pagerduty["severityFromLevel"](level: "${e.level}"),\n        eventAction: pagerduty["actionFromLevel"](level: "${e.level}"),\n        source: notification["_notification_rule_name"],\n        summary: r["_message"],\n        timestamp: time(v: r["_source_timestamp"]),\n  })))`,generateTestQuery:e=>`pagerduty["endpoint"]()(mapFn: (r) => ({\n      routingKey: "${e.key}",\n      client: "influxdata",\n      clientURL: "${e.url}",\n      class: r._check_name,\n      group: r["_source_measurement"],\n      severity: "critical",\n      eventAction: "trigger",\n      source: "Notebook Generated Test Notification",\n      summary: "${a.b}",\n      timestamp: time(v: r["_source_timestamp"])\n}))\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")\n`})}},541:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(2),o=n.n(r),i=n(3),s=n(21);var l=()=>{const{data:e,update:t}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{url:n.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},o.a.createElement(i.Input,{name:"channel",type:i.InputType.Text,value:e.endpointData.channel,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{channel:n.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Message Color"},o.a.createElement(i.ColorPicker,{color:e.endpointData.color,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{color:n})})}})))};var c=()=>{const{data:e}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},o.a.createElement(i.Input,{name:"channel",type:i.InputType.Text,value:e.endpointData.channel,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Message Color"},"(",o.a.createElement(i.Input,{name:"color",type:i.InputType.Text,value:e.endpointData.color,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}),")"))};t.default=e=>{e({type:"slack",name:"Slack",data:{url:"https://hooks.slack.com/services/X/X/X",channel:"",color:"#34BB55"},component:l,readOnlyComponent:c,generateImports:()=>["slack"].map(e=>`import "${e}"`).join("\n"),generateTestImports:()=>["array","slack"].map(e=>`import "${e}"`).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: slack["endpoint"](url: "${e.url}")(mapFn: (r) => ({\n      channel: "${e.channel||""}",\n      text: "\${ r._message }",\n      color: "${e.color||"#34BB55"}"\n    }))\n  )`,generateTestQuery:e=>`\n  slack.message(\n    url: "${e.url}",\n    channel: "${e.channel||""}",\n    text: "${a.b}",\n    color: "${e.color||"#34BB55"}"\n  )\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`})}},542:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(21);var s=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"Missing definition for ",r.a.createElement("span",null,t.type)),r.a.createElement("p",null,"The UI doesn't know how to display this panel. Delete this panel to remove this message"))))};n(471),t.default=e=>{e({type:"missing",family:"system",priority:1,component:s,initial:{},generateFlux:(e,t,n,a)=>{n()}})}},543:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(8),i=n(3),s=n(21),l=n(76);const c={airSensor:"Sample Air Sensor Data",birdMigration:"Bird Migration",noaa:"NOAA National Buoy Data Center (NDBC)",usgs:"USGS Earthquake Data"};var u=({Context:e})=>{const[t,n]=Object(a.useState)({}),{data:u,update:d}=Object(a.useContext)(s.a),{query:m}=Object(a.useContext)(l.a),{csvType:p,url:h}=u;return Object(a.useEffect)(()=>{m('import "influxdata/influxdb/sample"\n     sample.list()').then(e=>{const t=[...e.parsed.table.columns.name.data,"Custom"],a=e.parsed.table.columns.url.data;n(t.reduce((e,t,n)=>(c[t]&&(e[t]={url:a[n],label:c[t],name:t}),"Custom"===t&&(e[t]={url:"",label:"Custom",name:"Custom"}),e),{}))})},[]),r.a.createElement(e,null,r.a.createElement("div",{className:"remote-csv-container","data-testid":"csvimporturl"},r.a.createElement("div",{className:"remote-csv-card"},r.a.createElement(i.Dropdown,{testID:"remote-csv--dropdown",className:"remote-csv--dropdown",style:{width:"220px"},button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,color:i.ComponentColor.Primary,testID:"dropdown-button--remote-csv"},p.length?p:"Import Sample CSV"),menu:e=>r.a.createElement(i.Dropdown.Menu,{onCollapse:e},Object.values(t).map(e=>r.a.createElement(i.Dropdown.Item,{testID:`remote-csv--dropdown-item-${e.label}`,id:e.label,key:e.label,value:e.label,onClick:()=>((e,t,n)=>{Object(o.a)("Remote CSV Panel (Notebooks)- Selected Option: "+n),d({csvType:e,url:null!=t?t:"",sampleName:n})})(e.label,e.url,e.name),selected:e.label===p},e.label)))}),r.a.createElement("div",{"data-testid":"csvimporturl",className:"remote-csv-url-input"},r.a.createElement(i.Input,{type:i.InputType.Text,value:h,onChange:e=>{d({url:e.target.value})},status:p.length&&"Custom"!==p?i.ComponentStatus.Disabled:i.ComponentStatus.Default})))))};n(481),t.default=e=>{e({type:"remoteCSV",family:"inputs",priority:1,component:u,featureFlag:"flowPanelRemoteCsv",button:"Remote CSV",initial:{csvType:"",url:"",sampleName:""},source:e=>{var t;if(!(null===(t=e.url)||void 0===t?void 0:t.length))return"";return`${"Custom"===e.sampleName?`import "experimental/csv"\n      data = csv.from(url: "${e.url}")`:`import "influxdata/influxdb/sample"\n      data = sample.data(\n        set: "${e.sampleName}"\n      )`}\n      csvRange = data\n          |> keep(columns: ["_time"])\n          |> group()\n          |> reduce(\n              fn: (r, accumulator) => ({\n                  min: if r._time < accumulator.min then r._time else accumulator.min,\n                  max: if r._time > accumulator.max then r._time else accumulator.max,\n              }),\n              identity: {min: now(), max: time(v: 0)},\n          )\n          |> findRecord(fn: (key) => true, idx: 0)\n\n      data\n          |> range(start: csvRange.min, stop: csvRange.max)`}})}},544:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(102),s=n(5),l=n(21),c=n(76),u=n(92),d=n(8),m=n(101),p=n(42);var h=({Context:e})=>{var t,n;const{id:h,data:f,range:g,loading:b,results:v}=Object(a.useContext)(l.a),{basic:y,getPanelQueries:x}=Object(a.useContext)(c.a),{register:w}=Object(a.useContext)(u.a),E=!!((null===(t=null==v?void 0:v.parsed)||void 0===t?void 0:t.table)||[]).length,S=(null===(n=x(h,!0))||void 0===n?void 0:n.source)||"",C=()=>{Object(d.a)("CSV Download Initiated"),y(S).promise.then(e=>{"SUCCESS"===e.type&&Object(m.b)(e.csv,"influx.data",".csv","text/csv")})},k=Object(a.useMemo)(()=>b===s.RemoteDataState.Loading?"Loading":b===s.RemoteDataState.NotStarted?p.g:"No Data Returned",[b]);if(Object(a.useEffect)(()=>{h&&w(h,[{title:"Table",actions:[{title:"Download as CSV",disable:!E,action:C}]}])},[h,f.properties,v.parsed,g]),v.error)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"}))));if(!E)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:h},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.BarChart,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},k))));const O=r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px"}},"Limited to most recent 100 results per series");return r.a.createElement(e,{resizes:!0,controls:O},r.a.createElement("div",{className:"flow-visualization",id:h},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(i.b,{loading:b,properties:{type:"simple-table",showAll:!1},result:v.parsed,timeRange:g}))))},f=n(79);t.default=e=>{e({type:"table",family:"passThrough",priority:3,component:h,button:"Table",initial:{properties:i.a["simple-table"].initial},visual:(e,t)=>{if(!t)return"";try{if(!Object(f.parse)(t).body.length)return""}catch(e){return""}return`${t} |> limit(n: 100)`}})}},545:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(21),s=n(92);var l=({Context:e})=>{const{id:t,data:n,update:l}=Object(a.useContext)(i.a),{register:c}=Object(a.useContext)(s.a),[u,d]=Object(a.useState)(!1),m=Object(a.useCallback)(()=>{d(!u)},[d,u]);Object(a.useEffect)(()=>{t&&c(t,[{title:"Controls",actions:[{title:"Edit Youtube ID",action:m}]}])},[t,m]);const p=u||!n.uri;return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"flow-youtube"},p&&r.a.createElement("div",{className:"flow-youtube--editor"},r.a.createElement("label",null,"Youtube Video ID"),r.a.createElement(o.Input,{value:n.uri,onChange:e=>{l({uri:e.target.value})}})),!p&&r.a.createElement("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n.uri}?autoplay=1`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))};n(489),t.default=e=>{e({type:"youtube",family:"test",priority:-1,featureFlag:"flow-panel--youtube",button:"Youtube",component:l,initial:{uri:"nBHkIWAJitg"}})}},546:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(3),s=n(14);let l=class extends r.PureComponent{render(){return o.a.createElement(i.Form,{onSubmit:this.props.onConfirm},o.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},o.a.createElement(i.Alert,{color:i.ComponentColor.Danger,icon:i.IconFont.AlertTriangle},"Bad things could happen if you don't read this!"),o.a.createElement(i.Form.Element,{label:""},o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,this.props.message),o.a.createElement("ul",null,this.props.effectedItems.map(e=>o.a.createElement("li",{key:e},e))))),o.a.createElement(i.Form.Footer,null,o.a.createElement(i.Button,{color:i.ComponentColor.Danger,text:this.props.confirmButtonText,type:i.ButtonType.Submit,testID:"danger-confirmation--button"}))))}};l=Object(a.a)([s.a],l);var c=l;let u=class extends r.PureComponent{constructor(){super(...arguments),this.state={isConfirmed:!1},this.handleCloseOverlay=()=>{this.props.onClose()},this.handleConfirm=()=>{this.setState({isConfirmed:!0})}}render(){return o.a.createElement(i.Overlay.Container,{maxWidth:400},o.a.createElement(i.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleCloseOverlay}),o.a.createElement(i.Overlay.Body,null,this.overlayContents))}get overlayTitle(){const{title:e}=this.props;return this.state.isConfirmed?e:"Are you sure?"}get overlayContents(){const{message:e,effectedItems:t,confirmButtonText:n}=this.props;return this.state.isConfirmed?this.props.children:o.a.createElement(c,{onConfirm:this.handleConfirm,message:e,effectedItems:t,confirmButtonText:n})}};u=Object(a.a)([s.a],u);t.a=u},55:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"o",(function(){return y}));const a=()=>({type:"RESET_ALERT_BUILDER"}),r=e=>({type:"INIT_ALERT_BUILDER",payload:{type:e}}),o=()=>({type:"CONVERT_CHECK_TO_CUSTOM"}),i=e=>({type:"SET_ALERT_BUILDER_CHECK",payload:{check:e}}),s=e=>({type:"SET_ALERT_BUILDER_STATUS",payload:{status:e}}),l=e=>({type:"SET_ALERT_BUILDER_EVERY",payload:{every:e}}),c=e=>({type:"SET_ALERT_BUILDER_OFFSET",payload:{offset:e}}),u=e=>({type:"SET_ALERT_BUILDER_STALETIME",payload:{staleTime:e}}),d=e=>({type:"SET_ALERT_BUILDER_TIMESINCE",payload:{timeSince:e}}),m=e=>({type:"SET_ALERT_BUILDER_LEVEL",payload:{level:e}}),p=e=>({type:"SET_ALERT_BUILDER_MESSAGE_TEMPLATE",payload:{statusMessageTemplate:e}}),h=(e,t)=>({type:"EDIT_ALERT_BUILDER_TAGSET",payload:{index:e,tagSet:t}}),f=e=>({type:"REMOVE_ALERT_BUILDER_TAGSET",payload:{index:e}}),g=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLD",payload:{threshold:e}}),b=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLDS",payload:{thresholds:e}}),v=e=>({type:"REMOVE_ALERT_BUILDER_THRESHOLD",payload:{level:e}}),y=e=>({type:"UPDATE_ALERT_BUILDER_NAME",payload:{name:e}})},56:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(34),i=n(3),s=n(169),l=n(19),c=n(8);n(170);const u="visualization.customize.hoverLegend",d=({properties:e,handlers:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:o=l.h,legendOrientationThreshold:c=l.l,legendHide:d=l.g}=e,{handleSetHoverLegendHide:m,handleSetOrientation:p,handleSetOpacity:h,handleSetColorization:f}=t,g=!d,[b,v]=Object(a.useState)(g),y=e=>{v(e===l.o.SHOW),m(e===l.o.HIDE)};return r.a.createElement(i.Form.Element,{label:"Display Hover Legend",className:"legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit,testID:"hover-legend-toggle"},r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-hide",id:"radio_hover_legend_hide",titleText:"Hide",active:d,onClick:y,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-show",id:"radio_hover_legend_show",titleText:"Show",active:!d,onClick:y,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"legend-options--show"},r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:c,parentName:"hover-legend",handleSetOrientation:p,testID:"hover-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:o,handleSetOpacity:h,testID:"hover-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:n,handleSetColorization:f,testID:"hover-legend-colorize-rows-toggle"})))))};t.a=({properties:e,update:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:a=l.h,legendOrientationThreshold:i=l.l}=e,m=e=>{let n;n="number"!=typeof e||e!=e||e>0?l.m:l.n,t({legendOrientationThreshold:n})},p=n=>{const a=Object(o.a)(n);isNaN(a)||a<l.j?(t({legendOpacity:l.i}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({legendOpacity:a}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:a}))},h=()=>{t({legendColorizeRows:!n}),Object(c.a)(`${u}.colorizeRows.${!n}`,{type:e.type})};return"xy"===e.type||"line-plus-single-stat"===e.type||"band"===e.type?r.a.createElement(d,{properties:e,handlers:{handleSetHoverLegendHide:n=>{t({legendHide:n});const a=n?l.o.HIDE:l.o.SHOW;Object(c.a)(`${u}.${a}`,{type:e.type})},handleSetOrientation:m,handleSetOpacity:p,handleSetColorization:h}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:i,parentName:"hover-legend",handleSetOrientation:m,testID:"hover-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:a,handleSetOpacity:p,testID:"hover-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:n,handleSetColorization:h,testID:"hover-legend-colorize-rows-toggle"}))}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(19);const o=e=>Object(a.useMemo)(()=>e<r.j||e!=e?r.h:e,[e])},617:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(3),s=n(14);const l=Object(r.lazy)(()=>Promise.all([n.e(3),n.e(71)]).then(n.bind(null,857)));let c=class extends r.PureComponent{render(){const{config:e,onChangeConfig:t}=this.props;return o.a.createElement(r.Suspense,{fallback:o.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:o.a.createElement(i.TechnoSpinner,null)})},o.a.createElement(l,{script:e,onChangeScript:t,readOnly:!1}))}};c=Object(a.a)([s.a],c),t.a=c},618:function(e,t,n){"use strict";(function(e){var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(2),c="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;c||(s=n(737));var u=function(){function e(){}return e.equals=function(e,t){var n=this,a=Object.keys,r=void 0===e?"undefined":o(e),i=void 0===t?"undefined":o(t);return e&&t&&"object"===r&&r===i?a(e).length===a(t).length&&a(e).every((function(a){return n.equals(e[a],t[a])})):e===t},e}(),d=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var a=this.editor.getDoc();n&&this.editor.focus(),t?a.setCursor(e):a.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,e.autoFocus||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,e.autoFocus||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e){t.props.onCut(t.editor,event)}));break;case"onDblClick":t.editor.on("dblclick",(function(e){t.props.onDblClick(t.editor,event)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e){t.props.onDragLeave(t.editor,event)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e){t.props.onDragStart(t.editor,event)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,a,r){t.props.onGutterClick(t.editor,n,a,r)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e){t.props.onMouseDown(t.editor,event)}));break;case"onPaste":t.editor.on("paste",(function(e){t.props.onPaste(t.editor,event)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e){t.props.onTouchStart(t.editor,event)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,a){t.props.onViewportChange(t.editor,n,a)}))}}))},e}(),m=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=r({},s.defaults,this.editor.options,e.options||{});Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(a){e.options.hasOwnProperty(a)&&t.editor.getOption(a)!==n[a]&&(t.editor.setOption(a,n[a]),t.mirror.setOption(a,n[a]))})),this.hydrated||(this.mounted&&this.deferred?this.resolveChange():this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.lastLine(),n=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e||"",{line:0,ch:0},{line:t,ch:n}),this.mirror.setValue(e),this.editor.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(){this.emulating=!0,"undo"===this.deferred.origin?this.editor.undo():"redo"===this.deferred.origin?this.editor.redo():this.editor.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){return"undo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentWillMount=function(){c||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;c||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new d(this.editor,this.props),this.mirror=s((function(){})),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var a=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,a)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!c){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.appliedNext||(this.shared.applyNext(this.props,e,t),this.appliedNext=!0),this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){return!c},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.Controlled=m;var p=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=r({},s.defaults,this.editor.options,e.options||{});if(Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(a){e.options.hasOwnProperty(a)&&t.editor.getOption(a)!==n[a]&&t.editor.setOption(a,n[a])})),!this.hydrated){var a=this.editor.lastLine(),o=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e.value||"",{line:0,ch:0},{line:a,ch:o})}this.hydrated=!0},t.prototype.componentWillMount=function(){c||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;c||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new d(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(this.detached&&!1===e.detach&&(this.detached=!1,this.props.editorDidAttach&&this.props.editorDidAttach(this.editor)),this.detached||!0!==e.detach||(this.detached=!0,this.props.editorDidDetach&&this.props.editorDidDetach(this.editor)),!c&&!this.detached){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.applied||(this.shared.apply(this.props),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return c&&(n=!1),this.detached&&(n=!1),n},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.UnControlled=p}).call(this,n(128))},619:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'.main-flexbox-child {\n  width: 100%;\n}\n\n.flex-box-label {\n  text-align: "start";\n  margin: 5px 0px;\n}\n\n.flexbox-child-label-read {\n  align-items: "left";\n  margin-left: 20px;\n}\n\n.flexbox-child-label-write {\n  align-items: "left";\n  margin-left: 20px;\n}\n\n.input-label-read {\n  margin-left: 15px;\n}\n\n.input-label-write {\n  margin-right: 50px;\n}\n\n.resource-accordion-body {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}',""])},620:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n.n(a),o=(n(268),n(3));const i=e=>{const{resourceName:t}=e;return r.a.createElement(o.Accordion.AccordionHeader,null,r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Small,justifyContent:o.JustifyContent.SpaceBetween,direction:o.FlexDirection.Row,stretchToFitWidth:!0,alignItems:o.AlignItems.Center,style:{textAlign:"start"}},r.a.createElement(o.FlexBox.Child,{basis:40,grow:8},r.a.createElement(o.InputLabel,{size:o.ComponentSize.Medium},t))))}},621:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n.n(a),o=(n(268),n(3));const i=e=>{const{resourceName:t,disabled:n,permissions:a}=e,i=e=>{e.stopPropagation()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Accordion.AccordionBodyItem,{className:"resource-accordion-body"},r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Small,justifyContent:o.JustifyContent.SpaceBetween,direction:o.FlexDirection.Row,stretchToFitWidth:!0,alignItems:o.AlignItems.Center,style:{textAlign:"start"}},r.a.createElement(o.FlexBox.Child,{basis:40,grow:8},r.a.createElement(o.InputLabel,{size:o.ComponentSize.Small},`All ${t}`)),r.a.createElement(o.FlexBox.Child,{grow:1,onClick:i},r.a.createElement(o.Toggle,{id:t,type:o.InputToggleType.Checkbox,onChange:()=>{const{onToggleAll:t,resourceName:n}=e;t(n,"read")},size:o.ComponentSize.ExtraSmall,checked:a.read,value:a.read.toString(),style:{marginRight:"10px"},tabIndex:0,disabled:n})),r.a.createElement(o.FlexBox.Child,{grow:1,onClick:i},r.a.createElement(o.Toggle,{id:t+1,type:o.InputToggleType.Checkbox,onChange:()=>{const{onToggleAll:t,resourceName:n}=e;t(n,"write")},size:o.ComponentSize.ExtraSmall,checked:a.write,value:a.write.toString(),style:{marginRight:"0px"},tabIndex:0,disabled:n})))))}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(2),r=n.n(a),o=n(155),i=n(243),s=n(60),l=n(42),c=n(23),u=n(173),d=n(504);const m={name:l.a,flow:null,add:e=>"",updateData:(e,t)=>{},updateMeta:(e,t)=>{},updateOther:e=>{},remove:e=>{},populate:e=>null},p=r.a.createContext(m);let h=0;const f=({children:e})=>{const{flows:t,update:n,currentID:f}=Object(a.useContext)(i.a),[g,b]=Object(a.useState)(),v=Object(a.useRef)(new u.a),y=Object(a.useRef)(),{id:x}=Object(o.h)();Object(a.useEffect)(()=>{f&&b(t[f])},[t,f]),Object(a.useEffect)(()=>{if(Object(c.c)("sharedFlowEditing")){y.current=new d.a("wss://demos.yjs.dev",x,v.current);const e=y.current.awareness.getLocalState();(null==e?void 0:e.id)||y.current.awareness.setLocalState(m),v.current.on("update",()=>{const{localState:e}=v.current.getMap("localState").toJSON();b(t=>btoa(JSON.stringify(t))===btoa(JSON.stringify(e))?t:e)})}return()=>{var e;Object(c.c)("sharedFlowEditing")&&(null===(e=y.current)||void 0===e?void 0:e.wsconnected)&&y.current.disconnect()}},[x]);const w=Object(a.useCallback)((e,a)=>{var r;if(Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(g));if(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.byID[e]){t.data.byID[e]=Object.assign(Object.assign({},t.data.byID[e]||{}),a);const n=Object.assign(Object.assign({},t),t.data.byID[e]);v.current.getMap("localState").set("localState",n)}}else{if(Object(c.c)("ephemeralNotebook")&&!g.id)return g.data.byID[e]=Object.assign(Object.assign({},g.data.byID[e]||{}),a),void b(Object.assign({},g));t[f].data.byID[e]=Object.assign(Object.assign({},t[f].data.byID[e]||{}),a),n(f,{data:Object.assign({},t[f].data)})}},[n,t,f,g]),E=Object(a.useCallback)((e,a)=>{var r;if(Object(c.c)("sharedFlowEditing")){if(null===(r=null==g?void 0:g.meta)||void 0===r?void 0:r.byID[e]){const t=JSON.parse(JSON.stringify(g));t.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t.meta.byID[e]||{}),a);const n=Object.assign(Object.assign({},t),t.meta.byID[e]);v.current.getMap("localState").set("localState",n)}}else{if(Object(c.c)("ephemeralNotebook")&&!g.id)return g.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},g.meta.byID[e]||{}),a),void b(Object.assign({},g));t[f].meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t[f].meta.byID[e]||{}),a),n(f,{meta:Object.assign({},t[f].meta)})}},[n,t,f,g]),S=Object(a.useCallback)(e=>{if(Object(c.c)("sharedFlowEditing")){if(g){const t=JSON.parse(JSON.stringify(g));for(const n in e)t[n]=e[n];v.current.getMap("localState").set("localState",Object.assign({},t))}}else if(!Object(c.c)("ephemeralNotebook")||g.id)t[f]=Object.assign(Object.assign({},t[f]),e),n(f,Object.assign({},t[f]));else{for(const t in e)g[t]=e[t];b(Object.assign({},g))}},[n,t,f,g]);return r.a.createElement(p.Provider,{value:{name:name,flow:g,add:(e,n)=>{const a=`local_${Object(s.v4)()}`,r=e.title||`${l.c[e.type].button||"Panel"} ${++h}`;if(delete e.title,e.id=a,Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(g));return t.data.byID[a]=e,t.meta.byID[a]={title:r,visible:!0},void 0!==n?(t.data.allIDs.splice(n+1,0,a),t.meta.allIDs.splice(n+1,0,a)):(t.data.allIDs.push(a),t.meta.allIDs.push(a)),void v.current.getMap("localState").set("localState",Object.assign({},t))}return Object(c.c)("ephemeralNotebook")&&!g.id?(g.data.byID[a]=e,g.meta.byID[a]={title:r,visible:!0},void 0!==n?(g.data.allIDs.splice(n+1,0,a),g.meta.allIDs.splice(n+1,0,a)):(g.data.allIDs.push(a),g.meta.allIDs.push(a)),void b(Object.assign({},g))):(t[f].data.byID[a]=e,t[f].meta.byID[a]={title:r,visible:!0},void 0!==n?(t[f].data.allIDs.splice(n+1,0,a),t[f].meta.allIDs.splice(n+1,0,a)):(t[f].data.allIDs.push(a),t[f].meta.allIDs.push(a)),w(a,{}),E(a,{}),a)},updateData:w,updateMeta:E,updateOther:S,remove:e=>{if(Object(c.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(g));return t.meta.allIDs=t.meta.allIDs.filter(t=>t!==e),t.data.allIDs=t.data.allIDs.filter(t=>t!==e),delete t.data.byID[e],delete t.meta.byID[e],void v.current.getMap("localState").set("localState",Object.assign({},t))}if(Object(c.c)("ephemeralNotebook")&&!g.id)return g.meta.allIDs=g.meta.allIDs.filter(t=>t!==e),g.data.allIDs=g.data.allIDs.filter(t=>t!==e),delete g.data.byID[e],delete g.meta.byID[e],void b(Object.assign({},g));t[f].meta.allIDs=t[f].meta.allIDs.filter(t=>t!==e),t[f].data.allIDs=t[f].data.allIDs.filter(t=>t!==e),delete t[f].data.byID[e],delete t[f].meta.byID[e],w(e,{}),E(e,{})},populate:b}},e)};t.c=({children:e})=>r.a.createElement(i.b,null,r.a.createElement(f,null,e))},652:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(10),s=n(7),l=n(4),c=n(14),u=n(293),d=n.n(u);const m=e=>e.trim().replace(/(^")|("$)/g,""),p=e=>1===Object.keys(e).length?"":"s";var h=n(11),f=n(12);let g=class extends a.PureComponent{constructor(){var e;super(...arguments),this.state={templateValuesString:(e=this.props.values,Object.entries(e).map(([e,t])=>`${e},"${t}"`).join("\n"))},this.handleBlur=()=>{const{onChange:e}=this.props,{templateValuesString:t}=this.state;e(this.constructValuesFromString(t))},this.handleChange=e=>{const t=e.target.value;this.setState({templateValuesString:t})}}render(){const{onSelectDefault:e}=this.props,{templateValuesString:t}=this.state,{entries:n}=this;return r.a.createElement(o.Form.Element,{label:"Comma Separated Key-Value Pairs Per Line"},r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.TextArea,{value:t,onChange:this.handleChange,onBlur:this.handleBlur,testID:"map-variable-textarea"}))),r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement("p",null,"Mapping contains ",r.a.createElement("strong",null,n.length)," key-value pair",p(n))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Select A Default"},r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:t,testID:"map-variable-dropdown--button"},this.defaultID),menu:t=>r.a.createElement(o.Dropdown.Menu,{onCollapse:t},n.map(t=>r.a.createElement(o.Dropdown.Item,{key:t.key,id:t.key,value:t.key,onClick:e,selected:t.key===this.defaultID},r.a.createElement("strong",null,t.key)," ",r.a.createElement(o.Icon,{glyph:o.IconFont.CaretRight})," ",t.value)))})))))}get defaultID(){const{selected:e}=this.props,{entries:t}=this,n=Object(s.get)(t,"0.key","Enter values above");return Object(s.get)(e,"0",n)}get entries(){const{values:e}=this.props;return e?Object.entries(e).map(([e,t])=>({key:e,value:t})):[]}constructValuesFromString(e){const{notify:t}=this.props,{errors:n,values:a}=(e=>{let t=[];const n=Object(s.trimEnd)(e,"\n"),a=d.a.parse(n),r=Object(s.get)(a,"data",[[]]);if(0===r.length)return{values:{},errors:t};const o=new Set,i={};for(const e of r)if(2===e.length||3===e.length&&""===e[2]){const t=m(e[0]),n=m(e[1]);o.has(t)||""===t||(i[t]=n,o.add(t))}else t=[...t,e[0]];return{values:i,errors:t}})(e);return n.length>0&&t(Object(f.kc)()),{values:a,errors:n}}};g=Object(i.a)([c.a],g);const b={notify:h.c};var v=Object(l.c)(null,b)(g);let y=class extends a.PureComponent{constructor(){super(...arguments),this.state={csv:this.props.values.map(e=>`"${e}"`).join(",\n ")},this.handleBlur=()=>{const{onChange:e}=this.props,{csv:t}=this.state;e(this.getUniqueValuesFromCSV(t))},this.handleChange=e=>{const t=e.target.value;this.setState({csv:t})}}render(){const{onSelectDefault:e,values:t}=this.props,{csv:n}=this.state;return r.a.createElement(o.Form.Element,{label:"Comma Separated Values"},r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.TextArea,{value:n,onChange:this.handleChange,onBlur:this.handleBlur,testID:"csv-variable-textarea"}))),r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement("p",null,"CSV contains ",r.a.createElement("strong",null,t.length)," value",p(t))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Select A Default"},r.a.createElement(o.SelectDropdown,{options:t,selectedOption:this.defaultID,onSelect:e,testID:"csv-value-select-dropdown"})))))}get defaultID(){const{selected:e,values:t}=this.props,n=Object(s.get)(t,"0","Enter values above");return Object(s.get)(e,"0",n)}getUniqueValuesFromCSV(e){const t=d.a.parse(e),n=Object(s.get)(t,"data",[[]]),a=new Set;for(const e of n)for(const t of e){const e=m(t);""!==e&&a.add(e)}return[...a]}};y=Object(i.a)([c.a],y);var x=y;const w=Object(a.lazy)(()=>Promise.all([n.e(3),n.e(7),n.e(11),n.e(8)]).then(n.bind(null,1491)));class E extends a.PureComponent{constructor(){super(...arguments),this.handleChangeCSV=e=>{const{onChange:t}=this.props;t({args:{type:"constant",values:e},isValid:e.length>0})},this.handleChangeQuery=e=>{const{onChange:t}=this.props;t({args:{type:"query",values:{language:"flux",query:e}},isValid:!e.match(/^\s*$/)})},this.handleChangeMap=e=>{const{onChange:t}=this.props;t({args:{type:"map",values:e.values},isValid:0===e.errors.length&&Object.keys(e.values).length>0})}}render(){const{args:e,onSelectMapDefault:t,selected:n}=this.props;switch(e.type){case"query":return r.a.createElement(o.Form.Element,{label:"Script"},r.a.createElement("div",{className:"overlay-flux-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(w,{script:e.values.query,onChangeScript:this.handleChangeQuery}))));case"map":return r.a.createElement(v,{onChange:this.handleChangeMap,values:e.values,onSelectDefault:t,selected:n});case"constant":return r.a.createElement(x,{onChange:this.handleChangeCSV,values:e.values,onSelectDefault:t,selected:n})}}}t.a=E},655:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(422),s=n(3);var l=({setActiveTab:e,activeTab:t})=>{const n=n=>()=>{t!==n&&e(n)};return r.a.createElement(s.SelectGroup,{shape:s.ButtonShape.StretchToFit,style:{width:"300px"}},r.a.createElement(s.SelectGroup.Option,{name:"query-mode",key:"queries",id:"queries",titleText:"queries",value:"queries",active:"queries"===t,onClick:n("queries")},"1. Define Query"),r.a.createElement(s.SelectGroup.Option,{name:"query-mode",key:"alerting",id:"alerting",testID:"checkeo--header alerting-tab",titleText:"alerting",value:"alerting",active:"alerting"===t,onClick:n("alerting")},"2. Configure Check"))};var c=({onSave:e,status:t,className:n,checkType:o,singleField:i,singleAggregateFunc:l,oneOrMoreThresholds:c})=>{const d=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Popover,{triggerRef:d,visible:t!==s.ComponentStatus.Default,position:s.PopoverPosition.Below,enableDefaultStyles:!1,showEvent:s.PopoverInteraction.None,hideEvent:s.PopoverInteraction.None,color:s.ComponentColor.Secondary,appearance:s.Appearance.Outline,forceToTop:!0,contents:()=>r.a.createElement("div",{className:"query-checklist--popover"},r.a.createElement("p",null,`To create a ${o} check, you must select:`),r.a.createElement("ul",{className:"query-checklist--list"},r.a.createElement(u,{text:"One field",selected:i}),"threshold"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{text:"One aggregate function",selected:l}),r.a.createElement(u,{text:"One or more thresholds",selected:c}))))}),r.a.createElement(s.SquareButton,{ref:d,className:n,icon:s.IconFont.Checkmark,color:s.ComponentColor.Success,size:s.ComponentSize.Small,status:t,onClick:e,testID:"save-cell--button"}))};const u=({selected:e,text:t})=>{const n=e?"query-checklist--item valid":"query-checklist--item error",a=e?s.IconFont.Checkmark:s.IconFont.Remove;return r.a.createElement("li",{className:n},r.a.createElement(s.Icon,{glyph:a}),t)};var d=n(26),m=n(165),p=n(37),h=n(78),f=n(5);const g={setActiveTab:p.k},b=Object(o.c)(e=>{const{activeTab:t,draftQueries:n}=Object(d.d)(e),{alertBuilder:{type:a,thresholds:r}}=e;return{activeTab:t,draftQueries:n,checkType:a,thresholds:r}},g);t.a=b(({name:e,onSetName:t,onCancel:n,onSave:o,setActiveTab:u,activeTab:d,draftQueries:p,checkType:g,thresholds:b})=>{const[v,y]=Object(a.useState)(f.RemoteDataState.NotStarted),x=()=>{v!==f.RemoteDataState.Loading&&(y(f.RemoteDataState.Loading),o(),y(f.RemoteDataState.NotStarted))},{singleField:w,singleAggregateFunc:E}=Object(m.f)(p),S="threshold"===g&&b&&!!b.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Page.Header,{fullWidth:!0},r.a.createElement(i.a,{name:e,onRename:t,placeholder:h.d,maxLength:h.a,onClickOutside:e=>{e.target.classList.contains("veo-header--save-cell-button")&&x()}})),r.a.createElement(s.Page.ControlBar,{fullWidth:!0},r.a.createElement(s.Page.ControlBarLeft,null,"customCheckQuery"!==d&&r.a.createElement(l,{activeTab:d,draftQueries:p,setActiveTab:u})),r.a.createElement(s.Page.ControlBarRight,null,r.a.createElement(s.SquareButton,{icon:s.IconFont.Remove,onClick:n,size:s.ComponentSize.Small}),r.a.createElement(c,{status:Object(m.d)(p,g,b)?v==f.RemoteDataState.Loading?s.ComponentStatus.Loading:s.ComponentStatus.Default:s.ComponentStatus.Disabled,onSave:x,className:"veo-header--save-cell-button",checkType:g,singleField:w,singleAggregateFunc:E,oneOrMoreThresholds:S}))))})},657:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,r=n(2),o=n.n(r),i=(n(268),n(3));!function(e){e.Read="read",e.Write="write"}(a||(a={}));const s=e=>{const{resourceName:t,permissions:n,onToggle:r,title:s,disabled:l}=e,c=e=>{r(t,e,a.Read)},u=e=>{r(t,e,a.Write)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Accordion.AccordionBodyItem,{className:"resource-accordion-body"},s),n?Object.keys(n).map(e=>{return o.a.createElement(i.Accordion.AccordionBodyItem,{key:n[e].id,className:"resource-accordion-body"},(t=n[e],o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Small,justifyContent:i.JustifyContent.SpaceBetween,direction:i.FlexDirection.Row,stretchToFitWidth:!0,alignItems:i.AlignItems.Center,style:{textAlign:"start"}},o.a.createElement(i.FlexBox.Child,{basis:40,grow:8},o.a.createElement(i.InputLabel,{size:i.ComponentSize.Small},t.name)),o.a.createElement(i.FlexBox.Child,{grow:1},o.a.createElement(i.Toggle,{id:t.id,value:t.id,type:i.InputToggleType.Checkbox,onChange:c,size:i.ComponentSize.ExtraSmall,checked:t.permissions.read,style:{marginRight:"10px"},tabIndex:0,disabled:l})),o.a.createElement(i.FlexBox.Child,{grow:1},o.a.createElement(i.Toggle,{id:t.id+1,value:t.id,type:i.InputToggleType.Checkbox,onChange:u,size:i.ComponentSize.ExtraSmall,checked:t.permissions.write,style:{marginRight:"10px"},tabIndex:0,disabled:l})))));var t}):null)}},67:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(104);const s=({initialMin:e,initialMax:t,onSetMinMax:n})=>{const[a,s]=Object(i.a)(e),[l,c]=Object(i.a)(t),u=()=>{let r=parseFloat(a),o=parseFloat(l);isNaN(r)&&(r=null),isNaN(o)&&(o=null),e===a&&t===l||n([r,o])},d=e=>{"Enter"===e.key&&u()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Min"},r.a.createElement(o.Input,{value:a,onChange:e=>s(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--min"}))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Max"},r.a.createElement(o.Input,{value:l,onChange:e=>c(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--max"}))))},l=e=>null===e?"":String(e);t.a=({domain:e,onSetDomain:t,label:n="Set Domain"})=>{const[i,c]=Object(a.useState)(!!e),u=Array.isArray(e)?l(e[0]):"",d=Array.isArray(e)?l(e[1]):"";return r.a.createElement(o.Form.Element,{label:n,className:"auto-domain-input"},r.a.createElement(o.Grid,null,r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Twelve},r.a.createElement(o.SelectGroup,{shape:o.ButtonShape.StretchToFit},r.a.createElement(o.SelectGroup.Option,{name:"auto-domain",id:"radio_auto",titleText:"Auto",active:!i,onClick:()=>{c(!1),t(null)},value:"Auto"},"Auto"),r.a.createElement(o.SelectGroup.Option,{name:"auto-domain",id:"radio_custom",titleText:"Custom",active:i,onClick:()=>{c(!0)},value:"Custom"},"Custom")))),i&&r.a.createElement(o.Grid.Row,{className:"auto-domain-input--custom"},r.a.createElement(s,{initialMin:u,initialMax:d,onSetMinMax:t}))))}},675:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s}));const a=(e,t,n)=>({type:"SET_AUTO_REFRESH_INTERVAL",payload:{dashboardID:e,milliseconds:t,label:n}}),r=(e,t)=>({type:"SET_AUTO_REFRESH_STATUS",payload:{dashboardID:e,status:t}}),o=(e,t)=>({type:"SET_AUTO_REFRESH_DURATION",duration:t,dashboardID:e}),i=e=>({type:"RESET_DASHBOARD_AUTO_REFRESH",dashboardID:e}),s=(e,t)=>({type:"SET_INACTIVITY_TIMEOUT",dashboardID:e,inactivityTimeout:t})},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>Object(a.useMemo)(()=>{const{generateXAxisTicks:t,generateYAxisTicks:n}=e,a={xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null};return Array.isArray(t)&&t.forEach(t=>a[t]=e[t]),Array.isArray(n)&&n.forEach(t=>a[t]=e[t]),a},[e])},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),o=n(15),i=n.n(o);class s extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--header",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--draggable",onDragStart:e},r.a.createElement("div",{className:"builder-card--hamburger"}),r.a.createElement("h2",{className:"builder-card--title"},t)):r.a.createElement("h2",{className:"builder-card--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}s.defaultProps={testID:"builder-card--header"};var l=n(3);const c=()=>{};class u extends a.PureComponent{render(){const{children:e,isInCheckOverlay:t,options:n,onSelect:a,selectedOption:o,testID:i}=this.props;return r.a.createElement("div",{className:"builder-card--header","data-testid":i},t?r.a.createElement(l.Dropdown,{button:()=>r.a.createElement(l.Dropdown.Button,{status:l.ComponentStatus.Disabled,onClick:()=>{}},o),menu:()=>null,testID:"disabled--filter-dropdown"}):r.a.createElement(l.SelectDropdown,{options:n,selectedOption:o,testID:"select-option-dropdown",onSelect:a||c}),e,this.deleteButton)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}u.defaultProps={testID:"builder-card--header"};class d extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--menu",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},t)}}d.defaultProps={testID:"builder-card--menu"};class m extends a.PureComponent{render(){const{scrollable:e,testID:t,autoHideScrollbars:n,style:a,className:o}=this.props;if(e){const e=Object.assign({maxWidth:"100%",maxHeight:"100%"},a);return r.a.createElement(l.DapperScrollbars,{className:"builder-card--body",style:e,testID:t,autoHide:n},this.children)}const s=i()("builder-card--body",{[`${o}`]:o});return r.a.createElement("div",{className:s,"data-testid":t,style:a},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--contents"},t):t}}m.defaultProps={scrollable:!0,addPadding:!0,testID:"builder-card--body",autoHideScrollbars:!1};class p extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"builder-card--body builder-card--empty","data-testid":e},t)}}p.defaultProps={testID:"builder-card--empty"};class h extends a.PureComponent{render(){const{children:e,testID:t,className:n,widthPixels:a}=this.props,o=i()("builder-card",{[`${n}`]:n}),s={flex:`0 0 ${a}px`};return r.a.createElement("div",{className:o,"data-testid":t,style:s},e)}}h.Header=s,h.DropdownHeader=u,h.Menu=d,h.Body=m,h.Empty=p,h.defaultProps={testID:"builder-card",widthPixels:228}},70:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(34),i=n(3),s=n(19);const l=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:c,label:u,placeholder:d,update:m,elementStylingClass:p}=e,[h,f]=Object(a.useState)(c==c?c:""),[g,b]=Object(a.useState)(i.ComponentStatus.Default),v=e=>{f(e.target.value),b(i.ComponentStatus.Default)},y=()=>{const e=Object(o.b)(h);let a=`${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`;"Total"===a?a+=s.B:a=`${s.A}${a}`;const r=`${t.toLowerCase()}${a}`,c=Array.isArray(l)?l.filter(e=>e!==r):[];e==e?m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:[...c,r]}):(m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:c}),""!==h&&b(i.ComponentStatus.Error))};return r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.Form.Element,{label:u,className:p},r.a.createElement(i.Input,{placeholder:d,onChange:v,onFocus:v,onBlur:()=>y(),onKeyPress:e=>{"Enter"===e.key&&y()},value:h,status:g})))};var c=n(104),u=n(187),d=n(85);const m=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:m,dateFormatPlaceholder:p="RFC3339",update:h}=e,[f,g]=Object(c.a)(m==m?m:""),[b,v]=Object(a.useState)(i.ComponentStatus.Default),[y,x]=Object(a.useState)(!1),[w,E]=Object(a.useState)(!0),S=Object(a.createRef)(),C=e=>{const a=Object(o.b)(void 0===e?f:e),r=`${s.A}${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`,c=`${t.toLowerCase()}${r}`,u=Array.isArray(l)?l.filter(e=>e!==c):[];Number.isNaN(a)?""!==f&&v(i.ComponentStatus.Error):u.push(c),h({[c]:a,[`generate${t.toUpperCase()}AxisTicks`]:u})},k=e=>{g(e.target.value),v(i.ComponentStatus.Default)},O=()=>{const e=new Date(f);return Number.isNaN(e.valueOf())?(new Date).toISOString():e.toISOString()},D=()=>{g(""),C("")},T=()=>x(!1),j=e=>{const t=new Date(e).valueOf();g(t==t?String(t):""),v(i.ComponentStatus.Default),C(t)},I=()=>{w&&T()},N=()=>E(!0),R=()=>E(!1),A=y?{position:"relative"}:{top:`${window.innerHeight/2}px`,left:`${window.innerWidth/2}px`,transform:"translate(-50%, -50%)"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Start Tick Marks At"},r.a.createElement(i.Input,{placeholder:p,onChange:k,onFocus:k,onBlur:()=>C(),onKeyPress:e=>{"Enter"===e.key&&C()},value:f,status:b}))),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Date Picker"},r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.ToTheLeft,triggerRef:S,visible:y,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(d.a,{onClickOutside:I},r.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:Object.assign({},A)},r.a.createElement("button",{className:"range-picker--dismiss",onClick:T}),r.a.createElement("div",{className:"range-picker--date-pickers"},r.a.createElement(u.a,{dateTime:O(),onSelectDate:j,label:"Start Tick Marks At"})),r.a.createElement(i.Button,{color:i.ComponentColor.Danger,onClick:D,size:i.ComponentSize.Small,text:"Reset"})))}),y?r.a.createElement(i.Button,{ref:S,color:i.ComponentColor.Danger,onClick:T,onMouseEnter:R,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}):r.a.createElement(i.Button,{ref:S,color:i.ComponentColor.Primary,onClick:()=>{y?T():x(!0)},onMouseEnter:R,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}))))};t.a=({axisName:e,columnType:t,label:n="Tick Generator",properties:o,update:s})=>{const c=o[`generate${e.toUpperCase()}AxisTicks`]||[],{hasTotalTicks:u,hasTickStart:d,hasTickStep:p}=c.reduce((t,n)=>(n===`${e.toLowerCase()}TotalTicks`&&(t.hasTotalTicks=!0),n===`${e.toLowerCase()}TickStart`&&(t.hasTickStart=!0),n===`${e.toLowerCase()}TickStep`&&(t.hasTickStep=!0),t),{hasTotalTicks:!1,hasTickStart:!1,hasTickStep:!1}),h=u?o[`${e}TotalTicks`]:"",f=d?o[`${e}TickStart`]:"",g=p?o[`${e}TickStep`]:"",[b,v]=Object(a.useState)(c.reduce((t,n)=>((e=>[`generate${e.toUpperCase()}AxisTicks`,`${e.toLowerCase()}TotalTicks`,`${e.toLowerCase()}TickStart`,`${e.toLowerCase()}TickStep`])(e).forEach(e=>{e===n&&(t+=1)}),t),0)>0);let y;return b&&(y="_time"===t?r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:s,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(m,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:f,update:s}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:g,label:"Tick Mark Interval",placeholder:"milliseconds",update:s})):r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:s,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(l,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:f,label:"Start Tick Marks At",update:s}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:g,label:"Tick Mark Interval",update:s}))),r.a.createElement(i.Form.Element,{label:n,className:"tick-generator-input"},r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_auto",titleText:"Auto",active:!b,onClick:()=>{v(!1),s({[`generate${e.toUpperCase()}AxisTicks`]:[]})},value:"Auto"},"Auto"),r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_custom",titleText:"Custom",active:b,onClick:()=>{v(!0)},value:"Custom"},"Custom")))),y)}},72:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const a=e.env.CLOUD_URL?"cloud":"latest",r={name:"from",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"bucketID",desc:"String-encoded ID of the bucket to query.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"org",desc:"Organization name (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"orgID",desc:"String-encoded organization ID (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"token",desc:"InfluxDB authentication token (only required when querying a different organization or remote InfluxDB instance).",type:"String"}],package:"",desc:"Used to retrieve data from an InfluxDB data source. It returns a stream of tables from the specified bucket. Each unique series is contained within its own table. Each record in the table represents a single point in the series.",example:'from(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/from/`},o={name:"union",args:[{name:"tables",desc:"Specifies the streams to union together. There must be at least two streams.",type:"Array of Strings"}],package:"",desc:"Concatenates two or more input streams into a single output stream. The output schemas of the `union()` function is the union of all input schemas. A sort operation may be added if a specific sort order is needed.",example:"union(tables: [table1, table2])",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/union/`},i=[{name:"aggregate.rate",args:[{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"groupColumns",desc:"List of columns to group by. Defaults to [].",type:"Array of Strings"},{name:"unit",desc:"Time duration to use when calculating the rate. Defaults to `1s`.",type:"Duration"}],package:"experimental/aggregate",desc:"Calculates the rate of change per windows of time.",example:"aggregate.rate(every: 1m, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aggregate/rate/`},{name:"aggregateWindow",args:[{name:"every",desc:"The duration of windows.",type:"Duration"},{name:"fn",desc:"The aggregate function used in the operation.",type:"Unquoted String"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeSrc",desc:'The "time source" column from which time is copied for the aggregate record. Defaults to `"_stop"`.',type:"String"},{name:"timeDst",desc:'The "time destination" column to which time is copied for the aggregate record. Defaults to `"_time"`.',type:"String"},{name:"createEmpty",desc:"For windows without data, this will create an empty window and fill it with a `null` aggregate value.",type:"Boolean"}],package:"",desc:"Applies an aggregate function to fixed windows of time.",example:"aggregateWindow(every: v.windowPeriod, fn: mean)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/aggregatewindow/`},{name:"alerta.alert",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"resource",desc:"Resource associated with the alert.",type:"String"},{name:"event",desc:"Event name.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"severity",desc:"Event severity.",type:"String"},{name:"service",desc:"List of affected services. Default is `[]`.",type:"Array of strings"},{name:"group",desc:'Alerta event group. Default is `""`.',type:"String"},{name:"value",desc:'Event value. Default is `""`.',type:"String"},{name:"text",desc:'Alert text description. Default is `""`.',type:"String"},{name:"tags",desc:"List of event tags. Default is `[]`.",type:"Array of strings"},{name:"attributes",desc:"Alert attributes.",type:"Record"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"},{name:"type",desc:'Event type. Default is `""`.',type:"String"},{name:"timestamp",desc:"time alert was generated. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/alerta",desc:"Sends an alert to Alerta.",example:'alerta.alert(\n    url: "https://alerta.io:8080/alert",\n    apiKey: "0Xx00xxXx00Xxx0x0X",\n    resource: "example-resource",\n    event: "Example event",\n    environment: "",\n    severity: "critical",\n    service: [],\n    group: "",\n    value: "",\n    text: "",\n    tags: [],\n    attributes: {},\n    origin: "InfluxDB",\n    type: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/alert/`},{name:"alerta.endpoint",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"}],package:"contrib/bonitoo-io/alerta",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = alerta.endpoint(\n    url: "https://alerta.io:8080/alert",\n    apiKey: apiKey,\n    environment: "Production",\n    origin: "InfluxDB"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/endpoint/`},{name:"array.from",args:[{name:"rows",desc:"Array of records to construct a table with.",type:"Array of Objects"}],package:"array",desc:"Constructs a table from an array of objects.",example:'array.from(rows: [{_time: 2020-01-01T00:00:00Z, _value: "foo"},{_time: 2020-01-02T00:00:00Z, _value: "bar"}])',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/array/from/`},{name:"bigpanda.endpoint",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = bigpanda.endpoint(\n    token: token,\n    appKey: "example-app-key"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/endpoint/`},{name:"bigpanda.sendAlert",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"},{name:"status",desc:'BigPanda alert status. Supported statuses are `"ok"`, `"critical"`, `"warning"`, `"acknowledged"`.',type:"String"},{name:"rec",desc:"Additional alert parameters to send to the BigPanda alert API.",type:"Record"}],package:"contrib/rhajek/bigpanda",desc:"Sends an alert to BigPanda.",example:'bigpanda.sendAlert(\n    url: "https://api.bigpanda.io/data/v2/alerts",\n    token: "my5uP3rS3cRe7t0k3n",\n    appKey: "example-app-key",\n    status: "critical",\n    rec: {},\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/sendalert/`},{name:"bigpanda.statusFromLevel",args:[{name:"level",desc:"Alert level.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"Converts an alert level into a BigPanda status.",example:'bigpanda.statusFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/statusfromlevel/`},{name:"bigtable.from",args:[{name:"token",desc:"The Google Cloud IAM token to use to access the Cloud Bigtable database.",type:"String"},{name:"project",desc:"The project ID of the Cloud Bigtable project to retrieve data from.",type:"String"},{name:"instance",desc:"The instance ID of the Cloud Bigtable instance to retrieve data from.",type:"String"},{name:"table",desc:"The name of the Cloud Bigtable table to retrieve data from.",type:"String"}],package:"experimental/bigtable",desc:"Retrieves data from a Google Cloud Bigtable data source.",example:'bigtable.from(token: "mySuPeRseCretTokEn", project: "exampleProjectID", instance: "exampleInstanceID", table: "example-table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/bigtable/from/`},{name:"bool",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Float"}],package:"",desc:"Converts a single value to a boolean.",example:"bool(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bool/`},{name:"bottom",args:[{name:"n",desc:"The number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right) .Default is `["_value"]`',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the bottom n rows.",example:'bottom(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/bottom/`},{name:"buckets",args:[],package:"",desc:"Returns a list of buckets in the organization.",example:"buckets()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/buckets/`},{name:"bytes",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to bytes.",example:"bytes(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bytes/`},{name:"chandeMomentumOscillator",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Applies the technical momentum indicator developed by Tushar Chande.",example:"chandeMomentumOscillator(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/chandemomentumoscillator/`},{name:"columns",args:[{name:"column",desc:"The name of the output column in which to store the column labels.",type:"String"}],package:"",desc:"Lists the column labels of input tables.",example:'columns(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/columns/`},{name:"contains",args:[{name:"value",desc:"The value to search for.",type:"Boolean | Integer | UInteger | Float | String | Time"},{name:"set",desc:"The set of values in which to search.",type:"Boolean | Integer | UInteger | Float | String | Time"}],package:"",desc:"Tests whether a value is a member of a set.",example:"contains(value: 1, set: [1,2,3])",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/tests/contains/`},{name:"count",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the number of records in the specified column.",example:'count(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/count/`},{name:"cov",args:[{name:"x",desc:"One input stream used to calculate the covariance.",type:"Object"},{name:"y",desc:"The other input table used to calculate the covariance.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"}],package:"",desc:"Computes the covariance between two streams by first joining the streams, then performing the covariance operation.",example:'cov(x: table1, y: table2, on: ["_time", "_field"], pearsonr: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cov/`},{name:"covariance",args:[{name:"columns",desc:"A list of columns on which to operate. Exactly two columns must be provided.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"},{name:"valueDst",desc:'The column into which the result will be placed. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the covariance between two columns.",example:'covariance(columns: ["column_x", "column_y"], pearsonr: false, valueDst: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/covariance/`},{name:"csv.from",args:[{name:"file",desc:"The file path of the CSV file to query.",type:"String"},{name:"csv",desc:"Raw CSV-formatted text. CSV data must be in the CSV format produced by the Flux HTTP response standard.",type:"String"}],package:"csv",desc:"Retrieves data from a comma-separated value (CSV) data source.",example:"csv.from(csv: csvData)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/csv/from/`},{name:"csv.from",args:[{name:"url",desc:"The URL to retrieve annotated CSV from.",type:"String"}],package:"experimental/csv",desc:"Retrieves annotated CSV data from a URL.",example:'csv.from(url: "http://example.com/data.csv")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/csv/from/`},{name:"cumulativeSum",args:[{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes a running sum for non-null records in the table. The output table schema will be the same as the input table.",example:'cumulativeSum(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cumulativesum/`},{name:"date.hour",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the hour of a specified time. Results range from `[0-23]`.",example:"date.hour(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/hour/`},{name:"date.microsecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the microsecond of a specified time. Results range from `[1-999999]`.",example:"date.microsecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/microsecond/`},{name:"date.millisecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the millisecond of a specified time. Results range from `[1-999]`.",example:"date.millisecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/millisecond/`},{name:"date.minute",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the minute of a specified time. Results range from `[0-59]`.",example:"date.minute(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/minute/`},{name:"date.month",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the month of a specified time. Results range from `[1-12]`.",example:"date.month(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/month/`},{name:"date.monthDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the month for a specified time. Results range from `[1-31]`.",example:"date.monthDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/monthday/`},{name:"date.nanosecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the nanosecond of a specified time. Results range from `[1-999999999]`.",example:"date.nanosecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/nanosecond/`},{name:"date.quarter",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the quarter of the year for a specified time. Results range from `[1-4]`.",example:"date.quarter(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/quarter/`},{name:"date.second",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the second of a specified time. Results range from `[0-59]`.",example:"date.second(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/second/`},{name:"date.truncate",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"},{name:"unit",desc:"The unit time to truncate to. Only use `1` and the unit of time to specify the `unit`. For example, `1s`, `1m`, `1h`.",type:"Duration"}],package:"date",desc:"Truncates the time to a specified unit. Results range from `[0-59]`.",example:"date.truncate(t: 2019-07-17T12:05:21.012Z, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/truncate/`},{name:"date.week",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the ISO week of the year for a specified time. Results range from `[1-53]`.",example:"date.week(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/week/`},{name:"date.weekDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the week for a specified time. Results range from `[0-6]`.",example:"date.weekDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/weekday/`},{name:"date.year",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the year of a specified time.",example:"date.year(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/year/`},{name:"date.yearDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the year for a specified time. Results include leap days and range from `[1-366]`.",example:"date.yearDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/yearday/`},{name:"derivative",args:[{name:"unit",desc:"The time duration used when creating the derivative.",type:"Duration"},{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"},{name:"timeColumn",desc:'The column name for the time values. Defaults to `"_time"`.',type:"String"}],package:"",desc:"Computes the rate of change per unit of time between subsequent non-null records. The output table schema will be the same as the input table.",example:'derivative(unit: 1s, nonNegative: true, columns: ["_value"], timeColumn: "_time")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/derivative/`},{name:"dict.fromList",args:[{name:"pairs",desc:"List of records, each containing `key` and `value` properties.",type:"Array of records"}],package:"dict",desc:"Creates a dictionary from a list of records with `key` and `value` properties.",example:'dict.fromList(\n    pairs: [\n        {key: 1, value: "foo"},\n        {key: 2, value: "bar"}\n    ]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/fromlist/`},{name:"dict.get",args:[{name:"dict",desc:"Dictionary to return a value from.",type:"Dictionary"},{name:"key",desc:"Key to return from the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Default value to return if the key does not exist in the dictionary. Must be the same type as values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Returns the value of a specified key in a dictionary or a default value if the key does not exist.",example:'dict.get(\n    dict: [1: "foo", 2: "bar"],\n    key: 1,\n    default: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/get/`},{name:"dict.insert",args:[{name:"dict",desc:"Dictionary to update.",type:"Dictionary"},{name:"key",desc:"Key to insert into the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Value to insert into the dictionary. Must be the same type as existing values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Inserts a key value pair into a dictionary and returns a new, updated dictionary. If the key already exists in the dictionary, the function overwrites the existing value.",example:'dict.insert(\n    dict: [1: "foo", 2: "bar"],\n    key: 3,\n    value: "baz"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/insert/`},{name:"dict.remove",args:[{name:"dict",desc:"Dictionary to remove a key-value pair from.",type:"Dictionary"},{name:"key",desc:"Key to remove from the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Removes a key value pair from a dictionary and returns an updated dictionary.",example:'dict.remove(\n    dict: [1: "foo", 2: "bar"],\n    key: 1\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/remove/`},{name:"difference",args:[{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'The columns to use to compute the difference. Defaults to `"_value"`.',type:"Array of Strings"},{name:"keepFirst",desc:"Indicates the first row should be kept. If `true`, the difference will be `null`. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Computes the difference between subsequent non-null records in the specified columns.",example:'difference(nonNegative: false, columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/difference/`},{name:"discord.endpoint",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    webhookToken: discordToken,\n    webhookID: "123456789",\n    username: "critBot"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/endpoint/`},{name:"discord.send",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"content",desc:"Message to send to Discord (2000 character limit).",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"Sends a single message to a Discord channel using a Discord webhook.",example:'discord.send(\n    webhookToken: "mySuPerSecRetTokEn",\n    webhookID: "123456789",\n    username: "username",\n    content: "This is an example message",\n    avatar_url: "https://example.com/avatar_pic.jpg"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/send/`},{name:"distinct",args:[{name:"column",desc:"Column on which to track unique values.",type:"String"}],package:"",desc:"Returns the unique values for a given column.",example:'distinct(column: "host")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/distinct/`},{name:"doubleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at double the rate of `exponentialMovingAverage()`.",example:"doubleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/doubleema/`},{name:"drop",args:[{name:"columns",desc:"A list of columns to be removed from the table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Removes specified columns from a table. Columns can be specified either through a list or a predicate function. When a dropped column is part of the group key, it will be removed from the key.",example:'drop(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/drop/`},{name:"duplicate",args:[{name:"column",desc:"The column name to duplicate.",type:"String"},{name:"as",desc:"The name assigned to the duplicate column.",type:"String"}],package:"",desc:"Duplicates a specified column in a table.",example:'duplicate(column: "column-name", as: "duplicate-name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/duplicate/`},{name:"duration",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to a duration.",example:"duration(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/duration/`},{name:"elapsed",args:[{name:"unit",desc:"The unit of time to return. Defaults to `1s`.",type:"Duration"},{name:"timeColumn",desc:'The column to use to compute the elapsed time. Defaults to `"_time"`.',type:"String`"},{name:"columnName",desc:'The column to store elapsed times. Defaults to `"elapsed"`.',type:"String"}],package:"",desc:"Returns the time between subsequent records.",example:"elapsed(unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/elapsed/`},{name:"events.duration",args:[{name:"unit",desc:"Duration unit of the calculated state duration. Default is `1ns`.",type:"Duration"},{name:"columnName",desc:'Name of the result column. Default is `"duration"`.',type:"String"},{name:"timeColumn",desc:'Name of the time column. Default is `"_time"`.',type:"String"},{name:"stopColumn",desc:'Name of the stop column. Default is `"_stop"`.',type:"String"},{name:"stop",desc:"The latest time to use when calculating results. If provided, `stop` overrides the time value in the `stopColumn`.",type:"Time"}],package:"contrib/tomhollingworth/events",desc:"Calculates the duration of events. The function determines the time between a record and the subsequent record and associates the duration with the first record (start of the event).",example:'events.duration(\n    unit: 1ns,\n    columnName: "duration",\n    timeColumn: "_time",\n    stopColumn: "_stop",\n    stop: 2020-01-01T00:00:00Z\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/events/duration/`},{name:"experimental.addDuration",args:[{name:"d",desc:"The duration to add.",type:"Duration"},{name:"to",desc:"The time to add the duration to.",type:"Time"}],package:"experimental",desc:"Adds a duration to a time value and returns the resulting time value.",example:"experimental.addDuration(d: 12h, to: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/addduration/`},{name:"experimental.alignTime",args:[{name:"alignTo",desc:"UTC time to align tables to. Default is 1970-01-01T00:00:00Z.",type:"Time"}],package:"experimental",desc:"Aligns input tables to a common start time.",example:"experimental.alignTime(alignTo: v.timeRangeStart)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aligntime/`},{name:"experimental.chain",args:[{name:"first",desc:"The first query to execute.",type:"Stream of Tables"},{name:"second",desc:"The second query to execute.",type:"Stream of Tables"}],package:"experimental",desc:"Executes two queries sequentially rather than in parallel and outputs the results of the second query.",example:"experimental.chain(first: query1, second: query2)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/chain/`},{name:"experimental.count",args:[],package:"experimental",desc:"Outputs the number of records in each input table and returns the count in the `_value` column. This function counts both null and non-null records.",example:"experimental.count()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/count/`},{name:"experimental.distinct",args:[],package:"experimental",desc:"Returns unique values from the `_value` column. The `_value` of each output record is set to a distinct value in the specified column. `null` is considered a distinct value.",example:"experimental.distinct()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/distinct/`},{name:"experimental.fill",args:[{name:"value",desc:"Value to replace null values with. Data type must match the type of the `_value` column.",type:"Boolean | Integer | UInteger | Float | String | Time | Duration"},{name:"usePrevious",desc:"When `true`, replaces null values with the value of the previous non-null row.",type:"Boolean"}],package:"experimental",desc:"Replaces all null values in the `_value` column with a non-null value.",example:"experimental.fill(value: 0.0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/fill/`},{name:"experimental.first",args:[],package:"experimental",desc:"Returns the first record with a non-null value in the `_value` column.",example:"experimental.first()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/first/`},{name:"experimental.group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:"The mode used to group columns. Only the `extend` mode is available with this function.",type:"String"}],package:"experimental",desc:"Introduces an extend mode to the existing `group()` function.",example:'experimental.group(columns: ["host", "_measurement"], mode: "extend")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/group/`},{name:"experimental.histogram",args:[{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies, including the maximum value of the data set. This value can be set to positive infinity if no maximum is known.",type:"Array of floats"},{name:"normalize",desc:"Convert count values into frequency values between 0 and 1. Default is `false`.",type:"Boolean"}],package:"experimental",desc:"Approximates the cumulative distribution of a dataset by counting data frequencies for a list of bins.",example:"experimental.histogram(\n    bins: [50.0, 75.0, 90.0],\n    normalize: false\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogram/`},{name:"experimental.histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"minValue",desc:"The assumed minimum value of the dataset.",type:"Float"}],package:"experimental",desc:"Approximates a quantile given a histogram with the cumulative distribution of the dataset.",example:"experimental.histogramQuantile(\n    quantile: 0.5,\n    minValue: 0.0\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogramquantile/`},{name:"experimental.integral",args:[{name:"unit",desc:"Time duration used to compute the integral.",type:"Duration"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"experimental",desc:"Computes the area under the curve per `unit` of time of subsequent non-null records.",example:'integral(\n    unit: 10s,\n    interpolate: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/integral/`},{name:"experimental.join",args:[{name:"left",desc:"First of two streams of tables to join.",type:"Stream of tables"},{name:"right",desc:"Second of two streams of tables to join.",type:"Stream of tables"},{name:"fn",desc:"A function that maps new output rows using left and right input rows.",type:"Function"}],package:"experimental",desc:"Joins two streams of tables on the group key and _time column. Use the fn parameter to map output tables.",example:"experimental.join(left: left, right: right, fn: (left, right) => ({left with lv: left._value, rv: right._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/join/`},{name:"experimental.kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"experimental",desc:"Calculates the Kaufman’s Adaptive Moving Average (KAMA) of input tables using the `_value` column in each table.",example:"experimental.kaufmansAMA(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/kaufmansama/`},{name:"experimental.last",args:[],package:"experimental",desc:"Returns the last record with a non-null value in the `_value` column.",example:"experimental.last()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/last/`},{name:"experimental.max",args:[],package:"experimental",desc:"Returns the record with the highest value in the `_value` column for each input table.",example:"experimental.max()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/max/`},{name:"experimental.mean",args:[],package:"experimental",desc:"Computes the mean or average of non-null values in the `_value` column of each input table.",example:"experimental.mean()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mean/`},{name:"experimental.min",args:[],package:"experimental",desc:"Returns the record with the lowest value in the `_value` column for each input table.",example:"experimental.min()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/min/`},{name:"experimental.mode",args:[],package:"experimental",desc:"Computes the mode or value that occurs most often in the `_value` column in each input table.",example:"experimental.mode()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mode/`},{name:"experimental.objectKeys",args:[{name:"o",desc:"The object to return keys from.",type:"Object"}],package:"experimental",desc:"Returns an array of keys in a specified object.",example:'experimental.objectKeys(o: {key1: "value1", key2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/objectkeys/`},{name:"experimental.quantile",args:[{name:"q",desc:"A value between 0 and 1 thats specifies the quantile.",type:"Float"},{name:"method",desc:"Computation method. Default is `estimate_tdigest`. Available options are `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset.",type:"Float"}],package:"experimental",desc:"Outputs non-null records with values in the `_value` column that fall within the specified quantile or represent the specified quantile.",example:'experimental.quantile(\n    q: 0.99,\n    method: "estimate_tdigest",\n    compression: 1000.0\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/quantile/`},{name:"experimental.set",args:[{name:"o",desc:"An object that defines the columns and values to set.",type:"Object"}],package:"experimental",desc:"Sets multiple static column values on all records.",example:'experimental.set(o: {column1: "value1", column2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/set/`},{name:"experimental.skew",args:[],package:"experimental",desc:"Outputs the skew of non-null values in the `_value` column for each input table as a float.",example:"experimental.skew()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/skew/`},{name:"experimental.spread",args:[],package:"experimental",desc:"Outputs the difference between the minimum and maximum values in the `_value` column for each input table.",example:"experimental.spread()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/spread/`},{name:"experimental.stddev",args:[{name:"mode",desc:'The standard deviation mode or type of standard deviation to calculate. Defaults to `"sample"`. Available options are `sample` and `population`.',type:"String"}],package:"experimental",desc:"Computes the standard deviation of non-null values in the `_value` column for each input table.",example:'experimental.stddev(mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/stddev/`},{name:"experimental.subDuration",args:[{name:"d",desc:"The duration to subtract.",type:"Duration"},{name:"from",desc:"The time to subtract the duration from.",type:"Time"}],package:"experimental",desc:"Subtracts a duration from a time value and returns the resulting time value.",example:"experimental.subDuration(d: 12h, from: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/subduration/`},{name:"experimental.sum",args:[],package:"experimental",desc:"Computes the sum of non-null values in the `_value` column for each input table.",example:"experimental.sum()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/sum/`},{name:"experimental.to",args:[{name:"bucket",desc:"The bucket to write data to. `bucket` and `bucketID` are mutually exclusive.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to write data to. `bucketID` and `bucket` are mutually exclusive.",type:"String"},{name:"org",desc:"The organization name of the specified bucket. `org` and `orgID` are mutually exclusive.",type:"String"},{name:"orgID",desc:"The organization ID of the specified bucket. `orgID` and `org` are mutually exclusive.",type:"String"}],package:"experimental",desc:"Writes data to an InfluxDB v2.0 bucket, but in a different structure than the built-in `to()` function.",example:'experimental.to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/to/`},{name:"exponentialMovingAverage",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data.",example:"exponentialMovingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/exponentialmovingaverage/`},{name:"fill",args:[{name:"column",desc:'The column in which to replace null values. Defaults to `"_value"`.',type:"String"},{name:"value",desc:"The constant value to use in place of nulls.",type:"Value type of `column`"},{name:"usePrevious",desc:"When `true`, assigns the value set in the previous non-null row.",type:"Boolean"}],package:"",desc:"Replaces all null values in an input stream and replace them with a non-null value.",example:'fill(column: "_value", usePrevious: true)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/fill/`},{name:"filter",args:[{name:"fn",desc:"A single argument function that evaluates true or false. Records are passed to the function. Those that evaluate to true are included in the output tables.",type:"Function"},{name:"onEmpty",desc:"Defines the behavior for empty tables. Potential values are `keep` and `drop`. Defaults to `drop`.",type:"String"}],package:"",desc:"Filters data based on conditions defined in the function. The output tables have the same schema as the corresponding input tables.",example:'filter(fn: (r) => r._measurement == "cpu")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/filter/`},{name:"findColumn",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"column",desc:"Name of the column to extract.",type:"String"}],package:"",desc:"Returns an array of values in a specified column from the first table in a stream of tables where the group key values match the specified predicate.",example:'findColumn(fn: (key) => key.host == "host1", column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findcolumn/`},{name:"findRecord",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"idx",desc:"Index of the record to extract.",type:"Integer"}],package:"",desc:"Returns a record at a specified index from the first table in a stream of tables where the group key values match the specified predicate.",example:'findRecord(fn: (key) => key.host == "host1", idx: 0)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findrecord/`},{name:"first",args:[],package:"",desc:"Selects the first non-null record from an input table.",example:"first()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/first/`},{name:"float",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Boolean"}],package:"",desc:"Converts a single value to a float.",example:"float(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/float/`},r,{name:"geo.asTracks",args:[{name:"groupBy",desc:"Columns to group by. They should uniquely identify each track.",type:"Array of Strings"},{name:"orderBy",desc:"Columns to order results by.",type:"Array of Strings"}],package:"experimental/geo",desc:"Groups geo-temporal data into tracks (sequential, related data points).",example:'geo.asTracks(groupBy: ["id","tid"], orderBy: ["_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/astracks/`},{name:"geo.filterRows",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"},{name:"strict",desc:"Enable strict geographic data filtering. Default is `true`",type:"Boolean"}],package:"experimental/geo",desc:"Filters data by a specified geographic region with the option of strict filtering.",example:"geo.filterRows(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0}, strict: true)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/filterrows/`},{name:"geo.gridFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Filters data by a specified geographic region using S2 geometry grid cells.",example:"geo.gridFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/gridfilter/`},{name:"geo.groupByArea",args:[{name:"newColumn",desc:"Name of the new column that stores the unique identifier for a geographic area.",type:"String"},{name:"level",desc:"S2 Cell level used to determine the size of each geographic area.",type:"Integer"},{name:"s2cellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Groups rows by geographic area using S2 geometry grid cells.",example:'geo.groupByArea(newColumn: "geoArea", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/groupbyarea/`},{name:"geo.s2CellIDToken",args:[{name:"point",desc:"Longitude and latitude in decimal degrees (WGS 84) to use when generating the S2 cell ID token. Object must contain `lat` and `lon` properties.",type:"Object"},{name:"token",desc:"S2 cell ID token to update.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Returns an S2 cell ID token.",example:"geo.s2CellIDToken(point: {lat: 37.7858229, lon: -122.4058124}, level: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2cellidtoken/`},{name:"geo.s2CellLatLon",args:[{name:"token",desc:"S2 cell ID token.",type:"String"}],package:"experimental/geo",desc:"Returns the latitude and longitude of the center of an S2 cell.",example:'geo.s2CellLatLon(token: "89c284")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2celllatlon/`},{name:"geo.shapeData",args:[{name:"latField",desc:"Name of existing latitude field.",type:"String"},{name:"lonField",desc:"Name of existing longitude field.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Renames existing latitude and longitude fields to `lat` and `lon` and adds an `s2_cell_id` tag.",example:'geo.shapeData(latField: "latitude", lonField: "longitude", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/shapedata/`},{name:"geo.ST_Contains",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if the region contains the GIS geometry.",example:"geo.ST_Contains(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_contains/`},{name:"geo.ST_Distance",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the distance between the region and GIS geometry.",example:"geo.ST_Distance(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_distance/`},{name:"geo.ST_DWithin",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"},{name:"distance",desc:"Maximum distance allowed between the region and geometry.",type:"Float"}],package:"experimental/geo",desc:"Tests if a region is within a specified distance from GIS geometry.",example:"geo.ST_DWithin(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433}, distance: 1000.0)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_dwithin/`},{name:"geo.ST_Intersects",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if a region intersects with GIS geometry.",example:'geo.ST_Intersects(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_intersects/`},{name:"geo.ST_Length",args:[{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the spherical length of GIS geometry.",example:'geo.ST_Length(geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_length/`},{name:"geo.ST_LineString",args:[],package:"experimental/geo",desc:"Converts a series of geographic points into linestring",example:"geo.ST_LineString()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_linestring/`},{name:"geo.strictFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"}],package:"experimental/geo",desc:"Filters data by latitude and longitude in a specified region.",example:"geo.strictFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/strictfilter/`},{name:"geo.toRows",args:[],package:"experimental/geo",desc:"Pivots geo-temporal data into row-wise sets based on time and other correlation columns.",example:"geo.toRows()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/torows/`},{name:"getColumn",args:[{name:"column",desc:"The name of the column to extract.",type:"String"}],package:"",desc:"Extracts a column from a table given its label. If the label is not present in the set of columns, the function errors.",example:'getColumn(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getcolumn/`},{name:"getRecord",args:[{name:"idx",desc:"The index of the record to extract.",type:"Integer"}],package:"",desc:"Extracts a record from a table given the record’s index. If the index is out of bounds, the function errors.",example:"getRecord(idx: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getrecord/`},{name:"group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:'The mode used to group columns. The following options are available: by, except. Defaults to `"by"`.',type:"String"}],package:"",desc:"Groups records based on their values for specific columns. It produces tables with new group keys based on provided properties.",example:'group(columns: ["host", "_measurement"], mode:"by")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/group/`},{name:"highestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the average of each group.",example:'highestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestaverage/`},{name:"highestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the last value of each group.",example:'highestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestcurrent/`},{name:"highestMax",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the maximum of each group.",example:'highestMax(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestmax/`},{name:"histogram",args:[{name:"column",desc:'The name of a column containing input data values. The column type must be float. Defaults to `"_value"`.',type:"Strings"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. Defaults to `"le"`.',type:"String"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. Defaults to `"_value"`.',type:"String"},{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies. Each element in the array should contain a float value that represents the maximum value for a bin.",type:"Array of Floats"},{name:"normalize",desc:"When `true`, will convert the counts into frequency values between 0 and 1. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Approximates the cumulative distribution function of a dataset by counting data frequencies for a list of buckets.",example:'histogram(column: "_value", upperBoundColumn: "le", countColumn: "_value", bins: [50.0, 75.0, 90.0], normalize: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/histogram/`},{name:"histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. The count column type must be float. Defaults to `"_value"`.',type:"String"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. The count column type must be float. Defaults to `"le"`.',type:"String"},{name:"valueColumn",desc:'The name of the output column which will contain the computed quantile. Defaults to `"_value"`.',type:"String"},{name:"minValue",desc:"The assumed minimum value of the dataset. When the quantile falls below the lowest upper bound, interpolation is performed between `minValue` and the lowest upper bound. When `minValue` is equal to negative infinity, the lowest upper bound is used. Defaults to `0`.",type:"Float"}],package:"",desc:"Approximates a quantile given a histogram that approximates the cumulative distribution of the dataset.",example:'histogramQuantile(quantile: 0.5, countColumn: "_value", upperBoundColumn: "le", valueColumn: "_value", minValue: 0.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/histogramquantile/`},{name:"holtWinters",args:[{name:"n",desc:"Number of values to predict.",type:"Integer"},{name:"seasonality",desc:"Number of points in a season. Defaults to `0`.",type:"Integer"},{name:"interval",desc:"The interval between two data points.",type:"Duration"},{name:"withFit",desc:'Returns "fitted" data points in results when `withFit` is set to `true`. Defaults to `false`.',type:"Boolean"},{name:"timeColumn",desc:'The time column to use. Defaults to `"_time"`.',type:"String"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Applies the Holt-Winters forecasting method to input tables. The Holt-Winters method predicts `n` seasonally-adjusted values for the specified `column` at the specified `interval`.",example:"holtWinters(n: 10, interval: 1d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/holtwinters/`},{name:"hourSelection",args:[{name:"start",desc:"The first hour of the hour range (inclusive). Hours range from `[0-23]`",type:"Integer"},{name:"stop",desc:"The last hour of the hour range (inclusive). Hours range from `[0-23]`.",type:"Integer`"},{name:"timeColumn",desc:'The column that contains the time value. Default is `"_time"`.',type:"String`"}],package:"",desc:"Retains all rows with time values in a specified hour range. Hours are specified in military time.",example:"hourSelection(start: 9, stop: 17)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/hourselection/`},{name:"http.basicAuth",args:[{name:"u",desc:"The username to use in the basic authentication header.",type:"String"},{name:"p",desc:"The password to use in the basic authentication header.",type:"String"}],package:"http",desc:"Returns a Base64-encoded basic authentication header using a specified username and password combination.",example:'http.basicAuth(\n    u: "username",\n    p: "passw0rd"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/basicauth/`},{name:"http.endpoint",args:[{name:"url",desc:"The URL to POST to.",type:"String"}],package:"http",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = http.endpoint(\n    url: "http://localhost:1234/"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/endpoint/`},{name:"http.get",args:[{name:"url",desc:"The URL to send the GET request to.",type:"String"},{name:"headers",desc:"Headers to include with the GET request.",type:"Object"},{name:"timeout",desc:"Timeout for the GET request. Default is `30s`.",type:"Duration"}],package:"experimental/http",desc:"Submits an HTTP GET request to the specified URL and returns the HTTP status code, response body, and response headers.",example:'http.get(url: "https://docs.influxdata.com/influxdb/v2.0/", headers: {foo: "bar"})',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/http/get/`},{name:"http.pathEscape",args:[{name:"inputString",desc:"The string to escape.",type:"String"}],package:"http",desc:"Escapes special characters in a string and replaces non-ASCII characters with hexadecimal representations (%XX).",example:'http.pathEscape(inputString: "/this/is/an/example-path.html")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/pathescape/`},{name:"http.post",args:[{name:"url",desc:"The URL to POST to.",type:"String"},{name:"headers",desc:"Headers to include with the POST request.",type:"Object"},{name:"data",desc:"The data body to include with the POST request.",type:"Bytes"}],package:"http",desc:"Submits an HTTP POST request to the specified URL with headers and data and returns the HTTP status code.",example:'http.post(url: "http://localhost:8086/", headers: {x:"a", y:"b"}, data: bytes(v: "body"))',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/post/`},{name:"increase",args:[{name:"columns",desc:'List of columns to use in the operation. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes the total non-negative difference between values in a table.",example:'increase(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/increase/`},{name:"influxdb.api",args:[{name:"method",desc:"HTTP request method.",type:"String"},{name:"path",desc:"InfluxDB API path.",type:"String"},{name:"host",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"headers",desc:"HTTP request headers.",type:"Dictionary"},{name:"query",desc:"URL query parameters.",type:"Dictionary"},{name:"timeout",desc:"HTTP request timeout. Default is `30s`.",type:"Duration"},{name:"body",desc:"HTTP request body as bytes.",type:"Bytes"}],package:"experimental/influxdb",desc:"Submits an HTTP request to the specified InfluxDB API path and returns a record containing the HTTP status code, response headers, and response body as a byte array.",example:'influxdb.api(\n    method: "get",\n    path: "/example",\n    host: "http://localhost:8086",\n    token: "mySupeR53cre7t0k3n",\n    headers: ["header1": "header1Value", "header2": "header2Value"],\n    query: ["ex1": "example1", "ex2": "example2"],\n    timeout: 30s,\n    body: bytes(v: "Example body")\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/influxdb/api/`},{name:"influxdb.cardinality",args:[{name:"bucket",desc:"Bucket to query cardinality from.",type:"String"},{name:"bucketID",desc:"Bucket ID to query cardinality from.",type:"String"},{name:"org",desc:"InfluxDB organization.",type:"String"},{name:"orgID",desc:"InfluxDB organization ID.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query.",type:"String"},{name:"token",desc:"InfluxDB authorization token.",type:"String"},{name:"start",desc:"The earliest time to include when calculating cardinality.",type:"Duration | Time"},{name:"stop",desc:"The latest time to include when calculating cardinality.",type:"Duration | Time"},{name:"predicate",desc:"Predicate function that filters records. Default is `(r) => true.`",type:"Function"}],package:"influxdata/influxdb",desc:"Returns the series cardinality of data in InfluxDB.",example:'influxdb.cardinality(bucket: "example-bucket", start: -1h)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb/cardinality/`},{name:"influxdb.select",args:[{name:"from",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"Earliest time to include in results. Results include points that match the specified start time.",type:"Duration | Time | Integer"},{name:"stop",desc:"Latest time to include in results. Results exclude points that match the specified stop time.",type:"Duration | Time | Integer"},{name:"m",desc:"Name of the measurement to query.",type:"String"},{name:"fields",desc:"List of fields to query. Returns all fields when list is empty or unspecified. Defaults to `[]`.",type:"Array of Strings"},{name:"where",desc:"A single argument predicate function that evaluates true or false and filters results based on tag values. Defaults to `(r) => true`.",type:"Function"},{name:"host",desc:"URL of the InfluxDB instance to query. See InfluxDB URLs.",type:"String"},{name:"org",desc:"Organization name.",type:"String"},{name:"token",desc:"InfluxDB authentication token.",type:"String"}],package:"contrib/jsternberg/influxdb",desc:"an alternate implementation of `from()`, `range()`, `filter()` and `pivot()` that returns pivoted query results and masks the `_measurement`, `_start`, and `_stop` columns.",example:'influxdb.select(\n    from: "example-bucket",\n    start: -1d,\n    stop: now(),\n    m: "example-measurement",\n    fields: [],\n    where: (r) => true,\n    host: "https://example.com",\n    org: "example-org",\n    token: "MySuP3rSecr3Tt0k3n"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/influxdb/select/`},{name:"int",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Numeric String | Time | Uinteger"}],package:"",desc:"Converts a single value to a integer.",example:"int(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/int/`},{name:"integral",args:[{name:"unit",desc:"The time duration used when computing the integral.",type:"Duration"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeColumn",desc:'Column that contains time values to use in the operation. Defaults to `"_time"`.',type:"String"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"",desc:"Computes the area under the curve per unit of time of subsequent non-null records. The curve is defined using `_time` as the domain and record values as the range.",example:'integral(unit: 10s, column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/integral/`},{name:"interpolate.linear",args:[{name:"every",desc:"Duration of time between interpolated points.",type:"Duration"}],package:"interpolate",desc:"Inserts rows at regular intervals using linear interpolation to determine values for inserted rows.",example:"interpolate.linear(every: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/interpolate/linear/`},{name:"join",args:[{name:"tables",desc:"The map of streams to be joined.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"method",desc:'The method used to join. Possible values are: `inner`, `cross`, `left`, `right`, or `full`. Defaults to `"inner"`.',type:"String"}],package:"",desc:"Merges two or more input streams, whose values are equal on a set of common columns, into a single output stream. The resulting schema is the union of the input schemas. The resulting group key is the union of the input group keys.",example:'join(tables: {key1: table1, key2: table2}, on: ["_time", "_field"], method: "inner")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/join/`},{name:"json.encode",args:[{name:"v",desc:"The value to encode.",type:"Boolean | Duration | Float | Integer | String | Time | UInteger"}],package:"json",desc:"Converts a value into JSON bytes.",example:"json.encode(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/json/encode/`},{name:"json.parse",args:[{name:"data",desc:"JSON data to parse.",type:"Bytes"}],package:"experimental/json",desc:"Takes JSON data as bytes and returns a value.",example:'json.parse(data: bytes(v: "{"a":1,"b":2,"c":3}"))',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/json/parse/`},{name:"kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Calculates Kaufman’s Adaptive Moving Average (KAMA) using values in an input table.",example:"kaufmansAMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmansama/`},{name:"kaufmansER",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates the Kaufman’s Efficiency Ratio (KER) using values in an input table.",example:"kaufmansER(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmanser/`},{name:"keep",args:[{name:"columns",desc:"Columns that should be included in the resulting table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A predicate function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Returns a table containing only the specified columns, ignoring all others. Only columns in the group key that are also specified in the `keep()` function will be kept in the resulting group key. It is the inverse of `drop`.",example:'keep(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keep/`},{name:"keys",args:[{name:"column",desc:"Column is the name of the output column to store the group key labels. Defaults to `_value`.",type:"String"}],package:"",desc:"Outputs the group key of input tables. For each input table, it outputs a table with the same group key columns, plus a _value column containing the labels of the input table's group key.",example:'keys(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keys/`},{name:"keyValues",args:[{name:"keyColumns",desc:"A list of columns from which values are extracted. All columns indicated must be of the same type.",type:"Array of Strings"}],package:"",desc:"Returns a table with the input table's group key plus two columns, `_key` and `_value`, that correspond to unique column + value pairs from the input table.",example:'keyValues(keyColumns: ["usage_idle", "usage_user"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keyvalues/`},{name:"last",args:[],package:"",desc:"Selects the last non-null record from an input table.",example:"last()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/last/`},{name:"length",args:[{name:"arr",desc:"The array to evaluate.",type:"Array"}],package:"",desc:"Returns the number of items in an array.",example:'length(arr: ["john"])',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/length/`},{name:"limit",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the beginning of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the first `n` records, excluding the offset.",example:"limit(n:10, offset: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/limit/`},{name:"linearBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"width",desc:"The distance between subsequent bin values.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of linearly separated floats.",example:"linearBins(start: 0.0, width: 5.0, count: 20, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/linearbins/`},{name:"logarithmicBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"factor",desc:"The multiplier applied to each subsequent bin.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of exponentially separated floats.",example:"logarithmicBins(start: 1.0, factor: 2.0, count: 10, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/logarithmicbins/`},{name:"lowestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the average of each group.",example:'lowestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestaverage/`},{name:"lowestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the last value of each group.",example:'lowestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestcurrent/`},{name:"lowestMin",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the maximum of each group.",example:'lowestMin(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestmin/`},{name:"map",args:[{name:"fn",desc:"A single argument function that to apply to each record. The return value must be an object.",type:"Function"}],package:"",desc:"Applies a function to each record in the input tables.",example:"map(fn: (r) => ({ r with _value: r._value * r._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/map/`},{name:"math.abs",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the absolute value of x.",example:"math.abs(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/abs/`},{name:"math.acos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arccosine of x in radians.",example:"math.acos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acos/`},{name:"math.acosh",args:[{name:"x",desc:"The value used in the operation. Should be greater than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic cosine of x.",example:"math.acosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acosh/`},{name:"math.asin",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the arcsine of x in radians.",example:"math.asin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asin/`},{name:"math.asinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic sine of x.",example:"math.asinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asinh/`},{name:"math.atan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arctangent of x in radians.",example:"math.atan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan/`},{name:"math.atan2",args:[{name:"y",desc:"The y coordinate used in the operation.",type:"Float"},{name:"x",desc:"The x coordinate used in the operation.",type:"Float"}],package:"math",desc:"Returns the arc tangent of y/x, using the signs of the two to determine the quadrant of the return value.",example:"math.atan2(y: r.y_coord, x: r.x_coord)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan2/`},{name:"math.atanh",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic tangent of x.",example:"math.atanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atanh/`},{name:"math.cbrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cube root of x.",example:"math.cbrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cbrt/`},{name:"math.ceil",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the least integer value greater than or equal to x.",example:"math.ceil(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ceil/`},{name:"math.copysign",args:[{name:"x",desc:"The magnitude used in the operation.",type:"Float"},{name:"y",desc:"The sign used in the operation.",type:"Float"}],package:"math",desc:"Returns a value with the magnitude of x and the sign of y.",example:"math.copysign(x: r._magnitude, r._sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/copysign/`},{name:"math.cos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cosine of the radian argument x.",example:"math.cos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cos/`},{name:"math.cosh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic cosine of x.",example:"math.cosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cosh/`},{name:"math.dim",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the maximum of (x - y) or 0.",example:"math.dim(x: r._value1, y: r._value2)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/dim/`},{name:"math.erf",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the error function of x.",example:"math.erf(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erf/`},{name:"math.erfc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the complementary error function of x.",example:"math.erfc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfc/`},{name:"math.erfcinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than 0 and less than 2.",type:"Float"}],package:"math",desc:"Returns the inverse of `math.erfc()`.",example:"math.erfcinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfcinv/`},{name:"math.erfinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse error function of x.",example:"math.erfinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfinv/`},{name:"math.exp",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x (`e**x`).",example:"math.exp(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp/`},{name:"math.exp2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-2 exponential of x (`2**x`).",example:"math.exp2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp2/`},{name:"math.expm1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x minus 1 (`e**x - 1`).",example:"math.expm1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/expm1/`},{name:"math.float64bits",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 binary representation of f, with the sign bit of f and the result in the same bit position.",example:"math.float64bits(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/float64bits/`},{name:"math.floor",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the greatest integer value less than or equal to x.",example:"math.floor(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/floor/`},{name:"math.frexp",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Breaks f into a normalized fraction and an integral power of two.",example:"math.frexp(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/frexp/`},{name:"math.gamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the Gamma function of x.",example:"math.gamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/gamma/`},{name:"math.hypot",args:[{name:"p",desc:"The p value used in the operation.",type:"Float"},{name:"q",desc:"The q value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of `p*p + q*q`, taking care to avoid overflow and underflow.",example:"math.hypot(p: r.opp, p: r.adj)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/hypot/`},{name:"math.ilogb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x as an integer.",example:"math.ilogb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ilogb/`},{name:"math.isInf",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"},{name:"sign",desc:"The sign used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an infinity, according to sign.",example:"math.isInf(f: r._value, sign: r.sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isinf/`},{name:"math.isNaN",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an IEEE 754 NaN value.",example:"math.isNaN(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isnan/`},{name:"math.j0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the first kind.",example:"math.j0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j0/`},{name:"math.j1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the first kind.",example:"math.j1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j1/`},{name:"math.jn",args:[{name:"n",desc:"The order number.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the first kind.",example:"math.jn(n: 2, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/jn/`},{name:"math.ldexp",args:[{name:"frac",desc:"The fraction used in the operation.",type:"Float"},{name:"exp",desc:"The exponent used in the operation.",type:"Float"}],package:"math",desc:"Returns `frac × 2**exp`. It is the inverse of `math.frexp()`.",example:"math.ldexp(frac: r.frac, exp: r.exp)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ldexp/`},{name:"math.lgamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm and sign (-1 or +1) of `math.gamma(x:x)`.",example:"math.lgamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/lgamma/`},{name:"math.log",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of x.",example:"math.log(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log/`},{name:"math.log10",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the decimal logarithm of `x`.",example:"math.log10(x: 3.14)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log10/`},{name:"math.log1p",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of 1 plus its argument x.",example:"math.log1p(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log1p/`},{name:"math.log2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary logarithm of x.",example:"math.log2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log2/`},{name:"math.logb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x.",example:"math.logb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/logb/`},{name:"math.mInf",args:[{name:"sign",desc:"The sign value used in the operation.",type:"Float"}],package:"math",desc:"Returns positive infinity if `sign >= 0`, negative infinity if `sign < 0`.",example:"math.mInf(sign: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/minf/`},{name:"math.mMax",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the larger of x or y.",example:"math.mMax(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmax/`},{name:"math.mMin",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the smaller of x or y.",example:"math.mMin(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmin/`},{name:"math.mod",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the floating-point remainder of x/y.",example:"math.mod(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mod/`},{name:"math.modf",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns integer and fractional floating-point numbers that sum to f. Both values have the same sign as f.",example:"math.modf(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/modf/`},{name:"math.NaN",args:[],package:"math",desc:"Returns an IEEE 754 NaN value.",example:"math.NaN()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nan/`},{name:"math.nextafter",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the next representable float value after x towards y.",example:"math.nextafter(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nextafter/`},{name:"math.pow",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-x exponential of y, `x**y`.",example:"math.pow(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow/`},{name:"math.pow10",args:[{name:"n",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-10 exponential of n, `10**n`.",example:"math.pow10(n: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow10/`},{name:"math.remainder",args:[{name:"x",desc:"The numerator used in the operation.",type:"Float"},{name:"y",desc:"The denominator used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 floating-point remainder of `x / y`.",example:"math.remainder(x: r.numerator, y: r.denominator)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/remainder/`},{name:"math.round",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding half away from zero.",example:"math.round(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/round/`},{name:"math.roundtoeven",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding ties to even.",example:"math.roundtoeven(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/roundtoeven/`},{name:"math.signbit",args:[{name:"x",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether x is negative or negative zero.",example:"math.signbit(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/signbit/`},{name:"math.sin",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the sine of the radian argument x.",example:"math.sin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sin/`},{name:"math.sincos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the values of `math.sin(x:x)` and `math.cos(x:x)`.",example:"math.sincos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sincos/`},{name:"math.sinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic sine of x.",example:"math.sinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sinh/`},{name:"math.sqrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of x.",example:"math.sqrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sqrt/`},{name:"math.tan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the tangent of the radian argument x.",example:"math.tan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tan/`},{name:"math.tanh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic tangent of x.",example:"math.tanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tanh/`},{name:"math.trunc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the integer value of x.",example:"math.trunc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/trunc/`},{name:"math.y0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the second kind.",example:"math.y0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y0/`},{name:"math.y1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the second kind.",example:"math.y1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y1/`},{name:"math.yn",args:[{name:"n",desc:"The order number used in the operation.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the second kind.",example:"math.yn(n: 3, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/yn/`},{name:"max",args:[{name:"column",desc:'The column to use to compute the max. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the highest `_value` from the input table.",example:"max()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/max/`},{name:"mean",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Computes the mean or average of non-null records in the input table.",example:'mean(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mean/`},{name:"median",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Returns the median `_value` of an input table. The `median()` function can only be used with float value types.",example:'median(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/median/`},{name:"min",args:[{name:"column",desc:'The column to use to compute the min. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the lowest `_value` from the input table.",example:"min()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/min/`},{name:"mode",args:[{name:"column",desc:'The column to use to compute the mode. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the mode or value that occurs most often in a specified column.",example:'mode(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mode/`},{name:"monitor.check",args:[{name:"crit",desc:"Predicate function that determines `crit` status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function that determines `warn` status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function that determines `info` status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function that determines `ok` status. Default is `(r) => false`.",type:"Function"},{name:"messageFn",desc:"A function that constructs a message to append to each row. The message is stored in the `_message` column.",type:"Function"},{name:"data",desc:"Meta data used to identify this check.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Checks input data and assigns a level (`ok`, `info`, `warn`, or `crit`) to each row based on predicate functions.",example:'monitor.check(\n    crit: (r) => r._value > 90.0,\n    warn: (r) => r._value > 80.0,\n    info: (r) => r._value > 60.0,\n    ok:   (r) => r._value <= 20.0,\n    messageFn: (r) => "The current level is ${r._level}",\n    data: {}\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/check/`},{name:"monitor.deadman",args:[{name:"t",desc:"The time threshold for the deadman check.",type:"Time"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.deadman(t: 2019-08-30T12:30:00Z)",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/deadman/`},{name:"monitor.from",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/from/`},{name:"monitor.logs",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Retrieves notification events stored in the notifications measurement in the `_monitoring` bucket.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/logs/`},{name:"monitor.notify",args:[{name:"endpoint",desc:"A function that constructs and sends the notification to an endpoint.",type:"Function"},{name:"data",desc:"Notification data to append to the output.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Sends a notification to an endpoint and logs it in the notifications measurement in the `_monitoring` bucket.",example:"monitor.notify(\n    endpoint: endpoint,\n    data: {}\n)",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/notify/`},{name:"monitor.stateChanges",args:[{name:"fromLevel",desc:'The level to detect a change from. Defaults to `"any"`.',type:"String"},{name:"toLevel",desc:'The level to detect a change to. The function output records that change to this level. Defaults to `"any"`.',type:"String"}],package:"influxdata/influxdb/monitor",desc:"Detects state changes in a stream of data with a `_level` column and outputs records that change from `fromLevel` to `toLevel`.",example:'monitor.stateChanges(\n    fromLevel: "any",\n    toLevel: "any"\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechanges/`},{name:"monitor.stateChangesOnly",args:[],package:"influxdata/influxdb/monitor",desc:"Takes a stream of tables that contains a `_level` column and returns a stream of tables where each record represents a state change.",example:"monitor.stateChangesOnly()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechangesonly/`},{name:"movingAverage",args:[{name:"n",desc:"The frequency of time windows.",type:"Duration"}],package:"",desc:"Calculates the mean of values grouped into `n` number of points.",example:"movingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/movingaverage/`},{name:"mqtt.to",args:[{name:"broker",desc:"The MQTT broker connection string.",type:"String"},{name:"topic",desc:"The MQTT topic to send data to.",type:"String"},{name:"message",desc:"The message or payload to send to the MQTT broker. The default payload is an output table.",type:"String"},{name:"qos",desc:"The MQTT Quality of Service (QoS) level. Values range from 0-2. Default is 0.",type:"Integer"},{name:"clientid",desc:"The MQTT client ID.",type:"String"},{name:"username",desc:"The username to send to the MQTT broker.",type:"String"},{name:"password",desc:"The password to send to the MQTT broker.",type:"String"},{name:"name",desc:"The name for the MQTT message.",type:"String"},{name:"timeout",desc:"The MQTT connection timeout. Default is 1s.",type:"Duration"},{name:"timeColumn",desc:'The column to use as time values in the output line protocol. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The columns to use as tag sets in the output line protocol. Default is `[]`.",type:"Array of Strings"},{name:"valueColumns",desc:'The columns to use as field values in the output line protocol. Default is `["_value"]`.',type:"Array of Strings"}],package:"experimental/mqtt",desc:"Outputs data to an MQTT broker using MQTT protocol.",example:'mqtt.to(broker: "tcp://localhost:8883", topic: "example-topic", clientid: "exampleID", tagColumns: ["exampleTagKey"], valueColumns: ["_value"])',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mqtt/to/`},{name:"now",args:[],package:"",desc:"Returns the current time (UTC) or the time defined in the `now` option.",example:"now()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/now/`},{name:"oee.APQ",args:[{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, quality (APQ) and overall equipment effectiveness (OEE) in producing parts.",example:'oee.APQ(\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/apq/`},{name:"oee.computeAPQ",args:[{name:"productionEvents",desc:"Production events stream that contains the production state or start and stop events.",type:"Stream of Tables"},{name:"partEvents",desc:"Part events that contains the running totals of parts produced and parts that do not meet quality standards.",type:"Stream of Tables"},{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, and quality (APQ) and overall equipment effectiveness (OEE) using two separate input streams—production events and part events.",example:'oee.computeAPQ(\n    productionEvents: exampleProductionScheme,\n    partEvents: examplePartsStream,\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/computeapq/`},{name:"opsgenie.endpoint",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"}],package:"contrib/sranka/opsgenie",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = opsgenie.endpoint(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    entity: "example-entity"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/endpoint/`},{name:"opsgenie.sendAlert",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"message",desc:"Alert message text. 130 characters or less.",type:"String"},{name:"alias",desc:"Opsgenie alias usee to de-deduplicate alerts. 250 characters or less. Defaults to `message`.",type:"String"},{name:"description",desc:"Alert description. 15,000 characters or less.",type:"String"},{name:"priority",desc:"Opsgenie alert priority. Valid values include: P1, P2, P3 (default), P4, and P5.",type:"String"},{name:"responders",desc:"List of responder teams or users. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of Strings"},{name:"tags",desc:"Alert tags.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"},{name:"actions",desc:"List of actions available for the alert.",type:"Array of strings"},{name:"details",desc:"Additional alert details. Must be a JSON-encoded map of key-value string pairs.",type:"String"},{name:"visibleTo",desc:"List of teams and users the alert will be visible to without sending notifications. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of strings"}],package:"contrib/sranka/opsgenie",desc:"Sends an alert to Opsgenie.",example:'opsgenie.sendAlert(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    message: "Example message",\n    alias: "Example alias",\n    description: "Example description",\n    priority: "P3",\n    responders: ["user:john@example.com", "team:itcrowd"],\n    tags: ["tag1", "tag2"],\n    entity: "example-entity",\n    actions: ["action1", "action2"],\n    details: "{}",\n    visibleTo: []\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/sendalert/`},{name:"pagerduty.actionFromSeverity",args:[{name:"severity",desc:"The severity to convert to a PagerDuty action.",type:"String"}],package:"pagerduty",desc:"Converts a severity to a PagerDuty action. `ok` converts to `resolve`. All other severities convert to `trigger`.",example:'pagerduty.actionFromSeverity(severity: "ok")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/actionfromseverity/`},{name:"pagerduty.dedupKey",args:[],package:"pagerduty",desc:"uses the group key of an input table to generate and store a deduplication key in the `_pagerdutyDedupKey` column.",example:"pagerduty.dedupKey()",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/dedupkey/`},{name:"pagerduty.endpoint",args:[{name:"url",desc:"The PagerDuty v2 Events API URL. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"}],package:"pagerduty",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pagerduty.endpoint(\n    url: "https://events.pagerduty.com/v2/enqueue"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/endpoint/`},{name:"pagerduty.sendEvent",args:[{name:"pagerdutyURL",desc:"The URL of the PagerDuty endpoint. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"},{name:"routingKey",desc:"The routing key generated from your PagerDuty integration.",type:"String"},{name:"client",desc:"The name of the client sending the alert.",type:"String"},{name:"clientURL",desc:"The URL of the client sending the alert.",type:"String"},{name:"dedupkey",desc:"A per-alert ID that acts as deduplication key and allows you to acknowledge or change the severity of previous messages. Supports a maximum of 255 characters.",type:"String"},{name:"class",desc:"The class or type of the event. Classes are user-defined.",type:"String"},{name:"group",desc:"A logical grouping used by PagerDuty. Groups are user-defined.",type:"String"},{name:"severity",desc:'The severity of the event. Supported severities are `"critical"`, `"error"`, `"warning"`, `"info"`.',type:"String"},{name:"eventAction",desc:'Event type to send to PagerDuty. Valid values include `"trigger"`, `"resolve"`, `"acknowledge"`.',type:"String"},{name:"source",desc:"The unique location of the affected system. For example, the hostname or fully qualified domain name (FQDN).",type:"String"},{name:"summary",desc:"A brief text summary of the event used as the summaries or titles of associated alerts. The maximum permitted length is 1024 characters.",type:"String"},{name:"timestamp",desc:"The time the detected event occurred in RFC3339nano format.",type:"String"}],package:"pagerduty",desc:"Sends an alert to PagerDuty.",example:'pagerduty.sendEvent(\n    pagerdutyURL: "https://events.pagerduty.com/v2/enqueue",\n    routingKey: "ExampleRoutingKey",\n    client: "ExampleClient",\n    clientURL: "http://examplepagerdutyclient.com",\n    dedupkey: "ExampleDedupKey",\n    class: "cpu usage",\n    group: "app-stack",\n    severity: "ok",\n    eventAction: "trigger",\n    source: "monitoringtool:vendor:region",\n    summary: "This is an example summary.",\n    timestamp: "2016-07-17T08:42:58.315+0000"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/sendevent/`},{name:"pagerduty.severityFromLevel",args:[{name:"level",desc:"The level to convert to a PagerDuty severity.",type:"String"}],package:"pagerduty",desc:"Converts an InfluxDB status level to a PagerDuty severity.",example:'pagerduty.severityFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/severityfromlevel/`},{name:"pearsonr",args:[{name:"x",desc:"First input stream used in the operation.",type:"Object"},{name:"y",desc:"Second input stream used in the operation.",type:"Object"},{name:"on",desc:"List of columns on which to join.",type:"Array of Strings"}],package:"",desc:"Computes the Pearson R correlation coefficient between two streams by first joining the streams, then performing the covariance operation normalized to compute R.",example:'pearsonr(x: table1, y: table2, on: ["_time", "_field"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pearsonr/`},{name:"pivot",args:[{name:"rowKey",desc:"List of columns used to uniquely identify a row for the output.",type:"Array of Strings"},{name:"columnKey",desc:"List of columns used to pivot values onto each row identified by the rowKey.",type:"Array of Strings"},{name:"valueColumn",desc:"The single column that contains the value to be moved around the pivot.",type:"String"}],package:"",desc:"Collects values stored vertically (column-wise) in a table and aligns them horizontally (row-wise) into logical sets.",example:'pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pivot/`},{name:"prometheus.histogramQuantile",args:[{name:"quantile",desc:"A value between 0.0 and 1.0 indicating the desired quantile.",type:"Float"}],package:"experimental/prometheus",desc:"Calculates quantiles on a set of values assuming the histogram data is scraped or read from a Prometheus data source.",example:"prometheus.histogramQuantile(quantile: 0.99)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/histogramquantile/`},{name:"prometheus.scrape",args:[{name:"url",desc:"The URL to scrape Prometheus-formatted metrics from.",type:"String"}],package:"experimental/prometheus",desc:"Retrieves Prometheus-formatted metrics from a specified URL.",example:'prometheus.scrape(url: "http://localhost:9999/metrics")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/scrape/`},{name:"pushbullet.endpoint",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"}],package:"pushbullet",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pushbullet.endpoint(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/endpoint/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"data",desc:"Data to send to the Pushbullet API. The function JSON-encodes data before sending it to Pushbullet.",type:"Record"}],package:"pushbullet",desc:"Sends a push notification to the Pushbullet API.",example:'pushbullet.pushData(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    data: {\n        "type": "link",\n        "title": "This is a notification!",\n        "body": "This notification came from Flux.",\n        "url": "http://example.com"\n    }\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushdata/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"title",desc:"Title of the notification.",type:"String"},{name:"text",desc:"Text to display in the notification.",type:"String"}],package:"pushbullet",desc:"Sends a push notification of type `note` to the Pushbullet API.",example:'pushbullet.pushNote(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    title: "This is a push notification!",\n    text: "This push notification came from Flux."\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushnote/`},{name:"quantile",args:[{name:"column",desc:'The column on which to compute the quantile. Defaults to `"_value"`.',type:"String"},{name:"q",desc:"A value between 0 and 1 indicating the desired quantile.",type:"Float"},{name:"method",desc:"Defines the method of computation. The available options are: `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset. A larger number produces a more accurate result at the cost of increased memory requirements. Defaults to 1000.",type:"Float"}],package:"",desc:"This is both an aggregate and selector function depending on the `method` used. When using the `estimate_tdigest` or `exact_mean` methods, it outputs non-null records with values that fall within the specified quantile. When using the `exact_selector` method, it outputs the non-null record with the value that represents the specified quantile.",example:'quantile(column: "_value", q: 0.99, method: "estimate_tdigest", compression: 1000.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/quantile/`},{name:"query.filterFields",args:[{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"}],package:"experimental/query",desc:"Filters input data by field.",example:'query.filterFields(fields: ["field_name"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filterfields/`},{name:"query.filterMeasurement",args:[{name:"measurement",desc:"Measurement to filter by.",type:"String"}],package:"experimental/query",desc:"Filters input data by measurement.",example:'query.filterMeasurement(measurement: "measurement_name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filtermeasurement/`},{name:"query.fromRange",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"experimental/query",desc:"Returns all data from a specified bucket within given time bounds.",example:'query.fromRange(bucket: "example-bucket", start: v.timeRangeStart)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/fromrange/`},{name:"query.inBucket",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"},{name:"measurement",desc:"Measurement to filter by.",type:"String"},{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"},{name:"predicate",desc:"A single argument function that evaluates true or false.",type:"Function"}],package:"experimental/query",desc:"Queries data from a specified bucket within given time bounds, filters data by measurement, field, and optional predicate expressions.",example:'query.inBucket(bucket: "example-bucket", start: v.timeRangeStart, measurement: "measurement_name", fields: ["field_name"], predicate: (r) => r.host == "host1")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/inbucket/`},{name:"range",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"",desc:"Filters records based on time bounds. Each input table's records are filtered to contain only records that exist within the time bounds. Each input table's group key value is modified to fit within the time bounds. Tables where all records exists outside the time bounds are filtered entirely.",example:"range(start: -15m, stop: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/range/`},{name:"reduce",args:[{name:"fn",desc:"Function to apply to each record with a reducer object. The function expects two objects: `r` and `accumulator`.",type:"Function"},{name:"identity",desc:"Defines the reducer object and provides initial values to use when creating a reducer.",type:"Object"}],package:"",desc:"Aggregates records in each table according to the reducer, `fn`",example:"reduce(fn: (r, accumulator) => ({ sum: r._value + accumulator.sum }), identity: {sum: 0.0})",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/reduce/`},{name:"regexp.compile",args:[{name:"v",desc:"The string value to parse into a regular expression.",type:"String"}],package:"regexp",desc:"Parses a string into a regular expression and returns a regexp object.",example:'regexp.compile(v: "[a-zA-Z]")',category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/compile/`},{name:"regexp.findString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns the left-most regular expression match in a string.",example:'regexp.findString(r: /foo.?/, v: "seafood fool")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstring/`},{name:"regexp.findStringIndex",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns a two-element array of integers defining the beginning and ending indexes of the left-most regular expression match in a string.",example:'regexp.findStringIndex(r: /ab?/, v: "tablet")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstringindex/`},{name:"regexp.getString",args:[{name:"r",desc:"The regular expression object to convert to a string.",type:"Regexp"}],package:"regexp",desc:"Returns the source string used to compile a regular expression.",example:"regexp.getString(r: /[a-zA-Z]/)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/getstring/`},{name:"regexp.matchRegexpString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Tests if a string contains any match to a regular expression.",example:'regexp.matchRegexpString(r: /(go){2}/, v: "gogogopher")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/matchregexpstring/`},{name:"regexp.quoteMeta",args:[{name:"v",desc:"String value containing regular expression metacharacters to escape.",type:"String"}],package:"regexp",desc:"Escapes all regular expression metacharacters inside of a string.",example:'regexp.quoteMeta(v: ".+*?()|[]{}^$")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/quotemeta/`},{name:"regexp.replaceAllString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The replacement for matches to `r`",type:"String"}],package:"regexp",desc:"Replaces all regular expression matches in a string with a specified replacement.",example:'regexp.replaceAllString(r: /a(x*)b/, v: "-ab-axxb-", t: "T")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/replaceallstring/`},{name:"regexp.splitRegexp",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"regexp",desc:"Splits a string into substrings separated by regular expression matches and returns an array of `i` substrings between matches.",example:'regexp.splitRegexp(r: /a*/, v: "abaabaccadaaae", i: 5)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/splitregexp/`},{name:"relativeStrengthIndex",args:[{name:"n",desc:"The number of values to use to calculate the relative strength index (RSI).",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Measures the relative speed and change of values in an input table.",example:"relativeStrengthIndex(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/relativestrengthindex/`},{name:"rename",args:[{name:"columns",desc:"A map of columns to rename and their corresponding new names. Cannot be used with `fn`.",type:"Object"},{name:"fn",desc:"A function mapping between old and new column names. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Renames specified columns in a table. If a column is renamed and is part of the group key, the column name in the group key will be updated.",example:'rename(columns: {host: "server", _field: "my_field"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/rename/`},{name:"rows.map",args:[{name:"fn",desc:"A single argument function to apply to each record. The return value must be a record.",type:"Function"}],package:"contrib/jsternberg/rows",desc:"An alternate implementation of `map()` that is faster, but more limited than `map()`.",example:"rows.map( fn: (r) => ({_value: r._value * 100.0}))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/rows/map/`},{name:"runtime.version",args:[],package:"runtime",desc:"Returns the current Flux version.",example:"runtime.version()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/runtime/version/`},{name:"sample",args:[{name:"n",desc:"Sample every Nth element.",type:"Integer"},{name:"pos",desc:"The position offset from the start of results where sampling begins. `pos` must be less than `n`. If `pos` is less than 0, a random offset is used. Defaults to `-1` (random offset).",type:"Integer"}],package:"",desc:"Selects a subset of the records from the input table.",example:"sample(n:5, pos: -1)",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/sample/`},{name:"sample.data",args:[{name:"set",desc:"InfluxDB sample dataset to download and output.",type:"String"}],package:"influxdata/influxdb/sample",desc:"Downloads and outputs an InfluxDB sample dataset.",example:'sample.data(set: "usgs")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/data/`},{name:"sample.list",args:[],package:"influxdata/influxdb/sample",desc:"Outputs information about available InfluxDB sample datasets.",example:"sample.list()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/list/`},{name:"schema.fieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"predicate",desc:"Predicate function that filters field keys. Defaults is (r) => true.",type:"Function"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a bucket.",example:'schema.fieldKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.fieldsAsCols",args:[],package:"influxdata/influxdb/schema",desc:"Aligns fields within each input table that have the same timestamp.",example:"schema.fieldsAsCols()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/fieldsascols/`},{name:"schema.measurementFieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"measurement",desc:"The measurement to list field keys from.",type:"String"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a measurement.",example:'schema.measurementFieldKeys(bucket: "example-bucket", measurement: "example-measurement")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.measurements",args:[{name:"bucket",desc:"The bucket from which to list measurements.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of measurements in a specific bucket.",example:'schema.measurements(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurements/`},{name:"schema.measurementTagKeys",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag keys.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for a specific measurement.",example:'schema.measurementTagKeys(bucket: "example-bucket", measurement: "mem")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagkeys/`},{name:"schema.measurementTagValues",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag values.",type:"String"},{name:"tag",desc:"The tag from which to return all unique values.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag values for a specific measurement.",example:'schema.measurementTagValues(bucket: "example-bucket", measurement: "mem", tag: "host")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagvalues/`},{name:"schema.tagKeys",args:[{name:"bucket",desc:"The bucket from which to list tag keys.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag keys. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for all series that match the predicate.",example:'schema.tagKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagkeys/`},{name:"schema.tagValues",args:[{name:"bucket",desc:"The bucket from which to list tag values.",type:"String"},{name:"tag",desc:"The tag for which to return unique values.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag values. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of unique values for a given tag.",example:'schema.tagValues(bucket: "example-bucket", tag: "example-tag")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagvalues/`},{name:"secrets.get",args:[{name:"key",desc:"The secret key to retrieve.",type:"String"}],package:"influxdata/influxdb/secrets",desc:"Retrieves a secret from the InfluxDB secret store.",example:'secrets.get(key: "KEY_NAME")',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/secrets/get/`},{name:"sensu.endpoint",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = sensu.endpoint(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    handlers: [],\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/endpoint/`},{name:"sensu.event",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"checkName",desc:"Check name. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"},{name:"text",desc:"Event text. Mapped to `output` in the Sensu Events API request.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"status",desc:"Event status code that indicates state. Default is `0`.",type:"Integer"},{name:"state",desc:'Event state. Default is "passing" for 0 status and "failing" for other statuses.',type:"String"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"Sends a single event to the Sensu Events API.",example:'sensu.event(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    checkName: "checkName",\n    text: "Event output text",\n    handlers: [],\n    status: 0,\n    state: "passing",\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/event/`},{name:"set",args:[{name:"key",desc:"The label of the column to modify or set.",type:"String"},{name:"value",desc:"The string value to set.",type:"String"}],package:"",desc:"Assigns a static value to each record in the input table. The key may modify an existing column or add a new column to the tables. If the modified column is part of the group key, the output tables are regrouped as needed.",example:'set(key: "_field", value: "my_field")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/set/`},{name:"skew",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the skew of non-null records as a float.",example:'skew(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/skew/`},{name:"slack.endpoint",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"}],package:"slack",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = slack.endpoint(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/endpoint/`},{name:"slack.message",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"},{name:"channel",desc:"The name of channel to post the message to.",type:"String"},{name:"text",desc:"The text to display in the Slack message.",type:"String"},{name:"color",desc:"The color to include with the message.",type:"String"}],package:"slack",desc:"Sends a single message to a Slack channel.",example:'slack.message(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn",\n    channel: "#flux",\n    text: "This is a message from the Flux slack.message() function.",\n    color: "good"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/message/`},{name:"sleep",args:[{name:"v",desc:"Defines input tables.",type:"Object"},{name:"duration",desc:"The length of time to delay execution.",type:"Duration"}],package:"",desc:"Delays execution by a specified duration.",example:"sleep(duration: 5s)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/sleep/`},{name:"sort",args:[{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"},{name:"desc",desc:"Sort results in descending order. Default is `false`.",type:"Boolean"}],package:"",desc:"Orders the records within each table. One output table is produced for each input table. The output tables will have the same schema as their corresponding input tables.",example:'sort(columns: ["_value"], desc: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/sort/`},{name:"spread",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the difference between the minimum and maximum values in the specified column. Only `uint`, `int`, and `float` column types can be used.",example:'spread(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/spread/`},{name:"sql.from",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"query",desc:"The query to run against the SQL database.",type:"String"}],package:"sql",desc:"Retrieves data from a SQL data source.",example:'sql.from(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", query:"SELECT * FROM example_table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/from/`},{name:"sql.to",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"table",desc:"The destination table.",type:"String"},{name:"batchSize",desc:"The number of parameters or columns that can be queued within each call to `Exec`. Defaults to `10000`.",type:"Integer"}],package:"sql",desc:"Writes data to a SQL database.",example:'sql.to(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", table: "example_table")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/to/`},{name:"stateCount",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"The name of the column added to each record that contains the incremented state count.",type:"String"}],package:"",desc:"Computes the number of consecutive records in a given state and stores the increment in a new column.",example:'stateCount(fn: (r) => r._field == "state", column: "stateCount")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/statecount/`},{name:"stateDuration",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"Name of the column added to each record that contains the incremented state duration.",type:"String"},{name:"unit",desc:"Unit of time in which the state duration is incremented.",type:"Duration"}],package:"",desc:"Computes the duration of a given state and stores the increment in a new column.",example:'stateDuration(fn: (r) => r._measurement == "state", column: "stateDuration", unit: 1s)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stateduration/`},{name:"stddev",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"mode",desc:'The standard deviation mode (sample or population). Defaults to `"sample"`.',type:"String"}],package:"",desc:"Computes the standard deviation of non-null records in specified column.",example:'stddev(column: "_value", mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/stddev/`},{name:"string",args:[{name:"v",desc:"The value to convert.",type:"Integer | UInteger | Float | Boolean | Duration | Time"}],package:"",desc:"Converts a single value to a string.",example:"string(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/string/`},{name:"strings.compare",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Compares the lexicographical order of two strings.",example:'strings.compare(v: "a", t: "b")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/compare/`},{name:"strings.containsAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Reports whether a specified string contains characters from another string.",example:'strings.containsAny(v: "abc", chars: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsany/`},{name:"strings.containsStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Reports whether a string contains a specified substring.",example:'strings.containsStr(v: "This and that", substr: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsstr/`},{name:"strings.countStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring count.",type:"String"}],package:"strings",desc:"Counts the number of non-overlapping instances of a substring appears in a string.",example:'strings.countStr(v: "Hello mellow fellow", substr: "ello")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/countstr/`},{name:"strings.equalFold",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Reports whether two UTF-8 strings are equal under Unicode case-folding.",example:'strings.equalFold(v: "Go", t: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/equalfold/`},{name:"strings.hasPrefix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"prefix",desc:"The prefix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string begins with a specified prefix.",example:'strings.hasPrefix(v: "go gopher", prefix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hasprefix/`},{name:"strings.hasSuffix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"suffix",desc:"The suffix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string ends with a specified suffix.",example:'strings.hasSuffix(v: "gopher go", suffix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hassuffix/`},{name:"strings.index",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of a substring in a string. If the substring is not present, it returns `-1`.",example:'strings.index(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/index-func/`},{name:"strings.indexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of specified characters in a string. If none of the specified characters are present, it returns -1.",example:'strings.indexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/indexany/`},{name:"strings.isDigit",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a digit (0-9).",example:'strings.isDigit(v: "7")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isdigit/`},{name:"strings.isLetter",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a letter (a-z, A-Z).",example:'strings.isLetter(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isletter/`},{name:"strings.isLower",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is lowercase.",example:'strings.isLower(v: "a")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/islower/`},{name:"strings.isUpper",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is uppercase.",example:'strings.isUpper(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isupper/`},{name:"strings.joinStr",args:[{name:"arr",desc:"The array of strings to concatenate.",type:"Array of Strings"},{name:"v",desc:"The separator to use in the concatenated value.",type:"String"}],package:"strings",desc:"Concatenates elements of a string array into a single string using a specified separator.",example:'strings.joinStr(arr: ["a", "b", "c"], v: ",")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/joinstr/`},{name:"strings.lastIndex",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of a substring in a string. If the substring is not present, the function returns -1.",example:'strings.lastIndex(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindex/`},{name:"strings.lastIndexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of any specified characters in a string. If none of the specified characters are present, the function returns -1.",example:'strings.lastIndexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindexany/`},{name:"strings.repeat",args:[{name:"v",desc:"The string value to repeat.",type:"String"},{name:"i",desc:"The number of times to repeat `v`.",type:"Integer"}],package:"strings",desc:"Returns a string consisting of `i` copies of a specified string.",example:'strings.repeat(v: "ha", i: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/repeat/`},{name:"strings.replace",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for `i` instances of `t`.",type:"String"},{name:"i",desc:"The number of non-overlapping `t` matches to replace.",type:"Integer"}],package:"strings",desc:"Replaces the first `i` non-overlapping instances of a substring with a specified replacement.",example:'strings.replace(v: "oink oink oink", t: "oink", u: "moo", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replace/`},{name:"strings.replaceAll",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for all instances of `t`.",type:"String"}],package:"strings",desc:"Replaces all non-overlapping instances of a substring with a specified replacement.",example:'strings.replaceAll(v: "oink oink oink", t: "oink", u: "moo")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replaceall/`},{name:"strings.split",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of substrings.",example:'strings.split(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/split/`},{name:"strings.splitAfter",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of substrings.",example:'strings.splitAfter(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitafter/`},{name:"strings.splitAfterN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of `i` substrings.",example:'strings.splitAfterN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitaftern/`},{name:"strings.splitN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of `i` substrings.",example:'strings.splitN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitn/`},{name:"strings.strlen",args:[{name:"v",desc:"The string value to measure.",type:"String"}],package:"strings",desc:"Returns the length of a string.",example:'strings.strlen(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/strlen/`},{name:"strings.substring",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"start",desc:"The starting index of the substring.",type:"Integer"},{name:"end",desc:"The ending index of the substring.",type:"Integer"}],package:"strings",desc:"Returns a substring based on start and end parameters.",example:'strings.substring(v: "influx", start: 0, end: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/substring/`},{name:"strings.title",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to title case.",example:"strings.title(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/title/`},{name:"strings.toLower",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to lower case.",example:"strings.toLower(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/tolower/`},{name:"strings.toTitle",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts all characters in a string to title case.",example:'strings.toTitle(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/totitle/`},{name:"strings.toUpper",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to upper case.",example:"strings.toUpper(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/toupper/`},{name:"strings.trim",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"cutset",desc:"The leading and trailing characters to trim from the string value. Only characters that match exactly are trimmed.",type:"String"}],package:"strings",desc:"Removes specified leading and trailing characters from a string.",example:'strings.trim(v: r._value, cutset: "_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trim/`},{name:"strings.trimLeft",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The leading characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified leading characters from a string.",example:'strings.trimLeft(v: ".abc", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimleft/`},{name:"strings.trimPrefix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"prefix",desc:"The prefix to remove.",type:"String"}],package:"strings",desc:"Removes a prefix from a string. Strings that do not start with the prefix are returned unchanged.",example:'strings.trimPrefix(v: r._value, prefix: "abc_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimprefix/`},{name:"strings.trimRight",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The trailing characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified trailing characters from a string.",example:'strings.trimRight(v: "abc.", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimright/`},{name:"strings.trimSpace",args:[{name:"v",desc:"The string value to trim.",type:"String"}],package:"strings",desc:"Removes leading and trailing spaces from a string.",example:"strings.trimSpace(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimspace/`},{name:"strings.trimSuffix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"suffix",desc:"The suffix to remove.",type:"String"}],package:"strings",desc:"Removes a suffix from a string. Strings that do not end with the suffix are returned unchanged.",example:'strings.trimSuffix(v: r._value, suffix: "_123")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimsuffix/`},{name:"sum",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the sum of non-null records in the specified column.",example:'sum(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/sum/`},{name:"system.time",args:[],package:"system",desc:"Returns the current system time.",example:"system.time()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/system/time/`},{name:"table.fill",args:[],package:"experimental/table",desc:"Adds a single row to empty tables in a stream of tables.",example:"table.fill()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/table/fill/`},{name:"tableFind",args:[{name:"fn",desc:"A predicate function for matching keys in a table group key.",type:"Function"}],package:"",desc:"Extracts the first table in a stream of tables whose group key values match a predicate. If no table is found, the function errors.",example:'tableFind(fn: (key) => key._field == "fieldName")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/tablefind/`},{name:"tail",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the end of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the last `n` records, excluding the offset.",example:"tail(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tail/`},{name:"tasks.lastSuccess",args:[{name:"orTime",desc:"Default time value returned if the task has never successfully run.",type:"Time"}],package:"influxdata/influxdb/tasks",desc:"Returns the time of last successful run of an InfluxDB task or the value of the `orTime` parameter if the task has never successfully run.",example:"tasks.lastSuccess(orTime: 2020-10-01T00:00:00Z)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-tasks/lastsuccess/`},{name:"teams.endpoint",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"}],package:"contrib/sranka/teams",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = teams.endpoint(\n    url: "https://outlook.office.com/webhook/example-webhook"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/endpoint/`},{name:"teams.message",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"},{name:"title",desc:"Message card title.",type:"String"},{name:"text",desc:"Message card text.",type:"String"},{name:"summary",desc:'Message card summary. Default is `""`. If no summary is provided, Flux generates the summary from the message text.',type:"String"}],package:"contrib/sranka/teams",desc:"Sends a single message to a Microsoft Teams channel using an incoming webhook.",example:'teams.message(\n    url: "https://outlook.office.com/webhook/example-webhook",\n    title: "Example message title",\n    text: "Example message text",\n    summary: "",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/message/`},{name:"telegram.endpoint",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/endpoint/`},{name:"telegram.message",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"channel",desc:"Telegram channel ID.",type:"String"},{name:"text",desc:"Message text.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"},{name:"silent",desc:"Send message silently. Default is `true`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"Sends a single message to a Telegram channel using the sendMessage method of the Telegram Bot API.",example:'telegram.message(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    channel: "-12345",\n    text: "Example message text",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n    silent: true\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/message/`},{name:"testing.assertEmpty",args:[],package:"testing",desc:"Tests if an input stream is empty.",example:"testing.assertEmpty()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertempty/`},{name:"testing.assertEquals",args:[{name:"name",desc:"Unique name given to the assertion.",type:"String"},{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"}],package:"testing",desc:"Tests whether two streams have identical data.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertequals/`},{name:"testing.benchmark",args:[{name:"case",desc:"Test case to benchmark.",type:"Function"}],package:"testing",desc:"Executes a test case without comparing test output with the expected test output.",example:"testing.benchmark(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/benchmark/`},{name:"testing.diff",args:[{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"},{name:"epsilon",desc:"How far apart two float values can be, but still considered equal. Defaults to `0.000000001`.",type:"Float"}],package:"testing",desc:"Produces a diff between two streams.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/diff/`},{name:"testing.inspect",args:[{name:"case",desc:"Test case to inspect.",type:"Function"}],package:"testing",desc:"Returns information about a test case.",example:"testing.inspect(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.load",args:[],package:"testing",desc:"Loads tests data from a stream of tables.",example:"testing.load()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.loadMem",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data from memory to emulate query results returned by Flux.",example:"testing.loadMem(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadmem/`},{name:"testing.loadStorage",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data as if it were queried from InfluxDB.",example:"testing.loadStorage(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadstorage/`},{name:"testing.run",args:[{name:"case",desc:"Test case to run.",type:"Function"}],package:"testing",desc:"Executes a specified test case.",example:"testing.run(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/run/`},{name:"tickscript.alert",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"details",desc:'Function to return the InfluxDB check details using data from input rows. Default is `(r) => ""`.',type:"Function"},{name:"message",desc:'Function to return the InfluxDB check message using data from input rows. Default is `(r) => "Threshold Check: ${r._check_name} is: ${r._level}"`.',type:"Function"},{name:"crit",desc:"Predicate function to determine crit status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function to determine warn status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function to determine info status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function to determine ok status. Default is `(r) => false`.",type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Identifies events of varying severity levels and writes them to the statuses measurement in the InfluxDB `_monitoring` system bucket.",example:'tickscript.alert(\n    check,\n    id: (r) => "${r._check_id}",\n    details: (r) => "",\n    message: (r) => "Threshold Check: ${r._check_name} is: ${r._level}",\n    crit: (r) => false,\n    warn: (r) => false,\n    info: (r) => false,\n    ok: (r) => true,\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/alert/`},{name:"tickscript.compute",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"An alias for `tickscript.select()` that changes a column’s name and optionally applies an aggregate or selector function.",example:'tickscript.compute(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/compute/`},{name:"tickscript.deadman",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"measurement",desc:"Measurement name. Should match the queried measurement.",type:"String"},{name:"threshold",desc:"Count threshold. The function assigns a `crit` status to input tables with a number of rows less than or equal to the threshold. Default is `0`.",type:"Integer"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"message",desc:'Function that returns the InfluxDB check message using data from input rows. Default is `(r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive")`.',type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Detects low data throughput and writes a point with a critical status to the InfluxDB `_monitoring` system bucket.",example:'tickscript.deadman(\n    check: {},\n    measurement: "example-measurement",\n    threshold: 0,\n    id: (r)=>"${r._check_id}",\n    message: (r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive"),\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/deadman/`},{name:"tickscript.defineCheck",args:[{name:"id",desc:"InfluxDB check ID.",type:"String"},{name:"name",desc:"InfluxDB check name.",type:"String"},{name:"type",desc:"InfluxDB check type. Default is `custom`. Valid types are `thresold`, `deadman`, and `custom`.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Creates and returns a record with custom check data required by `tickscript.alert()` and `tickscript.deadman()`.",example:'tickscript.defineCheck(\n    id: "000000000000",\n    name: "Example check name",\n    type: "custom"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/definecheck/`},{name:"tickscript.groupBy",args:[{name:"columns",desc:"List of columns to group by.",type:"Array of Strings"}],package:"contrib/bonitoo-io/tickscript",desc:"Groups results by the _measurement column and other specified columns.",example:'tickscript.groupBy(\n    columns: ["exampleColumn"]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/groupby/`},{name:"tickscript.join",args:[{name:"tables",desc:"Map of two streams to join.",type:"Record"},{name:"on",desc:'List of columns to join on. Default is `["_time"]`.',type:"Array of Strings"},{name:"measurement",desc:"Measurement name to use in results.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Merges two input streams into a single output stream based on specified columns with equal values and appends a new measurement name.",example:'tickscript.join(\n    tables: {t1: example1, t2: example2}\n    on: ["_time"],\n    measurement: "example-measurement"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/join/`},{name:"tickscript.select",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name and optionally applies an aggregate or selector function to values in the column.",example:'tickscript.select(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/select/`},{name:"tickscript.selectWindow",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"},{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"defaultValue",desc:"Default fill value for null values in `column`. Must be the same data type as `column`.",type:"String | Boolean | Float | Integer | Uinteger | Bytes"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name, windows rows by time, and applies an aggregate or selector function the specified column for each window of time.",example:'tickscript.selectWindow(\n    column: "_value",\n    fn: sum,\n    as: "example-name",\n    every: 1m,\n    defaultValue: 0.0,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/selectwindow/`},{name:"time",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger"}],package:"",desc:"Converts a single value to a time.",example:"time(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/time/`},{name:"timedMovingAverage",args:[{name:"every",desc:"The frequency of time windows.",type:"Duration"},{name:"period",desc:"The length of each averaged time window.",type:"Duration"},{name:"column",desc:'The column on which to compute the moving average. Defaults to `"_value"`',type:"String"}],package:"",desc:"Calculates the mean of values in a defined time range at a specified frequency.",example:"timedMovingAverage(every: 1d, period: 5d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timedmovingaverage/`},{name:"timeShift",args:[{name:"duration",desc:"The amount of time to add to each time value. May be a negative duration.",type:"String"},{name:"columns",desc:'The list of all columns to be shifted. Defaults to `["_start", "_stop", "_time"]`.',type:"Array of Strings"}],package:"",desc:"Adds a fixed duration to time columns. The output table schema is the same as the input table.",example:'timeShift(duration: 10h, columns: ["_start", "_stop", "_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timeshift/`},{name:"timeWeightedAvg",args:[{name:"unit",desc:"The time duration used when computing the time-weighted average.",type:"Duration"}],package:"",desc:"Computes the time-weighted average of non-null records in a table using linear interpolation.",example:"timeWeightedAvg(unit: 1m)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/timeweightedavg/`},{name:"to",args:[{name:"bucket",desc:"The bucket to which data is written. Mutually exclusive with `bucketID`.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to which data is written. Mutually exclusive with `bucket`.",type:"String"},{name:"org",desc:"The organization name of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `orgID`.",type:"String"},{name:"orgID",desc:"The organization ID of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `org`.",type:"String"},{name:"host",desc:"The remote InfluxDB host to which to write. If specified, a `token` is required.",type:"String"},{name:"token",desc:"The authorization token to use when writing to a remote host. Required when a `host` is specified.",type:"String"},{name:"timeColumn",desc:'The time column of the output. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The tag columns of the output. Defaults to all columns with type `string`, excluding all value columns and the `_field` column if present.",type:"Array of Strings"},{name:"fieldFn",desc:"Function that takes a record from the input table and returns an object. For each record from the input table, `fieldFn` returns an object that maps output the field key to the output value. Default is `(r) => ({ [r._field]: r._value })`",type:"Function"}],package:"",desc:"The `to()` function writes data to an InfluxDB v2.0 bucket.",example:'to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/to/`},{name:"toBool",args:[],package:"",desc:"Converts all values in the `_value` column to a boolean.",example:"toBool()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tobool/`},{name:"today",args:[],package:"",desc:"Returns the `now()` timestamp truncated to the day unit.",example:"today()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/today/`},{name:"toFloat",args:[],package:"",desc:"Converts all values in the `_value` column to a float.",example:"toFloat()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tofloat/`},{name:"toInt",args:[],package:"",desc:"Converts all values in the `_value` column to a integer.",example:"toInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/toint/`},{name:"top",args:[{name:"n",desc:"Number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the top n rows.",example:'top(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/top/`},{name:"toString",args:[],package:"",desc:"Converts a value to a string.",example:"toString()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tostring/`},{name:"toTime",args:[],package:"",desc:"Converts a value to a time.",example:"toTime()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/totime/`},{name:"toUInt",args:[],package:"",desc:"Converts a value to an unsigned integer.",example:"toUInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/touint/`},{name:"tripleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at triple the rate of `exponentialMovingAverage()`.",example:"tripleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleema/`},{name:"tripleExponentialDerivative",args:[{name:"n",desc:"The number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates a triple exponential derivative (TRIX) of input tables using n points.",example:"tripleExponentialDerivative(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleexponentialderivative/`},{name:"truncateTimeColumn",args:[{name:"unit",desc:"The unit of time to truncate to.",type:"Duration"}],package:"",desc:"Truncates all `_time` values to a specified unit.",example:"truncateTimeColumn(unit: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/truncatetimecolumn/`},{name:"uint",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Integer | Numeric String | Time"}],package:"",desc:"Converts a single value to a uinteger.",example:"uint(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/uint/`},o,{name:"unique",args:[{name:"column",desc:'The column searched for unique values. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Returns all rows containing unique values in a specified column.",example:'unique(column: "_value")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/unique/`},{name:"usage.from",args:[{name:"start",desc:"Earliest time to include in results.",type:"Time | Duration"},{name:"stop",desc:"Latest time to include in results.",type:"Time | Duration"},{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"raw",desc:"Return raw, high resolution usage data instead of downsampled usage data. Default is `false`.",type:"Boolean"}],package:"experimental/usage",desc:"Returns usage data from an InfluxDB Cloud organization.",example:'usage.from(\n    start: -30d,\n    stop: now(),\n    host: "",\n    orgID: "",\n    token: "",\n    raw: false\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/from/`},{name:"usage.limits",args:[{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"}],package:"experimental/usage",desc:"Returns a record containing usage limits for an InfluxDB Cloud organization.",example:'usage.limits(\n    host: "",\n    orgID: "",\n    token: ""\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/limits/`},{name:"victorops.endpoint",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"}],package:"contrib/bonitoo-io/victorops",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = victorops.endpoint(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert${apiKey}/${routingKey}",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/endpoint/`},{name:"victorops.event",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"},{name:"monitoringTool",desc:'Monitoring agent name. Default is `""`.',type:"String"},{name:"messageType",desc:"VictorOps message type (alert behavior). Valid values are `CRITICAL`, `WARNING`, and `INFO`.",type:"String"},{name:"entityID",desc:'Incident ID. Default is `""`.',type:"String"},{name:"entityDisplayName",desc:'Incident display name or summary. Default is `""`.',type:"String"},{name:"stateMessage",desc:'Verbose incident message. Default is `""`.',type:"String"},{name:"timestamp",desc:"Incident start time. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/victorops",desc:"Sends an alert to VictorOps (Now Splunk On-Call).",example:'victorops.event(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert/${api_key}/${routing_key}",\n    monitoringTool: "",\n    messageType: "CRITICAL",\n    entityID: "",\n    entityDisplayName: "",\n    stateMessage: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/event/`},{name:"window",args:[{name:"every",desc:"Duration of time between windows. Defaults to `period` value.",type:"Duration"},{name:"period",desc:"Duration of the window. Period is the length of each interval. It can be negative, indicating the start and stop boundaries are reversed. Defaults to `every` value.",type:"Duration"},{name:"offset",desc:"The offset duration relative to the `location` offset. It can be negative, indicating that the offset goes backwards in time. The default aligns the window boundaries with `now`.",type:"Duration"},{name:"timeColumn",desc:'The column containing time. Defaults to `"_time"`.',type:"String"},{name:"startColumn",desc:'The column containing the window start time. Defaults to `"_start"`.',type:"String"},{name:"stopColumn",desc:'The column containing the window stop time. Defaults to `"_stop"`.',type:"String"},{name:"createEmpty",desc:"Specifies whether empty tables should be created. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Groups records based on a time value. New columns are added to uniquely identify each window. Those columns are added to the group key of the output tables. A single input record will be placed into zero or more output tables, depending on the specific windowing function.",example:"window(every: v.windowPeriod)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/window/`},{name:"yield",args:[{name:"name",desc:"A unique name for the yielded results.",type:"String"}],package:"",desc:"Indicates the input tables received should be delivered as a result of the query. Yield outputs the input stream unmodified. A query may have multiple results, each identified by the name provided to the `yield()` function.",example:'yield(name: "custom-name")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/yield/`},{name:"zenoss.endpoint",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"}],package:"contrib/bonitoo-io/zenoss",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = zenoss.endpoint(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/endpoint/`},{name:"zenoss.event",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"},{name:"summary",desc:'Event summary. Default is `""`.',type:"String"},{name:"device",desc:'Related device. Default is `""`.',type:"String"},{name:"component",desc:'Related component. Default is `""`.',type:"String"},{name:"severity",desc:"Event severity level. Supported values are `Critical`, `Warning`, `Info`, and `Clear`.",type:"String"},{name:"eventClass",desc:'Event class. Default is `""`.',type:"String"},{name:"eventClassKey",desc:'Event class key. Default is `""`.',type:"String"},{name:"collector",desc:'Zenoss collector. Default is `""`.',type:"String"},{name:"message",desc:'Related message. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/zenoss",desc:"Sends an alert to Zenoss.",example:'zenoss.event(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1,\n    summary: "",\n    device: "",\n    component: "",\n    severity: "Critical",\n    eventClass: "",\n    eventClassKey: "",\n    collector: "",\n    message: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/event/`}]}).call(this,n(120))},735:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(2),r=n.n(a),o=n(4),i=n(307),s=n(110),l=n(6),c=n(372),u=n(8),d=n(9),m=n(52),p=n(354),h=n(239);let f=null,g=null;l.f&&(f=n(41).MeasurementSchema,g=n(41).MeasurementSchemaCreateRequest);const b=e=>{const{onClose:t,testID:n="create-bucket-form"}=e,f=Object(o.e)(d.a),g=Object(o.e)(e=>!!l.f&&Object(m.q)(e)),b=Object(o.e)(p.a),v=Object(o.d)(),[y,x]=Object(a.useReducer)(c.b,Object(c.c)(g,f.id)),[w,E]=Object(a.useState)(null),[S,C]=Object(a.useState)(!1),k=y.retentionRules.find(e=>"expire"===e.type),O=k?k.everySeconds:3600,D=e=>{(null==b?void 0:b.onUpdateBucket)&&b.onUpdateBucket(e)};return r.a.createElement(i.a,{name:y.name,buttonText:"Create",isEditing:!1,ruleType:y.ruleType,onClose:t,onSubmit:e=>{if(e.preventDefault(),(()=>{if("implicit"===y.schemaType)return!0;const e=Object(h.b)(w);return e||(C(!0),!1)})()){let e=[];"explicit"===y.schemaType&&w&&(e=w.map(e=>({columns:e.columns,name:e.name}))),Object(u.a)("bucket.creation");for(let t=0;t<e.length;t++)Object(u.a)("bucket.schema.explicit.creation.uploadSchema");v(Object(s.d)(y,D,e)),t()}},onChangeInput:e=>{const t=e.target.value;"name"===e.target.name&&x({type:"updateName",payload:t})},retentionSeconds:O,onChangeRuleType:e=>{x("expire"===e?{type:"updateRetentionRules",payload:c.a}:{type:"updateRetentionRules",payload:[]}),x({type:"updateRuleType",payload:e})},onChangeRetentionRule:e=>{x({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})},testID:n,onChangeSchemaType:e=>{x({type:"updateSchema",payload:e})},onUpdateNewMeasurementSchemas:(e,t)=>{E(e),t&&C(!1)},showSchemaValidation:S})}},736:function(e,t,n){(function(t){var n=function(){var e={},n=function(){"use strict";var e,t,n,a,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:e,text:n}},i=function(a){return a&&a!==t&&o("Expected '"+a+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},s=function(){var e,n="";for("-"===t&&(n="-",i("-"));t>="0"&&t<="9";)n+=t,i();if("."===t)for(n+=".";i()&&t>="0"&&t<="9";)n+=t;if("e"===t||"E"===t)for(n+=t,i(),"-"!==t&&"+"!==t||(n+=t,i());t>="0"&&t<="9";)n+=t,i();if(e=+n,isFinite(e))return e;o("Bad number")},l=function(){var e,n,a,s="";if('"'===t)for(;i();){if('"'===t)return i(),s;if("\\"===t)if(i(),"u"===t){for(a=0,n=0;n<4&&(e=parseInt(i(),16),isFinite(e));n+=1)a=16*a+e;s+=String.fromCharCode(a)}else{if("string"!=typeof r[t])break;s+=r[t]}else s+=t}o("Bad string")},c=function(){for(;t&&t<=" ";)i()};return a=function(){switch(c(),t){case"{":return function(){var e,n={};if("{"===t){if(i("{"),c(),"}"===t)return i("}"),n;for(;t;){if(e=l(),c(),i(":"),Object.hasOwnProperty.call(n,e)&&o("Duplicate key '"+e+"'"),n[e]=a(),c(),"}"===t)return i("}"),n;i(","),c()}}o("Bad object")}();case"[":return function(){var e=[];if("["===t){if(i("["),c(),"]"===t)return i("]"),e;for(;t;){if(e.push(a()),c(),"]"===t)return i("]"),e;i(","),c()}}o("Bad array")}();case'"':return l();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null}o("Unexpected '"+t+"'")}()}},function(r,i){var s;return n=r,e=0,t=" ",s=a(),c(),t&&o("Syntax error"),"function"==typeof i?function e(t,n){var a,r,o=t[n];if(o&&"object"==typeof o)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(void 0!==(r=e(o,a))?o[a]=r:delete o[a]);return i.call(t,n,o)}({"":s},""):s}}();var a,r,o=(a={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,a,r,o,i){var s=o.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 19:this.$=o[s-1];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],a=[null],r=[],o=this.table,i="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}r.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m,p,h,f,g,b,v,y,x,w,E={};;){if(h=n[n.length-1],this.defaultActions[h]?f=this.defaultActions[h]:(null==m&&(m=d()),f=o[h]&&o[h][m]),void 0===f||!f.length||!f[0]){if(!c){for(b in x=[],o[h])this.terminals_[b]&&b>2&&x.push("'"+this.terminals_[b]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+this.terminals_[m]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:u,expected:x})}if(3==c){if(1==m)throw new Error(S||"Parsing halted.");l=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,m=d()}for(;!(2..toString()in o[h]);){if(0==h)throw new Error(S||"Parsing halted.");w=1,n.length=n.length-2*w,a.length=a.length-w,r.length=r.length-w,h=n[n.length-1]}p=m,m=2,f=o[h=n[n.length-1]]&&o[h][2],c=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+m);switch(f[0]){case 1:n.push(m),a.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),m=null,p?(m=p,p=null):(l=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(v=this.productions_[f[1]][1],E.$=a[a.length-v],E._$={first_line:r[r.length-(v||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(v||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(E,i,l,s,this.yy,f[1],a,r)))return g;v&&(n=n.slice(0,-1*v*2),a=a.slice(0,-1*v),r=r.slice(0,-1*v)),n.push(this.productions_[f[1]][0]),a.push(E.$),r.push(E._$),y=o[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},r=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,a,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length&&(!(n=this._input.match(this.rules[o[i]]))||t&&!(n[0].length>t[0].length)||(t=n,a=i,this.options.flex));i++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}(),a.lexer=r,a),i=o.parse;return o.parse=function(e){var t=i.call(o,e),a=void 0===n?(!0)("./doug-json-parse"):n;try{a(e)}catch(t){if(/Duplicate key|Bad string|Unexpected/.test(t.message)){var r=e.substring(0,t.at).split("\n").length;throw SyntaxError(t.message+" on line "+r)}}return t},void 0!==e&&(e.parser=o,e.parse=function(){return o.parse.apply(o,arguments)},e.main=function(n){if(!n[1])throw new Error("Usage: "+n[0]+" FILE");if(void 0!==t)var a=(!0)("fs").readFileSync((!0)("path").join(t.cwd(),n[1]),"utf8");else a=(!0)("file").path((!0)("file").cwd()).join(n[1]).read({charset:"utf-8"});return e.parser.parse(a)},!1===(!0).main&&e.main(void 0!==t?t.argv.slice(1):(!0)("system").args)),e}();e.exports&&(e.exports=n)}).call(this,n(120))},737:function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),a=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),i=a||r||o,s=i&&(a?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),m=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),f=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),b=f||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=f||/Mac/.test(t),y=/\bCrOS\b/.test(e),x=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,l=!0);var E=v&&(c||d&&(null==w||w<12.11)),S=n||i&&s>=9;function C(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,O=function(e,t){var n=e.className,a=C(t).exec(n);if(a){var r=n.slice(a.index+a[0].length);e.className=n.slice(0,a.index)+(r?a[1]+r:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return D(e).appendChild(t)}function j(e,t,n,a){var r=document.createElement(e);if(n&&(r.className=n),a&&(r.style.cssText=a),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function I(e,t,n,a){var r=j(e,t,n,a);return r.setAttribute("role","presentation"),r}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?" ":"")+t)}function _(e,t){for(var n=e.split(" "),a=0;a<n.length;a++)n[a]&&!C(n[a]).test(t)&&(t+=" "+n[a]);return t}k=document.createRange?function(e,t,n,a){var r=document.createRange();return r.setEnd(a||e,n),r.setStart(e,t),r}:function(e,t,n){var a=document.body.createTextRange();try{a.moveToElementText(e.parentNode)}catch(e){return a}return a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a};var F=function(e){e.select()};function M(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var a in t||(t={}),e)!e.hasOwnProperty(a)||!1===n&&t.hasOwnProperty(a)||(t[a]=e[a]);return t}function P(e,t,n,a,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=a||0,i=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return i+(t-o);i+=s-o,i+=n-i%n,o=s+1}}f?F=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:i&&(F=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=M(this.onTimeout,this)};function $(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var z={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},H={origin:"*mouse"},q={origin:"+move"};function U(e,t,n){for(var a=0,r=0;;){var o=e.indexOf("\t",a);-1==o&&(o=e.length);var i=o-a;if(o==e.length||r+i>=t)return a+Math.min(i,t-r);if(r+=o-a,a=o+1,(r+=n-r%n)>=t)return a}}var G=[""];function W(e){for(;G.length<=e;)G.push(Y(G)+" ");return G[e]}function Y(e){return e[e.length-1]}function K(e,t){for(var n=[],a=0;a<e.length;a++)n[a]=t(e[a],a);return n}function Z(){}function X(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&L(t,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ae(e){return e.charCodeAt(0)>=768&&ne.test(e)}function re(e,t,n){for(;(n<0?t>0:t<e.length)&&ae(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var a=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=a<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+a}}var ie=null;function se(e,t,n){var a;ie=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?a=r:ie=r),o.from==t&&(o.from!=o.to&&"before"!=n?a=r:ie=r)}return null!=a?a:ie}var le=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,a=/[Lb1n]/,r=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(i,s){var l="ltr"==s?"L":"R";if(0==i.length||"ltr"==s&&!e.test(i))return!1;for(var c,u=i.length,d=[],m=0;m<u;++m)d.push((c=i.charCodeAt(m))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,h=l;p<u;++p){var f=d[p];"m"==f?d[p]=h:h=f}for(var g=0,b=l;g<u;++g){var v=d[g];"1"==v&&"r"==b?d[g]="n":n.test(v)&&(b=v,"r"==v&&(d[g]="R"))}for(var y=1,x=d[0];y<u-1;++y){var w=d[y];"+"==w&&"1"==x&&"1"==d[y+1]?d[y]="1":","!=w||x!=d[y+1]||"1"!=x&&"n"!=x||(d[y]=x),x=w}for(var E=0;E<u;++E){var S=d[E];if(","==S)d[E]="N";else if("%"==S){var C=void 0;for(C=E+1;C<u&&"%"==d[C];++C);for(var k=E&&"!"==d[E-1]||C<u&&"1"==d[C]?"1":"N",O=E;O<C;++O)d[O]=k;E=C-1}}for(var D=0,T=l;D<u;++D){var j=d[D];"L"==T&&"1"==j?d[D]="L":n.test(j)&&(T=j)}for(var I=0;I<u;++I)if(t.test(d[I])){var N=void 0;for(N=I+1;N<u&&t.test(d[N]);++N);for(var R="L"==(I?d[I-1]:l),A=R==("L"==(N<u?d[N]:l))?R?"L":"R":l,_=I;_<N;++_)d[_]=A;I=N-1}for(var F,M=[],L=0;L<u;)if(a.test(d[L])){var P=L;for(++L;L<u&&a.test(d[L]);++L);M.push(new o(0,P,L))}else{var B=L,$=M.length,z="rtl"==s?1:0;for(++L;L<u&&"L"!=d[L];++L);for(var V=B;V<L;)if(r.test(d[V])){B<V&&(M.splice($,0,new o(1,B,V)),$+=z);var H=V;for(++V;V<L&&r.test(d[V]);++V);M.splice($,0,new o(2,H,V)),$+=z,B=V}else++V;B<L&&M.splice($,0,new o(1,B,L))}return"ltr"==s&&(1==M[0].level&&(F=i.match(/^\s+/))&&(M[0].from=F[0].length,M.unshift(new o(0,0,F[0].length))),1==Y(M).level&&(F=i.match(/\s+$/))&&(Y(M).to-=F[0].length,M.push(new o(0,u-F[0].length,u)))),"rtl"==s?M.reverse():M}}();function ce(e,t){var n=e.order;return null==n&&(n=e.order=le(e.text,t)),n}var ue=[],de=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var a=e._handlers||(e._handlers={});a[t]=(a[t]||ue).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||ue}function pe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var a=e._handlers,r=a&&a[t];if(r){var o=$(r,n);o>-1&&(a[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function he(e,t){var n=me(e,t);if(n.length)for(var a=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,a)}function fe(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,n||t.type,e,t),we(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),a=0;a<t.length;++a)-1==$(n,t[a])&&n.push(t[a])}function be(e,t){return me(e,t).length>0}function ve(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function xe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function we(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ee(e){ye(e),xe(e)}function Se(e){return e.target||e.srcElement}function Ce(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var ke,Oe,De=function(){if(i&&s<9)return!1;var e=j("div");return"draggable"in e||"dragDrop"in e}();function Te(e){if(null==ke){var t=j("span","​");T(e,j("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ke=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&s<8))}var n=ke?j("span","​"):j("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function je(e){if(null!=Oe)return Oe;var t=T(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),a=k(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Oe=a.right-n.right<3)}var Ie,Ne=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],a=e.length;t<=a;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),i=o.indexOf("\r");-1!=i?(n.push(o.slice(0,i)),t+=i+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Re=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ae="oncopy"in(Ie=j("div"))||(Ie.setAttribute("oncopy","return;"),"function"==typeof Ie.oncopy),_e=null,Fe={},Me={};function Le(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Fe[e]=t}function Pe(e){if("string"==typeof e&&Me.hasOwnProperty(e))e=Me[e];else if(e&&"string"==typeof e.name&&Me.hasOwnProperty(e.name)){var t=Me[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Pe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Pe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Be(e,t){t=Pe(t);var n=Fe[t.name];if(!n)return Be(e,"text/plain");var a=n(e,t);if($e.hasOwnProperty(t.name)){var r=$e[t.name];for(var o in r)r.hasOwnProperty(o)&&(a.hasOwnProperty(o)&&(a["_"+o]=a[o]),a[o]=r[o])}if(a.name=t.name,t.helperType&&(a.helperType=t.helperType),t.modeProps)for(var i in t.modeProps)a[i]=t.modeProps[i];return a}var $e={};function ze(e,t){L(t,$e.hasOwnProperty(e)?$e[e]:$e[e]={})}function Ve(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var a in t){var r=t[a];r instanceof Array&&(r=r.concat([])),n[a]=r}return n}function He(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function qe(e,t,n){return!e.startState||e.startState(t,n)}var Ue=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ge(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var a=0;;++a){var r=n.children[a],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function We(e,t,n){var a=[],r=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),a.push(o),++r})),a}function Ye(e,t,n){var a=[];return e.iter(t,n,(function(e){a.push(e.text)})),a}function Ke(e,t){var n=t-e.height;if(n)for(var a=e;a;a=a.parent)a.height+=n}function Ze(e){if(null==e.parent)return null;for(var t=e.parent,n=$(t.lines,e),a=t.parent;a;t=a,a=a.parent)for(var r=0;a.children[r]!=t;++r)n+=a.children[r].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var a=0;a<e.children.length;++a){var r=e.children[a],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i].height;if(t<s)break;t-=s}return n+i}function Qe(e,t){return t>=e.first&&t<e.first+e.size}function Je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,n){if(void 0===n&&(n=null),!(this instanceof et))return new et(e,t,n);this.line=e,this.ch=t,this.sticky=n}function tt(e,t){return e.line-t.line||e.ch-t.ch}function nt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function at(e){return et(e.line,e.ch)}function rt(e,t){return tt(e,t)<0?t:e}function ot(e,t){return tt(e,t)<0?e:t}function it(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function st(e,t){if(t.line<e.first)return et(e.first,0);var n=e.first+e.size-1;return t.line>n?et(n,Ge(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?et(e.line,t):n<0?et(e.line,0):e}(t,Ge(e,t.line).text.length)}function lt(e,t){for(var n=[],a=0;a<t.length;a++)n[a]=st(e,t[a]);return n}Ue.prototype.eol=function(){return this.pos>=this.string.length},Ue.prototype.sol=function(){return this.pos==this.lineStart},Ue.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ue.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ue.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ue.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ue.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ue.prototype.skipToEnd=function(){this.pos=this.string.length},Ue.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ue.prototype.backUp=function(e){this.pos-=e},Ue.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.match=function(e,t,n){if("string"!=typeof e){var a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&!1!==t&&(this.pos+=a[0].length),a)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Ue.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ue.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ue.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ue.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,n,a){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};function dt(e,t,n,a){var r=[e.state.modeGen],o={};xt(e,t.text,e.doc.mode,n,(function(e,t){return r.push(e,t)}),o,a);for(var i=n.state,s=function(a){n.baseTokens=r;var s=e.state.overlays[a],l=1,c=0;n.state=!0,xt(e,t.text,s.mode,n,(function(e,t){for(var n=l;c<e;){var a=r[l];a>e&&r.splice(l,1,e,r[l+1],a),l+=2,c=Math.min(e,a)}if(t)if(s.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=i,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function mt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var a=pt(e,Ze(t)),r=t.text.length>e.options.maxHighlightLength&&Ve(e.doc.mode,a.state),o=dt(e,t,a);r&&(a.state=r),t.stateAfter=a.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function pt(e,t,n){var a=e.doc,r=e.display;if(!a.mode.startState)return new ut(a,!0,t);var o=function(e,t,n){for(var a,r,o=e.doc,i=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>i;--s){if(s<=o.first)return o.first;var l=Ge(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ct?c.lookAhead:0)<=o.modeFrontier))return s;var u=P(l.text,null,e.options.tabSize);(null==r||a>u)&&(r=s-1,a=u)}return r}(e,t,n),i=o>a.first&&Ge(a,o-1).stateAfter,s=i?ut.fromSaved(a,i,o):new ut(a,qe(a.mode),o);return a.iter(o,t,(function(n){ht(e,n.text,s);var a=s.line;n.stateAfter=a==t-1||a%5==0||a>=r.viewFrom&&a<r.viewTo?s.save():null,s.nextLine()})),n&&(a.modeFrontier=s.line),s}function ht(e,t,n,a){var r=e.doc.mode,o=new Ue(t,e.options.tabSize,n);for(o.start=o.pos=a||0,""==t&&ft(r,n.state);!o.eol();)gt(r,o,n.state),o.start=o.pos}function ft(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=He(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function gt(e,t,n,a){for(var r=0;r<10;r++){a&&(a[0]=He(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,n){return t instanceof ct?new ut(e,Ve(e.mode,t.state),n,t.lookAhead):new ut(e,Ve(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?Ve(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var bt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function vt(e,t,n,a){var r,o,i=e.doc,s=i.mode,l=Ge(i,(t=st(i,t)).line),c=pt(e,t.line,n),u=new Ue(l.text,e.options.tabSize,c);for(a&&(o=[]);(a||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=gt(s,u,c.state),a&&o.push(new bt(u,r,Ve(i.mode,c.state)));return a?o:new bt(u,r,c.state)}function yt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var a=n[1]?"bgClass":"textClass";null==t[a]?t[a]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[a])||(t[a]+=" "+n[2])}return e}function xt(e,t,n,a,r,o,i){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Ue(t,e.options.tabSize,a),m=e.options.addModeClass&&[null];for(""==t&&yt(ft(n,a.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,i&&ht(e,t,a,d.pos),d.pos=t.length,l=null):l=yt(gt(n,d,a.state,m),o),m){var p=m[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e3);r(h,u),c=h}}var wt=!1,Et=!1;function St(e,t,n){this.marker=e,this.from=t,this.to=n}function Ct(e,t){if(e)for(var n=0;n<e.length;++n){var a=e[n];if(a.marker==t)return a}}function kt(e,t){for(var n,a=0;a<e.length;++a)e[a]!=t&&(n||(n=[])).push(e[a]);return n}function Ot(e,t){if(t.full)return null;var n=Qe(e,t.from.line)&&Ge(e,t.from.line).markedSpans,a=Qe(e,t.to.line)&&Ge(e,t.to.line).markedSpans;if(!n&&!a)return null;var r=t.from.ch,o=t.to.ch,i=0==tt(t.from,t.to),s=function(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==i.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(i.inclusiveRight?o.to>=t:o.to>t);(a||(a=[])).push(new St(i,o.from,s?null:o.to))}}return a}(n,r,i),l=function(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.to||(i.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==i.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t);(a||(a=[])).push(new St(i,s?null:o.from-t,null==o.to?null:o.to-t))}}return a}(a,o,i),c=1==t.text.length,u=Y(t.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){var m=s[d];if(null==m.to){var p=Ct(l,m.marker);p?c&&(m.to=null==p.to?null:p.to+u):m.to=r}}if(l)for(var h=0;h<l.length;++h){var f=l[h];null!=f.to&&(f.to+=u),null==f.from?Ct(s,f.marker)||(f.from=u,c&&(s||(s=[])).push(f)):(f.from+=u,c&&(s||(s=[])).push(f))}s&&(s=Dt(s)),l&&l!=s&&(l=Dt(l));var g=[s];if(!c){var b,v=t.text.length-2;if(v>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(b||(b=[])).push(new St(s[y].marker,null,null));for(var x=0;x<v;++x)g.push(b);g.push(l)}return g}function Dt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function jt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function It(e){return e.inclusiveLeft?-1:0}function Nt(e){return e.inclusiveRight?1:0}function Rt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var a=e.find(),r=t.find(),o=tt(a.from,r.from)||It(e)-It(t);if(o)return-o;var i=tt(a.to,r.to)||Nt(e)-Nt(t);return i||t.id-e.id}function At(e,t){var n,a=Et&&e.markedSpans;if(a)for(var r=void 0,o=0;o<a.length;++o)(r=a[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Rt(n,r.marker)<0)&&(n=r.marker);return n}function _t(e){return At(e,!0)}function Ft(e){return At(e,!1)}function Mt(e,t){var n,a=Et&&e.markedSpans;if(a)for(var r=0;r<a.length;++r){var o=a[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Rt(n,o.marker)<0)&&(n=o.marker)}return n}function Lt(e,t,n,a,r){var o=Ge(e,t),i=Et&&o.markedSpans;if(i)for(var s=0;s<i.length;++s){var l=i[s];if(l.marker.collapsed){var c=l.marker.find(0),u=tt(c.from,n)||It(l.marker)-It(r),d=tt(c.to,a)||Nt(l.marker)-Nt(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?tt(c.to,n)>=0:tt(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?tt(c.from,a)<=0:tt(c.from,a)<0)))return!0}}}function Pt(e){for(var t;t=_t(e);)e=t.find(-1,!0).line;return e}function Bt(e,t){var n=Ge(e,t),a=Pt(n);return n==a?t:Ze(a)}function $t(e,t){if(t>e.lastLine())return t;var n,a=Ge(e,t);if(!zt(e,a))return t;for(;n=Ft(a);)a=n.find(1,!0).line;return Ze(a)+1}function zt(e,t){var n=Et&&t.markedSpans;if(n)for(var a=void 0,r=0;r<n.length;++r)if((a=n[r]).marker.collapsed){if(null==a.from)return!0;if(!a.marker.widgetNode&&0==a.from&&a.marker.inclusiveLeft&&Vt(e,t,a))return!0}}function Vt(e,t,n){if(null==n.to){var a=n.marker.find(1,!0);return Vt(e,a.line,Ct(a.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vt(e,t,r))return!0}function Ht(e){for(var t=0,n=(e=Pt(e)).parent,a=0;a<n.lines.length;++a){var r=n.lines[a];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function qt(e){if(0==e.height)return 0;for(var t,n=e.text.length,a=e;t=_t(a);){var r=t.find(0,!0);a=r.from.line,n+=r.from.ch-r.to.ch}for(a=e;t=Ft(a);){var o=t.find(0,!0);n-=a.text.length-o.from.ch,n+=(a=o.to.line).text.length-o.to.ch}return n}function Ut(e){var t=e.display,n=e.doc;t.maxLine=Ge(n,n.first),t.maxLineLength=qt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=qt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var Gt=function(e,t,n){this.text=e,jt(this,t),this.height=n?n(this):1};function Wt(e){e.parent=null,Tt(e)}Gt.prototype.lineNo=function(){return Ze(this)},ve(Gt);var Yt={},Kt={};function Zt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Kt:Yt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=I("span",null,null,l?"padding-right: .1px":null),a={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,i=void 0;a.pos=0,a.addToken=Jt,je(e.display.measure)&&(i=ce(o,e.doc.direction))&&(a.addToken=en(a.addToken,i)),a.map=[],nn(o,a,mt(e,o,t!=e.display.externalMeasured&&Ze(o))),o.styleClasses&&(o.styleClasses.bgClass&&(a.bgClass=_(o.styleClasses.bgClass,a.bgClass||"")),o.styleClasses.textClass&&(a.textClass=_(o.styleClasses.textClass,a.textClass||""))),0==a.map.length&&a.map.push(0,0,a.content.appendChild(Te(e.display.measure))),0==r?(t.measure.map=a.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(a.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=a.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,a.pre),a.pre.className&&(a.textClass=_(a.pre.className,a.textClass||"")),a}function Qt(e){var t=j("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,n,a,r,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,a="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),a+=o,n=" "==o}return a}(t,e.trailingSpace):t,d=e.cm.state.specialChars,m=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),f=h?h.index-p:t.length-p;if(f){var g=document.createTextNode(u.slice(p,p+f));i&&s<9?c.appendChild(j("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+f,g),e.col+=f,e.pos+=f}if(!h)break;p+=f+1;var b=void 0;if("\t"==h[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(b=c.appendChild(j("span",W(y),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?((b=c.appendChild(j("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),i&&s<9?c.appendChild(j("span",[b])):c.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),i&&s<9&&(m=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||a||r||m||o||l){var x=n||"";a&&(x+=a),r&&(x+=r);var w=j("span",[c],x,o);if(l)for(var E in l)l.hasOwnProperty(E)&&"style"!=E&&"class"!=E&&w.setAttribute(E,l[E]);return e.content.appendChild(w)}e.content.appendChild(c)}}function en(e,t){return function(n,a,r,o,i,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+a.length;;){for(var d=void 0,m=0;m<t.length&&!((d=t[m]).to>c&&d.from<=c);m++);if(d.to>=u)return e(n,a,r,o,i,s,l);e(n,a.slice(0,d.to-c),r,o,null,s,l),o=null,a=a.slice(d.to-c),c=d.to}}}function tn(e,t,n,a){var r=!a&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!a&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function nn(e,t,n){var a=e.markedSpans,r=e.text,o=0;if(a)for(var i,s,l,c,u,d,m,p=r.length,h=0,f=1,g="",b=0;;){if(b==h){l=c=u=s="",m=null,d=null,b=1/0;for(var v=[],y=void 0,x=0;x<a.length;++x){var w=a[x],E=w.marker;if("bookmark"==E.type&&w.from==h&&E.widgetNode)v.push(E);else if(w.from<=h&&(null==w.to||w.to>h||E.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&b>w.to&&(b=w.to,c=""),E.className&&(l+=" "+E.className),E.css&&(s=(s?s+";":"")+E.css),E.startStyle&&w.from==h&&(u+=" "+E.startStyle),E.endStyle&&w.to==b&&(y||(y=[])).push(E.endStyle,w.to),E.title&&((m||(m={})).title=E.title),E.attributes)for(var S in E.attributes)(m||(m={}))[S]=E.attributes[S];E.collapsed&&(!d||Rt(d.marker,E)<0)&&(d=w)}else w.from>h&&b>w.from&&(b=w.from)}if(y)for(var C=0;C<y.length;C+=2)y[C+1]==b&&(c+=" "+y[C]);if(!d||d.from==h)for(var k=0;k<v.length;++k)tn(t,0,v[k]);if(d&&(d.from||0)==h){if(tn(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var O=Math.min(p,b);;){if(g){var D=h+g.length;if(!d){var T=D>O?g.slice(0,O-h):g;t.addToken(t,T,i?i+l:l,u,h+T.length==b?c:"",s,m)}if(D>=O){g=g.slice(O-h),h=O;break}h=D,u=""}g=r.slice(o,o=n[f++]),i=Zt(n[f++],t.cm.options)}}else for(var j=1;j<n.length;j+=2)t.addToken(t,r.slice(o,o=n[j]),Zt(n[j+1],t.cm.options))}function an(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Ft(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ze(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=zt(e,t)}function rn(e,t,n){for(var a,r=[],o=t;o<n;o=a){var i=new an(e.doc,Ge(e.doc,o),o);a=o+i.size,r.push(i)}return r}var on=null,sn=null;function ln(e,t){var n=me(e,t);if(n.length){var a,r=Array.prototype.slice.call(arguments,2);on?a=on.delayedCallbacks:sn?a=sn:(a=sn=[],setTimeout(cn,0));for(var o=function(e){a.push((function(){return n[e].apply(null,r)}))},i=0;i<n.length;++i)o(i)}}function cn(){var e=sn;sn=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,a){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?pn(e,t):"gutter"==o?fn(e,t,n,a):"class"==o?hn(e,t):"widget"==o&&gn(e,t,a)}t.changes=null}function dn(e){return e.node==e.text&&(e.node=j("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),i&&s<8&&(e.node.style.zIndex=2)),e.node}function mn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function pn(e,t){var n=t.text.className,a=mn(e,t);t.text==t.node&&(t.node=a.pre),t.text.parentNode.replaceChild(a.pre,t.text),t.text=a.pre,a.bgClass!=t.bgClass||a.textClass!=t.textClass?(t.bgClass=a.bgClass,t.textClass=a.textClass,hn(e,t)):n&&(t.text.className=n)}function hn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var a=dn(t);t.background=a.insertBefore(j("div",null,n),a.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?dn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function fn(e,t,n,a){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=dn(t);t.gutterBackground=j("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=dn(t),s=t.gutter=j("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(j("div",Je(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(j("div",[u],"CodeMirror-gutter-elt","left: "+a.gutterLeft[c]+"px; width: "+a.gutterWidth[c]+"px"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var a=C("CodeMirror-linewidget"),r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,a.test(r.className)&&t.node.removeChild(r);vn(e,t,n)}function bn(e,t,n,a){var r=mn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),hn(e,t),fn(e,t,n,a),vn(e,t,a),t.node}function vn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var a=0;a<t.rest.length;a++)yn(e,t.rest[a],t,n,!1)}function yn(e,t,n,a,r){if(t.widgets)for(var o=dn(n),i=0,s=t.widgets;i<s.length;++i){var l=s[i],c=j("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),xn(l,c,n,a),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function xn(e,t,n,a){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=a.wrapperWidth;t.style.left=a.fixedPos+"px",e.coverGutter||(r-=a.gutterTotalWidth,t.style.paddingLeft=a.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-a.gutterTotalWidth+"px"))}function wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,j("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function En(e,t){for(var n=Se(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Sn(e){return e.lineSpace.offsetTop}function Cn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function kn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,j("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,a={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(a.left)||isNaN(a.right)||(e.cachedPaddingH=a),a}function On(e){return 50-e.display.nativeBarWidth}function Dn(e){return e.display.scroller.clientWidth-On(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-On(e)-e.display.barHeight}function jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var a=0;a<e.rest.length;a++)if(e.rest[a]==t)return{map:e.measure.maps[a],cache:e.measure.caches[a]};for(var r=0;r<e.rest.length;r++)if(Ze(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function In(e,t,n,a){return An(e,Rn(e,t),n,a)}function Nn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ua(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Rn(e,t){var n=Ze(t),a=Nn(e,n);a&&!a.text?a=null:a&&a.changes&&(un(e,a,n,oa(e)),e.curOp.forceUpdate=!0),a||(a=function(e,t){var n=Ze(t=Pt(t)),a=e.display.externalMeasured=new an(e.doc,t,n);a.lineN=n;var r=a.built=Xt(e,a);return a.text=r.pre,T(e.display.lineMeasure,r.pre),a}(e,t));var r=jn(a,t,n);return{line:t,view:a,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function An(e,t,n,a,r){t.before&&(n=-1);var o,l=n+(a||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var a=e.options.lineWrapping,r=a&&Dn(e);if(!t.measure.heights||a&&t.measure.width!=r){var o=t.measure.heights=[];if(a){t.measure.width=r;for(var i=t.text.firstChild.getClientRects(),s=0;s<i.length-1;s++){var l=i[s],c=i[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,a){var r,o=Mn(t.map,n,a),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var m=0;m<4;m++){for(;c&&ae(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&ae(t.line.text.charAt(o.coverStart+u));)++u;if((r=i&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Ln(k(l,c,u).getClientRects(),a)).left||r.right||0==c)break;u=c,c-=1,d="right"}i&&s<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=_e)return _e;var t=T(e,j("span","x")),n=t.getBoundingClientRect(),a=k(t,0,1).getBoundingClientRect();return _e=Math.abs(n.left-a.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*a,bottom:t.bottom*a}}(e.display.measure,r))}else{var p;c>0&&(d=a="right"),r=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==a?p.length-1:0]:l.getBoundingClientRect()}if(i&&s<9&&!c&&(!r||!r.left&&!r.right)){var h=l.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+ra(e.display),top:h.top,bottom:h.bottom}:Fn}for(var f=r.top-t.rect.top,g=r.bottom-t.rect.top,b=(f+g)/2,v=t.view.measure.heights,y=0;y<v.length-1&&!(b<v[y]);y++);var x=y?v[y-1]:0,w=v[y],E={left:("right"==d?r.right:r.left)-t.rect.left,right:("left"==d?r.left:r.right)-t.rect.left,top:x,bottom:w};return r.left||r.right||(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=f,E.rbottom=g),E}(e,t,n,a)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var _n,Fn={left:0,right:0,top:0,bottom:0};function Mn(e,t,n){for(var a,r,o,i,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,i="left"):t<l?o=1+(r=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-s)-1,t>=l&&(i="right")),null!=r){if(a=e[c+2],s==l&&n==(a.insertLeft?"left":"right")&&(i=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)a=e[2+(c-=3)],i="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)a=e[(c+=3)+2],i="right";break}return{node:a,start:r,end:o,collapse:i,coverStart:s,coverEnd:l}}function Ln(e,t){var n=Fn;if("left"==t)for(var a=0;a<e.length&&(n=e[a]).left==n.right;a++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Pn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Bn(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Pn(e.display.view[t])}function $n(e){Bn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Vn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=wn(e.widgets[n]));return t}function qn(e,t,n,a,r){if(!r){var o=Hn(t);n.top+=o,n.bottom+=o}if("line"==a)return n;a||(a="local");var i=Ht(t);if("local"==a?i+=Sn(e.display):i-=e.display.viewOffset,"page"==a||"window"==a){var s=e.display.lineSpace.getBoundingClientRect();i+=s.top+("window"==a?0:Vn());var l=s.left+("window"==a?0:zn());n.left+=l,n.right+=l}return n.top+=i,n.bottom+=i,n}function Un(e,t,n){if("div"==n)return t;var a=t.left,r=t.top;if("page"==n)a-=zn(),r-=Vn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();a+=o.left,r+=o.top}var i=e.display.lineSpace.getBoundingClientRect();return{left:a-i.left,top:r-i.top}}function Gn(e,t,n,a,r){return a||(a=Ge(e.doc,t.line)),qn(e,a,In(e,a,t.ch,r),n)}function Wn(e,t,n,a,r,o){function i(t,i){var s=An(e,r,t,i?"right":"left",o);return i?s.left=s.right:s.right=s.left,qn(e,a,s,n)}a=a||Ge(e.doc,t.line),r||(r=Rn(e,a));var s=ce(a,e.doc.direction),l=t.ch,c=t.sticky;if(l>=a.text.length?(l=a.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return i("before"==c?l-1:l,"before"==c);function u(e,t,n){return i(n?e-1:e,1==s[t].level!=n)}var d=se(s,l,c),m=ie,p=u(l,d,"before"==c);return null!=m&&(p.other=u(l,m,"before"!=c)),p}function Yn(e,t){var n=0;t=st(e.doc,t),e.options.lineWrapping||(n=ra(e.display)*t.ch);var a=Ge(e.doc,t.line),r=Ht(a)+Sn(e.display);return{left:n,right:n,top:r,bottom:r+a.height}}function Kn(e,t,n,a,r){var o=et(e,t,n);return o.xRel=r,a&&(o.outside=a),o}function Zn(e,t,n){var a=e.doc;if((n+=e.display.viewOffset)<0)return Kn(a.first,0,null,-1,-1);var r=Xe(a,n),o=a.first+a.size-1;if(r>o)return Kn(a.first+a.size-1,Ge(a,o).text.length,null,1,1);t<0&&(t=0);for(var i=Ge(a,r);;){var s=ea(e,i,r,t,n),l=Mt(i,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;i=Ge(a,r=c.line)}}function Xn(e,t,n,a){a-=Hn(t);var r=t.text.length,o=oe((function(t){return An(e,n,t-1).bottom<=a}),r,0);return{begin:o,end:r=oe((function(t){return An(e,n,t).top>a}),o,r)}}function Qn(e,t,n,a){return n||(n=Rn(e,t)),Xn(e,t,n,qn(e,t,An(e,n,a),"line").top)}function Jn(e,t,n,a){return!(e.bottom<=n)&&(e.top>n||(a?e.left:e.right)>t)}function ea(e,t,n,a,r){r-=Ht(t);var o=Rn(e,t),i=Hn(t),s=0,l=t.text.length,c=!0,u=ce(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?na:ta)(e,t,n,o,u,a,r);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var m,p,h=null,f=null,g=oe((function(t){var n=An(e,o,t);return n.top+=i,n.bottom+=i,!!Jn(n,a,r,!1)&&(n.top<=r&&n.left<=a&&(h=t,f=n),!0)}),s,l),b=!1;if(f){var v=a-f.left<f.right-a,y=v==c;g=h+(y?0:1),p=y?"after":"before",m=v?f.left:f.right}else{c||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":An(e,o,g-(c?1:0)).bottom+i<=r==c?"after":"before";var x=Wn(e,et(n,g,p),"line",t,o);m=x.left,b=r<x.top?-1:r>=x.bottom?1:0}return Kn(n,g=re(t.text,g,1),p,b,a-m)}function ta(e,t,n,a,r,o,i){var s=oe((function(s){var l=r[s],c=1!=l.level;return Jn(Wn(e,et(n,c?l.to:l.from,c?"before":"after"),"line",t,a),o,i,!0)}),0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=Wn(e,et(n,c?l.from:l.to,c?"after":"before"),"line",t,a);Jn(u,o,i,!0)&&u.top>i&&(l=r[s-1])}return l}function na(e,t,n,a,r,o,i){var s=Xn(e,t,a,i),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,m=0;m<r.length;m++){var p=r[m];if(!(p.from>=c||p.to<=l)){var h=An(e,a,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,f=h<o?o-h+1e9:h-o;(!u||d>f)&&(u=p,d=f)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function aa(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==_n){_n=j("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)_n.appendChild(document.createTextNode("x")),_n.appendChild(j("br"));_n.appendChild(document.createTextNode("x"))}T(e.measure,_n);var n=_n.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function ra(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=j("span","xxxxxxxxxx"),n=j("pre",[t],"CodeMirror-line-like");T(e.measure,n);var a=t.getBoundingClientRect(),r=(a.right-a.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function oa(e){for(var t=e.display,n={},a={},r=t.gutters.clientLeft,o=t.gutters.firstChild,i=0;o;o=o.nextSibling,++i){var s=e.display.gutterSpecs[i].className;n[s]=o.offsetLeft+o.clientLeft+r,a[s]=o.clientWidth}return{fixedPos:ia(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:a,wrapperWidth:t.wrapper.clientWidth}}function ia(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function sa(e){var t=aa(e.display),n=e.options.lineWrapping,a=n&&Math.max(5,e.display.scroller.clientWidth/ra(e.display)-3);return function(r){if(zt(e.doc,r))return 0;var o=0;if(r.widgets)for(var i=0;i<r.widgets.length;i++)r.widgets[i].height&&(o+=r.widgets[i].height);return n?o+(Math.ceil(r.text.length/a)||1)*t:o+t}}function la(e){var t=e.doc,n=sa(e);t.iter((function(e){var t=n(e);t!=e.height&&Ke(e,t)}))}function ca(e,t,n,a){var r=e.display;if(!n&&"true"==Se(t).getAttribute("cm-not-content"))return null;var o,i,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,i=t.clientY-s.top}catch(e){return null}var l,c=Zn(e,o,i);if(a&&c.xRel>0&&(l=Ge(e.doc,c.line).text).length==c.ch){var u=P(l,l.length,e.options.tabSize)-l.length;c=et(c.line,Math.max(0,Math.round((o-kn(e.display).left)/ra(e.display))-u))}return c}function ua(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,a=0;a<n.length;a++)if((t-=n[a].size)<0)return a}function da(e,t,n,a){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),a||(a=0);var r=e.display;if(a&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Et&&Bt(e.doc,t)<r.viewTo&&pa(e);else if(n<=r.viewFrom)Et&&$t(e.doc,n+a)>r.viewFrom?pa(e):(r.viewFrom+=a,r.viewTo+=a);else if(t<=r.viewFrom&&n>=r.viewTo)pa(e);else if(t<=r.viewFrom){var o=ha(e,n,n+a,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=a):pa(e)}else if(n>=r.viewTo){var i=ha(e,t,t,-1);i?(r.view=r.view.slice(0,i.index),r.viewTo=i.lineN):pa(e)}else{var s=ha(e,t,t,-1),l=ha(e,n,n+a,1);s&&l?(r.view=r.view.slice(0,s.index).concat(rn(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=a):pa(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=a:t<c.lineN+c.size&&(r.externalMeasured=null))}function ma(e,t,n){e.curOp.viewChanged=!0;var a=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(a.externalMeasured=null),!(t<a.viewFrom||t>=a.viewTo)){var o=a.view[ua(e,t)];if(null!=o.node){var i=o.changes||(o.changes=[]);-1==$(i,n)&&i.push(n)}}}function pa(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ha(e,t,n,a){var r,o=ua(e,t),i=e.display.view;if(!Et||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=i[l].size;if(s!=t){if(a>0){if(o==i.length-1)return null;r=s+i[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;Bt(e.doc,n)!=n;){if(o==(a<0?0:i.length-1))return null;n+=a*i[o-(a<0?1:0)].size,o+=a}return{index:o,lineN:n}}function fa(e){for(var t=e.display.view,n=0,a=0;a<t.length;a++){var r=t[a];r.hidden||r.node&&!r.changes||++n}return n}function ga(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ba(e,t){void 0===t&&(t=!0);for(var n=e.doc,a={},r=a.cursors=document.createDocumentFragment(),o=a.selection=document.createDocumentFragment(),i=0;i<n.sel.ranges.length;i++)if(t||i!=n.sel.primIndex){var s=n.sel.ranges[i];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&va(e,s.head,r),l||xa(e,s,o)}}return a}function va(e,t,n){var a=Wn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(j("div"," ","CodeMirror-cursor"));if(r.style.left=a.left+"px",r.style.top=a.top+"px",r.style.height=Math.max(0,a.bottom-a.top)*e.options.cursorHeight+"px",a.other){var o=n.appendChild(j("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=a.other.left+"px",o.style.top=a.other.top+"px",o.style.height=.85*(a.other.bottom-a.other.top)+"px"}}function ya(e,t){return e.top-t.top||e.left-t.left}function xa(e,t,n){var a=e.display,r=e.doc,o=document.createDocumentFragment(),i=kn(e.display),s=i.left,l=Math.max(a.sizerWidth,Dn(e)-a.sizer.offsetLeft)-i.right,c="ltr"==r.direction;function u(e,t,n,a){t<0&&(t=0),t=Math.round(t),a=Math.round(a),o.appendChild(j("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(a-t)+"px"))}function d(t,n,a){var o,i,d=Ge(r,t),m=d.text.length;function p(n,a){return Gn(e,et(t,n),"div",d,a)}function h(t,n,a){var r=Qn(e,d,null,t),o="ltr"==n==("after"==a)?"left":"right";return p("after"==a?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var f=ce(d,r.direction);return function(e,t,n,a){if(!e)return a(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var i=e[o];(i.from<n&&i.to>t||t==n&&i.to==t)&&(a(Math.max(i.from,t),Math.min(i.to,n),1==i.level?"rtl":"ltr",o),r=!0)}r||a(t,n,"ltr")}(f,n||0,null==a?m:a,(function(e,t,r,d){var g="ltr"==r,b=p(e,g?"left":"right"),v=p(t-1,g?"right":"left"),y=null==n&&0==e,x=null==a&&t==m,w=0==d,E=!f||d==f.length-1;if(v.top-b.top<=3){var S=(c?x:y)&&E,C=(c?y:x)&&w?s:(g?b:v).left,k=S?l:(g?v:b).right;u(C,b.top,k-C,b.bottom)}else{var O,D,T,j;g?(O=c&&y&&w?s:b.left,D=c?l:h(e,r,"before"),T=c?s:h(t,r,"after"),j=c&&x&&E?l:v.right):(O=c?h(e,r,"before"):s,D=!c&&y&&w?l:b.right,T=!c&&x&&E?s:v.left,j=c?h(t,r,"after"):l),u(O,b.top,D-O,b.bottom),b.bottom<v.top&&u(s,b.bottom,null,v.top),u(T,v.top,j-T,v.bottom)}(!o||ya(b,o)<0)&&(o=b),ya(v,o)<0&&(o=v),(!i||ya(b,i)<0)&&(i=b),ya(v,i)<0&&(i=v)})),{start:o,end:i}}var m=t.from(),p=t.to();if(m.line==p.line)d(m.line,m.ch,p.ch);else{var h=Ge(r,m.line),f=Ge(r,p.line),g=Pt(h)==Pt(f),b=d(m.line,m.ch,g?h.text.length+1:null).end,v=d(p.line,g?0:null,p.ch).start;g&&(b.top<v.top-2?(u(b.right,b.top,null,b.bottom),u(s,v.top,v.left,v.bottom)):u(b.right,b.top,v.left-b.right,b.bottom)),b.bottom<v.top&&u(s,b.bottom,null,v.top)}n.appendChild(o)}function wa(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||ka(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ea(e){e.state.focused||(e.display.input.focus(),Ca(e))}function Sa(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,ka(e))}),100)}function Ca(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,A(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),wa(e))}function ka(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,O(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Oa(e){for(var t=e.display,n=t.lineDiv.offsetTop,a=0;a<t.view.length;a++){var r=t.view[a],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(i&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-n,n=u}else{var d=r.node.getBoundingClientRect();l=d.bottom-d.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-d.left-1)}var m=r.line.height-l;if((m>.005||m<-.005)&&(Ke(r.line,l),Da(r.line),r.rest))for(var p=0;p<r.rest.length;p++)Da(r.rest[p]);if(c>e.display.sizerWidth){var h=Math.ceil(c/ra(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function Da(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],a=n.node.parentNode;a&&(n.height=a.offsetHeight)}}function Ta(e,t,n){var a=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;a=Math.floor(a-Sn(e));var r=n&&null!=n.bottom?n.bottom:a+e.wrapper.clientHeight,o=Xe(t,a),i=Xe(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,i=Xe(t,Ht(Ge(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=i&&(o=Xe(t,Ht(Ge(t,l))-e.wrapper.clientHeight),i=l)}return{from:o,to:Math.max(i,o+1)}}function ja(e,t){var n=e.display,a=aa(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),i={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Cn(n),l=t.top<a,c=t.bottom>s-a;if(t.top<r)i.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(i.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,m=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Dn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?i.scrollLeft=0:t.left<m?i.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+m-3&&(i.scrollLeft=t.right+(h?0:10)-p),i}function Ia(e,t){null!=t&&(Aa(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Na(e){Aa(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ra(e,t,n){null==t&&null==n||Aa(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Aa(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,_a(e,Yn(e,t.from),Yn(e,t.to),t.margin))}function _a(e,t,n,a){var r=ja(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-a,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+a});Ra(e,r.scrollLeft,r.scrollTop)}function Fa(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||lr(e,{top:t}),Ma(e,t,!0),n&&lr(e),ar(e,100))}function Ma(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function La(e,t,n,a){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!a||(e.doc.scrollLeft=t,dr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Pa(e){var t=e.display,n=t.gutters.offsetWidth,a=Math.round(e.doc.height+Cn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:a,scrollHeight:a+On(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Ba=function(e,t,n){this.cm=n;var a=this.vert=j("div",[j("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=j("div",[j("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=r.tabIndex=-1,e(a),e(r),de(a,"scroll",(function(){a.clientHeight&&t(a.scrollTop,"vertical")})),de(r,"scroll",(function(){r.clientWidth&&t(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,i&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ba.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,a=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?a+"px":"0";var r=e.viewHeight-(t?a:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?a+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?a:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==a&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?a:0,bottom:t?a:0}},Ba.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ba.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ba.prototype.zeroWidthHack=function(){var e=v&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Ba.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function a(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,a)}))},Ba.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var $a=function(){};function za(e,t){t||(t=Pa(e));var n=e.display.barWidth,a=e.display.barHeight;Va(e,t);for(var r=0;r<4&&n!=e.display.barWidth||a!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Oa(e),Va(e,Pa(e)),n=e.display.barWidth,a=e.display.barHeight}function Va(e,t){var n=e.display,a=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=a.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=a.bottom)+"px",n.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=a.bottom+"px",n.scrollbarFiller.style.width=a.right+"px"):n.scrollbarFiller.style.display="",a.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=a.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}$a.prototype.update=function(){return{bottom:0,right:0}},$a.prototype.setScrollLeft=function(){},$a.prototype.setScrollTop=function(){},$a.prototype.clear=function(){};var Ha={native:Ba,null:$a};function qa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ha[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?La(e,t):Fa(e,t)}),e),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)}var Ua=0;function Ga(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ua},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function Wa(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var a=0;a<e.ops.length;a++){var r=e.ops[a];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{on=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Ya(t[n]);for(var a=0;a<t.length;a++)Ka(t[a]);for(var r=0;r<t.length;r++)Za(t[r]);for(var o=0;o<t.length;o++)Xa(t[o]);for(var i=0;i<t.length;i++)Qa(t[i])}(e)}))}function Ya(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=On(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=On(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ut(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new or(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ka(e){e.updatedDisplay=e.mustUpdate&&ir(e.cm,e.update)}function Za(e){var t=e.cm,n=t.display;e.updatedDisplay&&Oa(t),e.barMeasure=Pa(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=In(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+On(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Dn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Xa(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&La(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&za(t,e.barMeasure),e.updatedDisplay&&ur(t,e.barMeasure),e.selectionChanged&&wa(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ea(e.cm)}function Qa(e){var t=e.cm,n=t.display,a=t.doc;e.updatedDisplay&&sr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Ma(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&La(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!fe(e,"scrollCursorIntoView")){var n=e.display,a=n.sizer.getBoundingClientRect(),r=null;if(t.top+a.top<0?r=!0:t.bottom+a.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!h){var o=j("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Sn(e.display))+"px;\n                         height: "+(t.bottom-t.top+On(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,a){var r;null==a&&(a=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var i=!1,s=Wn(e,t),l=n&&n!=t?Wn(e,n):s,c=ja(e,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-a,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+a}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Fa(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(i=!0)),null!=c.scrollLeft&&(La(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(i=!0)),!i)break}return r}(t,st(a,e.scrollToPos.from),st(a,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var i=0;i<r.length;++i)r[i].lines.length||he(r[i],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&he(o[s],"unhide");n.wrapper.offsetHeight&&(a.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ja(e,t){if(e.curOp)return t();Ga(e);try{return t()}finally{Wa(e)}}function er(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ga(e);try{return t.apply(e,arguments)}finally{Wa(e)}}}function tr(e){return function(){if(this.curOp)return e.apply(this,arguments);Ga(this);try{return e.apply(this,arguments)}finally{Wa(this)}}}function nr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ga(t);try{return e.apply(this,arguments)}finally{Wa(t)}}}function ar(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,M(rr,e))}function rr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,a=pt(e,t.highlightFrontier),r=[];t.iter(a.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(a.line>=e.display.viewFrom){var i=o.styles,s=o.text.length>e.options.maxHighlightLength?Ve(t.mode,a.state):null,l=dt(e,o,a,!0);s&&(a.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!i||i.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),m=0;!d&&m<i.length;++m)d=i[m]!=o.styles[m];d&&r.push(a.line),o.stateAfter=a.save(),a.nextLine()}else o.text.length<=e.options.maxHighlightLength&&ht(e,o.text,a),o.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>n)return ar(e,e.options.workDelay),!0})),t.highlightFrontier=a.line,t.modeFrontier=Math.max(t.modeFrontier,a.line),r.length&&Ja(e,(function(){for(var t=0;t<r.length;t++)ma(e,r[t],"text")}))}}var or=function(e,t,n){var a=e.display;this.viewport=t,this.visible=Ta(a,e.doc,t),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=Dn(e),this.force=n,this.dims=oa(e),this.events=[]};function ir(e,t){var n=e.display,a=e.doc;if(t.editorIsHidden)return pa(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==fa(e))return!1;mr(e)&&(pa(e),t.dims=oa(e));var r=a.first+a.size,o=Math.max(t.visible.from-e.options.viewportMargin,a.first),i=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(a.first,n.viewFrom)),n.viewTo>i&&n.viewTo-i<20&&(i=Math.min(r,n.viewTo)),Et&&(o=Bt(e.doc,o),i=$t(e.doc,i));var s=o!=n.viewFrom||i!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var a=e.display;0==a.view.length||t>=a.viewTo||n<=a.viewFrom?(a.view=rn(e,t,n),a.viewFrom=t):(a.viewFrom>t?a.view=rn(e,t,a.viewFrom).concat(a.view):a.viewFrom<t&&(a.view=a.view.slice(ua(e,t))),a.viewFrom=t,a.viewTo<n?a.view=a.view.concat(rn(e,a.viewTo,n)):a.viewTo>n&&(a.view=a.view.slice(0,ua(e,n)))),a.viewTo=n}(e,o,i),n.viewOffset=Ht(Ge(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=fa(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=R();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var a=window.getSelection();a.anchorNode&&a.extend&&N(e.display.lineDiv,a.anchorNode)&&(n.anchorNode=a.anchorNode,n.anchorOffset=a.anchorOffset,n.focusNode=a.focusNode,n.focusOffset=a.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var a=e.display,r=e.options.lineNumbers,o=a.lineDiv,i=o.firstChild;function s(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=a.view,u=a.viewFrom,d=0;d<c.length;d++){var m=c[d];if(m.hidden);else if(m.node&&m.node.parentNode==o){for(;i!=m.node;)i=s(i);var p=r&&null!=t&&t<=u&&m.lineNumber;m.changes&&($(m.changes,"gutter")>-1&&(p=!1),un(e,m,u,n)),p&&(D(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(Je(e.options,u)))),i=m.node.nextSibling}else{var h=bn(e,m,u,n);o.insertBefore(h,i)}u+=m.size}for(;i;)i=s(i)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=R()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ar(e,400)),n.updateLineNumbers=null,!0}function sr(e,t){for(var n=t.viewport,a=!0;;a=!1){if(a&&e.options.lineWrapping&&t.oldDisplayWidth!=Dn(e))a&&(t.visible=Ta(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Cn(e.display)-Tn(e),n.top)}),t.visible=Ta(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ir(e,t))break;Oa(e);var r=Pa(e);ga(e),za(e,r),ur(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function lr(e,t){var n=new or(e,t);if(ir(e,n)){Oa(e),sr(e,n);var a=Pa(e);ga(e),za(e,a),ur(e,a),n.finish()}}function cr(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ur(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+On(e)+"px"}function dr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var a=ia(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=a+"px",i=0;i<n.length;i++)if(!n[i].hidden){e.options.fixedGutter&&(n[i].gutter&&(n[i].gutter.style.left=o),n[i].gutterBackground&&(n[i].gutterBackground.style.left=o));var s=n[i].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=a+r+"px")}}function mr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Je(e.options,t.first+t.size-1),a=e.display;if(n.length!=a.lineNumChars){var r=a.measure.appendChild(j("div",[j("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,i=r.offsetWidth-o;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(o,a.lineGutter.offsetWidth-i)+1,a.lineNumWidth=a.lineNumInnerWidth+i,a.lineNumChars=a.lineNumInnerWidth?n.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",cr(e.display),!0}return!1}function pr(e,t){for(var n=[],a=!1,r=0;r<e.length;r++){var o=e[r],i=null;if("string"!=typeof o&&(i=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;a=!0}n.push({className:o,style:i})}return t&&!a&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function hr(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var a=0;a<n.length;++a){var r=n[a],o=r.className,i=r.style,s=t.appendChild(j("div",null,"CodeMirror-gutter "+o));i&&(s.style.cssText=i),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",cr(e)}function fr(e){hr(e.display),da(e),dr(e)}function gr(e,t,a,r){var o=this;this.input=a,o.scrollbarFiller=j("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=j("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=I("div",null,"CodeMirror-code"),o.selectionDiv=j("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=j("div",null,"CodeMirror-cursors"),o.measure=j("div",null,"CodeMirror-measure"),o.lineMeasure=j("div",null,"CodeMirror-measure"),o.lineSpace=I("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=I("div",[o.lineSpace],"CodeMirror-lines");o.mover=j("div",[c],null,"position: relative"),o.sizer=j("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=j("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=j("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=j("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=j("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),i&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&b||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=pr(r.gutters,r.lineNumbers),hr(o),a.init(o)}or.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},or.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var br=0,vr=null;function yr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function xr(e){var t=yr(e);return t.x*=vr,t.y*=vr,t}function wr(e,t){var a=yr(t),r=a.x,o=a.y,i=e.display,s=i.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&c||o&&u){if(o&&v&&l)e:for(var m=t.target,p=i.view;m!=s;m=m.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==m){e.display.currentWheelTarget=m;break e}if(r&&!n&&!d&&null!=vr)return o&&u&&Fa(e,Math.max(0,s.scrollTop+o*vr)),La(e,Math.max(0,s.scrollLeft+r*vr)),(!o||o&&u)&&ye(t),void(i.wheelStartX=null);if(o&&null!=vr){var f=o*vr,g=e.doc.scrollTop,b=g+i.wrapper.clientHeight;f<0?g=Math.max(0,g+f-50):b=Math.min(e.doc.height,b+f+50),lr(e,{top:g,bottom:b})}br<20&&(null==i.wheelStartX?(i.wheelStartX=s.scrollLeft,i.wheelStartY=s.scrollTop,i.wheelDX=r,i.wheelDY=o,setTimeout((function(){if(null!=i.wheelStartX){var e=s.scrollLeft-i.wheelStartX,t=s.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(vr=(vr*br+n)/(br+1),++br)}}),200)):(i.wheelDX+=r,i.wheelDY+=o))}}i?vr=-.53:n?vr=15:u?vr=-.7:m&&(vr=-1/3);var Er=function(e,t){this.ranges=e,this.primIndex=t};Er.prototype.primary=function(){return this.ranges[this.primIndex]},Er.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],a=e.ranges[t];if(!nt(n.anchor,a.anchor)||!nt(n.head,a.head))return!1}return!0},Er.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Sr(at(this.ranges[t].anchor),at(this.ranges[t].head));return new Er(e,this.primIndex)},Er.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Er.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var a=this.ranges[n];if(tt(t,a.from())>=0&&tt(e,a.to())<=0)return n}return-1};var Sr=function(e,t){this.anchor=e,this.head=t};function Cr(e,t,n){var a=e&&e.options.selectionsMayTouch,r=t[n];t.sort((function(e,t){return tt(e.from(),t.from())})),n=$(t,r);for(var o=1;o<t.length;o++){var i=t[o],s=t[o-1],l=tt(s.to(),i.from());if(a&&!i.empty()?l>0:l>=0){var c=ot(s.from(),i.from()),u=rt(s.to(),i.to()),d=s.empty()?i.from()==i.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new Sr(d?u:c,d?c:u))}}return new Er(t,n)}function kr(e,t){return new Er([new Sr(e,t||e)],0)}function Or(e){return e.text?et(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Dr(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return Or(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,a=e.ch;return e.line==t.to.line&&(a+=Or(t).ch-t.to.ch),et(n,a)}function Tr(e,t){for(var n=[],a=0;a<e.sel.ranges.length;a++){var r=e.sel.ranges[a];n.push(new Sr(Dr(r.anchor,t),Dr(r.head,t)))}return Cr(e.cm,n,e.sel.primIndex)}function jr(e,t,n){return e.line==t.line?et(n.line,e.ch-t.ch+n.ch):et(n.line+(e.line-t.line),e.ch)}function Ir(e){e.doc.mode=Be(e.options,e.doc.modeOption),Nr(e)}function Nr(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ar(e,100),e.state.modeGen++,e.curOp&&da(e)}function Rr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ar(e,t,n,a){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,a){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),jt(e,n);var r=a?a(e):1;r!=e.height&&Ke(e,r)}(e,n,r,a),ln(e,"change",e,t)}function i(e,t){for(var n=[],o=e;o<t;++o)n.push(new Gt(c[o],r(o),a));return n}var s=t.from,l=t.to,c=t.text,u=Ge(e,s.line),d=Ge(e,l.line),m=Y(c),p=r(c.length-1),h=l.line-s.line;if(t.full)e.insert(0,i(0,c.length)),e.remove(c.length,e.size-c.length);else if(Rr(e,t)){var f=i(0,c.length-1);o(d,d.text,p),h&&e.remove(s.line,h),f.length&&e.insert(s.line,f)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+m+u.text.slice(l.ch),p);else{var g=i(1,c.length-1);g.push(new Gt(m+u.text.slice(l.ch),p,a)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(s.line+1,h);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(d,m+d.text.slice(l.ch),p);var b=i(1,c.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,b)}ln(e,"change",e,t)}function _r(e,t,n){!function e(a,r,o){if(a.linked)for(var i=0;i<a.linked.length;++i){var s=a.linked[i];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,a,l))}}}(e,null,!0)}function Fr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,la(e),Ir(e),Mr(e),e.options.lineWrapping||Ut(e),e.options.mode=t.modeOption,da(e)}function Mr(e){("rtl"==e.doc.direction?A:O)(e.display.lineDiv,"CodeMirror-rtl")}function Lr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Pr(e,t){var n={from:at(t.from),to:Or(t),text:We(e,t.from,t.to)};return Hr(e,n,t.from.line,t.to.line+1),_r(e,(function(e){return Hr(e,n,t.from.line,t.to.line+1)}),!0),n}function Br(e){for(;e.length&&Y(e).ranges;)e.pop()}function $r(e,t,n,a){var r=e.history;r.undone.length=0;var o,i,s=+new Date;if((r.lastOp==a||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Br(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(r,r.lastOp==a)))i=Y(o.changes),0==tt(t.from,t.to)&&0==tt(t.from,i.to)?i.to=Or(t):o.changes.push(Pr(e,t));else{var l=Y(r.done);for(l&&l.ranges||Vr(e.sel,r.done),o={changes:[Pr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=a,r.lastOrigin=r.lastSelOrigin=t.origin,i||he(e,"historyAdded")}function zr(e,t,n,a){var r=e.history,o=a&&a.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,a){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==a.ranges.length&&n.somethingSelected()==a.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(r.done),t))?r.done[r.done.length-1]=t:Vr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,a&&!1!==a.clearRedo&&Br(r.undone)}function Vr(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Hr(e,t,n,a){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,a),(function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function qr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ur(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var a=[],r=0;r<t.text.length;++r)a.push(qr(n[r]));return a}(e,t),a=Ot(e,t);if(!n)return a;if(!a)return n;for(var r=0;r<n.length;++r){var o=n[r],i=a[r];if(o&&i)e:for(var s=0;s<i.length;++s){for(var l=i[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else i&&(n[r]=i)}return n}function Gr(e,t,n){for(var a=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)a.push(n?Er.prototype.deepCopy.call(o):o);else{var i=o.changes,s=[];a.push({changes:s});for(var l=0;l<i.length;++l){var c=i[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&$(t,Number(u[1]))>-1&&(Y(s)[d]=c[d],delete c[d])}}}return a}function Wr(e,t,n,a){if(a){var r=e.anchor;if(n){var o=tt(t,r)<0;o!=tt(n,r)<0?(r=t,t=n):o!=tt(t,n)<0&&(t=n)}return new Sr(r,t)}return new Sr(n||t,t)}function Yr(e,t,n,a,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Jr(e,new Er([Wr(e.sel.primary(),t,n,r)],0),a)}function Kr(e,t,n){for(var a=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)a[o]=Wr(e.sel.ranges[o],t[o],null,r);Jr(e,Cr(e.cm,a,e.sel.primIndex),n)}function Zr(e,t,n,a){var r=e.sel.ranges.slice(0);r[t]=n,Jr(e,Cr(e.cm,r,e.sel.primIndex),a)}function Xr(e,t,n,a){Jr(e,kr(t,n),a)}function Qr(e,t,n){var a=e.history.done,r=Y(a);r&&r.ranges?(a[a.length-1]=t,eo(e,t,n)):Jr(e,t,n)}function Jr(e,t,n){eo(e,t,n),zr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function eo(e,t,n){(be(e,"beforeSelectionChange")||e.cm&&be(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var a={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Sr(st(e,t[n].anchor),st(e,t[n].head))},origin:n&&n.origin};return he(e,"beforeSelectionChange",e,a),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,a),a.ranges!=t.ranges?Cr(e.cm,a.ranges,a.ranges.length-1):t}(e,t,n));var a=n&&n.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);to(e,ao(e,t,a,!0)),n&&!1===n.scroll||!e.cm||Na(e.cm)}function to(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),ln(e,"cursorActivity",e))}function no(e){to(e,ao(e,e.sel,null,!1))}function ao(e,t,n,a){for(var r,o=0;o<t.ranges.length;o++){var i=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=oo(e,i.anchor,s&&s.anchor,n,a),c=oo(e,i.head,s&&s.head,n,a);(r||l!=i.anchor||c!=i.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new Sr(l,c))}return r?Cr(e.cm,r,t.primIndex):t}function ro(e,t,n,a,r){var o=Ge(e,t.line);if(o.markedSpans)for(var i=0;i<o.markedSpans.length;++i){var s=o.markedSpans[i],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(r&&(he(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--i;continue}break}if(!l.atomic)continue;if(n){var d=l.find(a<0?1:-1),m=void 0;if((a<0?u:c)&&(d=io(e,d,-a,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(m=tt(d,n))&&(a<0?m<0:m>0))return ro(e,d,t,a,r)}var p=l.find(a<0?-1:1);return(a<0?c:u)&&(p=io(e,p,a,p.line==t.line?o:null)),p?ro(e,p,t,a,r):null}}return t}function oo(e,t,n,a,r){var o=a||1,i=ro(e,t,n,o,r)||!r&&ro(e,t,n,o,!0)||ro(e,t,n,-o,r)||!r&&ro(e,t,n,-o,!0);return i||(e.cantEdit=!0,et(e.first,0))}function io(e,t,n,a){return n<0&&0==t.ch?t.line>e.first?st(e,et(t.line-1)):null:n>0&&t.ch==(a||Ge(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+n)}function so(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),V)}function lo(e,t,n){var a={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return a.canceled=!0}};return n&&(a.update=function(t,n,r,o){t&&(a.from=st(e,t)),n&&(a.to=st(e,n)),r&&(a.text=r),void 0!==o&&(a.origin=o)}),he(e,"beforeChange",e,a),e.cm&&he(e.cm,"beforeChange",e.cm,a),a.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function co(e,t,n){if(e.cm){if(!e.cm.curOp)return er(e.cm,co)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"))||(t=lo(e,t,!0))){var a=wt&&!n&&function(e,t,n){var a=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||a&&-1!=$(a,n)||(a||(a=[])).push(n)}})),!a)return null;for(var r=[{from:t,to:n}],o=0;o<a.length;++o)for(var i=a[o],s=i.find(0),l=0;l<r.length;++l){var c=r[l];if(!(tt(c.to,s.from)<0||tt(c.from,s.to)>0)){var u=[l,1],d=tt(c.from,s.from),m=tt(c.to,s.to);(d<0||!i.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(m>0||!i.inclusiveRight&&!m)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(e,t.from,t.to);if(a)for(var r=a.length-1;r>=0;--r)uo(e,{from:a[r].from,to:a[r].to,text:r?[""]:t.text,origin:t.origin});else uo(e,t)}}function uo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var n=Tr(e,t);$r(e,t,n,e.cm?e.cm.curOp.id:NaN),ho(e,t,n,Ot(e,t));var a=[];_r(e,(function(e,n){n||-1!=$(a,e.history)||(vo(e.history,t),a.push(e.history)),ho(e,t,null,Ot(e,t))}))}}function mo(e,t,n){var a=e.cm&&e.cm.state.suppressEdits;if(!a||n){for(var r,o=e.history,i=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(r=s[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(a)return void s.push(r);break}if(Vr(r,l),n&&!r.equals(e.sel))return void Jr(e,r,{clearRedo:!1});i=r}var u=[];Vr(i,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"),m=function(n){var a=r.changes[n];if(a.origin=t,d&&!lo(e,a,!1))return s.length=0,{};u.push(Pr(e,a));var o=n?Tr(e,a):Y(s);ho(e,a,o,Ur(e,a)),!n&&e.cm&&e.cm.scrollIntoView({from:a.from,to:Or(a)});var i=[];_r(e,(function(e,t){t||-1!=$(i,e.history)||(vo(e.history,a),i.push(e.history)),ho(e,a,null,Ur(e,a))}))},p=r.changes.length-1;p>=0;--p){var h=m(p);if(h)return h.v}}}}function po(e,t){if(0!=t&&(e.first+=t,e.sel=new Er(K(e.sel.ranges,(function(e){return new Sr(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){da(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,a=n.viewFrom;a<n.viewTo;a++)ma(e.cm,a,"gutter")}}function ho(e,t,n,a){if(e.cm&&!e.cm.curOp)return er(e.cm,ho)(e,t,n,a);if(t.to.line<e.first)po(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);po(e,r),t={from:et(e.first,0),to:et(t.to.line+r,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:et(o,Ge(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=We(e,t.from,t.to),n||(n=Tr(e,t)),e.cm?function(e,t,n){var a=e.doc,r=e.display,o=t.from,i=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=Ze(Pt(Ge(a,o.line))),a.iter(l,i.line+1,(function(e){if(e==r.maxLine)return s=!0,!0}))),a.sel.contains(t.from,t.to)>-1&&ge(e),Ar(a,t,n,sa(e)),e.options.lineWrapping||(a.iter(l,o.line+t.text.length,(function(e){var t=qt(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,a=t-1;a>n;a--){var r=Ge(e,a).stateAfter;if(r&&(!(r instanceof ct)||a+r.lookAhead<t)){n=a+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(a,o.line),ar(e,400);var c=t.text.length-(i.line-o.line)-1;t.full?da(e):o.line!=i.line||1!=t.text.length||Rr(e.doc,t)?da(e,o.line,i.line+1,c):ma(e,o.line,"text");var u=be(e,"changes"),d=be(e,"change");if(d||u){var m={from:o,to:i,text:t.text,removed:t.removed,origin:t.origin};d&&ln(e,"change",e,m),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(m)}e.display.selForContextMenu=null}(e.cm,t,a):Ar(e,t,a),eo(e,n,V),e.cantEdit&&oo(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function fo(e,t,n,a,r){var o;a||(a=n),tt(a,n)<0&&(n=(o=[a,n])[0],a=o[1]),"string"==typeof t&&(t=e.splitLines(t)),co(e,{from:n,to:a,text:t,origin:r})}function go(e,t,n,a){n<e.line?e.line+=a:t<e.line&&(e.line=t,e.ch=0)}function bo(e,t,n,a){for(var r=0;r<e.length;++r){var o=e[r],i=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)go(o.ranges[s].anchor,t,n,a),go(o.ranges[s].head,t,n,a)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=et(c.from.line+a,c.from.ch),c.to=et(c.to.line+a,c.to.ch);else if(t<=c.to.line){i=!1;break}}i||(e.splice(0,r+1),r=0)}}}function vo(e,t){var n=t.from.line,a=t.to.line,r=t.text.length-(a-n)-1;bo(e.done,n,a,r),bo(e.undone,n,a,r)}function yo(e,t,n,a){var r=t,o=t;return"number"==typeof t?o=Ge(e,it(e,t)):r=Ze(t),null==r?null:(a(o,r)&&e.cm&&ma(e.cm,r,n),o)}function xo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function wo(e){this.children=e;for(var t=0,n=0,a=0;a<e.length;++a){var r=e[a];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}Sr.prototype.from=function(){return ot(this.anchor,this.head)},Sr.prototype.to=function(){return rt(this.anchor,this.head)},Sr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,a=e+t;n<a;++n){var r=this.lines[n];this.height-=r.height,Wt(r),ln(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var a=0;a<t.length;++a)t[a].parent=this},iterN:function(e,t,n){for(var a=e+t;e<a;++e)if(n(this.lines[e]))return!0}},wo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var a=this.children[n],r=a.chunkSize();if(e<r){var o=Math.min(t,r-e),i=a.height;if(a.removeInner(e,o),this.height-=i-a.height,r==o&&(this.children.splice(n--,1),a.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof xo))){var s=[];this.collapse(s),this.children=[new xo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var i=r.lines.length%25+25,s=i;s<r.lines.length;){var l=new xo(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++a,0,l),l.parent=this}r.lines=r.lines.slice(0,i),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new wo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=$(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var a=new wo(e.children);a.parent=e,e.children=[a,t],e=a}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e);if(r.iterN(e,i,n))return!0;if(0==(t-=i))break;e=0}else e-=o}}};var Eo=function(e,t,n){if(n)for(var a in n)n.hasOwnProperty(a)&&(this[a]=n[a]);this.doc=e,this.node=t};function So(e,t,n){Ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ia(e,n)}Eo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,a=Ze(n);if(null!=a&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=wn(this);Ke(n,Math.max(0,n.height-o)),e&&(Ja(e,(function(){So(e,n,-o),ma(e,a,"widget")})),ln(e,"lineWidgetCleared",e,this,a))}},Eo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,a=this.line;this.height=null;var r=wn(this)-t;r&&(zt(this.doc,a)||Ke(a,a.height+r),n&&Ja(n,(function(){n.curOp.forceUpdate=!0,So(n,a,r),ln(n,"lineWidgetChanged",n,e,Ze(a))})))},ve(Eo);var Co=0,ko=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Co};function Oo(e,t,n,a,r){if(a&&a.shared)return function(e,t,n,a,r){(a=L(a)).shared=!1;var o=[Oo(e,t,n,a,r)],i=o[0],s=a.widgetNode;return _r(e,(function(e){s&&(a.widgetNode=s.cloneNode(!0)),o.push(Oo(e,st(e,t),st(e,n),a,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;i=Y(o)})),new Do(o,i)}(e,t,n,a,r);if(e.cm&&!e.cm.curOp)return er(e.cm,Oo)(e,t,n,a,r);var o=new ko(e,r),i=tt(t,n);if(a&&L(a,o,!1),i>0||0==i&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=I("span",[o.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Lt(e,t.line,t,n,o)||t.line!=n.line&&Lt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et=!0}o.addToHistory&&$r(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&Pt(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Ke(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new St(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){zt(e,t)&&Ke(t,0)})),o.clearOnEnter&&de(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(wt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Co,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)da(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)ma(c,u,"text");o.atomic&&no(c.doc),ln(c,"markerAdded",c,o)}return o}ko.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ga(e),be(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var a=null,r=null,o=0;o<this.lines.length;++o){var i=this.lines[o],s=Ct(i.markedSpans,this);e&&!this.collapsed?ma(e,Ze(i),"text"):e&&(null!=s.to&&(r=Ze(i)),null!=s.from&&(a=Ze(i))),i.markedSpans=kt(i.markedSpans,s),null==s.from&&this.collapsed&&!zt(this.doc,i)&&e&&Ke(i,aa(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Pt(this.lines[l]),u=qt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=a&&e&&this.collapsed&&da(e,a,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&no(e.doc)),e&&ln(e,"markerCleared",e,this,a,r),t&&Wa(e),this.parent&&this.parent.clear()}},ko.prototype.find=function(e,t){var n,a;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],i=Ct(o.markedSpans,this);if(null!=i.from&&(n=et(t?o:Ze(o),i.from),-1==e))return n;if(null!=i.to&&(a=et(t?o:Ze(o),i.to),1==e))return a}return n&&{from:n,to:a}},ko.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,a=this.doc.cm;t&&a&&Ja(a,(function(){var r=t.line,o=Ze(t.line),i=Nn(a,o);if(i&&(Pn(i),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!zt(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=wn(n)-s;l&&Ke(r,r.height+l)}ln(a,"markerChanged",a,e)}))},ko.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=$(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ko.prototype.detachLine=function(e){if(this.lines.splice($(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ve(ko);var Do=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function To(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function jo(e){for(var t=function(t){var n=e[t],a=[n.primary.doc];_r(n.primary.doc,(function(e){return a.push(e)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==$(a,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}Do.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ln(this,"clear")}},Do.prototype.find=function(e,t){return this.primary.find(e,t)},ve(Do);var Io=0,No=function(e,t,n,a,r){if(!(this instanceof No))return new No(e,t,n,a,r);null==n&&(n=0),wo.call(this,[new xo([new Gt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=et(n,0);this.sel=kr(o),this.history=new Lr(null),this.id=++Io,this.modeOption=t,this.lineSep=a,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ar(this,{from:o,to:o,text:e}),Jr(this,kr(o),V)};No.prototype=X(wo.prototype,{constructor:No,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,a=0;a<t.length;++a)n+=t[a].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ye(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:nr((function(e){var t=et(this.first,0),n=this.first+this.size-1;co(this,{from:t,to:et(n,Ge(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ra(this.cm,0,0),Jr(this,kr(t),V)})),replaceRange:function(e,t,n,a){fo(this,e,t=st(this,t),n=n?st(this,n):t,a)},getRange:function(e,t,n){var a=We(this,st(this,e),st(this,t));return!1===n?a:a.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Qe(this,e))return Ge(this,e)},getLineNumber:function(e){return Ze(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ge(this,e)),Pt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return st(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nr((function(e,t,n){Xr(this,st(this,"number"==typeof e?et(e,t||0):e),null,n)})),setSelection:nr((function(e,t,n){Xr(this,st(this,e),st(this,t||e),n)})),extendSelection:nr((function(e,t,n){Yr(this,st(this,e),t&&st(this,t),n)})),extendSelections:nr((function(e,t){Kr(this,lt(this,e),t)})),extendSelectionsBy:nr((function(e,t){Kr(this,lt(this,K(this.sel.ranges,e)),t)})),setSelections:nr((function(e,t,n){if(e.length){for(var a=[],r=0;r<e.length;r++)a[r]=new Sr(st(this,e[r].anchor),st(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Jr(this,Cr(this.cm,a,t),n)}})),addSelection:nr((function(e,t,n){var a=this.sel.ranges.slice(0);a.push(new Sr(st(this,e),st(this,t||e))),Jr(this,Cr(this.cm,a,a.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,a=0;a<n.length;a++){var r=We(this,n[a].from(),n[a].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,a=0;a<n.length;a++){var r=We(this,n[a].from(),n[a].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[a]=r}return t},replaceSelection:function(e,t,n){for(var a=[],r=0;r<this.sel.ranges.length;r++)a[r]=e;this.replaceSelections(a,t,n||"+input")},replaceSelections:nr((function(e,t,n){for(var a=[],r=this.sel,o=0;o<r.ranges.length;o++){var i=r.ranges[o];a[o]={from:i.from(),to:i.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var a=[],r=et(e.first,0),o=r,i=0;i<t.length;i++){var s=t[i],l=jr(s.from,r,o),c=jr(Or(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[i],d=tt(u.head,u.anchor)<0;a[i]=new Sr(d?c:l,d?l:c)}else a[i]=new Sr(l,l)}return new Er(a,e.sel.primIndex)}(this,a,t),l=a.length-1;l>=0;l--)co(this,a[l]);s?Qr(this,s):this.cm&&Na(this.cm)})),undo:nr((function(){mo(this,"undo")})),redo:nr((function(){mo(this,"redo")})),undoSelection:nr((function(){mo(this,"undo",!0)})),redoSelection:nr((function(){mo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,a=0;a<e.done.length;a++)e.done[a].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Lr(this.history.maxGeneration),_r(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Gr(this.history.done),undone:Gr(this.history.undone)}},setHistory:function(e){var t=this.history=new Lr(this.history.maxGeneration);t.done=Gr(e.done.slice(0),null,!0),t.undone=Gr(e.undone.slice(0),null,!0)},setGutterMarker:nr((function(e,t,n){return yo(this,e,"gutter",(function(e){var a=e.gutterMarkers||(e.gutterMarkers={});return a[t]=n,!n&&te(a)&&(e.gutterMarkers=null),!0}))})),clearGutter:nr((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&yo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Qe(this,e))return null;if(t=e,!(e=Ge(this,e)))return null}else if(null==(t=Ze(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:nr((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[a]){if(C(n).test(e[a]))return!1;e[a]+=" "+n}else e[a]=n;return!0}))})),removeLineClass:nr((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[a];if(!r)return!1;if(null==n)e[a]=null;else{var o=r.match(C(n));if(!o)return!1;var i=o.index+o[0].length;e[a]=r.slice(0,o.index)+(o.index&&i!=r.length?" ":"")+r.slice(i)||null}return!0}))})),addLineWidget:nr((function(e,t,n){return function(e,t,n,a){var r=new Eo(e,n,a),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),yo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!zt(e,t)){var a=Ht(t)<e.scrollTop;Ke(t,t.height+wn(r)),a&&Ia(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&ln(o,"lineWidgetAdded",o,r,"number"==typeof t?t:Ze(t)),r}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Oo(this,st(this,e),st(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Oo(this,e=st(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ge(this,(e=st(this,e)).line).markedSpans;if(n)for(var a=0;a<n.length;++a){var r=n[a];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=st(this,e),t=st(this,t);var a=[],r=e.line;return this.iter(e.line,t.line+1,(function(o){var i=o.markedSpans;if(i)for(var s=0;s<i.length;s++){var l=i[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||a.push(l.marker.parent||l.marker)}++r})),a},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var a=0;a<n.length;++a)null!=n[a].from&&e.push(n[a].marker)})),e},posFromIndex:function(e){var t,n=this.first,a=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+a;if(o>e)return t=e,!0;e-=o,++n})),st(this,et(n,t))},indexFromPos:function(e){var t=(e=st(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new No(Ye(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var a=new No(Ye(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:e.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var a=t[n],r=a.find(),o=e.clipPos(r.from),i=e.clipPos(r.to);if(tt(o,i)){var s=Oo(e,o,i,a.primary,a.primary.type);a.markers.push(s),s.parent=a}}}(a,To(this)),a},unlinkDoc:function(e){if(e instanceof Di&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),jo(To(this));break}if(e.history==this.history){var n=[e.id];_r(e,(function(e){return n.push(e.id)}),!0),e.history=new Lr(null),e.history.done=Gr(this.history.done,n),e.history.undone=Gr(this.history.undone,n)}},iterLinkedDocs:function(e){_r(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ne(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:nr((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Ja(t=this.cm,(function(){Mr(t),da(t)})))}))}),No.prototype.eachLine=No.prototype.iter;var Ro=0;function Ao(e){var t=this;if(_o(t),!fe(t,e)&&!En(t.display,e)){ye(e),i&&(Ro=+new Date);var n=ca(t,e,!0),a=e.dataTransfer.files;if(n&&!t.isReadOnly())if(a&&a.length&&window.FileReader&&window.File)for(var r=a.length,o=Array(r),s=0,l=function(){++s==r&&er(t,(function(){var e={from:n=st(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};co(t.doc,e),Qr(t.doc,kr(st(t.doc,n),st(t.doc,Or(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==$(t.options.allowDropFileTypes,e.type))l();else{var a=new FileReader;a.onerror=function(){return l()},a.onload=function(){var e=a.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},a.readAsText(e)}},u=0;u<a.length;u++)c(a[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var m;if(t.state.draggingText&&!t.state.draggingText.copy&&(m=t.listSelections()),eo(t.doc,kr(n,n)),m)for(var p=0;p<m.length;++p)fo(t.doc,"",m[p].anchor,m[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _o(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Fo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],a=0;a<t.length;a++){var r=t[a].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Mo=!1;function Lo(){var e;Mo||(de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Fo(Po)}),100))})),de(window,"blur",(function(){return Fo(ka)})),Mo=!0)}function Po(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Bo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},$o=0;$o<10;$o++)Bo[$o+48]=Bo[$o+96]=String($o);for(var zo=65;zo<=90;zo++)Bo[zo]=String.fromCharCode(zo);for(var Vo=1;Vo<=12;Vo++)Bo[Vo+111]=Bo[Vo+63235]="F"+Vo;var Ho={};function qo(e){var t,n,a,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var i=0;i<o.length-1;i++){var s=o[i];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);a=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function Uo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==a){delete e[n];continue}for(var r=K(n.split(" "),qo),o=0;o<r.length;o++){var i=void 0,s=void 0;o==r.length-1?(s=r.join(" "),i=a):(s=r.slice(0,o+1).join(" "),i="...");var l=t[s];if(l){if(l!=i)throw new Error("Inconsistent bindings for "+s)}else t[s]=i}delete e[n]}for(var c in t)e[c]=t[c];return e}function Go(e,t,n,a){var r=(t=Zo(t)).call?t.call(e,a):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Go(e,t.fallthrough,n,a);for(var o=0;o<t.fallthrough.length;o++){var i=Go(e,t.fallthrough[o],n,a);if(i)return i}}}function Wo(e){var t="string"==typeof e?e:Bo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Yo(e,t,n){var a=e;return t.altKey&&"Alt"!=a&&(e="Alt-"+e),(E?t.metaKey:t.ctrlKey)&&"Ctrl"!=a&&(e="Ctrl-"+e),(E?t.ctrlKey:t.metaKey)&&"Mod"!=a&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=a&&(e="Shift-"+e),e}function Ko(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Bo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Yo(n,e,t))}function Zo(e){return"string"==typeof e?Ho[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,a=[],r=0;r<n.length;r++){for(var o=t(n[r]);a.length&&tt(o.from,Y(a).to)<=0;){var i=a.pop();if(tt(i.from,o.from)<0){o.from=i.from;break}}a.push(o)}Ja(e,(function(){for(var t=a.length-1;t>=0;t--)fo(e.doc,"",a[t].from,a[t].to,"+delete");Na(e)}))}function Qo(e,t,n){var a=re(e.text,t+n,n);return a<0||a>e.text.length?null:a}function Jo(e,t,n){var a=Qo(e,t.ch,n);return null==a?null:new et(t.line,a,n<0?"after":"before")}function ei(e,t,n,a,r){if(e){"rtl"==t.doc.direction&&(r=-r);var o=ce(n,t.doc.direction);if(o){var i,s=r<0?Y(o):o[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Rn(t,n);i=r<0?n.text.length-1:0;var u=An(t,c,i).top;i=oe((function(e){return An(t,c,e).top==u}),r<0==(1==s.level)?s.from:s.to-1,i),"before"==l&&(i=Qo(n,i,1))}else i=r<0?s.to:s.from;return new et(a,i,l)}}return new et(a,r<0?n.text.length:0,r<0?"before":"after")}Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=v?Ho.macDefault:Ho.pcDefault;var ti={selectAll:so,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Xo(e,(function(t){if(t.empty()){var n=Ge(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xo(e,(function(t){return{from:et(t.from().line,0),to:st(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Xo(e,(function(e){return{from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,a=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:a}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ni(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ai(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=Ge(e.doc,t),a=function(e){for(var t;t=Ft(e);)e=t.find(1,!0).line;return e}(n);return a!=n&&(t=Ze(a)),ei(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,a=e.coordsChar({left:0,top:n},"div");return a.ch<e.getLine(a.line).search(/\S/)?ai(e,t.head):a}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),a=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),i=P(e.getLine(o.line),o.ch,a);t.push(W(a-i%a))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ja(e,(function(){for(var t=e.listSelections(),n=[],a=0;a<t.length;a++)if(t[a].empty()){var r=t[a].head,o=Ge(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new et(r.line,r.ch-1)),r.ch>0)r=new et(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),et(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var i=Ge(e.doc,r.line-1).text;i&&(r=new et(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+i.charAt(i.length-1),et(r.line-1,i.length-1),r,"+transpose"))}n.push(new Sr(r,r))}e.setSelections(n)}))},newlineAndIndent:function(e){return Ja(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var a=0;a<t.length;a++)e.indentLine(t[a].from().line,null,!0);Na(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ni(e,t){var n=Ge(e.doc,t),a=Pt(n);return a!=n&&(t=Ze(a)),ei(!0,e,a,t,1)}function ai(e,t){var n=ni(e,t.line),a=Ge(e.doc,n.line),r=ce(a,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,a.text.search(/\S/)),i=t.line==n.line&&t.ch<=o&&t.ch;return et(n.line,i?0:o,n.sticky)}return n}function ri(e,t,n){if("string"==typeof t&&!(t=ti[t]))return!1;e.display.input.ensurePolled();var a=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=z}finally{e.display.shift=a,e.state.suppressEdits=!1}return r}var oi=new B;function ii(e,t,n,a){var r=e.state.keySeq;if(r){if(Wo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:oi.set(50,(function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())})),si(e,r+" "+t,n,a))return!0}return si(e,t,n,a)}function si(e,t,n,a){var r=function(e,t,n){for(var a=0;a<e.state.keyMaps.length;a++){var r=Go(t,e.state.keyMaps[a],n,e);if(r)return r}return e.options.extraKeys&&Go(t,e.options.extraKeys,n,e)||Go(t,e.options.keyMap,n,e)}(e,t,a);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&ln(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(ye(n),wa(e)),!!r}function li(e,t){var n=Ko(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ii(e,"Shift-"+n,t,(function(t){return ri(e,t,!0)}))||ii(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ri(e,t)})):ii(e,n,t,(function(t){return ri(e,t)})))}var ci=null;function ui(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=R(),fe(t,e)))){i&&s<11&&27==e.keyCode&&(e.returnValue=!1);var a=e.keyCode;t.display.shift=16==a||e.shiftKey;var r=li(t,e);d&&(ci=r?a:null,r||88!=a||Ae||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!v&&!r&&46==a&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=a||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(O(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n))}A(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n)}(t)}}function di(e){16==e.keyCode&&(this.doc.sel.shift=!1),fe(this,e)}function mi(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||En(t.display,e)||fe(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,a=e.charCode;if(d&&n==ci)return ci=null,void ye(e);if(!d||e.which&&!(e.which<10)||!li(t,e)){var r=String.fromCharCode(null==a?n:a);"\b"!=r&&(function(e,t,n){return ii(e,"'"+n+"'",t,(function(t){return ri(e,t,!0)}))}(t,e,r)||t.display.input.onKeyPress(e))}}}var pi,hi,fi=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gi(e){var t=this,n=t.display;if(!(fe(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,En(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!yi(t,e)){var a=ca(t,e),r=Ce(e),o=a?function(e,t){var n=+new Date;return hi&&hi.compare(n,e,t)?(pi=hi=null,"triple"):pi&&pi.compare(n,e,t)?(hi=new fi(n,e,t),pi=null,"double"):(pi=new fi(n,e,t),hi=null,"single")}(a,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),a&&function(e,t,n,a,r){var o="Click";return"double"==a?o="Double"+o:"triple"==a&&(o="Triple"+o),ii(e,Yo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,(function(t){if("string"==typeof t&&(t=ti[t]),!t)return!1;var a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a=t(e,n)!=z}finally{e.state.suppressEdits=!1}return a}))}(t,r,a,o,e)||(1==r?a?function(e,t,n,a){i?setTimeout(M(Ea,e),0):e.curOp.focus=R();var r,o=function(e,t,n){var a=e.getOption("configureMouse"),r=a?a(e,t,n):{};if(null==r.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=v?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(v?n.altKey:n.ctrlKey)),r}(e,n,a),c=e.doc.sel;e.options.dragDrop&&De&&!e.isReadOnly()&&"single"==n&&(r=c.contains(t))>-1&&(tt((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(tt(r.to(),t)>0||t.xRel<0)?function(e,t,n,a){var r=e.display,o=!1,c=er(e,(function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,pe(r.wrapper.ownerDocument,"mouseup",c),pe(r.wrapper.ownerDocument,"mousemove",u),pe(r.scroller,"dragstart",d),pe(r.scroller,"drop",c),o||(ye(t),a.addNew||Yr(e.doc,n,null,null,a.extend),l&&!m||i&&9==s?setTimeout((function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()}),20):r.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!a.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),de(r.wrapper.ownerDocument,"mouseup",c),de(r.wrapper.ownerDocument,"mousemove",u),de(r.scroller,"dragstart",d),de(r.scroller,"drop",c),Sa(e),setTimeout((function(){return r.input.focus()}),20)}(e,a,t,o):function(e,t,n,a){var r=e.display,o=e.doc;ye(t);var i,s,l=o.sel,c=l.ranges;if(a.addNew&&!a.extend?(s=o.sel.contains(n),i=s>-1?c[s]:new Sr(n,n)):(i=o.sel.primary(),s=o.sel.primIndex),"rectangle"==a.unit)a.addNew||(i=new Sr(n,n)),n=ca(e,t,!0,!0),s=-1;else{var u=bi(e,n,a.unit);i=a.extend?Wr(i,u.anchor,u.head,a.extend):u}a.addNew?-1==s?(s=c.length,Jr(o,Cr(e,c.concat([i]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==a.unit&&!a.extend?(Jr(o,Cr(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Zr(o,s,i,H):(s=0,Jr(o,new Er([i],0),H),l=o.sel);var d=n;function m(t){if(0!=tt(d,t))if(d=t,"rectangle"==a.unit){for(var r=[],c=e.options.tabSize,u=P(Ge(o,n.line).text,n.ch,c),m=P(Ge(o,t.line).text,t.ch,c),p=Math.min(u,m),h=Math.max(u,m),f=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));f<=g;f++){var b=Ge(o,f).text,v=U(b,p,c);p==h?r.push(new Sr(et(f,v),et(f,v))):b.length>v&&r.push(new Sr(et(f,v),et(f,U(b,h,c))))}r.length||r.push(new Sr(n,n)),Jr(o,Cr(e,l.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,x=i,w=bi(e,t,a.unit),E=x.anchor;tt(w.anchor,E)>0?(y=w.head,E=ot(x.from(),w.anchor)):(y=w.anchor,E=rt(x.to(),w.head));var S=l.ranges.slice(0);S[s]=function(e,t){var n=t.anchor,a=t.head,r=Ge(e.doc,n.line);if(0==tt(n,a)&&n.sticky==a.sticky)return t;var o=ce(r);if(!o)return t;var i=se(o,n.ch,n.sticky),s=o[i];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=i+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(a.line!=n.line)l=(a.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=se(o,a.ch,a.sticky),d=u-i||(a.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var m=o[c+(l?-1:0)],p=l==(1==m.level),h=p?m.from:m.to,f=p?"after":"before";return n.ch==h&&n.sticky==f?t:new Sr(new et(n.line,h,f),a)}(e,new Sr(st(o,E),y)),Jr(o,Cr(e,S,s),H)}}var p=r.wrapper.getBoundingClientRect(),h=0;function f(t){e.state.selectingText=!1,h=1/0,t&&(ye(t),r.input.focus()),pe(r.wrapper.ownerDocument,"mousemove",g),pe(r.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var g=er(e,(function(t){0!==t.buttons&&Ce(t)?function t(n){var i=++h,s=ca(e,n,!0,"rectangle"==a.unit);if(s)if(0!=tt(s,d)){e.curOp.focus=R(),m(s);var l=Ta(r,o);(s.line>=l.to||s.line<l.from)&&setTimeout(er(e,(function(){h==i&&t(n)})),150)}else{var c=n.clientY<p.top?-20:n.clientY>p.bottom?20:0;c&&setTimeout(er(e,(function(){h==i&&(r.scroller.scrollTop+=c,t(n))})),50)}}(t):f(t)})),b=er(e,f);e.state.selectingText=b,de(r.wrapper.ownerDocument,"mousemove",g),de(r.wrapper.ownerDocument,"mouseup",b)}(e,a,t,o)}(t,a,o,e):Se(e)==n.scroller&&ye(e):2==r?(a&&Yr(t.doc,a),setTimeout((function(){return n.input.focus()}),20)):3==r&&(S?t.display.input.onContextMenu(e):Sa(t)))}}function bi(e,t,n){if("char"==n)return new Sr(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Sr(et(t.line,0),st(e.doc,et(t.line+1,0)));var a=n(e,t);return new Sr(a.from,a.to)}function vi(e,t,n,a){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(e){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;a&&ye(t);var i=e.display,s=i.lineDiv.getBoundingClientRect();if(o>s.bottom||!be(e,n))return we(t);o-=s.top-i.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=i.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return he(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[l].className,t),we(t)}}function yi(e,t){return vi(e,t,"gutterClick",!0)}function xi(e,t){En(e.display,t)||function(e,t){return!!be(e,"gutterContextMenu")&&vi(e,t,"gutterContextMenu",!1)}(e,t)||fe(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function wi(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$n(e)}fi.prototype.compare=function(e,t,n){return this.time+400>e&&0==tt(t,this.pos)&&n==this.button};var Ei={toString:function(){return"CodeMirror.Init"}},Si={},Ci={};function ki(e,t,n){if(!t!=!(n&&n!=Ei)){var a=e.display.dragFunctions,r=t?de:pe;r(e.display.scroller,"dragstart",a.start),r(e.display.scroller,"dragenter",a.enter),r(e.display.scroller,"dragover",a.over),r(e.display.scroller,"dragleave",a.leave),r(e.display.scroller,"drop",a.drop)}}function Oi(e){e.options.lineWrapping?(A(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(O(e.display.wrapper,"CodeMirror-wrap"),Ut(e)),la(e),da(e),$n(e),setTimeout((function(){return za(e)}),100)}function Di(e,t){var n=this;if(!(this instanceof Di))return new Di(e,t);this.options=t=t?L(t):{},L(Si,t,!1);var a=t.value;"string"==typeof a?a=new No(a,t.mode,null,t.lineSeparator,t.direction):t.mode&&(a.modeOption=t.mode),this.doc=a;var r=new Di.inputStyles[t.inputStyle](this),o=this.display=new gr(e,a,r,t);for(var c in o.wrapper.CodeMirror=this,wi(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),qa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),i&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",er(e,gi)),de(t.scroller,"dblclick",i&&s<11?er(e,(function(t){if(!fe(e,t)){var n=ca(e,t);if(n&&!yi(e,t)&&!En(e.display,t)){ye(t);var a=e.findWordAt(n);Yr(e.doc,a.anchor,a.head)}}})):function(t){return fe(e,t)||ye(t)}),de(t.scroller,"contextmenu",(function(t){return xi(e,t)})),de(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||xi(e,n)}));var n,a={end:0};function r(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(a=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,a=t.top-e.top;return n*n+a*a>400}de(t.scroller,"touchstart",(function(r){if(!fe(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!yi(e,r)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-a.end<=300?a:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(n){var a=t.activeTouch;if(a&&!En(t,n)&&null!=a.left&&!a.moved&&new Date-a.start<300){var i,s=e.coordsChar(t.activeTouch,"page");i=!a.prev||o(a,a.prev)?new Sr(s,s):!a.prev.prev||o(a,a.prev.prev)?e.findWordAt(s):new Sr(et(s.line,0),st(e.doc,et(s.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),ye(n)}r()})),de(t.scroller,"touchcancel",r),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Fa(e,t.scroller.scrollTop),La(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return wr(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return wr(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){fe(e,t)||Ee(t)},over:function(t){fe(e,t)||(function(e,t){var n=ca(e,t);if(n){var a=document.createDocumentFragment();va(e,n,a),e.display.dragCursor||(e.display.dragCursor=j("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,a)}}(e,t),Ee(t))},start:function(t){return function(e,t){if(i&&(!e.state.draggingText||+new Date-Ro<100))Ee(t);else if(!fe(e,t)&&!En(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!m)){var n=j("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(e,t)},drop:er(e,Ao),leave:function(t){fe(e,t)||_o(e)}};var l=t.input.getField();de(l,"keyup",(function(t){return di.call(e,t)})),de(l,"keydown",er(e,ui)),de(l,"keypress",er(e,mi)),de(l,"focus",(function(t){return Ca(e,t)})),de(l,"blur",(function(t){return ka(e,t)}))}(this),Lo(),Ga(this),this.curOp.forceUpdate=!0,Fr(this,a),t.autofocus&&!b||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Ca(n)}),20):ka(this),Ci)Ci.hasOwnProperty(c)&&Ci[c](this,t[c],Ei);mr(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ti.length;++u)Ti[u](this);Wa(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Di.defaults=Si,Di.optionHandlers=Ci;var Ti=[];function ji(e,t,n,a){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=pt(e,t).state:n="prev");var i=e.options.tabSize,s=Ge(o,t),l=P(s.text,null,i);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(a||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==z||c>150)){if(!a)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?P(Ge(o,t-1).text,null,i):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",m=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/i);p;--p)m+=i,d+="\t";if(m<c&&(d+=W(c-m)),d!=u)return fo(o,d,et(t,0),et(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var f=o.sel.ranges[h];if(f.head.line==t&&f.head.ch<u.length){var g=et(t,u.length);Zr(o,h,new Sr(g,g));break}}}Di.defineInitHook=function(e){return Ti.push(e)};var Ii=null;function Ni(e){Ii=e}function Ri(e,t,n,a,r){var o=e.doc;e.display.shift=!1,a||(a=o.sel);var i=+new Date-200,s="paste"==r||e.state.pasteIncoming>i,l=Ne(t),c=null;if(s&&a.ranges.length>1)if(Ii&&Ii.text.join("\n")==t){if(a.ranges.length%Ii.text.length==0){c=[];for(var u=0;u<Ii.text.length;u++)c.push(o.splitLines(Ii.text[u]))}}else l.length==a.ranges.length&&e.options.pasteLinesPerSelection&&(c=K(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,m=a.ranges.length-1;m>=0;m--){var p=a.ranges[m],h=p.from(),f=p.to();p.empty()&&(n&&n>0?h=et(h.line,h.ch-n):e.state.overwrite&&!s?f=et(f.line,Math.min(Ge(o,f.line).text.length,f.ch+Y(l).length)):s&&Ii&&Ii.lineWise&&Ii.text.join("\n")==l.join("\n")&&(h=f=et(h.line,0)));var g={from:h,to:f,text:c?c[m%c.length]:l,origin:r||(s?"paste":e.state.cutIncoming>i?"cut":"+input")};co(e.doc,g),ln(e,"inputRead",e,g)}t&&!s&&_i(e,t),Na(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ai(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ja(t,(function(){return Ri(t,n,0,null,"paste")})),!0}function _i(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,a=n.ranges.length-1;a>=0;a--){var r=n.ranges[a];if(!(r.head.ch>100||a&&n.ranges[a-1].head.line==r.head.line)){var o=e.getModeAt(r.head),i=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){i=ji(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ge(e.doc,r.head.line).text.slice(0,r.head.ch))&&(i=ji(e,r.head.line,"smart"));i&&ln(e,"electricInput",e,r.head.line)}}}function Fi(e){for(var t=[],n=[],a=0;a<e.doc.sel.ranges.length;a++){var r=e.doc.sel.ranges[a].head.line,o={anchor:et(r,0),head:et(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Mi(e,t,n,a){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",a?"":"off"),e.setAttribute("spellcheck",!!t)}function Li(){var e=j("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=j("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),f&&(e.style.border="1px solid black"),Mi(e),t}function Pi(e,t,n,a,r){var o=t,i=n,s=Ge(e,t.line),l=r&&"rtl"==e.direction?-n:n;function c(o){var i,c;if("codepoint"==a){var u=s.text.charCodeAt(t.ch+(a>0?0:-1));i=isNaN(u)?null:new et(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(u>=55296&&u<56320?2:1))),-n)}else i=r?function(e,t,n,a){var r=ce(t,e.doc.direction);if(!r)return Jo(t,n,a);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=se(r,n.ch,n.sticky),i=r[o];if("ltr"==e.doc.direction&&i.level%2==0&&(a>0?i.to>n.ch:i.from<n.ch))return Jo(t,n,a);var s,l=function(e,n){return Qo(t,e instanceof et?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Rn(e,t),Qn(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==i.level){var d=1==i.level==a<0,m=l(n,d?1:-1);if(null!=m&&(d?m<=i.to&&m<=u.end:m>=i.from&&m>=u.begin)){var p=d?"before":"after";return new et(n.line,m,p)}}var h=function(e,t,a){for(var o=function(e,t){return t?new et(n.line,l(e,1),"before"):new et(n.line,e,"after")};e>=0&&e<r.length;e+=t){var i=r[e],s=t>0==(1!=i.level),c=s?a.begin:l(a.end,-1);if(i.from<=c&&c<i.to)return o(c,s);if(c=s?i.from:l(i.to,-1),a.begin<=c&&c<a.end)return o(c,s)}},f=h(o+a,a,u);if(f)return f;var g=a>0?u.end:l(u.begin,-1);return null==g||a>0&&g==t.text.length||!(f=h(a>0?0:r.length-1,a,c(g)))?null:f}(e.cm,s,t,n):Jo(s,t,n);if(null==i){if(o||(c=t.line+l)<e.first||c>=e.first+e.size||(t=new et(c,t.ch,t.sticky),!(s=Ge(e,c))))return!1;t=ei(r,e.cm,s,t.line,l)}else t=i;return!0}if("char"==a||"codepoint"==a)c();else if("column"==a)c(!0);else if("word"==a||"group"==a)for(var u=null,d="group"==a,m=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||c(!p);p=!1){var h=s.text.charAt(t.ch)||"\n",f=ee(h,m)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||p||f||(f="s"),u&&u!=f){n<0&&(n=1,c(),t.sticky="after");break}if(f&&(u=f),n>0&&!c(!p))break}var g=oo(e,t,o,i,!0);return nt(o,g)&&(g.hitSide=!0),g}function Bi(e,t,n,a){var r,o,i=e.doc,s=t.left;if("page"==a){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*aa(e.display),3);r=(n>0?t.bottom:t.top)+n*c}else"line"==a&&(r=n>0?t.bottom+3:t.top-3);for(;(o=Zn(e,s,r)).outside;){if(n<0?r<=0:r>=i.height){o.hitSide=!0;break}r+=5*n}return o}var $i=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function zi(e,t){var n=Nn(e,t.line);if(!n||n.hidden)return null;var a=Ge(e.doc,t.line),r=jn(n,a,t.line),o=ce(a,e.doc.direction),i="left";o&&(i=se(o,t.ch)%2?"right":"left");var s=Mn(r.map,t.ch,i);return s.offset="right"==s.collapse?s.end:s.start,s}function Vi(e,t){return t&&(e.bad=!0),e}function Hi(e,t,n){var a;if(t==e.display.lineDiv){if(!(a=e.display.lineDiv.childNodes[n]))return Vi(e.clipPos(et(e.display.viewTo-1)),!0);t=null,n=0}else for(a=t;;a=a.parentNode){if(!a||a==e.display.lineDiv)return null;if(a.parentNode&&a.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==a)return qi(o,t,n)}}function qi(e,t,n){var a=e.text.firstChild,r=!1;if(!t||!N(a,t))return Vi(et(Ze(e.line),0),!0);if(t==a&&(r=!0,t=a.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return Vi(et(Ze(o),o.text.length),r)}var i=3==t.nodeType?t:null,s=t;for(i||1!=t.childNodes.length||3!=t.firstChild.nodeType||(i=t.firstChild,n&&(n=i.nodeValue.length));s.parentNode!=a;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,a){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],i=0;i<o.length;i+=3){var s=o[i+2];if(s==t||s==n){var u=Ze(r<0?e.line:e.rest[r]),d=o[i]+a;return(a<0||s!=t)&&(d=o[i+(a?1:0)]),et(u,d)}}}var d=u(i,s,n);if(d)return Vi(d,r);for(var m=s.nextSibling,p=i?i.nodeValue.length-n:0;m;m=m.nextSibling){if(d=u(m,m.firstChild,0))return Vi(et(d.line,d.ch-p),r);p+=m.textContent.length}for(var h=s.previousSibling,f=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1))return Vi(et(d.line,d.ch+f),r);f+=h.textContent.length}}$i.prototype.init=function(e){var t=this,n=this,a=n.cm,r=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function i(e){if(o(e)&&!fe(a,e)){if(a.somethingSelected())Ni({lineWise:!1,text:a.getSelections()}),"cut"==e.type&&a.replaceSelection("",null,"cut");else{if(!a.options.lineWiseCopyCut)return;var t=Fi(a);Ni({lineWise:!0,text:t.text}),"cut"==e.type&&a.operation((function(){a.setSelections(t.ranges,0,V),a.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var i=Ii.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var s=Li(),l=s.firstChild;a.display.lineSpace.insertBefore(s,a.display.lineSpace.firstChild),l.value=Ii.text.join("\n");var c=document.activeElement;F(l),setTimeout((function(){a.display.lineSpace.removeChild(s),c.focus(),c==r&&n.showPrimarySelection()}),50)}}Mi(r,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize),de(r,"paste",(function(e){!o(e)||fe(a,e)||Ai(e,a)||s<=11&&setTimeout(er(a,(function(){return t.updateFromDOM()})),20)})),de(r,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(r,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(r,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(r,"touchstart",(function(){return n.forceCompositionEnd()})),de(r,"input",(function(){t.composing||t.readFromDOMSoon()})),de(r,"copy",i),de(r,"cut",i)},$i.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},$i.prototype.prepareSelection=function(){var e=ba(this.cm,!1);return e.focus=document.activeElement==this.div,e},$i.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},$i.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$i.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,a=t.doc.sel.primary(),r=a.from(),o=a.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var i=Hi(t,e.anchorNode,e.anchorOffset),s=Hi(t,e.focusNode,e.focusOffset);if(!i||i.bad||!s||s.bad||0!=tt(ot(i,s),r)||0!=tt(rt(i,s),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&zi(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&zi(t,o);if(!u){var d=l[l.length-1].measure,m=d.maps?d.maps[d.maps.length-1]:d.map;u={node:m[m.length-1],offset:m[m.length-2]-m[m.length-3]}}if(c&&u){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=k(c.node,c.offset,u.offset,u.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},$i.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},$i.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},$i.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},$i.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},$i.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},$i.prototype.blur=function(){this.div.blur()},$i.prototype.getField=function(){return this.div},$i.prototype.supportsTouch=function(){return!0},$i.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Ja(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},$i.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},$i.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Hi(t,e.anchorNode,e.anchorOffset),a=Hi(t,e.focusNode,e.focusOffset);n&&a&&Ja(t,(function(){Jr(t.doc,kr(n,a),V),(n.bad||a.bad)&&(t.curOp.selectionChanged=!0)}))}}},$i.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,a=this.cm,r=a.display,o=a.doc.sel.primary(),i=o.from(),s=o.to();if(0==i.ch&&i.line>a.firstLine()&&(i=et(i.line-1,Ge(a.doc,i.line-1).length)),s.ch==Ge(a.doc,s.line).text.length&&s.line<a.lastLine()&&(s=et(s.line+1,0)),i.line<r.viewFrom||s.line>r.viewTo-1)return!1;i.line==r.viewFrom||0==(e=ua(a,i.line))?(t=Ze(r.view[0].line),n=r.view[0].node):(t=Ze(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,c,u=ua(a,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Ze(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var d=a.doc.splitLines(function(e,t,n,a,r){var o="",i=!1,s=e.doc.lineSeparator(),l=!1;function c(){i&&(o+=s,l&&(o+=s),i=l=!1)}function u(e){e&&(c(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,m=t.getAttribute("cm-marker");if(m){var p=e.findMarks(et(a,0),et(r+1,0),(g=+m,function(e){return e.id==g}));return void(p.length&&(o=p[0].find(0))&&u(We(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&c();for(var f=0;f<t.childNodes.length;f++)d(t.childNodes[f]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(i=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return o}(a,n,c,t,l)),m=We(a.doc,et(t,0),et(l,Ge(a.doc,l).text.length));d.length>1&&m.length>1;)if(Y(d)==Y(m))d.pop(),m.pop(),l--;else{if(d[0]!=m[0])break;d.shift(),m.shift(),t++}for(var p=0,h=0,f=d[0],g=m[0],b=Math.min(f.length,g.length);p<b&&f.charCodeAt(p)==g.charCodeAt(p);)++p;for(var v=Y(d),y=Y(m),x=Math.min(v.length-(1==d.length?p:0),y.length-(1==m.length?p:0));h<x&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)++h;if(1==d.length&&1==m.length&&t==i.line)for(;p&&p>i.ch&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)p--,h++;d[d.length-1]=v.slice(0,v.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=et(t,p),E=et(l,m.length?Y(m).length-h:0);return d.length>1||d[0]||tt(w,E)?(fo(a.doc,d,w,E,"+input"),!0):void 0},$i.prototype.ensurePolled=function(){this.forceCompositionEnd()},$i.prototype.reset=function(){this.forceCompositionEnd()},$i.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$i.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},$i.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ja(this.cm,(function(){return da(e.cm)}))},$i.prototype.setUneditable=function(e){e.contentEditable="false"},$i.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||er(this.cm,Ri)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},$i.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},$i.prototype.onContextMenu=function(){},$i.prototype.resetPosition=function(){},$i.prototype.needsContentAttribute=!0;var Ui=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};Ui.prototype.init=function(e){var t=this,n=this,a=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!fe(a,e)){if(a.somethingSelected())Ni({lineWise:!1,text:a.getSelections()});else{if(!a.options.lineWiseCopyCut)return;var t=Fi(a);Ni({lineWise:!0,text:t.text}),"cut"==e.type?a.setSelections(t.ranges,null,V):(n.prevInput="",r.value=t.text.join("\n"),F(r))}"cut"==e.type&&(a.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),f&&(r.style.width="0px"),de(r,"input",(function(){i&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),de(r,"paste",(function(e){fe(a,e)||Ai(e,a)||(a.state.pasteIncoming=+new Date,n.fastPoll())})),de(r,"cut",o),de(r,"copy",o),de(e.scroller,"paste",(function(t){if(!En(e,t)&&!fe(a,t)){if(!r.dispatchEvent)return a.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}})),de(e.lineSpace,"selectstart",(function(t){En(e,t)||ye(t)})),de(r,"compositionstart",(function(){var e=a.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:a.markText(e,a.getCursor("to"),{className:"CodeMirror-composing"})}})),de(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Ui.prototype.createField=function(e){this.wrapper=Li(),this.textarea=this.wrapper.firstChild},Ui.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Ui.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,a=ba(e);if(e.options.moveInputWithCursor){var r=Wn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),i=t.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+i.top-o.top)),a.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+i.left-o.left))}return a},Ui.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ui.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&F(this.textarea),i&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",i&&s>=9&&(this.hasSelection=null))}},Ui.prototype.getField=function(){return this.textarea},Ui.prototype.supportsTouch=function(){return!1},Ui.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||R()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ui.prototype.blur=function(){this.textarea.blur()},Ui.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ui.prototype.receivedFocus=function(){this.slowPoll()},Ui.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Ui.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Ui.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,a=this.prevInput;if(this.contextMenuPending||!t.state.focused||Re(n)&&!a&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==a&&!t.somethingSelected())return!1;if(i&&s>=9&&this.hasSelection===r||v&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||a||(a="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(a.length,r.length);l<c&&a.charCodeAt(l)==r.charCodeAt(l);)++l;return Ja(t,(function(){Ri(t,r.slice(l),a.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Ui.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ui.prototype.onKeyPress=function(){i&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ui.prototype.onContextMenu=function(e){var t=this,n=t.cm,a=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=ca(n,e),c=a.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&er(n,Jr)(n.doc,kr(o),V);var u,m=r.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),a.input.focus(),l&&window.scrollTo(null,u),a.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=b,a.selForContextMenu=n.doc.sel,clearTimeout(a.detectingSelectAll),i&&s>=9&&g(),S){Ee(e);var f=function(){pe(window,"mouseup",f),setTimeout(b,20)};de(window,"mouseup",f)}else setTimeout(b,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,a.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,r.style.cssText=m,i&&s<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=c),null!=r.selectionStart)){(!i||i&&s<9)&&g();var e=0,o=function(){a.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?er(n,so)(n):e++<10?a.detectingSelectAll=setTimeout(o,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(o,200)}}},Ui.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Ui.prototype.setUneditable=function(){},Ui.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,a,r,o){e.defaults[n]=a,r&&(t[n]=o?function(e,t,n){n!=Ei&&r(e,t,n)}:r)}e.defineOption=n,e.Init=Ei,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Ir(e)}),!0),n("indentUnit",2,Ir,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Nr(e),$n(e),da(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],a=e.doc.first;e.doc.iter((function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(et(a,o))}a++}));for(var r=n.length-1;r>=0;r--)fo(e.doc,t,n[r],et(n[r].line,n[r].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ei&&e.refresh()})),n("specialCharPlaceholder",Qt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){wi(e),fr(e)}),!0),n("keyMap","default",(function(e,t,n){var a=Zo(t),r=n!=Ei&&Zo(n);r&&r.detach&&r.detach(e,a),a.attach&&a.attach(e,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Oi,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=pr(t,e.options.lineNumbers),fr(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?ia(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return za(e)}),!0),n("scrollbarStyle","native",(function(e){qa(e),za(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=pr(e.options.gutters,t),fr(e)}),!0),n("firstLineNumber",1,fr,!0),n("lineNumberFormatter",(function(e){return e}),fr,!0),n("showCursorWhenSelecting",!1,ga,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(ka(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,ki),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ga,!0),n("singleCursorHeightPerLine",!0,ga,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Nr,!0),n("addModeClass",!1,Nr,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Nr,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Di),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var a=this.options,r=a[e];a[e]==n&&"mode"!=e||(a[e]=n,t.hasOwnProperty(e)&&er(this,t[e])(this,n,r),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:tr((function(t,n){var a=t.token?t:e.getMode(this.options,t);if(a.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var a=0,r=n(t);a<e.length&&n(e[a])<=r;)a++;e.splice(a,0,t)}(this.state.overlays,{mode:a,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,da(this)})),removeOverlay:tr((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var a=t[n].modeSpec;if(a==e||"string"==typeof e&&a.name==e)return t.splice(n,1),this.state.modeGen++,void da(this)}})),indentLine:tr((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Qe(this.doc,e)&&ji(this,e,t,n)})),indentSelection:tr((function(e){for(var t=this.doc.sel.ranges,n=-1,a=0;a<t.length;a++){var r=t[a];if(r.empty())r.head.line>n&&(ji(this,r.head.line,e,!0),n=r.head.line,a==this.doc.sel.primIndex&&Na(this));else{var o=r.from(),i=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1;for(var l=s;l<n;++l)ji(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[a].from().ch>0&&Zr(this.doc,a,new Sr(o,c[a].to()),V)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=st(this.doc,e);var t,n=mt(this,Ge(this.doc,e.line)),a=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var i=a+r>>1;if((i?n[2*i-1]:0)>=o)r=i;else{if(!(n[2*i+1]<o)){t=n[2*i+2];break}a=i+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var a=[];if(!n.hasOwnProperty(t))return a;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&a.push(r[o[t]]);else if(o[t])for(var i=0;i<o[t].length;i++){var s=r[o[t][i]];s&&a.push(s)}else o.helperType&&r[o.helperType]?a.push(r[o.helperType]):r[o.name]&&a.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==$(a,c.val)&&a.push(c.val)}return a},getStateAfter:function(e,t){var n=this.doc;return pt(this,(e=it(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Wn(this,null==e?n.head:"object"==typeof e?st(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Gn(this,st(this.doc,e),t||"page")},coordsChar:function(e,t){return Zn(this,(e=Un(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Un(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var a,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),a=Ge(this.doc,e)}else a=e;return qn(this,a,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-Ht(a):0)},defaultTextHeight:function(){return aa(this.display)},defaultCharWidth:function(){return ra(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,a,r){var o,i,s,l=this.display,c=(e=Wn(this,st(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==a)c=e.top;else if("above"==a||"near"==a){var d=Math.max(l.wrapper.clientHeight,this.doc.height),m=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==a||e.bottom+t.offsetHeight>d)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=d&&(c=e.bottom),u+t.offsetWidth>m&&(u=m-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==r?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,i={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(s=ja(o,i)).scrollTop&&Fa(o,s.scrollTop),null!=s.scrollLeft&&La(o,s.scrollLeft))},triggerOnKeyDown:tr(ui),triggerOnKeyPress:tr(mi),triggerOnKeyUp:di,triggerOnMouseDown:tr(gi),execCommand:function(e){if(ti.hasOwnProperty(e))return ti[e].call(null,this)},triggerElectric:tr((function(e){_i(this,e)})),findPosH:function(e,t,n,a){var r=1;t<0&&(r=-1,t=-t);for(var o=st(this.doc,e),i=0;i<t&&!(o=Pi(this.doc,o,r,n,a)).hitSide;++i);return o},moveH:tr((function(e,t){var n=this;this.extendSelectionsBy((function(a){return n.display.shift||n.doc.extend||a.empty()?Pi(n.doc,a.head,e,t,n.options.rtlMoveVisually):e<0?a.from():a.to()}),q)})),deleteH:tr((function(e,t){var n=this.doc.sel,a=this.doc;n.somethingSelected()?a.replaceSelection("",null,"+delete"):Xo(this,(function(n){var r=Pi(a,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(e,t,n,a){var r=1,o=a;t<0&&(r=-1,t=-t);for(var i=st(this.doc,e),s=0;s<t;++s){var l=Wn(this,i,"div");if(null==o?o=l.left:l.left=o,(i=Bi(this,l,r,n)).hitSide)break}return i},moveV:tr((function(e,t){var n=this,a=this.doc,r=[],o=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy((function(i){if(o)return e<0?i.from():i.to();var s=Wn(n,i.head,"div");null!=i.goalColumn&&(s.left=i.goalColumn),r.push(s.left);var l=Bi(n,s,e,t);return"page"==t&&i==a.sel.primary()&&Ia(n,Gn(n,l,"div").top-s.top),l}),q),r.length)for(var i=0;i<a.sel.ranges.length;i++)a.sel.ranges[i].goalColumn=r[i]})),findWordAt:function(e){var t=Ge(this.doc,e.line).text,n=e.ch,a=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&a!=t.length||!n?++a:--n;for(var o=t.charAt(n),i=ee(o,r)?function(e){return ee(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&i(t.charAt(n-1));)--n;for(;a<t.length&&i(t.charAt(a));)++a}return new Sr(et(e.line,n),et(e.line,a))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:tr((function(e,t){Ra(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-On(this)-this.display.barHeight,width:e.scrollWidth-On(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:Dn(this)}},scrollIntoView:tr((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Aa(e),e.curOp.scrollToPos=t}(this,e):_a(this,e.from,e.to,e.margin)})),setSize:tr((function(e,t){var n=this,a=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=a(e)),null!=t&&(this.display.wrapper.style.height=a(t)),this.options.lineWrapping&&Bn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ma(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return Ja(this,e)},startOperation:function(){return Ga(this)},endOperation:function(){return Wa(this)},refresh:tr((function(){var e=this.display.cachedTextHeight;da(this),this.curOp.forceUpdate=!0,$n(this),Ra(this,this.doc.scrollLeft,this.doc.scrollTop),cr(this.display),(null==e||Math.abs(e-aa(this.display))>.5||this.options.lineWrapping)&&la(this),he(this,"refresh",this)})),swapDoc:tr((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Fr(this,e),$n(this),this.display.input.reset(),Ra(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ve(e),e.registerHelper=function(t,a,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][a]=r},e.registerGlobalHelper=function(t,a,r,o){e.registerHelper(t,a,o),n[t]._global.push({pred:r,val:o})}}(Di);var Gi="iter insert remove copy getEditor constructor".split(" ");for(var Wi in No.prototype)No.prototype.hasOwnProperty(Wi)&&$(Gi,Wi)<0&&(Di.prototype[Wi]=function(e){return function(){return e.apply(this.doc,arguments)}}(No.prototype[Wi]));return ve(No),Di.inputStyles={textarea:Ui,contenteditable:$i},Di.defineMode=function(e){Di.defaults.mode||"null"==e||(Di.defaults.mode=e),Le.apply(this,arguments)},Di.defineMIME=function(e,t){Me[e]=t},Di.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Di.defineMIME("text/plain","null"),Di.defineExtension=function(e,t){Di.prototype[e]=t},Di.defineDocExtension=function(e,t){No.prototype[e]=t},Di.fromTextArea=function(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function a(){e.value=s.getValue()}var r;if(e.form&&(de(e.form,"submit",a),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var i=o.submit=function(){a(),o.submit=r,o.submit(),o.submit=i}}catch(e){}}t.finishInit=function(n){n.save=a,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,a(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",a),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var s=Di((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=de,e.wheelEventPixels=xr,e.Doc=No,e.splitLines=Ne,e.countColumn=P,e.findColumn=U,e.isWordChar=J,e.Pass=z,e.signal=he,e.Line=Gt,e.changeEnd=Or,e.scrollbarModel=Ha,e.Pos=et,e.cmpPos=tt,e.modes=Fe,e.mimeModes=Me,e.resolveMode=Pe,e.getMode=Be,e.modeExtensions=$e,e.extendMode=ze,e.copyState=Ve,e.startState=qe,e.innerMode=He,e.commands=ti,e.keyMap=Ho,e.keyName=Ko,e.isModifierKey=Wo,e.lookupKey=Go,e.normalizeKeyMap=Uo,e.StringStream=Ue,e.SharedTextMarker=Do,e.TextMarker=ko,e.LineWidget=Eo,e.e_preventDefault=ye,e.e_stopPropagation=xe,e.e_stop=Ee,e.addClass=A,e.contains=N,e.rmClass=O,e.keyNames=Bo}(Di),Di.version="5.58.2",Di}()},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t.replace(/\s\(clone\s(\d)+\)/g,"").replace(/\)/,""),a=e.filter(e=>e.includes(n)).reduce((e,t)=>{if(t.match(/\(clone(\s|\d)+\)/)){const a=t.replace(n,"").replace(/\(clone/,"").replace(/\)/,""),r=Number(a);return r>=e?r:e}return e},0);if(a){const e=a+1;return`${t.replace(/\(clone\s(\d)+\)/,"").trim()} (clone ${e})`}return`${t.trim()} (clone 1)`}},75:function(e,t,n){"use strict";var a=n(2),r=n(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return r.f?e:null}}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return C}));var a=n(2),r=n.n(a),o=n(4),i=n(86),s=n(65),l=n(316),c=n(295),u=n(115),d=n(8),m=n(42),p=n(11),h=n(33),f=n(71);const g=(e,t)=>{localStorage.setItem(e,null!=t?t:e),localStorage.removeItem(e)};var b=n(9),v=n(12),y=n(162),x=n(5);const w={generateMap:()=>[],printMap:()=>{},query:(e,t)=>Promise.resolve({}),basic:e=>{},simplify:e=>"",queryAll:()=>{},queryDependents:()=>{},getPanelQueries:(e,t)=>({id:"",scope:{vars:{}},source:"",visual:""}),status:x.RemoteDataState.NotStarted},E=r.a.createContext(w),S=(e,t)=>({orgID:"",id:e,name:e,arguments:{type:"system",values:[t]},status:x.RemoteDataState.Done,labels:[]}),C=({children:e})=>{var t,n;const{flow:w}=Object(a.useContext)(s.a),{runMode:C}=Object(a.useContext)(l.b),{setResult:k,setStatuses:O,statuses:D}=Object(a.useContext)(c.a),{query:T,basic:j}=Object(a.useContext)(u.a),I=null!==(t=Object(o.e)(b.a))&&void 0!==t?t:{id:""},[N,R]=Object(a.useState)(null===(n=null==w?void 0:w.range)||void 0===n?void 0:n.lower),A=Object(o.d)(),_=`queryAll-${null==w?void 0:w.name}`,F=Object(o.e)(e=>Object(i.k)(e));Object(a.useEffect)(()=>{var e,t;(null===(e=null==w?void 0:w.range)||void 0===e?void 0:e.lower)!==N&&((N||w.readOnly)&&V(),R(null===(t=null==w?void 0:w.range)||void 0===t?void 0:t.lower))},[w]);((e,t,n=!1)=>{Object(a.useEffect)(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t)))})("storage",e=>{e.key===_&&e.newValue===_&&H()});const M=Object(a.useMemo)(()=>{const e=[...F];if(!(null==w?void 0:w.range))return e.reduce((e,t)=>(e[t.name]=t,e),{});if(w.range.upper?isNaN(Date.parse(w.range.upper))?e.push(S(y.d,null)):e.push(S(y.d,w.range.upper)):e.push(S(y.d,"now()")),"custom"!==w.range.type){const t=Object(f.h)(Object(f.i)(w.range));e.push(S(y.c,t))}else isNaN(Date.parse(w.range.lower))?e.push(S(y.c,null)):e.push(S(y.c,w.range.lower));return e.reduce((e,t)=>(e[t.name]=t,e),{})},[F,null==w?void 0:w.range]),L=e=>{var t,n;return(null!==(n=null===(t=null==w?void 0:w.data)||void 0===t?void 0:t.allIDs)&&void 0!==n?n:[]).reduce((t,n)=>{var a,r,o;const i=w.data.byID[n];if(!i)return t;const s=t[t.length-1]||{scope:{withSideEffects:!!e,region:window.location.origin,org:I.id},source:"",visual:""},l=Object.assign(Object.assign({},s),{id:n,visual:""});return m.c[i.type]?("function"==typeof m.c[i.type].scope&&(l.scope=m.c[i.type].scope(i,(null===(a=t[t.length-1])||void 0===a?void 0:a.scope)||{})),"function"==typeof m.c[i.type].source&&(l.source=m.c[i.type].source(i,""+((null===(r=t[t.length-1])||void 0===r?void 0:r.source)||""),l.scope)),"function"==typeof m.c[i.type].visual&&(l.visual=m.c[i.type].visual(i,""+((null===(o=t[t.length-1])||void 0===o?void 0:o.source)||""),l.scope)),t.push(l),t):(t.push(l),t)},[])},P=(e,t)=>{Object(d.a)("runQuery",{context:"flows"});const n=Object.assign(Object.assign({region:window.location.origin,org:I.id},t||{}),{vars:Object.assign(Object.assign({},M),(null==t?void 0:t.vars)||{})});return T(e,n)},B=Object.values(D);let $=x.RemoteDataState.Done;B.every(e=>e===x.RemoteDataState.NotStarted)?$=x.RemoteDataState.NotStarted:B.includes(x.RemoteDataState.Error)?$=x.RemoteDataState.Error:B.includes(x.RemoteDataState.Loading)&&($=x.RemoteDataState.Loading);const z=e=>{if($===x.RemoteDataState.Loading)return;let t=L(C===l.a.Run);t.length&&(t=t.slice(t.findIndex(t=>t.id===e)),Object(d.a)("Running Notebook QueryDependents"),O(t.filter(e=>!!(null==e?void 0:e.visual)).reduce((e,t)=>(e[t.id]=x.RemoteDataState.Loading,e),{})),Promise.all(t.filter(e=>!!(null==e?void 0:e.visual)).map(e=>P(e.visual,e.scope).then(t=>{O({[e.id]:x.RemoteDataState.Done}),k(e.id,t)}).catch(t=>{k(e.id,{error:t.message}),O({[e.id]:x.RemoteDataState.Error})}))).then(()=>{Object(d.a)("run_notebook_success",{runMode:C}),A(Object(p.c)(Object(v.Fc)(C,m.d)))}).catch(e=>{throw Object(d.a)("run_notebook_fail",{runMode:C}),A(Object(p.c)(Object(v.Ec)(C,m.d))),e}))},V=()=>{g(_),H()},H=()=>{if($===x.RemoteDataState.Loading)return;const e=L(C===l.a.Run);e.length&&(Object(d.a)("Running Notebook QueryAll"),O(e.filter(e=>!!(null==e?void 0:e.visual)).reduce((e,t)=>(e[t.id]=x.RemoteDataState.Loading,e),{})),Promise.all(e.filter(e=>!!e.visual).map(e=>P(e.visual,e.scope).then(t=>{O({[e.id]:x.RemoteDataState.Done}),k(e.id,t)}).catch(t=>{O({[e.id]:x.RemoteDataState.Error}),k(e.id,{error:t.message})}))).then(()=>{Object(d.a)("run_notebook_success",{runMode:C}),A(Object(p.c)(Object(v.Fc)(C,m.d)))}).catch(e=>{throw Object(d.a)("run_notebook_fail",{runMode:C}),A(Object(p.c)(Object(v.Ec)(C,m.d))),e}))};return w?(null==w?void 0:w.range)?r.a.createElement(E.Provider,{value:{query:P,basic:(e,t)=>{const n=Object.assign(Object.assign({region:window.location.origin,org:I.id},t||{}),{vars:Object.assign(Object.assign({},M),(null==t?void 0:t.vars)||{})});return j(e,n)},simplify:e=>Object(u.e)(e,M),generateMap:L,printMap:(e,t)=>{L(t).forEach(t=>{console.log(`\n\n%cPanel: %c ${t.id}`,"font-family: sans-serif; font-size: 16px; font-weight: bold; color: #000",t.id===e?"font-weight: bold; font-size: 16px; color: #666":"font-weight: normal; font-size: 16px; color: #888"),console.log(`%c Scope: \n%c ${JSON.stringify(t.scope,null,2)}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Source Query: \n%c ${t.source}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Visualization Query: \n%c ${t.visual}\n`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888")})},queryAll:V,queryDependents:e=>{g(_),z(e)},getPanelQueries:(e,t)=>e?L(t).find(t=>t.id===e):null,status:$}},e):null:r.a.createElement(h.a,{message:"Could not find this notebook",testID:"notebook-not-found"})}},763:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(22),r=n(8),o=n(23),i=n(6);const s="#group,false,false,true,true,false,false,true,true,true,true\n#datatype,string,long,dateTime:RFC3339,dateTime:RFC3339,dateTime:RFC3339,double,string,string,string,string\n#default,_result,,,,,,,,,\n,result,table,_start,_stop,_time,_value,_field,_measurement,bucket_id,org_id\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T10:00:00Z,13352776.313888889,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T11:00:00Z,13360066.18888889,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T12:00:00Z,13011240.197222224,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T13:00:00Z,12590111.519444447,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n\n#group,false,false,true,true,false,false,true,true,true,true,true\n#datatype,string,long,dateTime:RFC3339,dateTime:RFC3339,dateTime:RFC3339,long,string,string,string,string,string\n#default,_result,,,,,,,,,,\n,result,table,_start,_stop,_time,_value,_field,_measurement,endpoint,org_id,status\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,21667,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,89576,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,5330,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,778,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,4279,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,389,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-28T23:00:00Z,31,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T00:00:00Z,34,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T01:00:00Z,30,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T02:00:00Z,15,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,278,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,1790,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,145,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,212,resp_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,1166,resp_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,90,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,3,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,4,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,event_type_limited_write,event,/api/v2/query,351438333495bd60,400";let l=null;var c;i.f&&(l=n(16).getOrgsUsage),function(e){e.NEW_USER="NEW_USER",e.DELETED_ALL_DATA="DELETED_ALL_DATA",e.NON_WRITING_USER="NON_WRITING_USER",e.ACTIVE_USER="ACTIVE_USER",e.WRITING_NOT_READING_USER="WRITING_NOT_READING_USER"}(c||(c={}));const u=async(e,t)=>{var n;let r="";if(l){const a=await l({orgID:e,query:{start:null!=t?t:"-30d"}});r=200===(null==a?void 0:a.status)?null===(n=a.data)||void 0===n?void 0:n.trim().replace(/\r\n/g,"\n"):s}else r=s;const{table:o}=Object(a.fromFlux)(r);return o},d=async e=>{var t;try{const n=await u(e);return(null!==(t=n.getColumn("_measurement"))&&void 0!==t?t:[]).reduce((e,t,a)=>"event"===t&&"event_type_limited_write"===n.getColumn("_field")[a]&&n.getColumn("_value","number")[a]>0?e+n.getColumn("_value","number")[a]:e,0)}catch(e){console.error(e)}};let m=!1;t.a=async e=>{let t=[];const n=async()=>{const n=await u(e);n&&(t=(e=>{var t;const n=[],a=null!==(t=e.getColumn("_measurement"))&&void 0!==t?t:[],o=a.find((t,n)=>"storage_usage_bucket_bytes"===a[n]&&e.getColumn("_value","number")[n]>0),i=a.find((t,n)=>"http_request"===a[n]&&["/api/v2/query","/query"].includes(e.getColumn("endpoint","string")[n])&&"req_bytes"===e.getColumn("_field")[n]&&e.getColumn("_value","number")[n]>0),s=a.find((t,n)=>"query_count"===a[n]&&e.getColumn("_value","number")[n]>0);return o||i||n.push(c.NEW_USER),!o&&i&&n.push(c.DELETED_ALL_DATA),o&&!i&&n.push(c.NON_WRITING_USER),o&&i&&!s&&n.push(c.WRITING_NOT_READING_USER),o&&i&&s&&n.push(c.ACTIVE_USER),Object(r.a)("cloud.onboarding.set_user_status_success",{context:JSON.stringify(n)}),n})(n))};try{!m&&Object(o.c)("newUsageAPI")&&(await n(),m=!0)}catch(e){console.error(e),Object(r.a)("cloud.onboarding.set_user_status_failure",{context:JSON.stringify(e)})}return{usageDataStates:t}}},766:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(86),s=n(666),l=n(113),c=n(3),u=n(652),d=n(512),m=n(162);class p extends a.PureComponent{constructor(e){super(e),this.handleSubmit=()=>{const{name:e,onCreateVariable:t,onHideOverlay:n}=this.props,{selected:a}=this.state;t({selected:a,name:e,arguments:this.activeVariable}),n()},this.handleChangeType=e=>{const{variableType:t,onTypeUpdate:n}=this.props,{isNameValid:a}=this.state,r={selected:null,hasValidArgs:!1,isNameValid:a};t!==e&&(this.setState(r),n(e))},this.handleSelectMapDefault=e=>{this.setState({selected:[e]})},this.handleChangeArgs=({args:e,isValid:t})=>{const{onQueryUpdate:n,onMapUpdate:a,onConstantUpdate:r}=this.props;switch(e.type){case"query":n(e);break;case"map":a(e);break;case"constant":r(e)}this.setState({hasValidArgs:t})},this.handleNameValidation=e=>{const{variables:t}=this.props,{error:n}=Object(d.a)(t,e);return this.setState({isNameValid:!n}),n},this.handleChangeInput=e=>{const{value:t}=e.target;this.props.onNameUpdate(t)},this.state={isNameValid:!1,hasValidArgs:!1,firstRun:!0,selected:null}}render(){const{name:e,variableType:t,onHideOverlay:n,submitButtonText:a}=this.props,{selected:o}=this.state,i=a||"Create Variable";return r.a.createElement(c.Form,{onSubmit:this.handleSubmit,testID:"variable-form--root"},r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(c.Form.ValidationElement,{label:"Name",value:e,required:!0,prevalidate:!0,validationFunc:this.handleNameValidation},t=>r.a.createElement(c.Input,{placeholder:"Give your variable a name",testID:"variable-name-input",name:"name",autoFocus:!0,value:e,onChange:this.handleChangeInput,status:t})))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Type",required:!0},r.a.createElement(c.Dropdown,{button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e},m.f.map(e=>r.a.createElement(c.Dropdown.Item,{key:e.type,id:e.type,testID:`variable-type-dropdown-${e.type}`,value:e.type,onClick:this.handleChangeType,selected:e.type===t},e.label)))})))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(u.a,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:o,args:this.activeVariable}))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(c.Form.Footer,null,r.a.createElement(c.Button,{text:"Cancel",onClick:n}),r.a.createElement(c.Button,{text:i,type:c.ButtonType.Submit,testID:"variable-form-save",color:c.ComponentColor.Success,status:this.isFormValid?c.ComponentStatus.Default:c.ComponentStatus.Disabled}))))))}get typeDropdownLabel(){const{variableType:e}=this.props;return m.f.find(t=>t.type===e).label}get isFormValid(){const{isNameValid:e}=this.state;return this.validArgs&&e}get activeVariable(){const{initialScript:e,variableType:t,query:n,map:a,constant:r}=this.props,{firstRun:o}=this.state;switch(t){case"query":{const t=n;return o&&!t.values.query.length&&(t.values.query=e||""),t}case"map":return a;case"constant":return r}return n}get validArgs(){const{variableType:e,query:t,map:n,constant:a}=this.props;switch(e){case"query":return!!t.values.query;case"constant":return 0!==a.values.length;case"map":return 0!==Object.keys(n.values).length;default:return!1}}}class h extends a.PureComponent{constructor(){super(...arguments),this.handleHideOverlay=()=>{const{onHideOverlay:e,onEditorClose:t}=this.props;t(),e()}}render(){const e=Object.assign(Object.assign({},this.props),{onHideOverlay:this.handleHideOverlay});return r.a.createElement(p,Object.assign({},e))}}const f={onNameUpdate:s.t,onTypeUpdate:s.v,onQueryUpdate:s.u,onMapUpdate:s.s,onConstantUpdate:s.r,onEditorClose:s.l,onCreateVariable:l.c},g=Object(o.c)(e=>({variables:Object(i.k)(e),name:Object(i.d)(e),variableType:Object(i.f)(e),query:Object(i.e)(e),map:Object(i.c)(e),constant:Object(i.b)(e)}),f);t.a=g(h)},767:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(155),i=n(3),s=n(15),l=n.n(s);let c=0;class u extends a.PureComponent{constructor(e){super(e),this.handleWindowDragOver=e=>{e.preventDefault()},this.handleSubmit=()=>{const{handleSubmit:e}=this.props,{uploadContent:t}=this.state;e(t)},this.handleFileClick=e=>{const t=e.currentTarget.files[0];if(!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},()=>this.submitOnUpload())}},this.handleFileDrop=e=>{const t=e.dataTransfer.files[0];if(this.setState({dragClass:"drag-none"}),!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},()=>this.submitOnDrop())}},this.handleFileOpen=()=>{const{uploadContent:e}=this.state;""===e&&this.fileInput.click()},this.handleCancelFile=()=>{const{onCancel:e}=this.props;this.setState({uploadContent:""}),this.fileInput.value="",e&&e()},this.handleDragEnter=e=>{c+=1,e.preventDefault(),this.setState({dragClass:"drag-over"})},this.handleDragLeave=e=>{c-=1,e.preventDefault(),0===c&&this.setState({dragClass:"drag-none"})},this.state={inputContent:null,uploadContent:"",fileName:"",dragClass:"drag-none"}}componentDidMount(){window.addEventListener("dragover",this.handleWindowDragOver),window.addEventListener("drop",this.handleFileDrop),window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave)}componentWillUnmount(){window.removeEventListener("dragover",this.handleWindowDragOver),window.removeEventListener("drop",this.handleFileDrop),window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave)}render(){return r.a.createElement("div",{className:this.containerClass},r.a.createElement("div",{className:this.dragAreaClass,onClick:this.handleFileOpen},this.dragAreaHeader,r.a.createElement("div",{className:this.infoClass}),r.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:e=>this.fileInput=e,className:"drag-and-drop--input",accept:this.fileTypesToAccept,onChange:this.handleFileClick}),this.buttons))}get fileTypesToAccept(){const{fileTypesToAccept:e}=this.props;return e||"*"}get containerClass(){const{dragClass:e}=this.state,{compact:t,className:n}=this.props;return l()("drag-and-drop",{compact:t,[e]:!0,[n]:n})}get infoClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--graphic",{success:e})}get dragAreaClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--form",{active:!e})}get dragAreaHeader(){const{uploadContent:e,fileName:t}=this.state;return e?r.a.createElement("div",{className:"drag-and-drop--header selected"},t):r.a.createElement("div",{className:"drag-and-drop--header empty"},"Drop a file here or click to upload")}get buttons(){const{uploadContent:e}=this.state,{submitText:t,submitOnDrop:n}=this.props;return e?n?r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(i.Button,{color:i.ComponentColor.Default,text:"Cancel",size:i.ComponentSize.Medium,type:i.ButtonType.Button,onClick:this.handleCancelFile})):r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(i.Button,{color:i.ComponentColor.Primary,text:t,size:i.ComponentSize.Medium,type:i.ButtonType.Submit,onClick:this.handleSubmit}),r.a.createElement(i.Button,{color:i.ComponentColor.Default,text:"Cancel",size:i.ComponentSize.Medium,type:i.ButtonType.Submit,onClick:this.handleCancelFile})):null}submitOnDrop(){const{submitOnDrop:e}=this.props;e&&this.handleSubmit()}submitOnUpload(){const{submitOnUpload:e}=this.props;e&&this.handleSubmit()}}u.defaultProps={submitText:"Write this File",submitOnDrop:!1,submitOnUpload:!1,compact:!1,className:""};var d,m=u;!function(e){e.Upload="upload",e.Paste="paste"}(d||(d={}));class p extends a.PureComponent{constructor(){super(...arguments),this.state={selectedImportOption:d.Upload,importContent:""},this.handleChangeTextArea=e=>{const{updateStatus:t=(()=>{})}=this.props,n=e.target.value;this.handleSetImportContent(n),t(i.ComponentStatus.Default)},this.submit=()=>{const{importContent:e}=this.state,{onSubmit:t,match:{params:{orgID:n}}}=this.props;t(e,n),this.clearImportContent()},this.clearImportContent=()=>{this.setState((e,t)=>{const{status:n=i.ComponentStatus.Default}=t;return n===i.ComponentStatus.Error?Object.assign({},e):{importContent:""}})},this.onDismiss=()=>{const{onDismissOverlay:e}=this.props;this.clearImportContent(),e()},this.handleSetImportOption=e=>{this.clearImportContent(),this.setState({selectedImportOption:e})},this.handleSetImportContent=e=>{this.setState({importContent:e})}}render(){const{resourceName:e}=this.props,{selectedImportOption:t}=this.state;return r.a.createElement(i.Overlay,{visible:!0,testID:"task-import--overlay"},r.a.createElement(i.Overlay.Container,{maxWidth:800},r.a.createElement(i.Form,{onSubmit:this.submit},r.a.createElement(i.Overlay.Header,{title:`Import ${e}`,onDismiss:this.onDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"import--options"},r.a.createElement(i.SelectGroup,null,r.a.createElement(i.SelectGroup.Option,{name:"import-mode",id:d.Upload,active:t===d.Upload,value:d.Upload,onClick:this.handleSetImportOption,titleText:"Upload"},"Upload File"),r.a.createElement(i.SelectGroup.Option,{name:"import-mode",id:d.Paste,active:t===d.Paste,value:d.Paste,onClick:this.handleSetImportOption,titleText:"Paste",testID:"select-group--paste-json-button"},"Paste JSON"))),this.importBody),r.a.createElement(i.Overlay.Footer,null,this.submitButton))))}get importBody(){const{selectedImportOption:e,importContent:t}=this.state,{status:n=i.ComponentStatus.Default}=this.props;return e===d.Upload?r.a.createElement(m,{submitText:"Upload",handleSubmit:this.handleSetImportContent,submitOnDrop:!0,submitOnUpload:!0,onCancel:this.clearImportContent}):e===d.Paste?r.a.createElement(i.TextArea,{status:n,value:t,onChange:this.handleChangeTextArea,testID:"import-overlay--textarea"}):void 0}get submitButton(){const{resourceName:e}=this.props,{selectedImportOption:t,importContent:n}=this.state,a=t===d.Paste||t===d.Upload&&n?i.ComponentStatus.Default:i.ComponentStatus.Disabled;return r.a.createElement(i.Button,{text:`Import JSON as ${e}`,testID:`submit-button ${e}`,color:i.ComponentColor.Primary,status:a,type:i.ButtonType.Submit})}}p.defaultProps={isVisible:!0};t.a=Object(o.j)(p)},81:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(168),s=n(29);t.a=({value:e,onChange:t})=>{const n=(e=>{const t=e=>e.map(e=>e.hex).join(", "),n=t(e),a=s.b.find(e=>t(e.colors)===n);return a||s.b[0]})(e);return r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:t},r.a.createElement(i.a,{name:n.name,colors:n.colors.map(e=>e.hex)})),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},s.b.map(({id:e,name:a,colors:s})=>r.a.createElement(o.Dropdown.Item,{key:e,id:e,value:s,selected:n.id===e,onClick:t},r.a.createElement(i.a,{name:a,colors:s.map(e=>e.hex)}))))})}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return Y})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return k}));var a=n(10),r=n(2),o=n.n(r),i=n(7),s=n(3),l=n(60),c=n.n(l),u=n(14),d=n(15),m=n.n(d),p=n(85);let h=class extends r.Component{constructor(e){super(e),this.handleStartEditing=()=>{this.setState({isEditing:!0})},this.handleStopEditing=()=>{const{workingDescription:e}=this.state,{onUpdate:t}=this.props;t(e),this.setState({isEditing:!1})},this.handleInputChange=e=>{this.setState({workingDescription:e.target.value})},this.handleKeyDown=e=>{const{onUpdate:t,description:n}=this.props,{workingDescription:a}=this.state;"Enter"===e.key&&(t(a),this.setState({isEditing:!1})),"Escape"===e.key&&this.setState({isEditing:!1,workingDescription:n})},this.handleInputFocus=e=>{e.currentTarget.select()},this.state={isEditing:!1,workingDescription:e.description}}render(){const{description:e}=this.props,{isEditing:t}=this.state;return t?o.a.createElement("div",{className:"editable-description"},o.a.createElement(p.a,{onClickOutside:this.handleStopEditing},this.input)):o.a.createElement("div",{className:"editable-description"},o.a.createElement("div",{className:this.previewClassName,onClick:this.handleStartEditing},e||"No description",o.a.createElement(s.Icon,{glyph:s.IconFont.Pencil})))}get input(){const{placeholder:e}=this.props,{workingDescription:t}=this.state;return o.a.createElement(s.Input,{size:s.ComponentSize.ExtraSmall,maxLength:90,autoFocus:!0,spellCheck:!1,placeholder:e,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,className:"editable-description--input",value:t})}get previewClassName(){const{description:e}=this.props;return m()("editable-description--preview",{untitled:!e})}};h=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],h);var f=h;let g=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickDelete=e=>{this.props.onDelete(e)},this.handleKeyDown=e=>{const{onChange:t,index:n}=this.props;t(n,e)}}render(){const{item:e,fieldName:t}=this.props;return o.a.createElement(s.IndexList,null,o.a.createElement(s.IndexList.Body,{emptyState:o.a.createElement("div",null),columnCount:2},o.a.createElement(s.IndexList.Row,{key:c.a.v4(),disabled:!1},o.a.createElement(s.IndexList.Cell,null,o.a.createElement(f,{description:e.text,placeholder:`Edit ${t}`,onUpdate:this.handleKeyDown})),o.a.createElement(s.IndexList.Cell,{alignment:s.Alignment.Right},o.a.createElement(s.ConfirmationButton,{onConfirm:this.handleClickDelete,returnValue:e,text:"Delete",popoverColor:s.ComponentColor.Danger,popoverAppearance:s.Appearance.Outline,color:s.ComponentColor.Danger,confirmationLabel:"",confirmationButtonColor:s.ComponentColor.Danger,confirmationButtonText:"Confirm",size:s.ComponentSize.ExtraSmall})))))}};g.defaultProps={confirmText:"Delete"},g=Object(a.a)([u.a],g);var b=g;var v=({tags:e,onDeleteTag:t,onChange:n})=>o.a.createElement("div",{className:"input-tag-list","data-testid":"multiple-rows"},e.map(a=>o.a.createElement(b,{index:e.indexOf(a),key:c.a.v4(),item:a,onDelete:t,onChange:n}))),y=n(332);var x;!function(e){e.String="string",e.URI="uri"}(x||(x={}));let w=class extends r.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const{inputType:t}=this.props,{value:n}=e.target;this.setState({editingText:n}),t===x.URI&&this.debouncedValidate(n)},this.handleSubmit=e=>{e.preventDefault();const t=this.inputRef.current.value.trim(),{tags:n,onAddRow:a}=this.props;this.shouldAddToList(t,n)&&(this.setState({editingText:""}),a(this.inputRef.current.value))},this.handleKeyDown=e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim(),{tags:n,onAddRow:a}=this.props;if(!this.shouldAddToList(t,n))return;this.setState({editingText:""}),a(e.target.value)}},this.handleDeleteRow=e=>{this.props.onDeleteRow(e.name||e.text)},this.handleValidateURI=e=>{Object(y.a)(e)?this.setState({status:s.ComponentStatus.Valid}):this.setState({status:s.ComponentStatus.Error})},this.state={editingText:"",status:s.ComponentStatus.Default},this.inputRef=o.a.createRef(),this.debouncedValidate=Object(i.debounce)(this.handleValidateURI,350)}render(){const{title:e,helpText:t,tags:n,autoFocus:a,onEditRow:r}=this.props,{editingText:i}=this.state;return o.a.createElement(s.Grid,null,o.a.createElement(s.Grid.Row,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Eight,offsetXS:s.Columns.One},o.a.createElement(s.Form.Element,{label:e,key:e,helpText:t},o.a.createElement(s.Input,{placeholder:`Type and hit 'Enter' to add to list of ${e}`,autocomplete:s.AutoComplete.Off,type:s.InputType.Text,onKeyDown:this.handleKeyDown,autoFocus:a||!1,value:i,status:this.state.status,onChange:this.handleInputChange,size:s.ComponentSize.Medium,titleText:e,ref:this.inputRef}))),o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Two},o.a.createElement(s.Form.Element,{key:"submit",label:" ",style:{minHeight:"15px"}},o.a.createElement(s.Button,{color:s.ComponentColor.Secondary,onClick:this.handleSubmit,size:s.ComponentSize.Medium,text:"Add",titleText:`Add to list of ${e}`})))),o.a.createElement(s.Grid.Row,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Ten,offsetXS:s.Columns.One},o.a.createElement(v,{tags:n,onDeleteTag:this.handleDeleteRow,onChange:r}))))}shouldAddToList(e,t){return!Object(i.isEmpty)(e)&&!t.find(t=>t===e)}};w=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],w);var E=w;var S=e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wizard--full-screen"},e.children,o.a.createElement("div",{className:"wizard--credits","data-testid":"credits"},"Powered by ",o.a.createElement("span",{className:"icon cubo-uniform"})," ",o.a.createElement("a",{href:"https://www.influxdata.com/",target:"_blank",rel:"noreferrer"},"InfluxData"))),o.a.createElement("div",{className:"auth-image"}));let C=class extends r.PureComponent{render(){const{title:e,maxWidth:t,children:n,footer:a,onDismiss:r}=this.props;return o.a.createElement(s.Overlay,{visible:!0},o.a.createElement(s.Overlay.Container,{maxWidth:t},o.a.createElement(s.Overlay.Header,{title:e,onDismiss:r}),o.a.createElement(s.Overlay.Body,null,o.a.createElement("div",{className:"data-loading--overlay"},n)),a&&o.a.createElement(s.Overlay.Footer,null,a)))}};C.defaultProps={maxWidth:1200},C=Object(a.a)([u.a],C);var k=e=>{const{children:t}=e;return o.a.createElement("div",{className:"wizard--progress-header"},t)},O=n(309);let D=class extends r.PureComponent{constructor(){super(...arguments),this.handleSetCurrentStep=e=>()=>{const{handleSetCurrentStep:t,currentStepIndex:n}=this.props,a=!this.isStepSkippable&&e>n,r=-1!==this.nextNonSkippableStep&&e>this.nextNonSkippableStep;a||r||t(e)}}render(){return o.a.createElement("div",{className:"wizard--progress-bar"},this.WizardProgress)}get nextNonSkippableStep(){const{currentStepIndex:e,stepSkippable:t,stepStatuses:n}=this.props;return t.findIndex((t,a)=>!t&&a>e&&n[a]!==O.b.Complete)}get isStepSkippable(){const{stepSkippable:e,stepStatuses:t,currentStepIndex:n}=this.props;return e[n]||t[n]===O.b.Complete}getStepClass(e){return!this.isStepSkippable&&e>this.props.currentStepIndex?"wizard--progress-button unclickable":"wizard--progress-button"}get WizardProgress(){const{hideFirstStep:e,stepStatuses:t,stepTitles:n,stepTestIds:a,currentStepIndex:r}=this.props,i=t.length-1;return t.reduce((t,s,l)=>{if(e&&0===l)return[...t];let c="";l===r&&s!==O.b.Error&&(c="current");const u=o.a.createElement("div",{key:`stepEle${l}`,className:this.getStepClass(l),onClick:this.handleSetCurrentStep(l)},o.a.createElement("span",{className:`wizard--progress-icon ${c||s}`},o.a.createElement("span",{className:`icon ${s}`})),o.a.createElement("div",{className:`wizard--progress-title ${c||s}`,"data-testid":a[l]},n[l]));if(l===i)return[...t,u];let d=O.a.None;l===r&&s!==O.b.Error&&(d=O.a.Some),l!==i&&s!==O.b.Complete||(d=O.a.Full);const m=o.a.createElement("span",{key:l,className:`wizard--progress-connector wizard--progress-connector--${d||O.a.None}`});return[...t,u,m]},[])}};D=Object(a.a)([u.a],D);var T=D;class j extends r.Component{constructor(){super(...arguments),this.handleClick=()=>{const{action:e,onCollapseMenu:t,value:n}=this.props;e(n),t&&t()}}render(){const{label:e,disabled:t,testID:n}=this.props;return o.a.createElement("button",{className:this.className,onClick:this.handleClick,disabled:t,"data-testid":n},e,this.description)}get className(){const{disabled:e}=this.props;return m()("context-menu--item",{"context-menu--item__disabled":e})}get description(){const{description:e}=this.props;if(e)return o.a.createElement("div",{className:"contex-menu--item-description"},e)}}j.defaultProps={description:"",testID:"context-menu-item"};var I=j;let N=class extends r.Component{constructor(e){super(e),this.handleExpandMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!0),this.setState({isExpanded:!0})},this.handleCollapseMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!1),this.setState({isExpanded:!1})},this.state={isExpanded:!1}}render(){const{icon:e,text:t,shape:n,color:a,testID:r,size:i,style:l}=this.props;return o.a.createElement(p.a,{onClickOutside:this.handleCollapseMenu},o.a.createElement("div",{className:"context-menu--container"},o.a.createElement(s.Button,{className:this.toggleClassName,onClick:this.handleExpandMenu,text:t,shape:n,icon:e,size:i,color:a,testID:r,style:l}),this.menu))}get menu(){const{children:e}=this.props;return o.a.createElement("div",{className:this.menuClassName},o.a.createElement("div",{className:this.listClassName},o.a.Children.map(e,e=>e.type===I?o.a.createElement(I,Object.assign({},e.props,{onCollapseMenu:this.handleCollapseMenu})):e)))}get listClassName(){const{color:e}=this.props;return m()("context-menu--list",{[`context-menu--${e}`]:e})}get menuClassName(){const{isExpanded:e}=this.state;return m()("context-menu--list-container",{open:e})}get toggleClassName(){const{color:e}=this.props,{isExpanded:t}=this.state;return m()("context-menu--toggle",{[`context-menu--${e}`]:e,active:t})}};N.defaultProps={color:s.ComponentColor.Primary,shape:s.ButtonShape.Square,text:"",testID:"context-menu",size:s.ComponentSize.ExtraSmall},N=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],N);var R,A,_,F,M,L,P,B,$,z,V,H,q,U,G=N;!function(e){e.Default="default",e.Primary="primary",e.Secondary="secondary",e.Success="success",e.Warning="warning",e.Danger="danger",e.Alert="alert"}(R||(R={})),function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(A||(A={})),function(e){e.Default="default",e.Loading="loading",e.Error="error",e.Valid="valid",e.Disabled="disabled"}(_||(_={})),function(e){e.Amethyst="amethyst",e.Malachite="malachite",e.Sapphire="sapphire",e.Onyx="onyx"}(F||(F={})),function(e){e.Above="above",e.Below="below"}(M||(M={})),function(e){e.Default="none",e.Square="square",e.StretchToFit="stretch"}(L||(L={})),function(e){e.Button="button",e.Submit="submit"}(P||(P={})),function(e){e.Obsidian="#0f0e15",e.Raven="#181820",e.Kevlar="#202028",e.Castle="#292933",e.Onyx="#31313d",e.Pepper="#383846",e.Smoke="#434453",e.Graphite="#545667",e.Storm="#676978",e.Mountain="#757888",e.Wolf="#8e91a1",e.Sidewalk="#999dab",e.Forge="#a4a8b6",e.Mist="#bec2cc",e.Chromium="#c6cad3",e.Platinum="#d4d7dd",e.Pearl="#e7e8eb",e.Whisper="#eeeff2",e.Cloud="#f6f6f8",e.Ghost="#fafafc",e.White="#ffffff"}(B||(B={})),function(e){e.AddCell="add-cell",e.AlertTriangle="alert-triangle",e.Alerts="alerts",e.Annotate="annotate",e.AnnotatePlus="annotate-plus",e.AuthZero="authzero",e.BarChart="bar-chart",e.Bell="bell",e.BellRinging="bell-ringing",e.BellSolid="bell-solid",e.Calendar="calendar",e.Capacitor="capacitor2",e.CaretDown="caret-down",e.CaretLeft="caret-left",e.CaretRight="caret-right",e.CaretUp="caret-up",e.Chat="chat",e.Checkmark="checkmark",e.Circle="circle",e.CircleThick="circle-thick",e.Clock="clock",e.CogOutline="cog-outline",e.CogThick="cog-thick",e.Collapse="collapse",e.CrownOutline="crown-outline",e.CrownSolid="crown2",e.Cube="cube",e.Cubouniform="cubo-uniform",e.CuboNav="cubo-nav",e.Dashboards="dashboards",e.DashF="dash-f",e.DashH="dash-h",e.DashJ="dash-j",e.Disks="disks",e.Download="download",e.Duplicate="duplicate",e.ExpandA="expand-a",e.ExpandB="expand-b",e.Export="export",e.Eye="eye",e.EyeClosed="eye-closed",e.EyeOpen="eye-open",e.GitHub="github",e.Google="google",e.GraphLine="graphline-2",e.Group="group",e.Heroku="heroku",e.HerokuSimple="",e.Import="import",e.Link="link",e.OAuth="oauth",e.Octagon="octagon",e.Okta="okta",e.Pause="pause",e.Pencil="pencil",e.Play="play",e.Plus="plus",e.PlusSkinny="plus-skinny",e.Pulse="pulse-c",e.Refresh="refresh",e.Remove="remove",e.Search="search",e.Server="server2",e.Shuffle="shuffle",e.Square="square",e.TextBlock="text-block",e.Trash="trash",e.Triangle="triangle",e.User="user",e.UserAdd="user-add",e.UserOutline="user-outline",e.UserRemove="user-remove",e.UsersDuo="users-duo",e.UsersTrio="users-trio",e.Wood="wood",e.Wrench="wrench",e.Star="star",e.Stop="stop",e.Zap="zap"}($||($={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten",e[e.Eleven=11]="Eleven",e[e.Twelve=12]="Twelve"}(z||(z={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(V||(V={})),function(e){e.Descending="desc",e.Ascending="asc",e.None="none"}(H||(H={})),function(e){e.Rows="rows",e.Columns="columns"}(q||(q={})),function(e){e.RouterLink="router",e.HTTPLink="http",e.ShowDropdown="showDropdown"}(U||(U={}));let W=class extends r.PureComponent{constructor(e){super(e),this.handleBoostZIndex=e=>{this.setState({boostZIndex:e})},this.state={boostZIndex:!1}}render(){const{children:e}=this.props;return o.a.createElement("div",{className:this.className},o.a.Children.map(e,e=>(null==e?void 0:e.type)===G?o.a.createElement(G,Object.assign({},e.props,{onBoostZIndex:this.handleBoostZIndex})):e))}get className(){const{align:e,className:t}=this.props,{boostZIndex:n}=this.state;return m()("context-menu",{[`${t}`]:t,"context-menu--boost-z":n,"context-menu--align-left":e===V.Left,"context-menu--align-right":e===V.Right})}};W.defaultProps={align:V.Right},W.Menu=G,W.Item=I,W=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],W);var Y=W},83:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(7);const s=e=>{const{selected:t,colors:n,onChoose:a,disabled:s,style:l}=e,c=s?o.ComponentStatus.Disabled:o.ComponentStatus.Default;return r.a.createElement(o.Dropdown,{style:l,button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n,status:c},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:t.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(t.name)))),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},n.map(e=>r.a.createElement(o.Dropdown.Item,{id:e.name,key:e.name,value:e,selected:e.name===t.name,onClick:a},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:e.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(e.name))))))})};s.defaultProps={disabled:!1,style:{flex:"0 0 120px"}};var l=s,c=n(36);var u=({id:e,type:t,name:n,value:a,error:i,onChangeValue:s,onChangeColor:u,onRemove:d,onBlur:m})=>{const p=e===c.a;let h="";h=p?"Base":t===c.c?"Minimum":t===c.b?"Maximum":"Value is >=";const f=!p&&t!==c.c&&t!==c.b,g=i?o.ComponentStatus.Error:o.ComponentStatus.Default,b=p?{flex:"1 0 120px"}:{flex:"0 0 120px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Small,testID:e},r.a.createElement(o.TextBlock,{text:h,style:{flex:"0 0 90px"}}),!p&&r.a.createElement(o.Input,{style:{flex:"1 0 0"},testID:`threshold-${e}-input`,className:"threshold-setting--value",value:a,status:g,onChange:e=>s(e.target.value),onBlur:m,onKeyDown:e=>{"Enter"===e.key&&m()}}),r.a.createElement(l,{colors:c.l,selected:c.l.find(e=>e.name===n),onChoose:({name:e,hex:t})=>u(e,t),style:b}),f&&r.a.createElement(o.SquareButton,{icon:o.IconFont.Remove,onClick:d,style:{flex:"0 0 30px"}})),i&&r.a.createElement("div",{className:"threshold-setting--error","data-testid":`threshold-${e}-error`},i))};var d=n(60),m=n.n(d);const p=e=>{const t=[...e];return t.sort((e,t)=>e.id===c.a?-1/0:e.value-t.value),t},h=(e,t)=>{const n=t-e;let a,r;return a=n>1e3?100:n>100?10:n>50?5:n>10?1:null,r=a?Math.round(Math.random()*(t-e)/a)*a:Number((Math.random()*(t-e)).toFixed(2)),r},f=(e,t)=>{switch(t.type){case"COLOR_CHANGED":{const{id:n,name:a,hex:r}=t,o=e.thresholds.map(e=>e.id===n?Object.assign(Object.assign({},e),{name:a,hex:r}):e);return Object.assign(Object.assign({},e),{thresholds:o,isDirty:!0})}case"VALUE_CHANGED":{const{id:n,value:a}=t,r=Object.assign(Object.assign({},e.inputs),{[n]:a});return Object.assign(Object.assign({},e),{inputs:r,isDirty:!0,isValid:!1})}case"VALUE_BLURRED":{const n=e.thresholds.map(n=>n.id===t.id?Object.assign(Object.assign({},n),{value:parseFloat(e.inputs[t.id])}):n),a=(e=>{const t=e.find(({type:e})=>e===c.c),n=e.find(({type:e})=>e===c.b),a={};for(const{id:r,value:o,type:i}of e)isNaN(o)?a[r]="Please enter a valid number":t&&i!==c.c&&o<t.value?a[r]="Please enter a value greater than the minimum threshold":n&&i!==c.b&&o>n.value&&(a[r]="Please enter a value less than the maximum threshold");return a})(n),r=0===Object.values(a).length;return Object.assign(Object.assign({},e),{thresholds:n,errors:a,isValid:r})}case"THRESHOLD_ADDED":{const t=(e=>{const t=e.map(e=>e.value);let n=Math.min(...t),a=Math.max(...t);(n===1/0||isNaN(n)||n===a)&&(n=c.j,a=c.i);const r=h(n,a),o=c.l[Math.floor(Math.random()*c.l.length)],i=e[0].type,s=i===c.c||i===c.b?c.d:i;return Object.assign(Object.assign({},o),{id:m.a.v4(),type:s,value:r})})(e.thresholds),n=p([...e.thresholds,t]),a=Object.assign(Object.assign({},e.inputs),{[t.id]:String(t.value)});return Object.assign(Object.assign({},e),{thresholds:n,inputs:a,isDirty:!0})}case"THRESHOLD_REMOVED":{const n=e.thresholds.filter(e=>e.id!==t.id);return Object.assign(Object.assign({},e),{thresholds:n,isDirty:!0})}default:const n=t.type;throw new Error(`unhandled action of type "${n}" in ThresholdsSettings`)}};t.a=({thresholds:e,onSetThresholds:t})=>{const n=Object(a.useMemo)(()=>({thresholds:p(JSON.parse(JSON.stringify(e.filter(({type:e})=>"scale"!==e)))),inputs:e.reduce((e,{id:t,value:n})=>Object.assign(Object.assign({},e),{[t]:String(n)}),{}),errors:{},isDirty:!1,isValid:!0}),[e]),[i,s]=((e,t)=>{const n=Object(a.useRef)(t),r=Object(a.useRef)(!1),o=Object(a.useCallback)((t,a)=>r.current?(r.current=!1,e(n.current,a)):e(t,a),[e]),[i,s]=Object(a.useReducer)(o,t);return t!==n.current?(r.current=!0,n.current=t,[t,s]):[i,s]})(f,n);return Object(a.useEffect)(()=>{i.isDirty&&i.isValid&&t(i.thresholds)},[i,t]),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium,testID:"threshold-settings"},r.a.createElement(o.Button,{shape:o.ButtonShape.StretchToFit,icon:o.IconFont.Plus,text:"Add a Threshold",onClick:()=>s({type:"THRESHOLD_ADDED"})}),i.thresholds.map(e=>r.a.createElement(u,{key:e.id,id:e.id,name:e.name,type:e.type,value:i.inputs[e.id],error:i.errors[e.id],onBlur:()=>s({type:"VALUE_BLURRED",id:e.id}),onRemove:()=>s({type:"THRESHOLD_REMOVED",id:e.id}),onChangeValue:t=>s({type:"VALUE_CHANGED",id:e.id,value:t}),onChangeColor:(t,n)=>s({type:"COLOR_CHANGED",id:e.id,name:t,hex:n})})))}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(10),r=n(2),o=n.n(r),i=n(100),s=n.n(i),l=n(14);let c=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickOutside=e=>{const t=s.a.findDOMNode(this);t&&t.contains(e.target)||this.props.onClickOutside(e)}}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}render(){return o.a.Children.only(this.props.children)}};c=Object(a.a)([l.a],c)},88:function(e,t,n){"use strict";var a=n(10),r=n(2),o=n.n(r),i=n(4),s=n(157),l=n(110),c=n(208),u=n(163),d=n(244),m=n(177),p=n(266),h=n(238),f=n(16),g=n(5),b=n(13);const v=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS_LOADING_STATE",payload:e}),y=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS",payload:e});var x=n(217),w=n(134),E=n(158),S=n(182),C=n(113),k=n(245),O=n(8),D=n(14),T=n(3),j=n(218);let I=class extends r.PureComponent{componentDidMount(){const{resources:e}=this.props,t=[],n=Date.now();e.forEach(e=>{t.push(this.getResourceDetails(e))});const a=e.join(", ");Promise.all(t).then(()=>{Object(O.a)(`GetResources ${a}`,{time:n,resource:a},{duration:Date.now()-n})})}getResourceDetails(e){switch(e){case g.ResourceType.Dashboards:return this.props.getDashboards();case g.ResourceType.Labels:return this.props.getLabels();case g.ResourceType.Buckets:return this.props.getBuckets();case g.ResourceType.Telegrafs:return this.props.getTelegrafs();case g.ResourceType.Plugins:return this.props.getPlugins();case g.ResourceType.Scrapers:return this.props.getScrapers();case g.ResourceType.Variables:return this.props.getVariables();case g.ResourceType.Tasks:return this.props.getTasks();case g.ResourceType.Authorizations:return this.props.getAuthorizations();case g.ResourceType.Templates:return this.props.getTemplates();case g.ResourceType.Members:return this.props.getMembers();case g.ResourceType.Checks:return this.props.getChecks();case g.ResourceType.NotificationRules:return this.props.getNotificationRules();case g.ResourceType.NotificationEndpoints:return this.props.getEndpoints();case g.ResourceType.Secrets:return this.props.getSecrets();default:throw new Error("incorrect resource type provided")}}render(){const{children:e,remoteDataState:t}=this.props;return o.a.createElement(T.SpinnerContainer,{loading:t,spinnerComponent:o.a.createElement(T.TechnoSpinner,null)},e)}};I=Object(a.a)([D.a],I);const N={getLabels:m.c,getBuckets:l.h,getTelegrafs:E.d,getPlugins:()=>async(e,t)=>{const n=t();Object(b.h)(n,g.ResourceType.Plugins)===g.RemoteDataState.NotStarted&&e(v(g.RemoteDataState.Loading)),e(v(g.RemoteDataState.Loading));const a=await Object(f.getTelegrafPlugins)({},{});if(200===a.status){const t=a.data.plugins;e(y(t))}e(v(g.RemoteDataState.Done))},getVariables:C.f,getScrapers:x.c,getAuthorizations:s.d,getDashboards:u.i,getTasks:w.i,getTemplates:S.e,getMembers:p.b,getChecks:c.g,getNotificationRules:h.f,getEndpoints:d.f,getSecrets:k.b},R=Object(i.c)((e,{resources:t})=>({remoteDataState:Object(j.a)(e,t)}),N);t.a=R(I)},90:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));const a=Math.floor,r=(Math.ceil,Math.abs),o=(Math.imul,Math.round),i=Math.log10,s=(Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),l=(e,t)=>e>t?e:t,c=(Number.isNaN,Math.pow,e=>Math.pow(10,e)),u=(Math.sign,e=>0!==e?e<0:1/e<0)},91:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return p}));const a=100,r=30,o=30,i=!0,s=!0,l="asc",c="desc",u=l,d=["_start","_stop"],m=-1,p={internalName:"_time",displayName:"time",visible:!0}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(2),r=n.n(a),o=n(65);const i=Object(a.createContext)({id:"",menu:[],show:e=>{},hide:()=>{},showSub:e=>{},hideSub:()=>{},register:(e,t)=>{}}),s=({children:e})=>{const{flow:t}=Object(a.useContext)(o.a),[n,s]=Object(a.useState)(""),[l,c]=Object(a.useState)({}),[u,d]=Object(a.useState)(!1),m=l[n]||[];return r.a.createElement(i.Provider,{value:{id:n,menu:m,submenu:u,show:e=>{t.data.allIDs.includes(e)&&e!==n&&(s(e),u&&d(!1))},hide:()=>{s("")},showSub:e=>{d(e)},hideSub:()=>{d(!1),s("")},register:(e,t)=>{l[e]&&l[e]===t||(l[e]=t||[],c(Object.assign({},l)))}}},e)}},936:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n.n(a);function o(){return r.a.createElement("div",{id:"notes-portal"})}},937:function(e,t,n){var a=n(938);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},938:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".limits-increasewrites--body {\n  display: flex;\n  justify-content: center;\n}\n\n.limits-increasewrites--form {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}",""])},939:function(e,t,n){var a=n(940);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},940:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".edit-annotation-head {\n  height: 70px;\n}\n\n.edit-annotation-form-footer {\n  display: flex;\n  justify-content: space-between;\n}\n\n.annotation-type-option-line {\n  display: flex;\n  width: 100%;\n}\n\n.edit-annotation-buttons {\n  display: flex;\n  flex: 2;\n  justify-content: flex-end;\n}\n\n.edit-annotation-cancel {\n  margin-right: 10px;\n}",""])},941:function(e,t,n){var a=n(942);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(18)(a,r);a.locals&&(e.exports=a.locals)},942:function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/*\n   Influx Color Palette\n   -----------------------------------------------------------------------------\n*/\n/*\n   Z Variables\n   -----------------------------------------------------------------------------\n   Might not actually need any of these yet\n*/\n/*\n   Motifs\n   -----------------------------------------------------------------------------\n   Goal is to re-use these variables as much as possible to ensure powerful\n   control over the UI kit proportions\n*/\n/*\n   Typography Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Page Layout Variables\n   -----------------------------------------------------------------------------\n   NavMenu + Page components\n*/\n/*\n   Responsive Breakpoints\n   -----------------------------------------------------------------------------\n*/\n/*\n   Form Element Sizing\n   -----------------------------------------------------------------------------\n   These ensure consistent sizing across elements such as Buttons, SelectGroup,\n   Dropdown, Input, etc.\n*/\n/*\n   Empty State\n   -----------------------------------------------------------------------------\n*/\n/*\n   Input Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of inputs\n*/\n/*\n   Card Variables\n   -----------------------------------------------------------------------------\n   These ensure consistent appearance across different kinds of cards\n*/\n/*\n   Label Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Overlay Variables\n   -----------------------------------------------------------------------------\n   Used in both Inputs and Forms\n*/\n/*\n   Tree Nav Variables\n   -----------------------------------------------------------------------------\n*/\n/*\n   Mixins\n   -----------------------------------------------------------------------------\n*/\n.refresh-form-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 64px;\n}\n.refresh-form-container.reverse {\n  flex-direction: row-reverse;\n}\n\n.refresh-form-container-child {\n  flex: 1;\n}\n.refresh-form-container-child.active {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n}\n.refresh-form-container-child.inactive {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n\n.refresh-form-column {\n  display: grid;\n}\n\n.refresh-timeout-span {\n  flex: 1;\n}\n\n.refresh-form-buttons {\n  display: grid;\n  grid-template-columns: auto auto;\n  grid-gap: 10px;\n  padding: 16px 4px 8px 4px;\n}\n\n.refresh-form-cancel-button {\n  width: 140px;\n  justify-self: end;\n}\n\n.refresh-form-activate-button {\n  width: 140px;\n}\n\n.refresh-form-timeout-dropdown {\n  padding: 0 0 0 8px;\n  flex: 1;\n}\n\n.refresh-form-time-label {\n  font-size: 13px;\n}\n\n.timerange-dropdown {\n  justify-self: end;\n  width: 178px;\n}\n\n.refresh-form-timerange-toggle {\n  margin: 0px 8px;\n}\n\n.refresh-input {\n  width: 100px;\n}",""])},943:function(e,t,n){"use strict";var a=n(2),r=n(155),o=n(4),i=n(9),s=n(763),l=n(23);t.a=Object(a.memo)(()=>{const[e,t]=Object(a.useState)([]),n=Object(r.g)().pathname,c=window.userpilot,u=Object(o.e)(i.a),d=Object(o.e)(e=>e.me);Object(a.useEffect)(()=>{Object(l.c)("newUsageAPI")&&(null==u?void 0:u.id)&&Object(s.a)(u.id).then(({usageDataStates:e})=>t(e))},[null==u?void 0:u.id]),Object(a.useEffect)(()=>{c&&(m(),c.reload())},[n,u,d]);const m=()=>{var t;const n=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname.split(".");u&&d&&c.identify(d.name,Object.assign({email:d.name,orgID:u.id,region:n[0],provider:n[1],company:{id:u.id}},Object(l.c)("newUsageAPI")&&e.length&&{UsageDataStates:e}))};return null})}}]);
//# sourceMappingURL=28.e798bcc63e.js.map