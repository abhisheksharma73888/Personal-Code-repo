(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{100:function(e,t,a){var l=a(101);"string"==typeof l&&(l=[[e.i,l,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(17)(l,n);l.locals&&(e.exports=l.locals)},101:function(e,t,a){(t=a(16)(!1)).push([e.i,".flex-upgrade-content{display:flex;align-items:center}",""]),e.exports=t},2641:function(e,t,a){"use strict";a.r(t);var l=a(2),n=a.n(l),s=a(4),r=a(184),o=a(14),i=a(10),c=a(15),m=a(3);const p=({strokeColor:e,fillColor:t="none",strokeWidth:a=2,width:l,height:s})=>{const r={strokeWidth:a,stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},o=Object.assign(Object.assign({},r),{fill:t});return n.a.createElement("svg",{width:l,height:s,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 54 54",preserveAspectRatio:"xMidYMid meet",xmlSpace:"preserve"},n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("polygon",{style:o,points:"27,44.9 27,30.6 14.5,23.4 2,30.6 2,44.9 14.5,52 \t\t"}),n.a.createElement("line",{style:r,x1:"2.5",y1:"30.8",x2:"14.5",y2:"37.7"}),n.a.createElement("line",{style:r,x1:"14.5",y1:"37.7",x2:"14.5",y2:"51.6"}),n.a.createElement("line",{style:r,x1:"14.5",y1:"37.7",x2:"26.5",y2:"30.8"})),n.a.createElement("g",null,n.a.createElement("polygon",{style:o,points:"52,44.9 52,30.6 39.5,23.4 27,30.6 27,44.9 39.5,52 \t\t"}),n.a.createElement("line",{style:r,x1:"27.5",y1:"30.8",x2:"39.5",y2:"37.7"}),n.a.createElement("line",{style:r,x1:"39.5",y1:"37.7",x2:"39.5",y2:"51.6"}),n.a.createElement("line",{style:r,x1:"39.5",y1:"37.7",x2:"51.5",y2:"30.8"})),n.a.createElement("g",null,n.a.createElement("polygon",{style:o,points:"39.5,23.4 39.5,9.1 27,2 14.5,9.1 14.5,23.4 27,30.6 \t\t"}),n.a.createElement("line",{style:r,x1:"15",y1:"9.4",x2:"27",y2:"16.3"}),n.a.createElement("line",{style:r,x1:"27",y1:"16.3",x2:"27",y2:"30.1"}),n.a.createElement("line",{style:r,x1:"27",y1:"16.3",x2:"39",y2:"9.4"}))))},u=({templateName:e,resourceCount:t,onClickInstall:a})=>{let l,s="resources";return 1===t&&(s="resource"),a&&t>0&&(l=n.a.createElement(m.Button,{text:"Install Template",color:m.ComponentColor.Success,size:m.ComponentSize.Medium,onClick:a,testID:"template-install-button"})),n.a.createElement(m.Panel,{border:!0,gradient:m.Gradients.SpirulinaSmoothie},n.a.createElement(m.Panel.Body,{margin:m.ComponentSize.Large,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Center},n.a.createElement(p,{strokeWidth:2,strokeColor:m.InfluxColors.Neutrino,width:54,height:54}),n.a.createElement(m.FlexBox.Child,{grow:1,shrink:0,testID:"template-install-title"},n.a.createElement(m.Heading,{className:"community-templates--template-name",element:m.HeadingElement.H4},e),n.a.createElement("p",{className:"community-templates--template-description"},"Installing this template will create"," ",n.a.createElement("strong",null,t," ",s)," ","in your system"),n.a.createElement("p",{className:"community-templates--template-description"},"There might be extra steps needed to complete your template installation, check github to find any further instruction")),l))};var d=a(117),h=a(453),g=a(412);class E extends l.Component{constructor(){super(...arguments),this.componentDidMount=()=>{this.props.readme||this.props.fetchAndSetReadme(this.props.name,this.props.directory)},this.render=()=>{const{readme:e}=this.props;return e?n.a.createElement(d.a,{text:e,className:"markdown-format community-templates--readme",escapeHtml:!1}):null}}}const y={fetchAndSetReadme:g.b},b=Object(s.c)(((e,t)=>{const a=Object(h.j)(t.url);return{directory:a.directory,name:a.name,readme:e.resources.templates.communityTemplateReadmeCollection[a.name]}}),y)(E);var T=a(19),k=a.n(T);const x=({title:e,children:t,description:a,handleToggle:l,shouldInstall:s=!0,shouldDisableToggle:r=!1})=>{const o=k()("community-templates--item-description",{"community-templates--item-description__blank":!a});return n.a.createElement(m.Panel,{className:"community-templates--item"},n.a.createElement(m.Panel.Body,{size:m.ComponentSize.ExtraSmall,alignItems:m.AlignItems.Center,direction:m.FlexDirection.Row,margin:m.ComponentSize.Large},n.a.createElement(m.Toggle,{id:`community-templates-install--${e}`,type:m.InputToggleType.Checkbox,onChange:l,size:m.ComponentSize.Small,checked:s,icon:m.IconFont.Checkmark_New,color:m.ComponentColor.Success,disabled:r,testID:`templates-toggle--${e}`}),n.a.createElement(m.FlexBox,{alignItems:m.AlignItems.FlexStart,direction:m.FlexDirection.Column},e&&n.a.createElement(m.Heading,{element:m.HeadingElement.H6},e),n.a.createElement("p",{className:o},a||"No description"),t)))},f=({title:e,count:t,children:a})=>{const[s,r]=Object(l.useState)("collapsed"),o=k()("community-templates--list-group",{[`community-templates--list-group__${s}`]:s});return n.a.Children.count(a)?n.a.createElement("div",{className:o},n.a.createElement("div",{className:"community-templates--list-header",onClick:()=>{r("expanded"===s?"collapsed":"expanded")}},n.a.createElement("div",{className:"community-templates--list-toggle"},n.a.createElement(m.Icon,{glyph:m.IconFont.CaretRight})),n.a.createElement(m.Heading,{element:m.HeadingElement.H5,testID:`heading-${e}`},e),n.a.createElement(m.Heading,{element:m.HeadingElement.Div,appearance:m.HeadingElement.H6,className:"community-templates--list-counter"},`(${t} selected)`)),"expanded"===s&&n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Column,alignItems:m.AlignItems.Stretch,className:"community-templates--list-group-items"},a)):null};var C=a(334),I=a(5),v=a(157),S=a(11);class D extends l.PureComponent{constructor(){super(...arguments),this.state={selectedBucketID:"default"},this.createRefBucketSelectHandler=e=>t=>{let a="";t.hasOwnProperty("id")&&(a=t.id),this.setState({selectedBucketID:a}),this.props.updateTemplateEnvReferences(e.envRefKey,e.resourceField,t.name,e.valueType)},this.handleRefChange=e=>t=>{this.props.updateTemplateEnvReferences(e.envRefKey,e.resourceField,t.target.value,e.valueType)},this.renderInputForEnvRef=e=>{switch(e.valueType){case"float":case"number":case"integer":return n.a.createElement(m.Input,{type:m.InputType.Number,value:this.props.stagedTemplateEnvReferences[e.envRefKey].value,onChange:this.handleRefChange(e)});default:return n.a.createElement(m.Input,{type:m.InputType.Text,value:this.props.stagedTemplateEnvReferences[e.envRefKey].value,onChange:this.handleRefChange(e)})}}}componentDidMount(){const e=this.props.resource.envReferences.find((e=>{if("bucket"===this.getFieldType(e)&&this.props.stagedTemplateEnvReferences[e.envRefKey].value!==e.defaultValue)return!0}));if(e){const t=this.props.buckets.find((t=>{if(t.name===this.props.stagedTemplateEnvReferences[e.envRefKey].value)return!0}));t&&this.setState({selectedBucketID:t.id})}}render(){return n.a.createElement(m.Table,{borders:m.BorderType.None,cellPadding:m.ComponentSize.ExtraSmall},n.a.createElement(m.Table.Header,null,n.a.createElement(m.Table.Row,null,n.a.createElement(m.Table.HeaderCell,null,"Parameter"),n.a.createElement(m.Table.HeaderCell,null,"Value"))),n.a.createElement(m.Table.Body,null,this.props.resource.envReferences.map((e=>{const t=this.getFieldType(e);if("bucket"===t){const{defaultValue:a}=e,l={id:"default",name:a};return n.a.createElement(m.Table.Row,{key:e.envRefKey},n.a.createElement(m.Table.Cell,null,n.a.createElement("strong",null,t)),n.a.createElement(m.Table.Cell,null,n.a.createElement(C.a,{selectedBucketID:this.state.selectedBucketID,buckets:[l,...this.props.buckets],onSelectBucket:this.createRefBucketSelectHandler(e),style:{width:"225px"}})))}return n.a.createElement(m.Table.Row,{key:e.envRefKey},n.a.createElement(m.Table.Cell,null,n.a.createElement("strong",null,t)),n.a.createElement(m.Table.Cell,null,this.renderInputForEnvRef(e)))}))))}getFieldType(e){return e.resourceField.split(".").pop()}}const $={updateTemplateEnvReferences:v.o},R=Object(s.c)((e=>({stagedTemplateEnvReferences:e.resources.templates.stagedTemplateEnvReferences,buckets:Object(S.a)(e,I.ResourceType.Buckets)})),$)(D);class O extends l.PureComponent{render(){return Object.keys(this.props.resource.envReferences).length<1?null:n.a.createElement(m.Panel,{className:"community-templates--item"},n.a.createElement(m.Panel.Body,{key:this.props.resource.name,size:m.ComponentSize.ExtraSmall,alignItems:m.AlignItems.Center,direction:m.FlexDirection.Row,margin:m.ComponentSize.Large},n.a.createElement(m.FlexBox,{alignItems:m.AlignItems.FlexStart,direction:m.FlexDirection.Column},n.a.createElement(R,{resource:this.props.resource}))))}}const j=e=>e.shouldInstall,N=e=>e.filter(j).length,w=e=>{let t=0;return Object.keys(e).forEach((a=>{t+=N(e[a])})),t};var F=a(7);class B extends l.PureComponent{render(){const{summary:e}=this.props;return Object.keys(e).length?n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Column,alignItems:m.AlignItems.Stretch,className:"community-templates-installer"},n.a.createElement(f,{title:"Dashboards",count:N(e.dashboards)},Array.isArray(e.dashboards)&&e.dashboards.map((e=>{let t=0;return e.charts&&e.charts.length&&(t=e.charts.length),n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"dashboards"}),this.props.toggleTemplateResourceInstall("dashboards",e.templateMetaName,!e.shouldInstall)},title:e.name,description:e.description},"Charts: ",t)),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))}))),n.a.createElement(f,{title:"Telegraf Configurations",count:N(e.telegrafConfigs)},Array.isArray(e.telegrafConfigs)&&e.telegrafConfigs.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"telegraf"}),this.props.toggleTemplateResourceInstall("telegrafConfigs",e.templateMetaName,!e.shouldInstall)},title:e.templateMetaName,description:e.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Buckets",count:N(e.buckets)},Array.isArray(e.buckets)&&e.buckets.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldDisableToggle:!0,shouldInstall:!0,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"buckets"}),this.props.toggleTemplateResourceInstall("buckets",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Tasks",count:N(e.summaryTask)},Array.isArray(e.summaryTask)&&e.summaryTask.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"tasks"}),this.props.toggleTemplateResourceInstall("summaryTask",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Checks",count:N(e.checks)},Array.isArray(e.checks)&&e.checks.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"checks"}),this.props.toggleTemplateResourceInstall("checks",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.check.name,description:e.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Variables",count:N(e.variables)},Array.isArray(e.variables)&&e.variables.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldDisableToggle:!0,shouldInstall:!0,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"variables"}),this.props.toggleTemplateResourceInstall("variables",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description},"Type: ",e.arguments.type)),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Notification Rules",count:N(e.notificationRules)},Array.isArray(e.notificationRules)&&e.notificationRules.map((t=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:t.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:t.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"notification rules"}),this.props.toggleTemplateResourceInstall("notificationRules",t.templateMetaName,!t.shouldInstall)},key:t.templateMetaName,title:t.name,description:t.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Notification Endpoints",count:N(e.notificationEndpoints)},Array.isArray(e.notificationEndpoints)&&e.notificationEndpoints.map((t=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:t.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:t.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"notification rules"}),this.props.toggleTemplateResourceInstall("notificationEndpoints",t.templateMetaName,!t.shouldInstall)},key:t.templateMetaName,title:t.notificationEndpoint.name,description:t.description})),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e})))))),n.a.createElement(f,{title:"Labels",count:N(e.labels)},Array.isArray(e.labels)&&e.labels.map((e=>n.a.createElement(m.FlexBox,{margin:m.ComponentSize.Small,direction:m.FlexDirection.Row,alignItems:m.AlignItems.Stretch,key:e.templateMetaName},n.a.createElement(m.FlexBox.Child,{grow:1},n.a.createElement(x,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(F.a)("template_resource_uncheck",{templateResourceType:"labels"}),this.props.toggleTemplateResourceInstall("labels",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.templateMetaName},n.a.createElement(m.Label,{description:e.properties.description,name:e.name,id:e.name,color:e.properties.color}))),M(e)&&n.a.createElement(m.FlexBox.Child,null,n.a.createElement(O,{resource:e}))))))):n.a.createElement(m.Panel,null,n.a.createElement(m.Panel.Header,null,"Calculating template resource needs..."))}}const M=e=>e.envReferences&&Object.keys(e.envReferences).length>0,A={toggleTemplateResourceInstall:v.n},z=Object(s.c)((e=>({summary:e.resources.templates.stagedCommunityTemplate.summary})),A)(B);var H;!function(e){e[e.IncludedResources=0]="IncludedResources",e[e.Readme=1]="Readme"}(H||(H={}));class _ extends l.PureComponent{constructor(){super(...arguments),this.state={activeTab:H.IncludedResources},this.setTabToIncludedResources=()=>{this.setState({activeTab:H.IncludedResources})},this.setTabToReadme=()=>{this.setState({activeTab:H.Readme})},this.onDismiss=()=>{this.props.onDismissOverlay()}}render(){const{isVisible:e,onInstall:t,resourceCount:a,templateName:l,url:s}=this.props;return n.a.createElement(m.Overlay,{visible:e},n.a.createElement(m.Overlay.Container,{maxWidth:800,testID:"template-install-overlay",style:{minHeight:"600px"}},n.a.createElement(m.Overlay.Header,{title:"Template Installer",onDismiss:this.onDismiss}),n.a.createElement(m.Overlay.Body,null,n.a.createElement(m.FlexBox,{direction:m.FlexDirection.Column,margin:m.ComponentSize.Large,alignItems:m.AlignItems.Stretch},n.a.createElement(u,{templateName:l,resourceCount:a,onClickInstall:t}),n.a.createElement(m.Tabs.Container,{orientation:m.Orientation.Horizontal},n.a.createElement(m.Tabs.Tabs,{alignment:m.Alignment.Center},n.a.createElement(m.Tabs.Tab,{active:this.state.activeTab===H.IncludedResources,id:"included-resources",text:"Included Resources",onClick:this.setTabToIncludedResources}),n.a.createElement(m.Tabs.Tab,{active:this.state.activeTab===H.Readme,id:"readme",text:"Readme",testID:"community-templates-readme-tab",onClick:this.setTabToReadme})),this.state.activeTab===H.IncludedResources?n.a.createElement(z,null):n.a.createElement(b,{url:s}))))))}}_.defaultProps={isVisible:!0};const P=Object(r.j)(_);var L=a(103),U=a(244),V=a(13);class K extends l.PureComponent{constructor(){super(...arguments),this.state={status:m.ComponentStatus.Default},this.reviewTemplateResources=async(e,t)=>{try{const a=await Object(U.g)(e,t);return this.props.setStagedCommunityTemplate(a),a}catch(e){this.props.notify(Object(V.T)()),e.message.includes("mapping values are not allowed in this context")&&Object(F.a)("review_template.failure",{templateUrl:t})}},this.onDismiss=()=>{this.props.history.push(`/orgs/${this.props.org.id}/settings/templates`)},this.updateOverlayStatus=e=>this.setState((()=>({status:e}))),this.handleInstallTemplate=async()=>{let e;const t=this.props.stagedTemplateUrl;try{e=await Object(U.f)(this.props.org.id,this.props.stagedTemplateUrl,this.props.resourcesToSkip,this.props.stagedTemplateEnvReferences),Object(F.a)("template_install.success",{templateUrl:t})}catch(e){return Object(F.a)("template_install.failure",{templateUrl:t}),void this.props.notify(Object(V.T)())}let a="";try{const l=Object(h.j)(t);a=l.name,await Object(U.h)(e.stackID,a),Object(F.a)("template_rename",{templateUrl:t,templateName:a}),this.props.setStagedTemplateUrl(""),this.props.setTemplateUrlValidationMessage(""),this.props.getBuckets(),this.props.notify(Object(V.U)(a)),Object(F.a)(`community_template.${Object(F.c)(l.name)}.install.success`,{templateUrl:t})}catch(e){Object(F.a)(`community_template.${Object(F.c)(a)}.install.failure`,{templateUrl:t}),this.props.notify(Object(V.V)())}finally{this.props.fetchAndSetStacks(this.props.org.id),this.onDismiss()}}}componentDidMount(){this.props.stagedTemplateUrl?this.reviewTemplateResources(this.props.org.id,this.props.stagedTemplateUrl):this.onDismiss()}render(){const e=Object(h.j)(this.props.stagedTemplateUrl).name;return n.a.createElement(P,{onDismissOverlay:this.onDismiss,onInstall:this.handleInstallTemplate,resourceCount:this.props.resourceCount,status:this.state.status,templateName:e,url:this.props.stagedTemplateUrl,updateStatus:this.updateOverlayStatus})}}const W={getBuckets:L.h,fetchAndSetStacks:g.c,notify:i.c,setStagedCommunityTemplate:v.k,setStagedTemplateUrl:v.l},q=Object(s.c)(((e,t)=>{const a=Object(S.f)(e,I.ResourceType.Orgs,t.match.params.orgID),l={};for(const[t,a]of Object.entries(e.resources.templates.stagedTemplateEnvReferences))switch(a.valueType){case"string":case"time":case"duration":l[t]=a.value;continue;case"number":case"float":l[t]=parseFloat(a.value);continue;case"integer":l[t]=parseInt(a.value,10);continue}return{org:a,stagedTemplateEnvReferences:l,flags:e.flags.original,resourceCount:w(e.resources.templates.stagedCommunityTemplate.summary),resourcesToSkip:e.resources.templates.stagedCommunityTemplate.resourcesToSkip,stagedTemplateUrl:e.resources.templates.stagedTemplateUrl,communityTemplateReadmeCollection:e.resources.templates.communityTemplateReadmeCollection}}),W)(Object(r.j)(K));var J=a(21);const G=()=>{Object(F.a)("template_view_resource")},Y=Object(s.c)((e=>({allResources:[...Object(S.a)(e,I.ResourceType.Labels).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Buckets).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Telegrafs).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Variables).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Dashboards).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Tasks).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.Checks).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.NotificationEndpoints).map((e=>({id:e.id,name:e.name}))),...Object(S.a)(e,I.ResourceType.NotificationRules).map((e=>{if(e.id&&e.name)return{id:e.id,name:e.name}}))]})))((({link:e,metaName:t,resourceID:a,allResources:l})=>{const s=l.find((e=>e.id===a)),r=s?s.name:t;return n.a.createElement(J.a,{to:e,onClick:G},n.a.createElement(m.Heading,{element:m.HeadingElement.H5},n.a.createElement("code",null,r)))})),Q=({resources:e,stackID:t,orgID:a})=>{const[s,r]=Object(l.useState)("collapsed"),o=`${e.length} Resource${e.length?"s":""}`,i=k()("community-templates--resources-table-caret",{"community-templates--resources-table-caret__expanded":"expanded"===s}),c=e.map((e=>{switch(e.kind){case"Bucket":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,n.a.createElement(m.Heading,{element:m.HeadingElement.H5},e.kind)),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/load-data/buckets`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Check":case"CheckDeadman":case"CheckThreshold":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/alerting/checks/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Dashboard":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/dashboards/${e.resourceID}`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Label":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/settings/labels`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"NotificationEndpoint":case"NotificationEndpointHTTP":case"NotificationEndpointPagerDuty":case"NotificationEndpointSlack":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/alerting/endpoints/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"NotificationRule":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/alerting/rules/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Task":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/tasks/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Telegraf":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/load-data/telegrafs/${e.resourceID}/instructions`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Variable":return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind),n.a.createElement("td",null,n.a.createElement(Y,{link:`/orgs/${a}/settings/variables/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));default:return n.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},n.a.createElement("td",null,e.kind))}}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"community-templates--resources-table-toggle",onClick:()=>{r("expanded"===s?"collapsed":"expanded")}},n.a.createElement(m.Icon,{className:i,glyph:m.IconFont.CaretRight}),n.a.createElement(m.Heading,{element:m.HeadingElement.H4,style:{lineHeight:"40px"}},o)),"expanded"===s&&n.a.createElement("table",{className:"community-templates--resources-table"},n.a.createElement("tbody",null,c)))};class X extends l.PureComponent{constructor(){super(...arguments),this.state={isVisible:!1},this.showOverlay=()=>{this.setState({isVisible:!0})},this.onDismiss=()=>{this.setState({isVisible:!1})}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.Button,{text:"View Readme",icon:m.IconFont.GitHub,size:m.ComponentSize.Small,onClick:this.showOverlay,testID:"community-template-readme-overlay-button",style:{display:"inline-block"}}),n.a.createElement(m.Overlay,{visible:this.state.isVisible},n.a.createElement(m.Overlay.Container,{maxWidth:800,testID:"template-install-overlay"},n.a.createElement(m.Overlay.Header,{title:"Read Me",onDismiss:this.onDismiss}),n.a.createElement(m.Overlay.Body,null,n.a.createElement(b,{url:this.props.url})))))}}var Z=a(224);class ee extends l.PureComponent{constructor(){super(...arguments),this.generateDeleteHandlerForStack=(e,t)=>async()=>{try{await Object(U.c)(e,this.props.orgID),Object(F.a)("template_delete",{templateName:t}),this.props.notify(Object(V.R)(t)),this.props.getBuckets()}catch(e){this.props.notify(Object(V.Q)()),Object(Z.b)(e,{name:"The community template delete failed"})}finally{this.props.fetchAndSetStacks(this.props.orgID)}}}componentDidMount(){try{this.props.fetchAndSetStacks(this.props.orgID)}catch(e){this.props.notify(Object(V.S)()),Object(Z.b)(e,{name:"The community template fetch stack failed"})}}renderStackSources(e){return e.map((e=>e.includes("github")&&e.includes("influxdata")?n.a.createElement(X,{key:e,url:e}):e))}render(){return this.props.stacks.length?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Installed Templates"),n.a.createElement(m.Table,{striped:!0,highlight:!0},n.a.createElement(m.Table.Header,null,n.a.createElement(m.Table.Row,null,n.a.createElement(m.Table.HeaderCell,{style:{width:"250px"}},"Template Name"),n.a.createElement(m.Table.HeaderCell,{style:{width:"calc(100% - 700px)"}},"Installed Resources"),n.a.createElement(m.Table.HeaderCell,{style:{width:"180px"}},"Install Date"),n.a.createElement(m.Table.HeaderCell,{style:{width:"210px"}},"Links"),n.a.createElement(m.Table.HeaderCell,{style:{width:"60px"}}," "))),n.a.createElement(m.Table.Body,null,this.props.stacks.map((e=>n.a.createElement(m.Table.Row,{testID:"installed-template-list",key:`stack-${e.id}`},n.a.createElement(m.Table.Cell,{testID:`installed-template-${e.name}`,verticalAlignment:m.VerticalAlignment.Top},n.a.createElement("span",{className:"community-templates--resources-table-item"},e.name)),n.a.createElement(m.Table.Cell,{testID:"template-resource-link",verticalAlignment:m.VerticalAlignment.Top},n.a.createElement(Q,{resources:e.resources,stackID:e.id,orgID:this.props.orgID})),n.a.createElement(m.Table.Cell,{verticalAlignment:m.VerticalAlignment.Top},n.a.createElement("span",{className:"community-templates--resources-table-item"},new Date(e.createdAt).toDateString())),n.a.createElement(m.Table.Cell,{testID:"template-source-link",verticalAlignment:m.VerticalAlignment.Top},this.renderStackSources(e.sources)),n.a.createElement(m.Table.Cell,{verticalAlignment:m.VerticalAlignment.Top,horizontalAlignment:m.Alignment.Right},n.a.createElement(m.ConfirmationButton,{confirmationButtonText:"Delete",testID:`template-delete-button-${e.name}`,confirmationButtonColor:m.ComponentColor.Danger,confirmationLabel:"Really Delete All Resources?",popoverColor:m.ComponentColor.Default,popoverAppearance:m.Appearance.Solid,onConfirm:this.generateDeleteHandlerForStack(e.id,e.name),icon:m.IconFont.Trash_New,size:m.ComponentSize.Medium,status:m.ComponentStatus.Default,shape:m.ButtonShape.Square,color:m.ComponentColor.Colorless,style:{height:"40px"}})))))))):n.a.createElement("h4",null,"You haven't installed any templates yet")}}const te={getBuckets:L.h,fetchAndSetStacks:g.c,notify:i.c},ae=Object(s.c)((e=>({stacks:e.resources.templates.stacks.filter((e=>"delete"!==e.eventType&&"uninstall"!==e.eventType))})),te)(ee);var le=a(683),ne=a(666),se=a(98),re=a(9),oe=a(63);const ie="/orgs/:orgID/settings/templates",ce=`${ie}/import/:directory/:templateName/:templateExtension`;let me=class extends l.Component{constructor(){super(...arguments),this.state={validationMessage:""},this.startTemplateInstall=()=>{if(!this.props.stagedTemplateUrl)return this.props.notify(Object(V.W)()),!1;try{Object(F.a)("template_click_lookup",{templateName:Object(h.j)(this.props.stagedTemplateUrl).name}),this.props.history.push(`/orgs/${this.props.org.id}/settings/templates/import`)}catch(e){this.props.notify(Object(V.W)()),Object(Z.b)(e,{name:"The community template getTemplateDetails failed"})}},this.handleTemplateChange=e=>{const t=e.target.value.trim(),a=Object(h.m)(t);this.setValidationMessage(a),this.props.setStagedTemplateUrl(t)},this.handleInputKeyPress=e=>{"Enter"===e.key&&this.startTemplateInstall()},this.onClickBrowseCommunityTemplates=()=>{Object(F.a)("template_click_browse"),window.open("https://github.com/influxdata/community-templates#templates")},this.setValidationMessage=e=>{this.setState({validationMessage:e})}}componentDidMount(){var e,t,a;const l=Object(r.e)(this.props.location.pathname,{path:ce});(null===(e=null==l?void 0:l.params)||void 0===e?void 0:e.directory)&&(null===(t=null==l?void 0:l.params)||void 0===t?void 0:t.templateName)&&(null===(a=null==l?void 0:l.params)||void 0===a?void 0:a.templateExtension)&&this.props.setStagedTemplateUrl(Object(h.h)(l.params.directory,l.params.templateName,l.params.templateExtension))}render(){const{org:e}=this.props;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.Page,{titleTag:Object(oe.a)(["Templates","Settings"])},n.a.createElement(ne.a,null),n.a.createElement(le.a,{activeTab:"templates",orgID:e.id},n.a.createElement(m.FlexBox,{direction:m.FlexDirection.Column,margin:m.ComponentSize.Small,stretchToFitWidth:!0,alignItems:m.AlignItems.Stretch},n.a.createElement(m.Panel,{className:"community-templates-panel"},n.a.createElement(m.Panel.SymbolHeader,{symbol:n.a.createElement(m.Bullet,{text:1,size:m.ComponentSize.Medium}),title:n.a.createElement(m.Heading,{element:m.HeadingElement.H4},"Find a template then return here to install it"),size:m.ComponentSize.Small},n.a.createElement(m.Button,{color:m.ComponentColor.Primary,size:m.ComponentSize.Large,onClick:this.onClickBrowseCommunityTemplates,text:"Browse Community Templates",testID:"browse-template-button",icon:m.IconFont.GitHub}))),n.a.createElement(m.Panel,{className:"community-templates-panel"},n.a.createElement(m.Panel.SymbolHeader,{symbol:n.a.createElement(m.Bullet,{text:2,size:m.ComponentSize.Medium}),title:n.a.createElement(m.Heading,{element:m.HeadingElement.H4},"Paste the URL of the Template's resource manifest file"),size:m.ComponentSize.Small}),n.a.createElement(m.Panel.Body,{size:m.ComponentSize.Large,direction:m.FlexDirection.Column},n.a.createElement("p",null,"Every template has a file that controls what gets installed, which is usually a YAML or JSON file"),n.a.createElement(m.FlexBox,{direction:m.FlexDirection.Row,margin:m.ComponentSize.Large,stretchToFitWidth:!0},n.a.createElement(m.Input,{className:"community-templates-template-url",onChange:this.handleTemplateChange,onKeyPress:this.handleInputKeyPress,placeholder:"https://github.com/influxdata/community-templates/blob/master/example/example.yml",style:{flex:"1 0 0"},value:this.props.stagedTemplateUrl,testID:"lookup-template-input",size:m.ComponentSize.Large,status:this.inputStatus}),n.a.createElement(m.Button,{onClick:this.startTemplateInstall,size:m.ComponentSize.Large,text:"Lookup Template",testID:"lookup-template-button",className:"community-templates--browse"})),this.inputFeedback))),n.a.createElement(se.a,{resources:[I.ResourceType.Buckets,I.ResourceType.Checks,I.ResourceType.Dashboards,I.ResourceType.Labels,I.ResourceType.NotificationEndpoints,I.ResourceType.NotificationRules,I.ResourceType.Tasks,I.ResourceType.Telegrafs,I.ResourceType.Variables]},n.a.createElement(ae,{orgID:e.id})))),n.a.createElement(r.c,null,n.a.createElement(r.a,{path:`${ie}/import`,render:e=>n.a.createElement(q,Object.assign({},e,{setTemplateUrlValidationMessage:this.setValidationMessage}))})))}get inputFeedback(){const e=`community-templates-template-url--feedback community-templates-template-url--feedback__${this.inputStatus}`;if(this.state.validationMessage)return n.a.createElement("p",{className:e},this.state.validationMessage)}get inputStatus(){return""===this.state.validationMessage||this.state.validationMessage===h.b?m.ComponentStatus.Default:this.state.validationMessage===h.a?m.ComponentStatus.Valid:m.ComponentStatus.Error}};me=Object(o.a)([c.a],me);const pe={notify:i.c,setStagedTemplateUrl:v.l},ue=Object(s.c)((e=>({org:Object(re.a)(e),stagedTemplateUrl:e.resources.templates.stagedTemplateUrl})),pe)(Object(r.j)(me));var de=a(292),he=a(814),ge=a(6),Ee=a(41),ye=a(193),be=a(930),Te=a(24);t.default=()=>{var e;const[t,a]=Object(l.useState)(m.RemoteDataState.Loading),o=Object(s.d)(),i=Object(s.e)((e=>Object(S.a)(e,I.ResourceType.Orgs))),c=Object(r.f)(),{orgID:p}=Object(r.h)(),u=i.find((e=>e.id===p)),d=null===(e=i[0])||void 0===e?void 0:e.id;Object(l.useEffect)((()=>{if(u)return o(Object(be.i)(u)),Object(F.e)({orgID:p}),void a(m.RemoteDataState.Done);Object(F.e)({orgID:null}),i.length?c.push(`/orgs/${d}`):c.push("/no-orgs")}),[p,d,u,o,c,i.length]);const h="/orgs/:orgID";let g=n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.v}`,component:he.I});return Object(Te.c)("tokensUIRedesign")?(g=n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.v}`,component:he.y}),Object(Te.c)("paginatedTokens")&&(g=n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.v}`,component:he.x}))):Object(Te.c)("paginatedTokens")&&(g=n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.v}`,component:he.x})),n.a.createElement(de.a,{loading:t},n.a.createElement(l.Suspense,{fallback:n.a.createElement(de.a,null)},n.a.createElement(r.c,null,n.a.createElement(r.a,{path:`${h}/alerting`,component:he.c}),n.a.createElement(r.a,{path:`${h}/alert-history`,component:he.b}),n.a.createElement(r.a,{path:`${h}/checks/:checkID`,component:he.g}),n.a.createElement(r.a,{path:`${h}/tasks/:id/runs`,component:he.E}),n.a.createElement(r.a,{path:`${h}/tasks/:id/edit`,component:he.C}),n.a.createElement(r.a,{path:`${h}/tasks/new`,component:he.D}),n.a.createElement(r.a,{path:`${h}/tasks`,component:he.F}),n.a.createElement(r.a,{path:`${h}/data-explorer`,component:he.m}),Object(Te.c)("paginatedDashboards")?n.a.createElement(r.a,{path:`${h}/dashboards-list`,component:he.l}):n.a.createElement(r.a,{path:`${h}/dashboards-list`,component:he.k}),n.a.createElement(r.a,{path:`${h}/dashboards/:dashboardID`,component:he.j}),n.a.createElement(r.a,{exact:!0,path:`${h}/dashboards`,component:he.z}),n.a.createElement(r.a,{path:`${h}/${Ee.e.toLowerCase()}/:id`,component:he.o}),n.a.createElement(r.a,{path:`${h}/${Ee.e.toLowerCase()}`,component:he.p}),n.a.createElement(r.a,{path:`${h}/${ye.j}/sources`,component:he.M}),n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.h}/:contentID`,component:he.n}),n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.c}/:contentID`,component:he.i}),n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.t}/:contentID`,component:he.G}),n.a.createElement(r.a,{exact:!0,path:`${h}/${ye.j}`,component:he.M}),n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.o}`,component:he.A}),n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.s}`,component:he.H}),g,Object(Te.c)("fetchAllBuckets")?n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.a}`,component:he.f}):n.a.createElement(r.a,{path:`${h}/${ye.j}/${ye.a}`,component:he.e}),n.a.createElement(r.a,{path:`${h}/${ye.q}/${ye.w}`,component:he.L}),n.a.createElement(r.a,{path:`${h}/${ye.q}/${ye.u}`,component:ue}),n.a.createElement(r.a,{exact:!0,path:`${h}/${ye.q}/${ye.i}`,component:he.q}),n.a.createElement(r.a,{path:`${h}/${ye.q}/${ye.p}`,component:he.B}),n.a.createElement(r.a,{exact:!0,path:`${h}/${ye.q}`,component:he.L}),ge.f&&n.a.createElement(r.a,{path:`${h}/users`,component:he.K}),ge.f&&n.a.createElement(r.a,{path:`${h}/billing`,component:he.d}),ge.f&&n.a.createElement(r.a,{path:`${h}/usage`,component:he.J}),!ge.f&&n.a.createElement(r.a,{path:`${h}/members`,component:he.s}),n.a.createElement(r.a,{path:`${h}/about`,component:he.w}),n.a.createElement(r.a,{exact:!0,path:"/orgs/:orgID",component:he.r}),n.a.createElement(r.a,{component:he.t}))))}},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var l=a(2),n=a.n(l),s=a(4),r=a(19),o=a.n(r),i=a(3),c=a(50),m=a(34),p=a(29),u=a(7);const d=({type:e,link:t,className:a,limitText:l})=>n.a.createElement("div",{className:`${a} rate-alert--content__free`},n.a.createElement("span",null,"Oh no! You hit the"," ",n.a.createElement("a",{href:t,className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality"===e?"series cardinality":"query write")," ","limit ",null!=l?l:""," and your data stopped writing. Don’t lose important metrics."),n.a.createElement(i.FlexBox,{justifyContent:i.JustifyContent.Center,className:"rate-alert--button"},n.a.createElement(c.a,{className:"upgrade-payg--button__rate-alert",metric:()=>Object(u.a)(`user.limits.${e}.upgrade`)})));t.b=({className:e})=>{const t=Object(s.d)(),a=Object(s.e)(p.c),l=o()("rate-alert--content",{[`${e}`]:e});return a?n.a.createElement(d,{type:"series cardinality",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:l}):n.a.createElement("div",{className:`${l} rate-alert--content__payg`},n.a.createElement("span",null,"Data in has stopped because you've hit the"," ",n.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality")," ","limit. Let's get it flowing again."),n.a.createElement(i.FlexBox,{justifyContent:i.JustifyContent.Center,className:"rate-alert--button"},n.a.createElement(i.Button,{className:"rate-alert-overlay-button",color:i.ComponentColor.Primary,size:i.ComponentSize.Small,onClick:()=>{t(Object(m.d)("rate-limit",null,(()=>t(m.b))))},text:"Inspect Series Cardinality"})))}},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a(9),n=a(124),s=a(6);const r=e=>{const t=Object(n.a)().getState(),a=Object(l.a)(t),r=s.f?"InfluxDB Cloud":"InfluxDB";return(a&&a.name?[...e,Object(l.a)(t).name,r]:[...e,r]).join(" | ")}},666:function(e,t,a){"use strict";var l=a(2),n=a.n(l),s=a(3),r=a(89);class o extends l.Component{render(){return n.a.createElement(s.Page.Header,{fullWidth:!1},n.a.createElement(s.Page.Title,{title:"Settings",testID:"settings-page--header"}),n.a.createElement(r.a,null))}}t.a=o},683:function(e,t,a){"use strict";var l=a(14),n=a(2),s=a.n(n),r=a(184),o=a(3),i=a(161),c=a(77),m=a(24);var p=({activeTab:e,tabs:t,onTabClick:a})=>s.a.createElement(o.Tabs,{orientation:o.Orientation.Horizontal,size:o.ComponentSize.Large},t.map((t=>{let l=s.a.createElement(o.Tabs.Tab,{testID:`${t.id}--tab`,key:t.id,text:t.text,id:t.id,onClick:a,active:t.id===e});return t.cloudExclude&&(l=s.a.createElement(i.a,{key:t.id},l)),t.cloudOnly&&(l=s.a.createElement(c.a,{key:t.id},l)),t.featureFlagName&&(l=s.a.createElement(m.a,{key:t.id,name:t.featureFlagName,equals:t.featureFlagValue},l)),l}))),u=a(15);let d=class extends n.PureComponent{render(){const{activeTab:e,orgID:t,history:a}=this.props;return s.a.createElement(p,{tabs:[{text:"Variables",id:"variables"},{text:"Templates",id:"templates"},{text:"Labels",id:"labels"},{text:"Secrets",id:"secrets"}],activeTab:e,onTabClick:e=>{a.push(`/orgs/${t}/settings/${e}`)}})}};d=Object(l.a)([u.a],d);var h=Object(r.j)(d);let g=class extends n.PureComponent{render(){const{activeTab:e,orgID:t,children:a}=this.props;return s.a.createElement(o.Page.Contents,{fullWidth:!1,scrollable:!0,scrollbarSize:o.ComponentSize.Large,autoHideScrollbar:!0},s.a.createElement(o.Tabs.Container,{orientation:o.Orientation.Horizontal},s.a.createElement(h,{activeTab:e,orgID:t}),s.a.createElement(o.Tabs.TabContents,null,a)))}};g=Object(l.a)([u.a],g);t.a=g},89:function(e,t,a){"use strict";var l=a(2),n=a.n(l),s=a(4),r=a(19),o=a.n(r),i=a(3),c=a(50),m=a(43),p=a(6),u=a(53),d=a(10),h=a(13),g=a(29),E=a(34);a(100);const y={sendNotify:d.c,handleShowOverlay:E.d,handleDismissOverlay:E.b};t.a=Object(s.c)((e=>{const t=Object(m.j)(e);return{status:Object(m.k)(e),resources:t,showUpgrade:Object(g.c)(e)}}),y)((({status:e,alertOnly:t,className:a,resources:s,showUpgrade:r,sendNotify:m,handleShowOverlay:d,handleDismissOverlay:g})=>{const E=()=>{d("write-limit",null,g)};Object(l.useEffect)((()=>{p.f&&"exceeded"===e&&s.includes("write")&&m(r?Object(h.Ud)("",n.a.createElement(u.a,{type:"write",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/optimize-writes/",className:"flex-upgrade-content"})):Object(h.Ud)("Data in has stopped because you've hit the query write limit. Let's get it flowing again: ",n.a.createElement(i.Button,{className:"rate-alert-overlay-button",color:i.ComponentColor.Primary,size:i.ComponentSize.Small,onClick:E,text:"Request Write Limit Increase"})))}),[r,e]);const y=o()("rate-alert",{[`${a}`]:a});return p.f&&"exceeded"===e&&s.includes("cardinality")?n.a.createElement(i.FlexBox,{direction:i.FlexDirection.Column,alignItems:i.AlignItems.Center,margin:i.ComponentSize.Large,className:y},n.a.createElement(i.BannerPanel,{size:i.ComponentSize.ExtraSmall,gradient:i.Gradients.PolarExpress,icon:i.IconFont.Cloud,hideMobileIcon:!0,textColor:i.InfluxColors.Yeti},n.a.createElement(u.b,null))):p.f&&!t?n.a.createElement(c.a,{className:"upgrade-payg--button__header"}):null}))}}]);
//# sourceMappingURL=68.494044f5a6.js.map