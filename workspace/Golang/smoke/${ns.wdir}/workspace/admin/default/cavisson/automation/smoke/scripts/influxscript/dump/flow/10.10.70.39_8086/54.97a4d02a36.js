(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{100:function(e,t,r){var a=r(101);"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};r(17)(a,n);a.locals&&(e.exports=a.locals)},101:function(e,t,r){(t=r(16)(!1)).push([e.i,".flex-upgrade-content{display:flex;align-items:center}",""]),e.exports=t},105:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return i}));var a=r(6);const n=e=>e.startsWith("_"),s=()=>a.f?650:450,o=1,c="create-a-bucket",i={id:c,name:"+ Create A Bucket"}},116:function(e,t,r){"use strict";var a=r(14),n=r(2),s=r.n(n),o=r(8),c=r(3),i=r(15),l=r(42);let u=class extends n.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.clear=()=>{this.setState({searchTerm:""},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(o.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t,tabIndex:r=0,autoFocus:a,size:n}=this.props,{searchTerm:o}=this.state;return s.a.createElement(l.a,null,s.a.createElement(c.Input,{icon:c.IconFont.Search_New,placeholder:e,value:o,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input",tabIndex:r,onClear:this.clear,autoFocus:a,size:n}))}};u.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget",autoFocus:!1,tabIndex:0,size:c.ComponentSize.Small},u=Object(a.a)([i.a,Object(a.b)("design:paramtypes",[Object])],u),t.a=u},136:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(4),n=r(2),s=r(8);const o=/\w+\[\]/g,c=/\[\]?\./;class i extends n.PureComponent{constructor(e){super(e),this.createIndex=e=>Object(s.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const r=e[Object(s.sortedIndex)(e,t)];return!(!r||!r.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),r=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=r.slice(e);return t},this.collator=new Intl.Collator("en-us",{numeric:!0})}render(){return this.props.children(this.sorted)}get sorted(){return this.filtered.sort(((e,t)=>this.props.sortByKey?this.collator.compare(Object(s.get)(e,this.props.sortByKey),Object(s.get)(t,this.props.sortByKey)):this.collator.compare(e.name,t.name)))}get filtered(){const{list:e,labels:t,searchKeys:r}=this.props,{formattedSearchTerm:a}=this;if(Object(s.isEmpty)(a))return e;return e.filter((e=>{const n=Object.assign(Object.assign({},e),{labels:Object(s.get)(e,"labels",[]).map((e=>t[e]))});return r.some((e=>{const t=this.getKey(n,e),r=this.isStringArray(t);if(!r&&"object"==typeof t)throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(r){const e=this.createIndex(t);return this.checkIndex(e,a)}return String(t).toLocaleLowerCase().includes(a)}))}))}isStringArray(e){return!!Array.isArray(e)&&!(!Object(s.isEmpty)(e)&&"string"!=typeof e[0])}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(o)?this.getInExactKey(e,t):Object(s.get)(e,t,"")}getInExactKey(e,t){return t.split(c).reduce(((e,t)=>Object(s.flatMap)(e,(e=>Object(s.get)(e,t,[])))),[e])}}const l=e=>({labels:e.resources.labels.byID});function u(){return Object(a.c)(l)(i)}},161:function(e,t,r){"use strict";var a=r(2),n=r(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return n.f?null:e}}},182:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(3),o=r(109),c=r(5);t.a=function({sortDirection:e,sortKey:t,sortType:r,onSelect:a,resourceType:i,width:l=210}){const u=(e=>{switch(e){case c.ResourceType.Dashboards:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Modified (Oldest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Modified (Newest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}];case c.ResourceType.Tasks:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Active",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Inactive",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Completed (Oldest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Completed (Newest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Descending},{label:"Schedule (Most Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Schedule (Least Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Variables:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Type (A → Z)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Type (Z → A)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Secrets:return[{label:"Name (A → Z)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Labels:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Templates:return[{label:"Name (A → Z)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Buckets:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Retention (Ascending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Ascending},{label:"Retention (Descending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Descending}];case c.ResourceType.Telegrafs:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (Ascending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Descending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Scrapers:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"URL (Ascending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"URL (Descending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Bucket (Ascending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Bucket (Descending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Authorizations:return[{label:"Description (A → Z)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Status (Active)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Status (Inactive)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Date Created (Oldest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Date Created (Newest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Descending}];case c.ResourceType.Flows:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Created (Oldest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Created (Newest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}]}})(i),{label:d}=u.find((a=>a.sortKey===t&&a.sortDirection===e&&a.sortType===r)),p=e=>{const{sortKey:t,sortDirection:r,sortType:n}=e;a(t,r,n)};return n.a.createElement(s.Dropdown,{button:(e,t)=>n.a.createElement(s.Dropdown.Button,{onClick:t,active:e,testID:"resource-sorter--button"},`Sort by ${d}`),menu:a=>n.a.createElement(s.Dropdown.Menu,{onCollapse:a},u.map((a=>n.a.createElement(s.Dropdown.Item,{key:`${a.sortKey}${a.sortDirection}`,value:a,onClick:p,testID:`resource-sorter--${a.sortKey}-${a.sortDirection}`,selected:a.sortKey===t&&a.sortType===r&&a.sortDirection===e},a.label)))),style:{flexBasis:`${l}px`,width:`${l}px`},testID:"resource-sorter"})}},240:function(e,t,r){"use strict";var a=r(2),n=r.n(a);t.a=({childrenLeft:e,childrenRight:t,width:r})=>{let a=n.a.createElement(n.a.Fragment,null),s=n.a.createElement(n.a.Fragment,null);return e&&(a=n.a.createElement("div",{className:"tabbed-page--header-left"},e)),t&&(s=n.a.createElement("div",{className:"tabbed-page--header-right"},t)),r?n.a.createElement("div",{className:"tabbed-page--header","data-testid":"tabbed-page--header",style:{width:r}},a,s):n.a.createElement("div",{className:"tabbed-page--header","data-testid":"tabbed-page--header"},a,s)}},2551:function(e,t,r){"use strict";r.r(t);var a=r(14),n=r(2),s=r.n(n),o=r(184),c=r(3),i=r(341),l=r(350),u=r(98),d=r(4),p=r(8),m=r(116),h=r(240),g=r(351),y=r(125),b=r(128);class S extends n.PureComponent{constructor(){super(...arguments),this.handleDeleteScraper=()=>{const{onDeleteScraper:e,scraper:t}=this.props;e(t)},this.handleUpdateScraperName=e=>{const{onUpdateScraper:t,scraper:r}=this.props;t(Object.assign(Object.assign({},r),{name:e}))}}render(){const{scraper:e}=this.props;return s.a.createElement(c.ResourceCard,{contextMenu:this.contextMenu},s.a.createElement(c.ResourceCard.EditableName,{onUpdate:this.handleUpdateScraperName,name:e.name,noNameString:b.g,buttonTestID:"editable-name",inputTestID:"input-field"}),s.a.createElement(c.ResourceCard.Meta,null,[s.a.createElement(s.a.Fragment,null,"Bucket: ",e.bucket),s.a.createElement(s.a.Fragment,null,"URL: ",e.url)]))}get contextMenu(){return s.a.createElement(y.d,null,s.a.createElement(y.d.Menu,{icon:c.IconFont.Trash_New,color:c.ComponentColor.Danger},s.a.createElement(y.d.Item,{label:"Delete",action:this.handleDeleteScraper,testID:"confirmation-button"})))}}var D=r(109);class T extends n.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(g.a)(D.b)}render(){const{emptyState:e}=this.props;return s.a.createElement(c.ResourceList,null,s.a.createElement(c.ResourceList.Body,{emptyState:e},this.scrapersList))}get scrapersList(){const{scrapers:e,sortKey:t,sortDirection:r,sortType:a,onDeleteScraper:n,onUpdateScraper:o}=this.props,c=this.memGetSortedResources(e,t,r,a);if(void 0!==e)return c.map((e=>s.a.createElement(S,{key:e.id,scraper:e,onDeleteScraper:n,onUpdateScraper:o})))}}var E=r(987),f=r(136),C=r(182),k=r(206),v=r(15),x=r(5),w=r(9),O=r(11);const A=Object(f.a)();let N=class extends n.PureComponent{constructor(e){super(e),this.handleSort=(e,t,r)=>{this.setState({sortKey:e,sortDirection:t,sortType:r})},this.createScraperButton=e=>{let t=c.ComponentStatus.Default,r="Create a new Scraper";return this.hasNoBuckets&&(t=c.ComponentStatus.Disabled,r="You need at least 1 bucket in order to create a scraper"),s.a.createElement(c.Button,{text:"Create Scraper",icon:c.IconFont.Plus_New,color:c.ComponentColor.Primary,onClick:this.handleShowOverlay,status:t,titleText:r,testID:e})},this.handleUpdateScraper=e=>{const{onUpdateScraper:t}=this.props;t(e)},this.handleDeleteScraper=e=>{const{onDeleteScraper:t}=this.props;t(e)},this.handleShowOverlay=()=>{const{history:e,org:t}=this.props;this.hasNoBuckets||e.push(`/orgs/${t.id}/load-data/scrapers/new`)},this.handleFilterChange=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"name",sortDirection:c.Sort.Ascending,sortType:D.a.String}}render(){const{searchTerm:e,sortKey:t,sortDirection:r,sortType:a}=this.state,{scrapers:n}=this.props,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{placeholderText:"Filter scrapers...",searchTerm:e,onSearch:this.handleFilterChange}),s.a.createElement(C.a,{resourceType:x.ResourceType.Scrapers,sortKey:t,sortDirection:r,sortType:a,onSelect:this.handleSort}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{childrenLeft:o,childrenRight:this.createScraperButton("create-scraper-button-header")}),s.a.createElement(E.a,{visible:this.hasNoBuckets,resourceName:"Scrapers"}),s.a.createElement(A,{searchTerm:e,searchKeys:["name","url"],list:n},(e=>s.a.createElement(T,{scrapers:e,emptyState:this.emptyState,onDeleteScraper:this.handleDeleteScraper,onUpdateScraper:this.handleUpdateScraper,sortKey:t,sortDirection:r,sortType:a}))))}get hasNoBuckets(){const{buckets:e}=this.props;return!e||!e.length}get emptyState(){const{org:e}=this.props,{searchTerm:t}=this.state;return Object(p.isEmpty)(t)?s.a.createElement(c.EmptyState,{size:c.ComponentSize.Large},s.a.createElement(c.EmptyState.Text,null,`${e.name}`," does not own any ",s.a.createElement("b",null,"Scrapers"),", why not create one?"),this.createScraperButton("create-scraper-button-empty")):s.a.createElement(c.EmptyState,{size:c.ComponentSize.Large},s.a.createElement(c.EmptyState.Text,null,"No Scrapers match your query"))}};N=Object(a.a)([v.a,Object(a.b)("design:paramtypes",[Object])],N);const I={onDeleteScraper:k.b,onUpdateScraper:k.d};var j=Object(d.c)((e=>({scrapers:Object(O.a)(e,x.ResourceType.Scrapers),buckets:Object(O.a)(e,x.ResourceType.Buckets),org:Object(w.a)(e)})),I)(Object(o.j)(N)),K=r(790),B=r(63),F=r(193);const R=`/${F.m}/${F.n}/load-data/${F.o}`;let L=class extends n.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.Page,{titleTag:Object(B.a)(["Scrapers","Load Data"])},s.a.createElement(i.a,null),s.a.createElement(l.a,{activeTab:"scrapers"},s.a.createElement(u.a,{resources:[x.ResourceType.Scrapers,x.ResourceType.Buckets]},s.a.createElement(j,null)))),s.a.createElement(o.c,null,s.a.createElement(o.a,{path:`${R}/new`,component:K.a})))}};L=Object(a.a)([v.a],L);t.default=L},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return s}));const a=e=>e.me,n=e=>e.me.quartzMe,s=e=>{var t,r;const{quartzMe:a}=e.me,n=null!==(t=null==a?void 0:a.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(r=null==a?void 0:a.accountType)&&void 0!==r?r:"free")&&!1===n}},334:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(3),o=r(105);class c extends a.PureComponent{render(){var e;return n.a.createElement(s.Dropdown,{testID:null!==(e=this.props.testID)&&void 0!==e?e:"bucket-dropdown",button:(e,t)=>n.a.createElement(s.Dropdown.Button,{testID:"bucket-dropdown--button",active:e,onClick:t,status:this.status},this.selectedBucketName),menu:e=>n.a.createElement(s.Dropdown.Menu,{onCollapse:e},this.dropdownBuckets),style:this.props.style})}get selectedBucketName(){var e,t;const{selectedBucketID:r,buckets:a,emptyOriginal:n}=this.props;return this.isBucketsEmpty?"No buckets found":n?"Choose a bucket":null!==(t=null===(e=a.find((e=>e.id===r)))||void 0===e?void 0:e.name)&&void 0!==t?t:""}get status(){return this.isBucketsEmpty?s.ComponentStatus.Disabled:s.ComponentStatus.Default}get isBucketsEmpty(){const{buckets:e}=this.props;return!e||!e.length}get dropdownBuckets(){const{buckets:e,onSelectBucket:t,selectedBucketID:r}=this.props;if(this.isBucketsEmpty)return[];return e.filter((e=>!Object(o.e)(e.name))).map((e=>n.a.createElement(s.Dropdown.Item,{key:e.name,value:e,id:e.id,onClick:t,selected:e.id===r},e.name)))}}t.a=c},341:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(3),o=r(89);t.a=()=>n.a.createElement(s.Page.Header,{fullWidth:!1,testID:"load-data--header"},n.a.createElement(s.Page.Title,{title:"Load Data"}),n.a.createElement(o.a,null))},350:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(4),o=r(42),c=r(14),i=r(184),l=r(3),u=r(24),d=r(15),p=r(161);let m=class extends a.PureComponent{render(){const{activeTab:e,orgID:t,history:r}=this.props,a=e=>{r.push(`/orgs/${t}/load-data/${e}`)},s=[{text:"Sources",id:"sources",cloudExclude:!1,featureFlag:null},{text:"Buckets",id:"buckets",cloudExclude:!1,featureFlag:null},{text:"Telegraf",id:"telegrafs",cloudExclude:!1,featureFlag:null},{text:"Scrapers",id:"scrapers",cloudExclude:!0,featureFlag:null},{text:"API Tokens",id:"tokens",cloudExclude:!1,featureFlag:null}],o=s.find((t=>t.id===e)).text;return n.a.createElement(l.Tabs,{orientation:l.Orientation.Horizontal,size:l.ComponentSize.Large,dropdownBreakpoint:872,dropdownLabel:o},s.map((t=>{let r=n.a.createElement(l.Tabs.Tab,{testID:`${t.id}--tab`,key:t.id,text:t.text,id:t.id,onClick:a,active:t.id===e});return t.cloudExclude&&(r=n.a.createElement(p.a,{key:t.id},r)),t.featureFlag&&(r=n.a.createElement(u.a,{key:t.id,name:t.featureFlag},r)),r})))}};m=Object(c.a)([d.a],m);var h=Object(i.j)(m),g=r(9);const y=e=>("buckets"!==e||!Object(u.c)("fetchAllBuckets"))&&("tokens"!==e||!Object(u.c)("paginatedTokens")),b=Object(s.c)((e=>({orgID:Object(g.a)(e).id})));t.a=b((({activeTab:e,orgID:t,children:r})=>n.a.createElement(l.Page.Contents,{fullWidth:!1,scrollable:y(e),scrollbarSize:l.ComponentSize.Large,autoHideScrollbar:!0},n.a.createElement(l.Tabs.Container,{orientation:l.Orientation.Horizontal,stretchToFitHeight:!0},n.a.createElement(h,{activeTab:e,orgID:t}),n.a.createElement(o.a,null,n.a.createElement(l.Tabs.TabContents,null,r))))))},50:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(4),o=r(19),c=r.n(o),i=r(184),l=r(3),u=r(77),d=r(29);t.a=({size:e=l.ComponentSize.Small,className:t,buttonText:r="Upgrade Now",metric:a})=>{const o=Object(s.e)(d.c),p=c()("upgrade-payg--button",{[`${t}`]:t}),m=Object(i.f)();return n.a.createElement(u.a,null,o&&n.a.createElement(l.Button,{icon:l.IconFont.CrownSolid_New,className:p,size:e,shape:l.ButtonShape.Default,onClick:()=>{a&&a(),m.push("/checkout")},text:r,style:{background:"linear-gradient(45deg, rgb(52, 187, 85) 0%, rgb(0, 163, 255) 100%)"},testID:"cloud-upgrade--button"}))}},53:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r(2),n=r.n(a),s=r(4),o=r(19),c=r.n(o),i=r(3),l=r(50),u=r(34),d=r(29),p=r(7);const m=({type:e,link:t,className:r,limitText:a})=>n.a.createElement("div",{className:`${r} rate-alert--content__free`},n.a.createElement("span",null,"Oh no! You hit the"," ",n.a.createElement("a",{href:t,className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality"===e?"series cardinality":"query write")," ","limit ",null!=a?a:""," and your data stopped writing. Don’t lose important metrics."),n.a.createElement(i.FlexBox,{justifyContent:i.JustifyContent.Center,className:"rate-alert--button"},n.a.createElement(l.a,{className:"upgrade-payg--button__rate-alert",metric:()=>Object(p.a)(`user.limits.${e}.upgrade`)})));t.b=({className:e})=>{const t=Object(s.d)(),r=Object(s.e)(d.c),a=c()("rate-alert--content",{[`${e}`]:e});return r?n.a.createElement(m,{type:"series cardinality",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:a}):n.a.createElement("div",{className:`${a} rate-alert--content__payg`},n.a.createElement("span",null,"Data in has stopped because you've hit the"," ",n.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality")," ","limit. Let's get it flowing again."),n.a.createElement(i.FlexBox,{justifyContent:i.JustifyContent.Center,className:"rate-alert--button"},n.a.createElement(i.Button,{className:"rate-alert-overlay-button",color:i.ComponentColor.Primary,size:i.ComponentSize.Small,onClick:()=>{t(Object(u.d)("rate-limit",null,(()=>t(u.b))))},text:"Inspect Series Cardinality"})))}},63:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(9),n=r(124),s=r(6);const o=e=>{const t=Object(n.a)().getState(),r=Object(a.a)(t),o=s.f?"InfluxDB Cloud":"InfluxDB";return(r&&r.name?[...e,Object(a.a)(t).name,o]:[...e,o]).join(" | ")}},77:function(e,t,r){"use strict";var a=r(2),n=r(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return n.f?e:null}}},790:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(8),o=r(4),c=r(184),i=r(3),l=r(334);class u extends a.PureComponent{constructor(e){super(e),this.handleNameValidation=e=>e?null:"Name cannot be empty",this.handleUrlValidation=e=>{if(!e)return"Target URL cannot be empty";return e.startsWith("http://")||e.startsWith("https://")?null:'Target URL must begin with "http://" or "https://"'}}render(){const{onInputChange:e,url:t,name:r,onSelectBucket:a,buckets:s,selectedBucketID:o,onSubmit:c,onDismiss:u}=this.props;return n.a.createElement(i.Form,{onSubmit:c},n.a.createElement(i.Grid,null,n.a.createElement(i.Grid.Row,null,n.a.createElement(i.Grid.Column,{widthSM:i.Columns.Six},n.a.createElement(i.Form.ValidationElement,{label:"Name",validationFunc:this.handleNameValidation,value:r},(t=>n.a.createElement(i.Input,{value:r,name:"name",onChange:e,titleText:"Name",placeholder:"Name this scraper",autoFocus:!0,status:t})))),n.a.createElement(i.Grid.Column,{widthSM:i.Columns.Six},n.a.createElement(i.Form.Element,{label:"Bucket to store scraped metrics"},n.a.createElement(l.a,{selectedBucketID:o,buckets:s,onSelectBucket:a}))),n.a.createElement(i.Grid.Column,{widthSM:i.Columns.Twelve},n.a.createElement(i.Form.ValidationElement,{label:"Target URL",validationFunc:this.handleUrlValidation,value:t},(r=>n.a.createElement(i.Input,{value:t,name:"url",placeholder:"http://",onChange:e,titleText:"Target URL",status:r}))))),n.a.createElement(i.Grid.Row,null,n.a.createElement(i.Grid.Column,null,n.a.createElement(i.Form.Footer,null,n.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:u,testID:"create-scraper--cancel"}),n.a.createElement(i.Button,{status:this.submitButtonStatus,text:"Create",color:i.ComponentColor.Success,testID:"create-scraper--submit",type:i.ButtonType.Submit}))))))}get submitButtonStatus(){const{name:e,url:t,selectedBucketID:r}=this.props;return t&&e&&r?i.ComponentStatus.Default:i.ComponentStatus.Disabled}}var d=u,p=r(206),m=r(5),h=r(11);class g extends a.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const t=e.target.value,r=e.target.name,a=Object.assign(Object.assign({},this.state.scraper),{[r]:t});this.setState({scraper:a})},this.handleSelectBucket=e=>{const{orgID:t,id:r}=e,a=Object.assign(Object.assign({},this.state.scraper),{orgID:t,bucketID:r});this.setState({scraper:a})},this.handleFormSubmit=e=>{const{onCreateScraper:t}=this.props,{scraper:r}=this.state;e.preventDefault(),t(r),this.onDismiss()},this.onDismiss=()=>{this.props.history.goBack()};const{match:{params:{bucketID:t,orgID:r}},buckets:a}=this.props,n=Object(s.get)(a,"2.id","");this.state={scraper:{name:"Name this Scraper",type:"prometheus",url:`${this.origin}/metrics`,orgID:r,bucketID:t||n}}}render(){const{scraper:e}=this.state,{buckets:t}=this.props;return n.a.createElement(i.Overlay,{visible:!0},n.a.createElement(i.Overlay.Container,{maxWidth:600},n.a.createElement(i.Overlay.Header,{title:"Create Scraper",onDismiss:this.onDismiss}),n.a.createElement(i.Overlay.Body,null,n.a.createElement("h5",{className:"wizard-step--sub-title"},"Scrapers collect data from multiple targets at regular intervals and to write to a bucket"),n.a.createElement(d,{buckets:t,url:e.url,name:e.name,selectedBucketID:e.bucketID,onInputChange:this.handleInputChange,onSelectBucket:this.handleSelectBucket,onSubmit:this.handleFormSubmit,onDismiss:this.onDismiss}))))}get origin(){return window.location.origin}}const y={onCreateScraper:p.a},b=Object(o.c)((e=>({buckets:Object(h.a)(e,m.ResourceType.Buckets)})),y);t.a=b(Object(c.j)(g))},89:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(4),o=r(19),c=r.n(o),i=r(3),l=r(50),u=r(43),d=r(6),p=r(53),m=r(10),h=r(13),g=r(29),y=r(34);r(100);const b={sendNotify:m.c,handleShowOverlay:y.d,handleDismissOverlay:y.b};t.a=Object(s.c)((e=>{const t=Object(u.j)(e);return{status:Object(u.k)(e),resources:t,showUpgrade:Object(g.c)(e)}}),b)((({status:e,alertOnly:t,className:r,resources:s,showUpgrade:o,sendNotify:u,handleShowOverlay:m,handleDismissOverlay:g})=>{const y=()=>{m("write-limit",null,g)};Object(a.useEffect)((()=>{d.f&&"exceeded"===e&&s.includes("write")&&u(o?Object(h.Ud)("",n.a.createElement(p.a,{type:"write",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/optimize-writes/",className:"flex-upgrade-content"})):Object(h.Ud)("Data in has stopped because you've hit the query write limit. Let's get it flowing again: ",n.a.createElement(i.Button,{className:"rate-alert-overlay-button",color:i.ComponentColor.Primary,size:i.ComponentSize.Small,onClick:y,text:"Request Write Limit Increase"})))}),[o,e]);const b=c()("rate-alert",{[`${r}`]:r});return d.f&&"exceeded"===e&&s.includes("cardinality")?n.a.createElement(i.FlexBox,{direction:i.FlexDirection.Column,alignItems:i.AlignItems.Center,margin:i.ComponentSize.Large,className:b},n.a.createElement(i.BannerPanel,{size:i.ComponentSize.ExtraSmall,gradient:i.Gradients.PolarExpress,icon:i.IconFont.Cloud,hideMobileIcon:!0,textColor:i.InfluxColors.Yeti},n.a.createElement(p.b,null))):d.f&&!t?n.a.createElement(l.a,{className:"upgrade-payg--button__header"}):null}))},987:function(e,t,r){"use strict";var a=r(2),n=r.n(a),s=r(3);t.a=({visible:e,resourceName:t})=>e&&n.a.createElement(s.Alert,{color:s.ComponentColor.Primary,icon:s.IconFont.AlertTriangle,className:"no-buckets-warning"},"You don't currently have any buckets. Any"," ",n.a.createElement("strong",null,t)," you have will not be able to write data until a bucket is created and they are directed to that bucket.")}}]);
//# sourceMappingURL=54.97a4d02a36.js.map