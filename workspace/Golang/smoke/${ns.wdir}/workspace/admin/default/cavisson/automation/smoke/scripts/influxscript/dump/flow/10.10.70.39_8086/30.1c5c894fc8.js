(window.webpackJsonp=window.webpackJsonp||[]).push([[30,0,1,9,10,84],{103:function(e,t,n){"use strict";n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return D})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return R})),n.d(t,"k",(function(){return A}));var a=n(25),r=n(12),o=n(55),i=n(5),s=n(166),l=n(64),c=n(9),u=n(11),d=n(6),m=n(24),p=n(223),h=n(10),f=n(36),g=n(13);let b=null,v=null,y=null,x=null,E=null;d.f&&(b=n(31).getBucketsSchemaMeasurements,v=n(31).MeasurementSchemaCreateRequest,y=n(31).MeasurementSchemaUpdateRequest,x=n(31).postBucketsSchemaMeasurement,E=n(31).patchBucketsSchemaMeasurement);const w=()=>async(e,t)=>{try{const n=t();Object(u.h)(n,i.ResourceType.Buckets)===i.RemoteDataState.NotStarted&&e(Object(p.h)(i.RemoteDataState.Loading));const a=Object(c.a)(n);let r;r=Object(m.c)("fetchAllBuckets")?await Object(s.a)(a.id,-1):await Object(s.a)(a.id),e(Object(p.h)(i.RemoteDataState.Done,r.normalizedBuckets))}catch(t){e(Object(p.h)(i.RemoteDataState.Error)),e(Object(h.c)(Object(g.Lb)()))}},S=e=>async(t,n)=>{try{const i=Object(c.a)(n()),s=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:i.id})});if(201!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);t(Object(p.e)(l)),t(Object(f.b)())}catch(e){console.error(e);const n=Object(l.a)(e);t(Object(h.c)(Object(g.C)(n)))}},k=(e,t,n)=>async(i,s)=>{try{const l=Object(c.a)(s()),u=await r.postBucket({data:Object.assign(Object.assign({},e),{orgID:l.id})});if(201!==u.status)throw new Error(u.data.message);const d=Object(a.a)(u.data,o.i);i(Object(p.e)(d)),i(Object(f.b)()),n&&n.length&&n.forEach((e=>{N(u.data.id,e,l.id,u.data.name,i)})),t(d.entities.buckets[u.data.id])}catch(e){console.error(e);const t=Object(l.a)(e);i(Object(h.c)(Object(g.C)(t)))}},C=e=>async()=>{try{const t=await b({bucketID:e});if(200!==t.status)throw new Error(t.data.message);return t.data}catch(e){return console.error("error while retrieving schemas",e),null}},O=e=>async(t,n)=>{try{const i=n(),s=F(i,e),l=await r.patchBucket({bucketID:e.id,data:s});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,o.i);t(Object(p.f)(c)),t(Object(h.c)(Object(g.J)(e.name)))}catch(e){console.error(e);const n=Object(l.a)(e);t(Object(h.c)(Object(g.I)(n)))}},D=(e,t)=>async(n,i)=>{try{const e=i(),s=F(e,t),l=await r.patchBucket({bucketID:t.id,data:s});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,o.i);n(Object(p.f)(c)),n(Object(h.c)(Object(g.H)(t.name)))}catch(t){console.error(t),n(Object(h.c)(Object(g.G)(e)))}},T=(e,t)=>async n=>{try{const t=await r.deleteBucket({bucketID:e});if(204!==t.status)throw new Error(t.data.message);n(Object(p.g)(e)),n(Object(f.b)()),n(Object(h.c)(Object(g.F)()))}catch(e){console.error(e),n(Object(h.c)(Object(g.E)(t)))}},j=(e,t)=>async n=>{try{const i=await r.postBucketsLabel({bucketID:e,data:{labelID:t.id}});if(201!==i.status)throw new Error(i.data.message);const s=await r.getBucket({bucketID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(g.o)()))}},I=(e,t)=>async n=>{try{const i=await r.deleteBucketsLabel({bucketID:e,labelID:t.id});if(204!==i.status)throw new Error(i.data.message);const s=await r.getBucket({bucketID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data,o.i);n(Object(p.f)(l))}catch(e){console.error(e),n(Object(h.c)(Object(g.Vc)()))}};async function N(e,t,n,a,r){var o;const i={bucketID:e,data:t,query:{orgID:n}};try{const e=await x(i);if(201!==e.status){const t=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.message;throw console.error("error adding measurement schema:",e),new Error(t)}r(Object(h.c)(Object(g.sc)(a,t.name)))}catch(e){console.error(e);const n=Object(l.a)(e);r(Object(h.c)(Object(g.rc)(a,t.name,n)))}}const R=(e,t,n,a)=>r=>{N(e,a,t,n,r)},A=(e,t,n,a,r)=>async o=>{var i;const s={bucketID:e,measurementID:t,data:a,query:{orgID:r}};try{const e=await E(s);if(200!==e.status){const t=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.message;throw new Error(t)}o(Object(h.c)(Object(g.uc)(n)))}catch(e){const t=Object(l.a)(e);o(Object(h.c)(Object(g.tc)(n,t)))}},F=(e,t)=>{const n=Object(u.g)(e,t.labels);return Object.assign(Object.assign({},t),{labels:n})}},1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return gn})),n.d(t,"b",(function(){return bn})),n.d(t,"c",(function(){return vn}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(8),l=n(237);const c=Object(a.lazy)((()=>Promise.all([n.e(2),n.e(19)]).then(n.bind(null,2570))));var u=({note:e,onChangeNote:t})=>r.a.createElement("div",{className:"note-editor--editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:r.a.createElement(i.TechnoSpinner,null)})},r.a.createElement(c,{script:Object(l.a)(e),onChangeScript:t}))),d=n(117);var m=e=>r.a.createElement("div",{className:"note-editor--preview","data-testid":"note-editor--preview"},r.a.createElement(i.DapperScrollbars,{className:"note-editor--preview-scroll"},r.a.createElement("div",{className:"note-editor--markdown-container"},r.a.createElement(d.a,{text:e.note,className:"markdown-format"})))),p=n(216),h=n(5);class f extends a.PureComponent{render(){const{note:e,onSetNote:t}=this.props;return r.a.createElement("div",{className:"note-editor"},r.a.createElement("div",{className:"note-editor--controls"},r.a.createElement("div",{className:"note-editor--helper"},"Need help using Markdown? Check out"," ",r.a.createElement("a",{href:"https://www.markdownguide.org/cheat-sheet",target:"_blank",rel:"noreferrer"},"this handy guide")),this.visibilityToggle),r.a.createElement("div",{className:"note-editor--body"},r.a.createElement(u,{note:e,onChangeNote:t}),r.a.createElement(m,{note:e})))}get visibilityToggle(){const{hasQuery:e,showNoteWhenEmpty:t,onToggleShowNoteWhenEmpty:n}=this.props;return e?r.a.createElement(i.FlexBox,{direction:i.FlexDirection.Row,justifyContent:i.JustifyContent.FlexEnd},r.a.createElement(i.InputLabel,null,"Show note when query returns no data"),r.a.createElement(i.SlideToggle,{active:t,size:i.ComponentSize.ExtraSmall,onChange:n})):null}}const g={onSetIsPreviewing:p.b,onToggleShowNoteWhenEmpty:p.e,onSetNote:p.c};var b=Object(o.c)((e=>{const{note:t,mode:n,viewID:a,isPreviewing:r,showNoteWhenEmpty:o}=e.noteEditor;return{note:t,hasQuery:n===h.NoteEditorMode.Editing&&a&&e.resources.views.byID[a]&&"markdown"!==e.resources.views.byID[a].properties.type,isPreviewing:r,showNoteWhenEmpty:o}}),g)(f),v=n(138),y=n(10),x=n(13);class E extends a.PureComponent{constructor(){super(...arguments),this.state={savingStatus:h.RemoteDataState.NotStarted},this.handleDismiss=()=>{const{onClose:e}=this.props;e()},this.handleSave=()=>{const{cellID:e,dashboardID:t,onCreateNoteCell:n,onUpdateViewNote:a,onNotify:r}=this.props;this.setState({savingStatus:h.RemoteDataState.Loading});try{e?a(e):n(t),this.handleDismiss()}catch(e){r(Object(x.ed)(e.message)),console.error(e),this.setState({savingStatus:h.RemoteDataState.Error})}}}componentDidMount(){const{cellID:e}=this.props;e?this.props.loadNote(e):this.props.resetNote()}componentDidUpdate(e){const{cellID:t,viewsStatus:n}=this.props;e.viewsStatus!==h.RemoteDataState.Done&&n===h.RemoteDataState.Done&&(t?this.props.loadNote(t):this.props.resetNote())}render(){const{dashboardID:e}=this.props;return e?r.a.createElement(i.Overlay.Container,{maxWidth:900,testID:"note-editor--overlay"},r.a.createElement(i.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.SpinnerContainer,{loading:this.props.viewsStatus,spinnerComponent:r.a.createElement(i.TechnoSpinner,null)},r.a.createElement(b,null))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:this.handleDismiss,testID:"cancel-note--button"}),r.a.createElement(i.Button,{text:"Save",color:i.ComponentColor.Success,status:this.saveButtonStatus,onClick:this.handleSave,testID:"save-note--button"}))):r.a.createElement(i.Overlay.Container,{maxWidth:360},r.a.createElement(i.Overlay.Header,{title:"Oh no!",onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("h5",null,"This page does not allow creation or editing of notes, better head"," ","to a dashboard to do that.")))}get overlayTitle(){const{mode:e}=this.props;let t;return t=e===h.NoteEditorMode.Editing?"Edit Note":"Add Note",t}get saveButtonStatus(){const{savingStatus:e}=this.state;return e===h.RemoteDataState.Loading?i.ComponentStatus.Loading:i.ComponentStatus.Default}}const w={onNotify:y.c,onCreateNoteCell:v.f,onUpdateViewNote:v.n,resetNote:p.a,loadNote:v.j};var S=Object(o.c)((({noteEditor:e,resources:t,overlays:n})=>{const{params:a}=n,{mode:r}=e,{status:o}=t.views;return{mode:r,viewsStatus:o,cellID:Object(s.get)(a,"cellID",void 0),dashboardID:Object(s.get)(a,"dashboardID",void 0)}}),w)(E),k=n(158),C=n(34),O=n(333),D=n(7),T=n(9),j=n(29);var I=e=>{const{onClose:t}=Object(a.useContext)(gn),n=Object(o.d)(),[s,l]=Object(a.useState)(""),{id:c}=Object(o.e)(T.a),{id:u}=Object(o.e)(j.a),d=()=>{e.onClose()};return r.a.createElement(i.Overlay.Container,{maxWidth:500},r.a.createElement(i.Overlay.Header,{title:"Generate All Access API Token",onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,{onSubmit:()=>{const e={orgID:c,description:s,permissions:Object(O.b)(c,u)};n(Object(k.a)(e)),d(),Object(D.a)("token.allAccess.create.success",{meID:u,name:s}),n(Object(C.d)("access-token",null,(()=>Object(C.b)())))}},r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},r.a.createElement(i.Alert,{icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Warning},"This token will be able to create, update, delete, read, and write to anything in this organization"),r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new API token",value:s,onChange:e=>{const{value:t}=e.target;l(t)},testID:"all-access-token-input"})),r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,icon:i.IconFont.Remove,onClick:d}),r.a.createElement(i.Button,{text:"Save",testID:"button--save",icon:i.IconFont.Checkmark,color:i.ComponentColor.Success,type:i.ButtonType.Submit}))))))},N=n(14),R=n(19),A=n.n(R);class F extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--header","data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?r.a.createElement("div",{className:"selector-list--draggable",onDragStart:e},r.a.createElement("div",{className:"selector-list--hamburger"}),r.a.createElement("h2",{className:"selector-list--title"},t)):r.a.createElement("h2",{className:"selector-list--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"selector-list--delete",onClick:e})}}F.defaultProps={testID:"selector-list--header"};class _ extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--menu","data-testid":e},t)}}_.defaultProps={testID:"selector-list--menu"};class M extends a.PureComponent{render(){const{scrollable:e,testID:t}=this.props;return e?r.a.createElement(i.DapperScrollbars,{className:"selector-list--body",style:{maxWidth:"100%",maxHeight:"100%"},testID:t},this.children):r.a.createElement("div",{className:"selector-list--body","data-testid":t},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?r.a.createElement("div",{className:"selector-list--contents"},t):t}}M.defaultProps={scrollable:!0,addPadding:!0,testID:"selector-list--body"};class L extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"selector-list--body selector-list--empty","data-testid":e},t)}}L.defaultProps={testID:"selector-list--empty"};class P extends a.PureComponent{render(){const{children:e,testID:t,className:n}=this.props,a=A()("selector-list",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":t},e)}}P.Header=F,P.Menu=_,P.Body=M,P.Empty=L,P.defaultProps={testID:"selector-list"};var $=n(70),B=n(150);class z extends a.PureComponent{render(){return this.props.children(this.sorted)}get sorted(){const{list:e,sortKey:t,direction:n}=this.props;return Object(s.orderBy)(e,[t],[n])}}var q=n(136);const H=Object(q.a)();class V extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:""},this.handleSetSearchTerm=e=>{this.setState({searchTerm:e.target.value})}}render(){const{selectedBuckets:e,onSelect:t,buckets:n}=this.props,{searchTerm:a}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a.Menu,null,r.a.createElement(i.Input,{value:a,onChange:this.handleSetSearchTerm,placeholder:"Search buckets..."})),r.a.createElement(H,{list:n,searchTerm:a,searchKeys:["name"]},(n=>r.a.createElement(z,{list:n,sortKey:"name"},(n=>r.a.createElement(B.a,{items:n.map((e=>e.name)),selectedItems:e,onSelectItem:t,multiSelect:!1}))))))}}var U=V;class W extends a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{activeTab:t,onClick:n}=this.props;e!==t&&n(e)}}render(){const{tabs:e,activeTab:t}=this.props;return r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},e.map((e=>r.a.createElement(i.SelectGroup.Option,{name:"bucket-selector",key:e,id:e,titleText:e,value:e,active:t===e,onClick:this.handleTabClick},e))))}}class G extends a.PureComponent{render(){const{title:e,activeTab:t,onTabClick:n}=this.props;return r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Stretch,direction:i.FlexDirection.Column,margin:i.ComponentSize.Medium},r.a.createElement("div",{className:"title"},e),r.a.createElement(W,{tabs:this.bucketTabs,activeTab:t,onClick:n}),this.builderCard)}get titlePreposition(){const{title:e}=this.props;switch(e.toLowerCase()){case"read":return"from";case"write":return"to";default:return"on"}}get bucketTabs(){return[O.a.AllBuckets,O.a.Scoped]}get builderCard(){const{selectedBuckets:e,onSelect:t,onSelectAll:n,onDeselectAll:a,buckets:o,activeTab:s,title:l}=this.props;switch(s){case O.a.AllBuckets:return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.EmptyState,{size:i.ComponentSize.Small},r.a.createElement(i.EmptyState.Text,null,"This token will be able to ",l.toLowerCase()," ",this.titlePreposition," all existing buckets as well as"," ",this.titlePreposition," any bucket created in the future")));case O.a.Scoped:return r.a.createElement(P,{className:"bucket-selectors"},r.a.createElement(P.Header,{title:""},r.a.createElement("div",{className:"bucket-selectors--buttons"},r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Row,margin:i.ComponentSize.Small,justifyContent:i.JustifyContent.FlexStart},r.a.createElement(i.Button,{text:"Select All",size:i.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:n}),r.a.createElement(i.Button,{text:"Deselect All",size:i.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:a})))),r.a.createElement(U,{buckets:o,onSelect:t,selectedBuckets:e}))}}}var K=G,Y=n(103),Z=n(169),Q=n(11);const X={loading:h.RemoteDataState.NotStarted,buckets:[]},J=r.a.createContext(X);let ee=!1;const te=r.a.memo((({loading:e,getBuckets:t,buckets:n,children:o})=>(Object(a.useEffect)((()=>{e===h.RemoteDataState.NotStarted&&(ee||(async e=>{ee=!0,await e(),ee=!1})(t))}),[e,t]),r.a.createElement(J.Provider,{value:{loading:e,buckets:n}},o)))),ne={getBuckets:Y.h};var ae=Object(o.c)((e=>{const t=Object(Z.b)(e);return{loading:Object(Q.h)(e,h.ResourceType.Buckets),buckets:t}}),ne)(te),re=n(105),oe=n(15);let ie=class extends a.PureComponent{constructor(){super(...arguments),this.state={description:"",readBuckets:[],writeBuckets:[],activeTabRead:O.a.Scoped,activeTabWrite:O.a.Scoped},this.handleReadTabClick=e=>{this.setState({activeTabRead:e})},this.handleWriteTabClick=e=>{this.setState({activeTabWrite:e})},this.handleSelectReadBucket=e=>{const t=Object(O.i)(e,this.state.readBuckets);this.setState({readBuckets:t})},this.handleSelectWriteBucket=e=>{const t=Object(O.i)(e,this.state.writeBuckets);this.setState({writeBuckets:t})},this.handleReadSelectAllBuckets=()=>{const e=this.props.buckets.map((e=>e.name));this.setState({readBuckets:e})},this.handleReadDeselectAllBuckets=()=>{this.setState({readBuckets:[]})},this.handleWriteSelectAllBuckets=()=>{const e=this.props.buckets.map((e=>e.name));this.setState({writeBuckets:e})},this.handleWriteDeselectAllBuckets=()=>{this.setState({writeBuckets:[]})},this.handleSave=()=>{const{orgID:e,onCreateAuthorization:t}=this.props,{activeTabRead:n,activeTabWrite:a}=this.state;let r=[];r=n===O.a.Scoped?[...this.readBucketPermissions]:[...this.allReadBucketPermissions],r=a===O.a.Scoped?[...r,...this.writeBucketPermissions]:[...r,...this.allWriteBucketPermissions];t({orgID:e,description:this.state.description,permissions:r}),this.handleDismiss()},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({description:t})},this.handleDismiss=()=>{this.props.onClose()}}render(){const{description:e,readBuckets:t,writeBuckets:n,activeTabRead:a,activeTabWrite:o}=this.state,{buckets:s}=this.props;return r.a.createElement(i.Overlay.Container,{maxWidth:800},r.a.createElement(i.Overlay.Header,{title:"Generate Read/Write API Token",onDismiss:this.handleDismiss}),r.a.createElement(i.Form,{onSubmit:this.handleSave},r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new API Token",value:e,onChange:this.handleInputChange,testID:"input-field--descr"})),r.a.createElement(i.Form.Element,{label:""},r.a.createElement(ae,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthSM:i.Columns.Six},r.a.createElement(K,{onSelect:this.handleSelectReadBucket,buckets:s,selectedBuckets:t,title:"Read",onSelectAll:this.handleReadSelectAllBuckets,onDeselectAll:this.handleReadDeselectAllBuckets,activeTab:a,onTabClick:this.handleReadTabClick})),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthSM:i.Columns.Six},r.a.createElement(K,{onSelect:this.handleSelectWriteBucket,buckets:s,selectedBuckets:n,title:"Write",onSelectAll:this.handleWriteSelectAllBuckets,onDeselectAll:this.handleWriteDeselectAllBuckets,activeTab:o,onTabClick:this.handleWriteTabClick})))))),r.a.createElement(i.Form.Footer,null,r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:this.handleDismiss,testID:"button--cancel"}),r.a.createElement(i.Button,{text:"Save",color:i.ComponentColor.Success,type:i.ButtonType.Submit,testID:"button--save"})))))}get writeBucketPermissions(){const{buckets:e}=this.props,t=this.state.writeBuckets.map((t=>e.find((e=>e.name===t))));return Object(O.h)(t,"write")}get readBucketPermissions(){const{buckets:e}=this.props,t=this.state.readBuckets.map((t=>e.find((e=>e.name===t))));return Object(O.h)(t,"read")}get allReadBucketPermissions(){const{orgID:e}=this.props;return Object(O.c)(e,"read")}get allWriteBucketPermissions(){const{orgID:e}=this.props;return Object(O.c)(e,"write")}};ie=Object(N.a)([oe.a],ie);const se={onCreateAuthorization:k.a};var le=Object(o.c)((e=>{const t=Object(T.a)(e).id;return{orgID:t,buckets:Object(Q.a)(e,h.ResourceType.Buckets).filter((e=>!Object(re.e)(e.name))).filter((e=>e.orgID===t))}}),se)(ie),ce=n(98),ue=n(184),de=n(656),me=n(146),pe=n(106);var he=()=>{var e;const t=Object(o.d)(),n=Object(o.e)((e=>Object(Q.a)(e,h.ResourceType.Telegrafs))),{onClose:s}=Object(a.useContext)(gn),l=Object(ue.i)({path:"/orgs/:orgID/load-data/telegrafs/:id/view",exact:!0,strict:!1});let c;(null===(e=null==l?void 0:l.params)||void 0===e?void 0:e.id)&&(c=n.find((e=>e.id===l.params.id)));const[u,d]=Object(a.useState)((null==c?void 0:c.config)||"");if(!c)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Panel,{style:{marginBottom:"8px"}},r.a.createElement(i.Panel.Body,{direction:i.FlexDirection.Row,alignItems:i.AlignItems.Center,justifyContent:i.JustifyContent.SpaceBetween,size:i.ComponentSize.ExtraSmall},r.a.createElement(i.Heading,{element:i.HeadingElement.H4},c.name),r.a.createElement(i.Button,{icon:i.IconFont.Download_New,color:i.ComponentColor.Secondary,text:"Download Config",onClick:()=>{const{name:e}=c;Object(pe.b)(u,e||"telegraf",".conf")}}))),r.a.createElement("div",{className:"config-overlay"},r.a.createElement(de.a,{config:u,onChangeConfig:e=>{d(e)}}))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Tertiary,text:"Cancel",onClick:s}),r.a.createElement(i.ConfirmationButton,{color:i.ComponentColor.Success,text:"Save Changes",onConfirm:()=>{t(Object(me.g)(Object.assign(Object.assign({},c),{config:u}))),s()},confirmationButtonText:"Save",confirmationButtonColor:i.ComponentColor.Success,confirmationLabel:"This cannot be undone, are you sure?"})))};var fe=()=>{const{onClose:e}=Object(a.useContext)(gn);return Object(a.useEffect)((()=>{Object(D.a)(`telegraf_page.edit_config.at.${Date.now()}`)}),[]),r.a.createElement(i.Overlay.Container,{maxWidth:1200,testID:"telegraf-overlay"},r.a.createElement(i.Overlay.Header,{title:"Edit Telegraf Configuration",onDismiss:e}),r.a.createElement(ce.a,{resources:[h.ResourceType.Telegrafs]},r.a.createElement(he,null)))},ge=n(21),be=n(123),ve=n(334);const ye=' [[outputs.influxdb_v2]]\n  ## The URLs of the InfluxDB cluster nodes.\n  ##\n  ## Multiple URLs can be specified for a single cluster, only ONE of the\n  ## urls will be written to each interval.\n  ##   ex: urls = ["https://us-west-2-1.aws.cloud2.influxdata.com"]\n  urls = ["<%= server %>"]\n\n  ## API token for authentication.\n  token = "<%= token %>"\n\n  ## Organization is the name of the organization you wish to write to; must exist.\n  organization = "<%= org %>"\n\n  ## Destination bucket to write into.\n  bucket = "<%= bucket %>"\n\n  ## The value of this tag will be used to determine the bucket.  If this\n  ## tag is not set the \'bucket\' option is used as the default.\n  # bucket_tag = ""\n\n  ## If true, the bucket tag will not be added to the metric.\n  # exclude_bucket_tag = false\n\n  ## Timeout for HTTP messages.\n  # timeout = "5s"\n\n  ## Additional HTTP headers\n  # http_headers = {"X-Special-Header" = "Special-Value"}\n\n  ## HTTP Proxy override, if unset values the standard proxy environment\n  ## variables are consulted to determine which proxy, if any, should be used.\n  # http_proxy = "http://corporate.proxy:3128"\n\n  ## HTTP User-Agent\n  # user_agent = "telegraf"\n\n  ## Content-Encoding for write request body, can be set to "gzip" to\n  ## compress body or "identity" to apply no encoding.\n  # content_encoding = "gzip"\n\n  ## Enable or disable uint support for writing uints influxdb 2.0.\n  # influx_uint_support = false\n\n  ## Optional TLS Config for use on HTTP connections.\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n',xe={server:"http://127.0.0.1:9999",token:"$INFLUX_TOKEN",org:"orgID",bucket:"bucketID"};class Ee extends a.PureComponent{constructor(){super(...arguments),this.state={selectedBucket:null},this.handleDismiss=()=>{this.props.onClose()},this.handleSelectBucket=e=>{this.setState({selectedBucket:e})},this.handleDownloadConfig=()=>{const{server:e,org:t}=this.props,n=this.currentBucket,a=Object(be.d)(ye,Object.assign({},xe,{server:e,org:t,bucket:n?n.name:xe.bucket}));Object(pe.b)(a,"outputs.influxdb_v2",".conf")}}render(){return r.a.createElement(r.a.Fragment,null,this.overlay)}get buckets(){const{buckets:e}=this.props;return(e||[]).filter((e=>"system"!==e.type)).sort(((e,t)=>{const n=e.name.toLowerCase(),a=t.name.toLowerCase();return n>a?1:n<a?-1:0}))}get currentBucket(){const e=this.buckets,{selectedBucket:t}=this.state;return e.length?t||e[0]:null}get overlay(){const{server:e,org:t,orgID:n}=this.props,a=this.buckets,o=this.currentBucket;let s=null;return a.length&&(s=r.a.createElement(ve.a,{selectedBucketID:this.currentBucket.id,buckets:a,onSelectBucket:this.handleSelectBucket})),r.a.createElement(i.Overlay.Container,{maxWidth:1200},r.a.createElement(i.Overlay.Header,{title:"Telegraf Output Configuration",onDismiss:this.handleDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("p",{style:{marginTop:"-18px"}},"The $INFLUX_TOKEN can be generated on the",r.a.createElement(ge.a,{to:`/orgs/${n}/load-data/tokens`}," API Tokens tab"),"."),r.a.createElement("p",null,s),r.a.createElement("div",{className:"output-overlay"},r.a.createElement(be.b,{variables:{server:e||xe.server,org:t||xe.org,token:"$INFLUX_TOKEN",bucket:o?o.name:xe.bucket}},r.a.createElement(be.c,{text:ye,label:"telegraf.conf",testID:"telegraf-output-overlay--code-snippet"})))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Secondary,text:"Download Config",onClick:this.handleDownloadConfig})))}}var we=Object(o.c)((e=>{const{name:t,id:n}=Object(T.a)(e);return{org:t,orgID:n,server:window.location.origin,buckets:Object(Q.a)(e,h.ResourceType.Buckets)}}))(Ee);var Se=Object(ue.j)((({orgName:e,selected:t,onDismiss:n,orgID:a,history:o})=>{const s=A()("org-switcher--item",{"org-switcher--item__selected":t}),l=t?i.IconFont.Checkmark_New:i.IconFont.CaretRight,c=t?r.a.createElement("em",null,"Current"):null;return r.a.createElement("li",{className:s,onClick:()=>{n(),o.push(`/orgs/${a}`)}},r.a.createElement("div",{className:"org-switcher--item-circle"},r.a.createElement(i.Icon,{glyph:l,className:"org-switcher--item-icon"})),r.a.createElement("span",{className:"org-switcher--item-label"},e,c))}));var ke=Object(o.c)((e=>({orgs:Object(Q.a)(e,h.ResourceType.Orgs),currentOrg:Object(T.a)(e)})),null)((({orgs:e,onClose:t,currentOrg:n})=>r.a.createElement(i.Overlay.Container,{maxWidth:500},r.a.createElement(i.Overlay.Header,{title:"Switch Organizations",onDismiss:t,testID:"switch-overlay--header"}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("p",{className:"org-switcher--prompt"},"Choose an organization"),r.a.createElement(z,{list:e,sortKey:"name",direction:i.Sort.Ascending},(e=>r.a.createElement("div",{className:"org-switcher--list"},e.map((e=>r.a.createElement(Se,{key:e.id,orgID:e.id,orgName:e.name,selected:e.id===n.id,onDismiss:t})))))))))),Ce=n(756);var Oe=()=>{const{onClose:e}=Object(a.useContext)(gn);return r.a.createElement(i.Overlay.Container,{maxWidth:Object(re.d)()},r.a.createElement(i.Overlay.Header,{title:"Create Bucket",onDismiss:e}),r.a.createElement(Ce.a,{onClose:e}))},De=n(50);var Te=Object(o.c)((e=>({assetName:Object(s.get)(e,"overlays.params.asset","")})))((({assetName:e,onClose:t})=>r.a.createElement(i.OverlayContainer,{maxWidth:600,testID:"asset-limit-overlay",className:"asset-limit-overlay"},r.a.createElement(i.GradientBox,{borderGradient:i.Gradients.MiyazakiSky,borderColor:i.InfluxColors.Grey5},r.a.createElement("div",{className:"asset-limit-overlay--contents"},r.a.createElement(i.Overlay.Header,{title:`Need More ${e}?`,wrapText:!0,onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"asset-limit-overlay--graphic-container"},r.a.createElement("div",{className:"asset-limit-overlay--graphic"},r.a.createElement("div",{className:"asset-limit-overlay--graphic-element"}))),r.a.createElement("p",null,"You’ve reached the maximum allotted ",e," on your current plan. Upgrade to Pay as you go to create more ",e,".")),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(De.a,{size:i.ComponentSize.Large,className:"upgrade-payg--button__asset-create"})))))));const je=({orgID:e})=>{const[t,n]=Object(a.useState)(""),[o,s]=Object(a.useState)("");return r.a.createElement(i.Form,{onSubmit:()=>{window.open(`mailto:support@influxdata.com?subject=Request%20Series%20Cardinality%20Increase&body=Organization ID%3A%20${e}%0D%0A%0D%0ARequested Series Cardinality Limit:%20${t}%0D%0A%0D%0AUse-Case Details:%0D%0A${o}`)}},r.a.createElement(i.Form.Divider,{lineColor:i.InfluxColors.Grey15}),r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Request Series Cardinality Limit Increase"),r.a.createElement(i.Form.ValidationElement,{label:"Approximate Series Cardinality Needed",validationFunc:e=>e?null:"Amount is required",value:t,required:!0},(e=>r.a.createElement(i.Input,{name:"Approximate Series Cardinality Needed",placeholder:"Tell us how much series cardinality you need.",required:!0,status:e,autoFocus:!0,value:t,onChange:e=>n(e.target.value),testID:"rate-alert-form-amount"}))),r.a.createElement(i.Form.ValidationElement,{label:"Use-Case Details",validationFunc:e=>e?null:"Use-case details are required",value:o,required:!0},(e=>r.a.createElement(i.TextArea,{name:"Use-Case Details",placeholder:"Tell us about your use-case, what you've tried so far, and why you need an increase.",status:e,value:o,onChange:e=>s(e.target.value),testID:"rate-alert-form-details",rows:10}))),r.a.createElement(i.Button,{shape:i.ButtonShape.Default,type:i.ButtonType.Submit,size:i.ComponentSize.Medium,color:i.ComponentColor.Primary,className:"rate-alert--request-increase-button",text:"Submit Request",status:t&&o?i.ComponentStatus.Default:i.ComponentStatus.Disabled}))};var Ie=Object(o.c)((e=>{const{id:t}=Object(T.a)(e);return{orgID:t}}))((({onClose:e,orgID:t})=>{const n=Object(ue.f)(),[o,s]=Object(a.useState)(!1);return r.a.createElement(i.OverlayContainer,{maxWidth:760,testID:"rate-limit-overlay",className:"rate-limit-overlay"},r.a.createElement(i.Overlay.Header,{title:"Let's get your data flowing again.",onDismiss:e,wrapText:!0}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"rate-limit-overlay--content"},r.a.createElement("div",{className:"rate-limit-overlay--image"}),r.a.createElement("div",null,r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Install the Series Cardinality Inspector"),r.a.createElement(i.Button,{size:i.ComponentSize.Large,color:i.ComponentColor.Success,className:"rate-alert--install-template-button",text:"Inspect My Series Cardinality",onClick:()=>{n.push(`/orgs/${t}/settings/templates`),e()}}),r.a.createElement("p",null,"Install not starting?"," ",r.a.createElement("a",{className:"rate-alert--instructions-link",href:"https://github.com/influxdata/community-templates/tree/master/influxdb2_cardinality_now",target:"blank"},"See manual instructions"),"."),r.a.createElement(i.FormDivider,{lineColor:i.InfluxColors.Grey15}),r.a.createElement("p",null,"Need some guidance?",r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.influxdata.com/blog/solving-runaway-series-cardinality-when-using-influxdb/",target:"_blank",rel:"noreferrer"},"Solving Runaway Series Cardinality When Using InfluxDB")),r.a.createElement(i.FormDivider,{lineColor:i.InfluxColors.Grey15}),r.a.createElement("p",null,"If you’ve inspected your schema and determined that your use-case requires a higher series cardinalty limit you may"," ",r.a.createElement("span",{className:"rate-alert--request-increase",onClick:()=>s(!o)},"submit an increase request"),"."))),o&&r.a.createElement(je,{orgID:t})))}));n(958);var Ne=()=>{const[e,t]=Object(a.useState)(""),{onClose:n}=Object(a.useContext)(gn),{id:s}=Object(o.e)(T.a),l=()=>{Object(D.a)("limit.requestincrease.writes",{reason:e}),window.open(`mailto:support@influxdata.com?subject=Request%20Query%20Write%20Limit%20Increase&body=Organization ID%3A%20${s}%0D%0A%0D%0AUse-Case Details:%0D%0A${e}`)};return r.a.createElement(i.OverlayContainer,{maxWidth:760,testID:"rate-limit-overlay",className:"rate-limit-overlay"},r.a.createElement(i.Overlay.Header,{title:"Let's get your data flowing again.",onDismiss:n,wrapText:!0}),r.a.createElement(i.Overlay.Body,{className:"limits-increasewrites--body"},r.a.createElement(i.Form,{onSubmit:l,className:"limits-increasewrites--form"},r.a.createElement(i.Heading,{element:i.HeadingElement.H4},"Request Query Write Limit Increase"),r.a.createElement(i.Form.Element,{label:"Request Details",required:!0},r.a.createElement(i.Input,{name:"Write Limit Increase",placeholder:"Tell us how much you need your write limit raised",required:!0,autoFocus:!0,value:e,onChange:e=>t(e.target.value),testID:"rate-alert-form-amount",type:i.InputType.Text})))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{shape:i.ButtonShape.Default,type:i.ButtonType.Submit,size:i.ComponentSize.Medium,color:i.ComponentColor.Tertiary,text:"Cancel",onClick:n}),r.a.createElement(i.Button,{shape:i.ButtonShape.Default,onClick:l,size:i.ComponentSize.Medium,color:i.ComponentColor.Primary,className:"rate-alert--request-increase-button",text:"Submit Request",status:e.length?i.ComponentStatus.Default:i.ComponentStatus.Disabled})))};const Re=e=>{var t,n;const o=Object(a.useRef)(null),s=e.message?"":"This field is required",[l,c]=Object(a.useState)(null!==(n=null===(t=e.message)||void 0===t?void 0:t.length)&&void 0!==n?n:0);return Object(a.useEffect)((()=>{o.current.focus(),o.current.textLength&&(o.current.selectionStart=o.current.textLength,o.current.selectionEnd=o.current.textLength)}),[]),r.a.createElement(i.Form.Element,{label:`Message (${l} / 255)`,required:!0,errorMessage:s,testID:"annotation-message--form"},r.a.createElement(i.TextArea,{name:"message",value:e.message,onChange:t=>{c(t.target.value.length),e.onChange(t.target.value)},style:{height:"80px",minHeight:"80px"},ref:o,maxLength:255,testID:"edit-annotation-message"}))};var Ae=n(226),Fe=n(33),_e=n(235),Me=n(122);const Le=e=>{var t;const{timeZone:n}=Object(a.useContext)(Fe.a),o=new Date(e.time),s=e.timeFormat;"UTC"===n&&o.getTime();const l=Object(Me.a)(s,n),[c,u]=Object(a.useState)(l.format(o)),d=t=>{const n=Object(_e.b)(t,s);return e.onValidityCheck(n),n},m=e.invalidMessage?e.invalidMessage:c?d(c)?"":`Format must be ${s}`:"Required",p=`${e.name}-testID`,h=null!==(t=e.titleText)&&void 0!==t?t:"Start Time";return r.a.createElement(i.Form.Element,{label:h,required:!0,errorMessage:m,style:e.style},r.a.createElement(i.Input,{name:name,value:c,testID:p,onChange:t=>{if(u(t.target.value),d(t.target.value)){if("UTC"===n)return void e.onChange(Ae.DateTime.fromFormat(t.target.value,Object(_e.a)(s),{zone:"UTC"}).toISO());e.onChange(Ae.DateTime.fromFormat(t.target.value,Object(_e.a)(s)).toISO())}},onKeyPress:t=>{"Enter"!==t.key||e.onSubmit()},status:i.ComponentStatus.Default}))};var Pe=n(207);n(960);var $e=n(72);const Be=e=>{const[t,n]=Object(a.useState)(e.startTime),[s,l]=Object(a.useState)(e.endTime),[c,u]=Object(a.useState)(e.summary),[d,m]=Object(a.useState)(e.type),p=e.timeFormat?e.timeFormat:$e.a,[h,f]=Object(a.useState)(!0),[g,b]=Object(a.useState)(!0),v=Object(o.d)(),E=()=>{const e=(null==c?void 0:c.length)&&t&&g&&I();return"range"===d?e&&s&&h&&j():e},w=()=>{E()&&e.onSubmit({summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream})},S=()=>{const t=N?"edit":"create";Object(D.a)(`${e.eventPrefix}.dashboards.annotations.${t}_annotation.cancel`),e.onClose()},k=(e,t)=>e.getTime()>t.getTime(),C=t=>{let n=null;return n=e.getNow?new Date(e.getNow()):new Date,k(new Date(t),n)},O=()=>C(t)?{isValid:!1,message:"Start Time cannot be in the future"}:{isValid:!0},T=()=>{if("point"===d)return{isValid:!0};const e=new Date(t),n=new Date(s);return n.getTime()===e.getTime()?{isValid:!1,message:"Stop Time must be after the start time"}:k(n,e)?C(s)?{isValid:!1,message:"Stop Time cannot be in the future"}:{isValid:!0,message:null}:{isValid:!1,message:"Stop Time must be after the start time"}},j=()=>T().isValid,I=()=>O().isValid,N=Boolean(e.annotationId),R=N?"Changes":"Annotation",F=A()("annotation-form-footer",{"edit-annotation-form-footer":N}),_=A()({"edit-annotation-buttons":N}),M=r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Form.Label,{label:"Type"}),r.a.createElement(i.SelectGroup,{size:i.ComponentSize.Small,style:{marginBottom:8},color:i.ComponentColor.Default},r.a.createElement(i.SelectGroup.Option,{onClick:()=>{m("point")},active:"point"===d,id:"annotation-form-point-type",testID:"annotation-form-point-type-option",value:"point"},"Point"),r.a.createElement(i.SelectGroup.Option,{onClick:()=>{m("range"),s||l(t)},value:"range",active:"range"===d,id:"annotation-form-range-type",testID:"annotation-form-range-type-option"},"Range")));return r.a.createElement(i.Overlay.Container,{maxWidth:640},r.a.createElement(i.Overlay.Header,{title:`${e.title} Annotation`,onDismiss:S,className:"edit-annotation-head"}),r.a.createElement(i.Form,{onSubmit:n=>{n.preventDefault(),e.onSubmit({summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream})}},r.a.createElement(i.Overlay.Body,null,M,r.a.createElement("div",{className:"annotation-type-option-line"},r.a.createElement(Le,{onChange:e=>{n(e)},onSubmit:w,time:t,timeFormat:p,name:"startTime",onValidityCheck:b,invalidMessage:O().message}),"range"===d&&r.a.createElement(Le,{onChange:e=>{l(e)},onSubmit:w,invalidMessage:T().message,onValidityCheck:f,time:s,timeFormat:p,name:"endTime",titleText:"Stop Time",style:{marginLeft:10}})),r.a.createElement(Re,{message:c,onChange:e=>{u(e)}})),r.a.createElement(i.Overlay.Footer,{className:F},N&&r.a.createElement(i.Button,{text:"Delete Annotation",onClick:()=>{const n={summary:c,startTime:t,endTime:s,type:d,id:e.annotationId,stream:e.stream};try{v(Object(Pe.a)(n)),Object(D.a)(`${e.eventPrefix}.annotations.delete_annotation.success`),v(Object(y.c)(Object(x.vb)(n.summary))),e.onClose()}catch(t){Object(D.a)(`${e.eventPrefix}.annotations.delete_annotation.failure`),v(Object(y.c)(Object(x.ub)(t)))}},color:i.ComponentColor.Danger,style:{marginRight:"15px"},testID:"delete-annotation-button"}),r.a.createElement("div",{className:_},r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:S,testID:"edit-annotation-cancel-button",className:"edit-annotation-cancel"}),r.a.createElement(i.Button,{text:`Save ${R}`,color:i.ComponentColor.Primary,type:i.ButtonType.Submit,status:E()?i.ComponentStatus.Default:i.ComponentStatus.Disabled,testID:"annotation-submit-button"})))))};var ze=n(363),qe=n(215);const He=()=>{const{onClose:e}=Object(a.useContext)(gn),{createAnnotation:t,startTime:n,endTime:i,range:s,eventPrefix:l,cellID:c}=Object(o.e)(ze.a),u=Object(o.e)((e=>Object(qe.a)(e,c))),d=s?"range":"point";return r.a.createElement(Be,{title:"Add",type:d,onClose:e,onSubmit:n=>{t(n),e()},startTime:n,endTime:i,eventPrefix:l,timeFormat:u})};let Ve=null,Ue=null;n(6).f&&(Ue=n(31).MeasurementSchema,Ve=n(31).MeasurementSchemaList);const We=e=>{const t=()=>{e.onClose()},{schema:n}=e,a=JSON.stringify(n,null,2);return r.a.createElement(i.Overlay.Container,{maxWidth:600},r.a.createElement(i.Overlay.Header,{title:`Explicit Schema for: ${e.bucketName}`,onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(be.c,{text:a})),r.a.createElement(i.Overlay.Footer,null,r.a.createElement("div",null,r.a.createElement(i.Button,{text:"Close",onClick:t,testID:"show-explicit-schema-button-close"}))))},Ge=()=>{const{onClose:e}=Object(a.useContext)(gn),{schema:t,bucketName:n}=Object(o.e)(ze.a);return r.a.createElement(We,{onClose:e,schema:t,bucketName:n})};var Ke=n(64);const Ye=()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),{clickedAnnotation:n,cellID:i}=Object(o.e)(ze.a),s=Object(o.e)((e=>Object(qe.a)(e,i))),l=n.startTime===n.endTime?"point":"range";return r.a.createElement(Be,{onSubmit:async a=>{try{await t(Object(Pe.b)(a)),Object(D.a)(`${n.eventPrefix}.annotations.edit_annotation.success`),t(Object(y.c)(Object(x.Db)())),e()}catch(e){Object(D.a)(`${n.eventPrefix}.annotations.edit_annotation.failure`),t(Object(y.c)(Object(x.Cb)(Object(Ke.a)(e))))}},startTime:n.startTime,annotationId:n.id,endTime:n.endTime,type:l,summary:n.summary,stream:n.stream,onClose:e,title:"Edit",eventPrefix:n.eventPrefix,timeFormat:s})};var Ze=n(792),Qe=n(42);var Xe=()=>{const e=Object(ue.f)(),t=Object(o.e)(T.a),n=()=>{e.push(`/orgs/${t.id}/settings/variables`)};return r.a.createElement(i.Overlay.Container,{maxWidth:1e3},r.a.createElement(i.Overlay.Header,{title:"Create Variable",onDismiss:n,testID:"create-variable-overlay-header"}),r.a.createElement(ce.a,{resources:[h.ResourceType.Variables]},r.a.createElement(Qe.a,null,r.a.createElement(Ze.a,{onHideOverlay:n}))))},Je=n(593),et=n(542),tt=n(102),nt=n(113);class at extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0},this.handleSubmit=e=>{const{workingVariable:t}=this.state;e.preventDefault(),this.props.onUpdateVariable(t.id,t),this.props.onClose()},this.handleNameValidation=e=>{const{variables:t}=this.props,{workingVariable:n}=this.state,{error:a}=Object(et.a)(t,e,n.id);return this.setState({isNameValid:!a}),a},this.handleChangeInput=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.workingVariable),{name:t});this.setState({workingVariable:n})}}render(){const{onClose:e}=this.props,{workingVariable:t,isNameValid:n}=this.state;return r.a.createElement(i.Form,{onSubmit:this.handleSubmit},r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(i.Form.ValidationElement,{label:"Name",value:t.name,required:!0,prevalidate:!0,validationFunc:this.handleNameValidation},(e=>r.a.createElement(i.Input,{placeholder:"Rename your variable",name:"name",autoFocus:!0,value:t.name,onChange:this.handleChangeInput,status:e,testID:"rename-variable-input"}))))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:e}),r.a.createElement(i.Button,{text:"Submit",type:i.ButtonType.Submit,color:i.ComponentColor.Primary,status:n?i.ComponentStatus.Default:i.ComponentStatus.Disabled,testID:"rename-variable-submit"})))}}const rt={onUpdateVariable:nt.k},ot=Object(o.c)((e=>{const t=Object(tt.k)(e),n=t.find((t=>t.id===e.overlays.params.id));return{variables:t,startVariable:n}}),rt);var it=Object(ue.j)(ot(at));var st=Object(ue.j)(Object(a.memo)((()=>{const{onClose:e}=Object(a.useContext)(gn);return r.a.createElement(Je.a,{title:"Rename Variable",message:"Updating the name of a Variable can have unintended consequences. Anything that references this Variable by name will stop working including:",effectedItems:["Queries","Dashboards","Telegraf Configurations","Templates"],confirmButtonText:"I understand, let's rename my Variable",onClose:e},r.a.createElement(it,{onClose:e}))}))),lt=n(685),ct=n(657),ut=n.n(ct);class dt extends a.PureComponent{constructor(){super(...arguments),this.state={status:i.ComponentStatus.Default},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()},this.updateOverlayStatus=e=>this.setState((()=>({status:e}))),this.handleImportVariable=e=>{const{createVariableFromTemplate:t,getVariables:n,notify:a}=this.props;let r;this.updateOverlayStatus(i.ComponentStatus.Default);try{r=ut.a.parse(e)}catch(e){return this.updateOverlayStatus(i.ComponentStatus.Error),void a(Object(x.gc)(e.message))}t(r),n(),this.onDismiss()}}render(){return r.a.createElement(lt.a,{onDismissOverlay:this.onDismiss,resourceName:"Variable",onSubmit:this.handleImportVariable,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const mt={createVariableFromTemplate:nt.d,getVariables:nt.f,notify:y.c};var pt=Object(o.c)(null,mt)(Object(ue.j)(dt)),ht=n(681),ft=n(251);class gt extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0,hasValidArgs:!0},this.handleChangeType=e=>{const{isNameValid:t,workingVariable:n}=this.state,a={hasValidArgs:!1,isNameValid:t};switch(e){case"query":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{arguments:{type:"query",values:{query:"",language:"flux"}},selected:null})}));case"map":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"map",values:{}}})}));case"constant":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"constant",values:[]}})}))}},this.handleSelectMapDefault=e=>{const{workingVariable:t}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},t),{selected:[e]})})},this.handleChangeArgs=({args:e,isValid:t})=>{const{workingVariable:n}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},n),{arguments:e}),hasValidArgs:t})},this.handleSubmit=e=>{e.preventDefault();const{workingVariable:t}=this.state;this.props.onUpdateVariable(t.id,t)}}render(){const{workingVariable:e,hasValidArgs:t}=this.state;return r.a.createElement(gn.Consumer,null,(({onClose:n})=>r.a.createElement(i.Overlay.Container,{maxWidth:1e3,testID:"edit-variable--overlay"},r.a.createElement(i.Overlay.Header,{title:"Edit Variable",onDismiss:n}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,{onSubmit:e=>{this.handleSubmit(e),n()}},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(i.Form.Element,{label:"Name"},r.a.createElement(i.Input,{placeholder:"Give your variable a name",name:"name",autoFocus:!0,value:e.name,status:i.ComponentStatus.Disabled})),r.a.createElement(i.Heading,{element:i.HeadingElement.P,weight:i.FontWeight.Regular},"*To rename your variable, click the gear at the top right of the variable in the previous page and click rename."))),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Type",required:!0},r.a.createElement(i.Dropdown,{button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:t=>r.a.createElement(i.Dropdown.Menu,{onCollapse:t},ft.f.map((t=>r.a.createElement(i.Dropdown.Item,{key:t.type,id:t.type,value:t.type,onClick:this.handleChangeType,selected:t.type===e.arguments.type,testID:`variable-type-dropdown-${t.type}`},t.label))))})))),r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,null,r.a.createElement(ht.a,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:e.selected,args:e.arguments})))))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:n}),r.a.createElement(i.Button,{text:"Submit",type:i.ButtonType.Submit,color:i.ComponentColor.Primary,status:t?i.ComponentStatus.Default:i.ComponentStatus.Disabled,onClick:e=>{this.handleSubmit(e),n()},testID:"variable-update-submit--button"})))))}get typeDropdownLabel(){const{workingVariable:e}=this.state;return ft.f.find((t=>t.type===e.arguments.type)).label}}const bt={onUpdateVariable:nt.k},vt=Object(o.c)((e=>{const t=Object(tt.k)(e),n=t.find((t=>t.id===e.overlays.params.id));return{variables:t,startVariable:n}}),bt);var yt=Object(ue.j)(vt(gt)),xt=n(543),Et=n(412);var wt=()=>{const e=Object(o.e)((e=>e.overlays.params.id)),t=Object(o.d)(),n=Object(ue.f)();Object(a.useEffect)((()=>{e&&t(Object(nt.b)(e))}),[e]);const i=Object(o.e)((e=>e.resources.templates.exportTemplate.status)),s=Object(o.e)((e=>e.resources.templates.exportTemplate.item));return r.a.createElement(xt.a,{resourceName:"Variable",resource:s,onDismissOverlay:()=>{n.goBack(),t(Et.a)},onCopy:()=>{t(Object(y.c)(Object(x.Y)(`${s.meta.name.slice(0,30).trimRight()}...`,"Variable")))},status:i})},St=n(684),kt=n(417),Ct=n(195),Ot=n(199),Dt=n(37),Tt=n(59),jt=n(115);var It=()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),n=Object(o.e)((e=>e.alertBuilder.name));return Object(a.useEffect)((()=>{const e=Object(jt.a)("threshold");return t(Object(Tt.c)("threshold")),t(Object(Dt.l)("alerting",{view:e})),()=>{t(Tt.f)}}),[t]),r.a.createElement("div",{className:"veo-overlay"},r.a.createElement("div",{className:"veo"},r.a.createElement(St.a,{key:n,name:n,onSetName:e=>t(Object(Tt.o)(e)),onCancel:e,onSave:()=>t(Object(Ot.c)())}),r.a.createElement(Ct.a,null,r.a.createElement("div",{className:"veo-contents"},r.a.createElement(kt.a,null)))))};var Nt=Object(ue.j)((()=>{const{onClose:e}=Object(a.useContext)(gn),t=Object(o.d)(),{status:n,name:s}=Object(o.e)((e=>e.alertBuilder));return Object(a.useEffect)((()=>{const e=Object(jt.a)("deadman");return t(Object(Tt.c)("deadman")),t(Object(Dt.l)("alerting",{view:e})),()=>{t(Tt.f)}}),[t]),r.a.createElement("div",{className:"veo-overlay"},r.a.createElement("div",{className:"veo"},r.a.createElement(i.SpinnerContainer,{spinnerComponent:r.a.createElement(i.TechnoSpinner,null),loading:n||h.RemoteDataState.Loading},r.a.createElement(St.a,{key:s,name:s,onSetName:e=>t(Object(Tt.o)(e)),onCancel:e,onSave:()=>t(Object(Ot.c)())}),r.a.createElement(Ct.a,null,r.a.createElement("div",{className:"veo-contents"},r.a.createElement(kt.a,null))))))})),Rt=n(384),At=n(51),Ft=n(75);var _t=({timeRange:e,onSetTimeRange:t,singleDirection:n,className:o})=>{const[s,l]=Object(a.useState)(!1),c=Object(a.useRef)(null),{timeZone:u}=Object(a.useContext)(Fe.a);let d="Select a Time Range";e&&(d=Object(Ft.d)(e,u,n));const m=e=>{t(e),l(!1)};return r.a.createElement("div",{ref:c,className:o,"data-testid":"timerange-dropdown"},r.a.createElement(i.Dropdown.Button,{onClick:()=>l(!s)},d),r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.Below,triggerRef:c,visible:s,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(Rt.a,{timeRange:e||Object(Ft.b)(At.g),onSetTimeRange:m,onClose:()=>l(!1),position:{position:"relative"},singleDirection:n})}))},Mt=n(143),Lt=n(703),Pt=n(114),$t=n(379);const Bt=Object(a.createContext)(null),zt=()=>{const e=Object($t.a)(new Date,1,"h");return Object(Me.a)("YYYY-MM-DD HH:mm:ss").format(e)},qt=(e={})=>Object.assign({inactivityTimeout:"1",inactivityTimeoutCategory:"Hours",duration:{lower:(new Date).toISOString(),upper:zt(),type:"custom"},refreshMilliseconds:{interval:6e4,status:h.AutoRefreshStatus.Active,label:"60s"},infiniteDuration:!1},e),Ht=(e=qt(),t)=>{switch(t.type){case"SET_REFRESH_MILLISECONDS":return Object.assign(Object.assign({},e),{refreshMilliseconds:t.refreshMilliseconds});case"SET_DURATION":return Object.assign(Object.assign({},e),{duration:t.duration});case"SET_INACTIVITY_TIMEOUT":return Object.assign(Object.assign({},e),{inactivityTimeout:t.inactivityTimeout});case"SET_INACTIVITY_TIMEOUT_CATEGORY":return Object.assign(Object.assign({},e),{inactivityTimeoutCategory:t.inactivityTimeoutCategory});case"SET_INFINITE_DURATION":return Object.assign(Object.assign({},e),{infiniteDuration:t.infiniteDuration});case"RESET":return qt();default:return e}};var Vt=({children:e})=>{const[t,n]=Object(a.useReducer)(Ht,qt()),i=Object(o.e)(Pt.a),s=Object(o.d)(),l=Object(a.useCallback)((()=>{if(s(Object(Lt.c)(i,t.refreshMilliseconds.interval,t.refreshMilliseconds.label)),0!==t.refreshMilliseconds.interval){if(s(Object(Lt.d)(i,h.AutoRefreshStatus.Active)),"Never"!==t.inactivityTimeout){const e=((e,t)=>{const n=parseInt(e,10),a=new Date;return Object($t.a)(a,n,t[0].toLowerCase()).getTime()-a.getTime()})(t.inactivityTimeout,t.inactivityTimeoutCategory);s(Object(Lt.e)(i,e))}s(Object(Lt.b)(i,t.duration))}else s(Object(Lt.d)(i,h.AutoRefreshStatus.Paused))}),[i,s,t.duration,t.inactivityTimeout,t.inactivityTimeoutCategory,t.refreshMilliseconds]);return r.a.createElement(Bt.Provider,{value:{state:t,dispatch:n,setAutoRefreshSettings:l}},e)};const Ut=["Paused","10s","15s","30s","1m","5m","10m","30m","1h"];var Wt=()=>{var e,t;const{state:n,dispatch:o}=Object(a.useContext)(Bt);return r.a.createElement(i.ButtonGroup,null,r.a.createElement(Mt.a,{submitInvalid:!1,value:null!==(t=null===(e=n.refreshMilliseconds)||void 0===e?void 0:e.label)&&void 0!==t?t:"Paused",onSubmit:e=>{if("Paused"===e)return o({type:"SET_REFRESH_MILLISECONDS",refreshMilliseconds:{interval:0,status:h.AutoRefreshStatus.Paused,label:"Paused"}}),void Object(D.a)("dashboards.autorefresh.autorefreshinput.intervalchange",{interval:0});const t=e.charAt(e.length-1);let n;if("s"===t?n=1:"m"===t?n=60:"h"===t&&(n=3600),"s"===t||"m"===t||"h"===t){const t=Number(e.slice(0,e.length-1))*n*1e3;o({type:"SET_REFRESH_MILLISECONDS",refreshMilliseconds:{interval:t,status:h.AutoRefreshStatus.Active,label:e}}),Object(D.a)("dashboards.autorefresh.autorefreshinput.intervalchange",{interval:t})}},suggestions:Ut,customClass:"refresh-input",validFunction:e=>"None"===e||!!e.match(/^(([0-9]+)(h|s|m))+$/g),testID:"auto-refresh-input"}))};n(962);const Gt=e=>{let t=0;switch(e){case"Minutes":t=60;break;case"Hours":t=25;break;case"Days":t=30}const n=[...Array(t).keys()].map((e=>e.toString()));return n[0]="Never",n},Kt=()=>{const{onClose:e}=Object(a.useContext)(gn),{state:t,dispatch:n,setAutoRefreshSettings:o}=Object(a.useContext)(Bt),s=()=>{Object(D.a)("dashboards.autorefresh.autorefreshoverlay.cancelcustom"),e()};return r.a.createElement(i.Overlay.Container,{maxWidth:500,testID:"auto-refresh-overlay"},r.a.createElement(i.Overlay.Header,{title:"Configure Auto Refresh",onDismiss:s}),r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Column,{className:"refresh-form-column"},r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Until: "),r.a.createElement(i.InputLabel,{active:t.infiniteDuration,className:"refresh-form-time-label"},"Indefinite"),r.a.createElement(i.SlideToggle,{active:!t.infiniteDuration,onChange:()=>n({type:"SET_INFINITE_DURATION",infiniteDuration:!t.infiniteDuration}),className:"refresh-form-timerange-toggle"}),r.a.createElement(i.InputLabel,{active:!t.infiniteDuration,className:"refresh-form-time-label"},"Custom")),!t.infiniteDuration&&r.a.createElement("div",{className:"refresh-form-container reverse","data-testid":"timerange-popover-button"},r.a.createElement(_t,{timeRange:t.duration,onSetTimeRange:e=>{n({type:"SET_DURATION",duration:e}),n({type:"SET_INFINITE_DURATION",infiniteDuration:!1})},singleDirection:h.TimeRangeDirection.Upper,className:"timerange-dropdown"})),r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Inactivity Timeout:"," "),r.a.createElement("div",{className:"refresh-form-container-child "+("Never"===t.inactivityTimeout?"inactive":"active")},r.a.createElement(i.SelectDropdown,{options:Gt(t.inactivityTimeoutCategory),selectedOption:t.inactivityTimeout,onSelect:e=>n({type:"SET_INACTIVITY_TIMEOUT",inactivityTimeout:e}),buttonColor:i.ComponentColor.Default,testID:"inactivity-timeout-dropdown"}),"Never"!==t.inactivityTimeout&&r.a.createElement(i.SelectDropdown,{className:"refresh-form-timeout-dropdown",options:["Minutes","Hours","Days"],selectedOption:t.inactivityTimeoutCategory,onSelect:e=>n({type:"SET_INACTIVITY_TIMEOUT_CATEGORY",inactivityTimeoutCategory:e}),buttonColor:i.ComponentColor.Default,testID:"inactivity-timeout-category-dropdown"}))),r.a.createElement("div",{className:"refresh-form-container"},r.a.createElement("span",{className:"refresh-form-container-child"},"Refresh Interval:"," "),r.a.createElement(Wt,null)),r.a.createElement("div",{className:"refresh-form-buttons"},r.a.createElement(i.Button,{onClick:s,text:"Cancel",color:i.ComponentColor.Tertiary,className:"refresh-form-cancel-button",testID:"refresh-form-cancel-button"}),r.a.createElement(i.Button,{onClick:()=>{o(),e(),Object(D.a)("dashboards.autorefresh.autorefreshoverlay.confirmcustom",{customAutoRefreshState:JSON.stringify(t)})},text:"Confirm",color:i.ComponentColor.Primary,className:"refresh-form-activate-button",testID:"refresh-form-activate-button",status:0===t.refreshMilliseconds.interval?i.ComponentStatus.Disabled:i.ComponentStatus.Default})))))};var Yt=()=>r.a.createElement(Vt,null,r.a.createElement(Kt,null)),Zt=n(210),Qt=n(12),Xt=n(74),Jt=n(55),en=n(234),tn=n(25);var nn=n(62);var an=()=>{var e;const[t,n]=Object(a.useState)([]),s=Object(o.d)(),{id:l}=Object(o.e)(T.a),c=Object(o.e)((e=>e.currentDashboard.id)),u=null!==(e=Object(o.e)((e=>e.resources.views.byID)))&&void 0!==e?e:{};Object(a.useEffect)((()=>{(async e=>{const t=await Qt.getDashboards({query:{orgID:e,limit:Xt.b}});if(200!==t.status)throw new Error(t.data.message);return t.data.dashboards})(l).then((e=>{n(e.filter((e=>e.id!==c)))})).catch((e=>{Object(D.a)("dashboards.cloneCell.getDashboardsFailed",{context:JSON.stringify(e)}),s(Object(y.c)(Object(x.rb)(e)))}))}),[]);const{onClose:d}=Object(a.useContext)(gn),{view:m,cell:p}=Object(o.e)(ze.a),[h,f]=Object(a.useState)(""),[g,b]=Object(a.useState)(!1),v=async()=>{var e,t;let n;const a=null===(e=Object.values(u))||void 0===e?void 0:e.filter((e=>e.dashboardID===h));if(null==a?void 0:a.length)n=a.map((e=>e.name));else try{n=await(async e=>{var t,n,a;const r=await Qt.getDashboard({dashboardID:e,query:{include:"properties"}});if(!r)return;if(200!==r.status)throw new Error(r.data.message);const o=r.data.cells||[],i=Object(en.h)(o,e),s=Object(tn.a)(i,Jt.g);return(null===(t=s.entities)||void 0===t?void 0:t.views)?null===(a=Object.values(null===(n=s.entities)||void 0===n?void 0:n.views))||void 0===a?void 0:a.map((e=>e.name)):[]})(h)}catch(e){return void s(Object(y.c)(Object(x.M)(e.message)))}const r=Object(nn.a)(null!=n?n:[m.name],m.name);await s(Object(Zt.a)(h,Object.assign(Object.assign({},m),{dashboardID:h,name:r}),Object.assign(Object.assign({},p),{dashboardID:h,name:r}),null,null,!0)),s(Object(y.c)(Object(x.L)(h,g?"moved":"copied",null!==(t=p.name)&&void 0!==t?t:null)))},E=t.find((e=>e.id===h)),w=t,S=r.a.createElement(i.TypeAheadDropDown,{items:w,onSelect:e=>{f(null==e?void 0:e.id)},buttonTestId:"clone-to-other-dashboard",menuTestID:"copy-dashboard-cell--dropdown-menu",itemTestIdPrefix:"other-dashboard",sortNames:!0,selectedOption:E,placeholderText:"Choose a Destination Dashboard",defaultNameText:"Name this Dashboard"});return r.a.createElement(i.Overlay.Container,{maxWidth:400},r.a.createElement(i.Overlay.Header,{title:"Move Cell",onDismiss:d}),r.a.createElement(i.Overlay.Body,{className:"dashboard-clonecell--overlayopen"},r.a.createElement(i.Form.Element,{label:"",className:"dashboard-clonecell--dropdownopen"},S),r.a.createElement(i.Form.Element,{label:"",className:"dashboard-clonecell--removecurrent"},r.a.createElement("span",{className:"dashboard-clonecell--movetype"},"Move type: "),r.a.createElement(i.InputLabel,{active:!g,className:"refresh-form-time-label"},"Copy"),r.a.createElement(i.SlideToggle,{active:g,onChange:()=>b(!g),testID:"clone-cell-type-toggle",className:"dashboard-clonecell--typetoggle"}),r.a.createElement(i.InputLabel,{active:g,className:"refresh-form-time-label"},"Move"))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{onClick:()=>{d()},color:i.ComponentColor.Tertiary,text:"Cancel",testID:"copy-cell-cancel-button"}),r.a.createElement(i.Button,{onClick:()=>{Object(D.a)("relocating cell",{operationType:g?"Move":"Copy"}),v(),g&&s(Object(Zt.c)(c,p.id,m.id)),d()},color:i.ComponentColor.Primary,text:"Confirm",testID:"confirm-clone-cell-button",status:t.length?i.ComponentStatus.Default:i.ComponentStatus.Disabled})))},rn=(n(238),n(660)),on=n(661),sn=n(687);const ln=Object(q.a)();class cn extends a.Component{constructor(){super(...arguments),this.otherResourcesAccordionBody=()=>{const{onToggleAll:e,resources:t,permissions:n}=this.props,a=[];return t[1].forEach((e=>{a.push({name:e,perm:n[e]})})),r.a.createElement(ln,{list:a,searchTerm:this.props.searchTerm,searchKeys:["name"]},(t=>r.a.createElement(on.a,{resourceName:"All Resources",permissions:t,onToggleAll:e,disabled:!1})))},this.getAccordionBody=(e,t)=>{const{permissions:n,onIndividualToggle:a}=this.props,o=[];if("Telegrafs"===e){for(const[,e]of Object.entries(n[t].sublevelPermissions))o.push(e);return r.a.createElement(ln,{list:o,searchTerm:this.props.searchTerm,searchKeys:["name"]},(e=>r.a.createElement(sn.a,{resourceName:t,permissions:e,onToggle:a,title:"Individual Telegraf Configuration Names",disabled:!1})))}if("Buckets"===e){for(const[,e]of Object.entries(n[t].sublevelPermissions))o.push(e);return r.a.createElement(ln,{list:o,searchTerm:this.props.searchTerm,searchKeys:["name"]},(e=>r.a.createElement(sn.a,{resourceName:t,permissions:e,onToggle:a,title:"Individual Bucket Names",disabled:!1})))}}}render(){const{resources:e,permissions:t,onToggleAll:n}=this.props;return!e||Object(s.isEmpty)(t)?null:r.a.createElement(r.a.Fragment,null,e[0].map((e=>{const a=e.charAt(0).toUpperCase()+e.slice(1);return r.a.createElement(i.Accordion,{key:e},r.a.createElement(rn.a,{resourceName:a}),r.a.createElement(i.DapperScrollbars,{autoHide:!0,autoSize:!0,style:{width:"100%",maxWidth:"752px",maxHeight:"300px"}},r.a.createElement(on.a,{resourceName:a,permissions:t[e],onToggleAll:n,disabled:!1}),t[e].read||t[e].write?null:!Object(s.isEmpty)(t[e].sublevelPermissions)&&this.getAccordionBody(a,e)))})),r.a.createElement(i.Accordion,{key:"Other Resources"},r.a.createElement(rn.a,{resourceName:"Other Resources"}),r.a.createElement(i.DapperScrollbars,{autoHide:!0,autoSize:!0,style:{width:"100%",maxWidth:"752px",maxHeight:"300px"}},r.a.createElement(on.a,{resourceName:"Other Resources",permissions:t.otherResources,onToggleAll:n,disabled:!1}),t.otherResources.read||t.otherResources.write?null:this.otherResourcesAccordionBody())))}}var un=cn,dn=n(116),mn=n(196);const pn={getBuckets:Y.h,getTelegrafs:me.e,createAuthorization:k.a,showOverlay:C.d,dismissOverlay:C.b};var hn=Object(o.c)((e=>{const t=Object(mn.a)(e,[h.ResourceType.Buckets,h.ResourceType.Telegrafs]),n=Object(Q.a)(e,h.ResourceType.Telegrafs),a={read:!1,write:!1,sublevelPermissions:{}};n.forEach((e=>{a.sublevelPermissions[e.id]={id:e.id,orgID:e.orgID,name:e.name,permissions:{read:!1,write:!1}}}));const r=Object(Q.a)(e,h.ResourceType.Buckets),o={read:!1,write:!1,sublevelPermissions:{}};return r.forEach((e=>{o.sublevelPermissions[e.id]={id:e.id,orgID:e.orgID,name:e.name,permissions:{read:!1,write:!1}}})),{allResources:e.resources.tokens.allResources,telegrafPermissions:a,bucketPermissions:o,remoteDataState:t,orgID:Object(T.a)(e).id,orgName:Object(T.a)(e).name}}),pn)((e=>{const{onClose:t}=Object(a.useContext)(gn),[n,o]=Object(a.useState)(""),[l,c]=Object(a.useState)({}),[u,d]=Object(a.useState)(""),[m,p]=Object(a.useState)(i.ComponentStatus.Disabled);Object(a.useEffect)((()=>{e.getBuckets(),e.getTelegrafs()}),[]),Object(a.useEffect)((()=>{if(!Object(s.isEmpty)(e.bucketPermissions.sublevelPermissions)){const t={otherResources:{read:!1,write:!1}};e.allResources.forEach((n=>{n===h.ResourceType.Telegrafs?t[n]=e.telegrafPermissions:n===h.ResourceType.Buckets?t[n]=e.bucketPermissions:t[n]={read:!1,write:!1}})),c(t)}}),[e.remoteDataState]);const f=e=>{const t=Object.keys(e).every((t=>!1===e[t].read)),n=Object.keys(e).every((t=>!1===e[t].write));t&&n&&p(i.ComponentStatus.Disabled)},g=e=>{let t,n,a,r;Object.keys(l).filter((e=>e===h.ResourceType.Buckets||e===h.ResourceType.Telegrafs)).forEach((o=>{o===h.ResourceType.Buckets?(t=Object.keys(e[o].sublevelPermissions).every((t=>!1===e[o].sublevelPermissions[t].permissions.read)),a=Object.keys(e[o].sublevelPermissions).every((t=>!1===e[o].sublevelPermissions[t].permissions.write))):(n=Object.keys(e[o].sublevelPermissions).every((t=>!1===e[o].sublevelPermissions[t].permissions.read)),r=Object.keys(e[o].sublevelPermissions).every((t=>!1===e[o].sublevelPermissions[t].permissions.write)))})),a&&r&&t&&n&&p(i.ComponentStatus.Disabled)};return r.a.createElement(i.Overlay.Container,{maxWidth:800},r.a.createElement(i.Overlay.Header,{title:"Generate a Personal API Token",onDismiss:t}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Form,null,r.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},r.a.createElement(i.Form.Element,{label:"Description"},r.a.createElement(i.Input,{placeholder:"Describe this new token",value:n,onChange:e=>{o(e.target.value)},testID:"custom-api-token-input"})),r.a.createElement(i.FlexBox.Child,{className:"main-flexbox-child"},r.a.createElement(dn.a,{searchTerm:u,placeholderText:"Filter Access Permissions...",onSearch:e=>{d(e)}}),r.a.createElement(i.FlexBox,{margin:i.ComponentSize.Large,justifyContent:i.JustifyContent.SpaceBetween,direction:i.FlexDirection.Row,stretchToFitWidth:!0,alignItems:i.AlignItems.Center,className:"flex-box-label"},r.a.createElement(i.FlexBox.Child,{basis:40,grow:8},r.a.createElement(i.InputLabel,{size:i.ComponentSize.ExtraSmall},"Resources")),r.a.createElement(i.FlexBox.Child,{grow:1,className:"flexbox-child-label-read"},r.a.createElement(i.InputLabel,{className:"input-label-read",size:i.ComponentSize.ExtraSmall},"Read")),r.a.createElement(i.FlexBox.Child,{grow:1,className:"flexbox-child-label-write"},r.a.createElement(i.InputLabel,{className:"input-label-write",size:i.ComponentSize.ExtraSmall},"Write"))),r.a.createElement(un,{resources:Object(O.f)(e.allResources),permissions:l,onToggleAll:(e,t)=>{p(i.ComponentStatus.Default);const n=Object.assign({},l);let a=e.replaceAll(/\s/g,"");a=a.charAt(0).toLowerCase()+a.slice(1);const r=n[a][t];n[a].sublevelPermissions&&Object.keys(n[a].sublevelPermissions).forEach((e=>{n[a].sublevelPermissions[e].permissions[t]=!r})),"otherResources"===a&&Object.keys(n).forEach((e=>{e!==h.ResourceType.Buckets&&e!==h.ResourceType.Telegrafs&&"otherResources"!==e&&(n[e][t]=!n[e][t])})),n[a][t]=!r,c(n),f(n)},onIndividualToggle:(e,t,n)=>{p(i.ComponentStatus.Default);const a=l[e].sublevelPermissions[t].permissions[n],r=Object.assign({},l);r[e].sublevelPermissions[t].permissions[n]=!a,c(r),g(r)},searchTerm:u}))))),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{color:i.ComponentColor.Tertiary,shape:i.ButtonShape.Default,onClick:()=>{e.onClose()},testID:"cancel-token-overlay--buton",text:"Cancel"}),r.a.createElement(i.Button,{color:i.ComponentColor.Success,shape:i.ButtonShape.Default,onClick:async()=>{const{orgID:t,showOverlay:a,orgName:r,createAuthorization:o}=e,s=Object(O.d)(l,t,r),c={orgID:t,description:n||Object(O.g)(s),permissions:s};try{await o(c),Object(D.a)("customApiToken.create.success",{description:n}),a("access-token",null,(()=>Object(C.b)()))}catch(e){p(i.ComponentStatus.Disabled),Object(D.a)("customApiToken.create.failure",{description:n})}},status:m,testID:"generate-token-overlay--buton",text:"Generate"})))}));var fn=Object(o.c)((e=>({auth:e.resources.tokens.currentAuth.item})),null)((e=>{const{onClose:t}=Object(a.useContext)(gn);return r.a.createElement(i.Overlay.Container,{maxWidth:750},r.a.createElement(i.Overlay.Header,{title:"You've Successfully cloned an API Token",onDismiss:t,wrapText:!0}),r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.FlexBox,{direction:i.FlexDirection.Column,margin:i.ComponentSize.Large,alignItems:i.AlignItems.Stretch},r.a.createElement(i.Alert,{icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Primary},"Make sure to copy your new personal API token now. You won't be able to see it again!"),r.a.createElement(be.c,{text:e.auth.token,type:"Token"}))))}));const gn=Object(a.createContext)({onClose:()=>{},visibility:!1,overlayID:""}),bn=()=>{const e=Object(a.useRef)(r.a.createElement(r.a.Fragment,null)),{onClose:t,overlayID:n}=Object(a.useContext)(gn);return Object(a.useMemo)((()=>{switch(n){case"add-note":case"edit-note":e.current=r.a.createElement(S,{onClose:t});break;case"add-master-token":e.current=r.a.createElement(I,{onClose:t});break;case"add-custom-token":e.current=r.a.createElement(hn,{onClose:t});break;case"access-token":e.current=r.a.createElement(fn,null);break;case"add-token":e.current=r.a.createElement(le,{onClose:t});break;case"telegraf-config":e.current=r.a.createElement(fe,null);break;case"telegraf-output":e.current=r.a.createElement(we,{onClose:t});break;case"switch-organizations":e.current=r.a.createElement(ke,{onClose:t});break;case"create-bucket":e.current=r.a.createElement(Oe,null);break;case"asset-limit":e.current=r.a.createElement(Te,{onClose:t});break;case"rate-limit":e.current=r.a.createElement(Ie,{onClose:t});break;case"write-limit":e.current=r.a.createElement(Ne,null);break;case"add-annotation":e.current=r.a.createElement(He,null);break;case"edit-annotation":e.current=r.a.createElement(Ye,null);break;case"bucket-schema-show":e.current=r.a.createElement(Ge,null);break;case"check-threshold":e.current=r.a.createElement(It,null);break;case"deadman-check":e.current=r.a.createElement(Nt,null);break;case"create-variable":e.current=r.a.createElement(Xe,null);break;case"import-variable":e.current=r.a.createElement(pt,null);break;case"rename-variable":e.current=r.a.createElement(st,null);break;case"update-variable":e.current=r.a.createElement(yt,null);break;case"export-variable":e.current=r.a.createElement(wt,null);break;case"toggle-auto-refresh":e.current=r.a.createElement(Yt,null);break;case"cell-copy-overlay":e.current=r.a.createElement(an,null);break;default:e.current=null}return e.current}),[t,n]),r.a.createElement(i.Overlay,{visible:!!n,onEscape:t},e.current)},vn=e=>{const{overlayID:t,onClose:n}=Object(o.e)((e=>({overlayID:e.overlays.id,onClose:e.overlays.onClose}))),i=Object(o.d)(),{children:s}=e,l=Object(a.useCallback)((()=>{i(Object(C.b)()),n&&"function"==typeof n&&n()}),[n,i]);return r.a.createElement(gn.Provider,{value:{onClose:l,visibility:!!t,overlayID:t}},s)}},1045:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(21),i=n(4),s=n(3),l=n(161),c=n(77),u=n(34),d=n(9),m=n(6);const p=(e,t)=>(t.split("/").length<=3&&(t=m.v),e.some((e=>t.includes(e)))),h={handleShowOverlay:u.d,handleDismissOverlay:u.b};var f=Object(i.c)((e=>({org:Object(d.a)(e),me:e.me})),h)((({org:e,me:t,handleShowOverlay:n,handleDismissOverlay:a})=>{if(!e)return null;const i=`/orgs/${e.id}`;return r.a.createElement(s.TreeNav.User,{username:t.name,team:e.name,testID:"user-nav"},r.a.createElement(c.a,null,r.a.createElement(s.TreeNav.UserItem,{id:"usage",label:"Usage",testID:"user-nav-item-usage",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/usage`})}),r.a.createElement(s.TreeNav.UserItem,{id:"billing",label:"Billing",testID:"user-nav-item-billing",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/billing`})}),r.a.createElement(s.TreeNav.UserItem,{id:"users",label:"Users",testID:"user-nav-item-users",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/users`})}),r.a.createElement(s.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/about`})})),r.a.createElement(l.a,null,r.a.createElement(s.TreeNav.UserItem,{id:"members",label:"Members",testID:"user-nav-item-members",active:p(["members"],location.pathname),linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/members`})}),r.a.createElement(s.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",active:p(["about"],location.pathname),linkElement:e=>r.a.createElement(o.a,{className:e,to:`${i}/about`})}),r.a.createElement(s.TreeNav.UserItem,{id:"switch-orgs",label:"Switch Organizations",testID:"user-nav-item-switch-orgs",onClick:()=>{n("switch-organizations",{},a)}}),r.a.createElement(s.TreeNav.UserItem,{id:"create-org",label:"Create Organization",testID:"user-nav-item-create-orgs",linkElement:e=>r.a.createElement(o.a,{className:e,to:"/orgs/new"})})),r.a.createElement(s.TreeNav.UserItem,{id:"logout",label:"Logout",testID:"user-nav-item-logout",linkElement:e=>r.a.createElement(o.a,{className:e,to:"/logout"})}))}));var g=({link:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(s.TreeNav.Header,{id:"getting-started",icon:r.a.createElement(s.Icon,{glyph:s.IconFont.CuboNav}),label:r.a.createElement(s.InfluxDBCloudLogo,{cloud:!1}),color:s.ComponentColor.Secondary,linkElement:t=>r.a.createElement(o.a,{className:t,to:e})})),r.a.createElement(c.a,null,r.a.createElement(s.TreeNav.Header,{id:"getting-started",icon:r.a.createElement(s.Icon,{glyph:s.IconFont.CuboNav}),label:r.a.createElement(s.InfluxDBCloudLogo,{cloud:!0}),color:s.ComponentColor.Primary,linkElement:t=>r.a.createElement(o.a,{className:t,to:e})}))),b=n(7),v=n(29);var y=({children:e})=>{var t,n;const r=Object(i.e)(v.b),o=null!==(t=null==r?void 0:r.isRegionBeta)&&void 0!==t&&t,s=null!==(n=null==r?void 0:r.accountType)&&void 0!==n?n:"free";return Object(a.useEffect)((()=>{m.f&&Object(b.e)({"org (hide_upgrade_cta)":`${"free"===s&&!o}`,"org (account_type)":s})}),[s,o]),e},x=n(41),E=n(24),w=n(124);var S=n(33);t.a=()=>{const e=Object(i.e)(d.a),{presentationMode:t,navbarMode:n,setNavbarMode:l}=Object(a.useContext)(S.a);if(t||!e)return null;return r.a.createElement(y,null,r.a.createElement(s.TreeNav,{expanded:"expanded"===n,headerElement:r.a.createElement(g,{link:`/orgs/${e.id}`}),userElement:r.a.createElement(f,null),onToggleClick:()=>{l("expanded"===n?"collapsed":"expanded")}},(()=>{var e,t,n,a,r,o;const i=Object(w.a)().getState(),l=null!==(a=null===(n=null===(t=null===(e=null==i?void 0:i.resources)||void 0===e?void 0:e.orgs)||void 0===t?void 0:t.org)||void 0===n?void 0:n.id)&&void 0!==a?a:"",c=null!==(o=null===(r=null==i?void 0:i.me)||void 0===r?void 0:r.quartzMe)&&void 0!==o?o:null,u=`/orgs/${l}`;let d=[{id:"load-data",testID:"nav-item-load-data",icon:s.IconFont.Upload_New,label:"Load Data",shortLabel:"Data",link:`${u}/load-data/sources`,activeKeywords:["load-data"],menu:[{id:"sources",testID:"nav-subitem-sources",label:"Sources",link:`${u}/load-data/sources`},{id:"buckets",testID:"nav-subitem-buckets",label:"Buckets",link:`${u}/load-data/buckets`},{id:"telegrafs",testID:"nav-subitem-telegrafs",label:"Telegraf",link:`${u}/load-data/telegrafs`},{id:"scrapers",testID:"nav-subitem-scrapers",label:"Scrapers",link:`${u}/load-data/scrapers`,enabled:()=>!m.f},{id:"tokens",testID:"nav-subitem-tokens",label:"API Tokens",link:`${u}/load-data/tokens`}]},{id:"data-explorer",testID:"nav-item-data-explorer",icon:s.IconFont.GraphLine,label:"Data Explorer",shortLabel:"Explore",link:`${u}/data-explorer`,activeKeywords:["data-explorer"],enabled:()=>!Object(E.c)("leadWithFlows")},{id:"notebook-explorer",testID:"nav-item-data-explorer",icon:s.IconFont.GraphLine,label:"Data Explorer",shortLabel:"Explore",link:"/notebook/from/default",activeKeywords:["data-explorer"],enabled:()=>Object(E.c)("leadWithFlows")},{id:"flows",testID:"nav-item-flows",icon:s.IconFont.BookPencil,label:x.e,shortLabel:x.f,link:`${u}/${x.e.toLowerCase()}`,activeKeywords:[x.e.toLowerCase(),"notebook/from"]},{id:"dashboards",testID:"nav-item-dashboards",icon:s.IconFont.GraphLine_New,label:"Dashboards",shortLabel:"Boards",link:`${u}/dashboards-list`,activeKeywords:["dashboards","dashboards-list"]},{id:"tasks",testID:"nav-item-tasks",icon:s.IconFont.Calendar,label:"Tasks",link:`${u}/tasks`,activeKeywords:["tasks"]},{id:"alerting",testID:"nav-item-alerting",icon:s.IconFont.Bell,label:"Alerts",link:`${u}/alerting`,activeKeywords:["alerting","alert-history"],menu:[{id:"alerting",testID:"nav-subitem-alerting",label:"Alerts",link:`${u}/alerting`},{id:"history",testID:"nav-subitem-history",label:"Alert History",link:`${u}/alert-history`}]},{id:"settings",testID:"nav-item-settings",icon:s.IconFont.WrenchNav,label:"Settings",link:`${u}/settings/variables`,activeKeywords:["settings"],menu:[{id:"variables",testID:"nav-subitem-variables",label:"Variables",link:`${u}/settings/variables`},{id:"templates",testID:"nav-subitem-templates",label:"Templates",link:`${u}/settings/templates`},{id:"labels",testID:"nav-subitem-labels",label:"Labels",link:`${u}/settings/labels`},{id:"secrets",testID:"nav-subitem-secrets",label:"Secrets",link:`${u}/settings/secrets`}]},{id:"operator",enabled:()=>m.f&&!0===(null==c?void 0:c.isOperator)&&Object(E.c)("uiUnificationFlag"),testID:"nav-item--operator",icon:s.IconFont.Shield,label:"Operator",shortLabel:"Operator",link:"/operator",activeKeywords:["operator"]}];return d=d.filter((e=>((null==e?void 0:e.menu)&&(e.menu=e.menu.filter((e=>!(null==e?void 0:e.enabled)||e.enabled()))),!(null==e?void 0:e.enabled)||e.enabled()))),d})().map((e=>r.a.createElement(s.TreeNav.Item,{key:e.id,id:e.id,testID:e.testID,icon:r.a.createElement(s.Icon,{glyph:e.icon}),label:e.label,shortLabel:e.shortLabel,active:p(e.activeKeywords,location.pathname),linkElement:t=>r.a.createElement(o.a,{to:e.link,className:t})},Boolean(e.menu)&&r.a.createElement(s.TreeNav.SubMenu,null,e.menu.map((e=>r.a.createElement(s.TreeNav.SubItem,{key:e.id,id:e.id,testID:e.testID,active:p([e.id],location.pathname),label:e.label,linkElement:t=>r.a.createElement(o.a,{to:e.link,className:t})})))))))))}},105:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(6);const r=e=>e.startsWith("_"),o=()=>a.f?650:450,i=1,s="create-a-bucket",l={id:s,name:"+ Create A Bucket"}},1055:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n.n(a),o=n(184),i=n(7);var s,l=Object(a.memo)((({hit:e,children:t})=>{const n=Object(o.g)(),a=document.getElementById("docsearch-input");return r.a.createElement("a",{href:e.url,rel:"noreferrer",target:"_blank",onClick:e=>{var t,r,o,s;Object(i.a)("clicked search result",{resultURL:null===(s=null===(o=null===(r=null===(t=e.target)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.parentElement)||void 0===o?void 0:o.parentElement)||void 0===s?void 0:s.href,fromPage:n.pathname,query:a.value},{})}},t)}),((e,t)=>e.url===t.url)),c=n(6),u=n(2519);!function(e){e.Widget="widget",e.Global="global"}(s||(s={}));t.b=Object(a.memo)((({type:e})=>{const t=Object(o.g)(),n=()=>{const n=t.pathname.split("/");Object(i.a)("Search Bar Activation",{type:e,path:e===s.Widget?"/":n[n.length-1]})};Object(a.useEffect)((()=>{const e=document.getElementById("docsearch-input");return e.addEventListener("click",n),()=>{e&&e.removeEventListener("click",n)}}),[]);const d=Object(a.useMemo)((()=>({facetFilters:[["searchTag: influxdb-cloud","flux:true"]]})),[]);return r.a.createElement(u.a,{apiKey:c.t,indexName:"influxdata",appId:c.u,placeholder:"Search our docs: ",initialScrollY:0,searchParameters:d,hitComponent:l})}))},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=(e,t,n,a="text/plain")=>{const r=((e,t)=>`${e.trim().toLowerCase().replace(/\s/g,"_")}${t}`)(t,n),o=new Blob([e],{type:a}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.target="_blank",i.download=r,document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)},r=(e,t)=>{const n=document.createElement("a");"string"==typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)}},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return v}));var a=n(2),r=n.n(a),o=n(208),i=n(42),s=n(51),l=n(19),c=n.n(l),u=n(5),d=n(3);var m=({loading:e})=>{const[t,n]=Object(a.useState)(!1),[o,i]=Object(a.useState)(0),s=c()("view-loading-spinner--timer",{visible:o>5});return Object(a.useEffect)((()=>{(e===u.RemoteDataState.Done||u.RemoteDataState.Error)&&(i(0),n(!1)),e===u.RemoteDataState.Loading&&n(!0)}),[e]),Object(a.useEffect)((()=>{let e=null;return t?e=setInterval((()=>{i((e=>e+.1))}),100):t||0===o||clearInterval(e),()=>clearInterval(e)}),[t,o]),e===u.RemoteDataState.Loading?r.a.createElement("div",{className:"view-loading-spinner"},r.a.createElement(d.TechnoSpinner,{diameterPixels:66,strokeWidth:d.ComponentSize.Medium}),r.a.createElement("div",{className:s},Math.round(10*o)/10+"s")):null};const p=({properties:e,result:t,loading:n,error:i,isInitial:l,timeRange:c,annotations:u,cellID:d})=>{var m,p;if(!(null===(m=y[e.type])||void 0===m?void 0:m.component))throw new Error("Unknown view type in <View /> ");const h="check"!==e.type&&e.showNoteWhenEmpty?e.note:null,f=!!(null===(p=null==t?void 0:t.table)||void 0===p?void 0:p.length);return r.a.createElement(o.b,{loading:n,errorMessage:i,errorFormat:o.a.Scroll,hasResults:f,isInitialFetch:l||!1,fallbackNote:h},Object(a.createElement)(y[e.type].component,{result:t,properties:e,timeRange:c||s.b,annotations:u,cellID:d}))};var h=e=>r.a.createElement(i.a,null,r.a.createElement(m,{loading:e.loading||u.RemoteDataState.Done}),r.a.createElement(p,Object.assign({},e)));var f=({properties:e,results:t,update:n})=>{if(y[e.type].options)return r.a.createElement(i.a,null,r.a.createElement("div",{className:"view-options"},Object(a.createElement)(y[e.type].options,{properties:e,results:t,update:n})))},g=n(125),b=n(24);var v=({viewType:e,onUpdateType:t,filter:n=[]})=>{const a=Object.values(y).filter((e=>!n.includes(e.type))).filter((e=>!e.disabled)).filter((e=>!e.featureFlag||Object(b.c)(e.featureFlag))).filter((e=>e.options)).sort(((e,t)=>e.name.localeCompare(t.name))).map((n=>r.a.createElement(d.Dropdown.Item,{key:`view-type--${n.type}`,testID:`view-type--${n.type}`,value:n.type,onClick:t,selected:n.type===e},r.a.createElement("div",{className:"view-type-dropdown--graphic"},n.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},n.name))));return r.a.createElement(d.Dropdown,{style:{width:"215px"},className:"view-type-dropdown",testID:"view-type--dropdown",button:(t,n)=>{var a,o;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n,status:"check"===e?g.c.Disabled:g.c.Valid},r.a.createElement("div",{className:"view-type-dropdown--graphic"},null===(a=y[e])||void 0===a?void 0:a.graphic),r.a.createElement("div",{className:"view-type-dropdown--name"},null===(o=y[e])||void 0===o?void 0:o.name))},menu:e=>r.a.createElement(d.Dropdown.Menu,{onCollapse:e,theme:d.DropdownMenuTheme.Onyx},a)})};const y=(()=>{const e={},t=n(256);return t.keys().forEach((n=>{t(n).default((t=>{e[t.type]=t}))})),e})()},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>{const t=Object(a.useRef)(!0),[n,r]=Object(a.useState)(e);return Object(a.useEffect)((()=>{t.current?t.current=!1:r(e)}),[e]),[n,r]}},116:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(8),s=n(3),l=n(15),c=n(42);let u=class extends r.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.clear=()=>{this.setState({searchTerm:""},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(i.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t,tabIndex:n=0,autoFocus:a,size:r}=this.props,{searchTerm:i}=this.state;return o.a.createElement(c.a,null,o.a.createElement(s.Input,{icon:s.IconFont.Search_New,placeholder:e,value:i,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input",tabIndex:n,onClear:this.clear,autoFocus:a,size:r}))}};u.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget",autoFocus:!1,tabIndex:0,size:s.ComponentSize.Small},u=Object(a.a)([l.a,Object(a.b)("design:paramtypes",[Object])],u),t.a=u},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(382),i=n.n(o),s=n(6);const l=()=>s.A,c=({src:e,alt:t})=>r.a.createElement("div",null,r.a.createElement("img",{src:e,alt:t})),u=({className:e="",text:t})=>s.f?r.a.createElement(i.a,{className:e,components:{img:l}},t):r.a.createElement(i.a,{className:e,components:{img:c}},t)},119:function(e,t,n){"use strict";n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"m",(function(){return k})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return O})),n.d(t,"k",(function(){return D})),n.d(t,"c",(function(){return T})),n.d(t,"n",(function(){return j})),n.d(t,"j",(function(){return I})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return F})),n.d(t,"l",(function(){return _}));var a=n(8),r=n(295),o=n(7),i=n(13),s=n(24),l=n(166),c=n(5),u=n(59),d=n(9),m=n(11),p=n(114),h=n(26),f=n(37),g=n(192),b=n(223),v=n(10),y=n(27);const x=e=>t=>{r.a.cancelFindValues(e),r.a.cancelFindKeys(e),t(Object(g.b)(e)),t(w(e))},E=e=>async(t,n)=>{const i=Date.now(),s=n(),{buckets:l,tags:u}=Object(h.c)(s).builderConfig,f=u.slice(0,e);if(!l[0])return;const b=l[0],v=Object(m.a)(s,c.ResourceType.Buckets).find((e=>e.name===b)),y=Object(a.get)(v,"orgID",Object(d.a)(n()).id);t(Object(g.n)(e,c.RemoteDataState.Loading));try{const a=Object(p.c)(s),l=Object(h.c)(n()).builderConfig.tags[e].key,c=Object(h.d)(n()).queryBuilder.tags[e].valuesSearchTerm,d=await r.a.findValues(e,{url:"/api/v2/query",orgID:y,bucket:b,tagsSelections:f,key:l,searchTerm:c,timeRange:a}),{values:m}=u[e];for(const e of m)d.includes(e)||d.unshift(e);t(Object(g.l)(e,d)),t(w(e+1)),Object(o.a)("loadTagSelectorValues function",{time:i},{duration:Date.now()-i})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(g.n)(e,c.RemoteDataState.Error))}},w=e=>async(t,n)=>{const i=Date.now(),{buckets:s,tags:l}=Object(h.c)(n()).builderConfig;if(!l[e]||!s[0])return;t(Object(g.k)(e,c.RemoteDataState.Loading));const u=n(),f=l.slice(0,e),b=s[0],v=Object(m.a)(n(),c.ResourceType.Buckets).find((e=>e.name===b)),y=Object(a.get)(v,"orgID",Object(d.a)(n()).id);try{const n=Object(p.c)(u),a=Object(h.d)(u).queryBuilder.tags[e].keysSearchTerm,s=await r.a.findKeys(e,{url:"/api/v2/query",orgID:y,bucket:b,tagsSelections:f,searchTerm:a,timeRange:n}),{key:c}=l[e];if(c)s.includes(c)||s.unshift(c);else{let n;n=0===e&&s.includes("_measurement")?"_measurement":s[0],t(Object(g.i)(e,n))}t(Object(g.j)(e,s)),t(E(e)),Object(o.a)("loadTagSelector function",{time:i},{duration:Date.now()-i})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(Object(g.k)(e,c.RemoteDataState.Error))}},S=()=>async(e,t)=>{Object(m.h)(t(),c.ResourceType.Buckets)===c.RemoteDataState.NotStarted&&e(Object(b.h)(c.RemoteDataState.Loading));const n=Date.now(),a=Object(d.a)(t()).id;let r;e(Object(g.h)(c.RemoteDataState.Loading));try{r=Object(s.c)("fetchAllBuckets")?await Object(l.a)(a,-1):await Object(l.a)(a),e(Object(b.h)(c.RemoteDataState.Done,r.normalizedBuckets));const i=r.buckets.map((e=>e.name)),u=i.filter((e=>e.startsWith("_"))),d=[...i.filter((e=>!e.startsWith("_"))),...u],m=Object(h.c)(t()).builderConfig.buckets[0];e(Object(g.g)(d)),m&&d.includes(m)?e(O(m)):e(O(d[0],!0)),Object(o.a)("loadBuckets function",{time:n},{duration:Date.now()-n})}catch(t){if("CancellationError"===t.name)return;console.error(t),e(Object(g.h)(c.RemoteDataState.Error))}},k=e=>(t,n)=>{if("custom"===e){const e=Object(h.n)(n());t(Object(g.d)(e))}"auto"===e&&t(Object(g.d)(y.a))},C=e=>t=>{t(Object(g.d)(e)),t(Object(u.i)(e))},O=(e,t=!1)=>n=>{n(Object(g.f)(e,t)),n(w(0))},D=(e,t)=>(n,a)=>{const r=a(),{timeMachines:{activeTimeMachineID:o}}=r,i=Object(h.c)(r).builderConfig.tags,s=i[e],l=s.values;let c;c=l.includes(t)?l.filter((e=>e!==t)):"alerting"===o&&"_field"===s.key?[t]:[...l,t],n(Object(g.m)(e,c)),"group"!==s.aggregateFunctionType&&(e===i.length-1&&c.length?n(A()):n(w(e+1)))},T=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(h.d)(n()),o=a[r].builderConfig.functions,s=o.map((e=>e.name));s.includes(e)?o.length>1?t(Object(g.p)(s.filter((t=>t!=e)))):t(Object(v.c)(Object(i.Rc)())):t(Object(g.p)([...s,e]))},j=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:r}=Object(h.d)(n()),o=a[r].builderConfig.functions,i=o.map((e=>e.name));i.includes(e)?o.length>1&&t(Object(g.p)(i.filter((t=>t!=e)))):t(Object(g.p)([e]))},I=(e,t)=>n=>{n(Object(g.i)(e,t)),n(E(e))},N=e=>t=>{t(E(e))},R=e=>t=>{t(w(e))},A=()=>(e,t)=>{e(Object(g.a)());const n=Object(h.c)(t()).builderConfig.tags.length-1;e(w(n))},F=()=>e=>{e(Object(g.o)(c.RemoteDataState.Loading)),e(w(0))},_=e=>(t,n)=>{Object(m.a)(n(),c.ResourceType.Buckets).find((t=>t.name===e))&&(t(Object(f.d)()),t(Object(g.f)(e,!0)))}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(145),l=n(13),c=n(10);const u=Object(a.createContext)({variables:{},update:e=>{},transform:e=>e}),d=(e,t)=>new Function("vars","var output="+JSON.stringify(e).replace(/<%=(.+?)%>/g,'"+(vars["$1".trim()])+"')+";return output;")(t),m=({variables:e,children:t})=>{const[n,o]=Object(a.useState)(e||{});return Object(a.useEffect)((()=>{e&&o(e)}),[e]),r.a.createElement(u.Provider,{value:{variables:n,update:o,transform:e=>d(e,n)}},t)};t.c=({text:e,label:t,testID:n,type:d,onCopy:m})=>{const{transform:p}=Object(a.useContext)(u),h=Object(o.d)(),f=p(e);return r.a.createElement("div",{className:"code-snippet","data-testid":n||"code-snippet"},r.a.createElement(i.DapperScrollbars,{autoHide:!1,autoSizeHeight:!0,className:"code-snippet--scroll"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,r.a.createElement("code",null,f)))),r.a.createElement("div",{className:"code-snippet--footer"},r.a.createElement(s.a,{text:f,onCopy:()=>{"function"==typeof m&&m(),h(Object(c.c)(Object(l.Y)(`${f.slice(0,30).trimRight()}...`,null!=d?d:"Script")))}}),t&&r.a.createElement("label",{className:"code-snippet--label"},t)))}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return K})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return C}));var a=n(14),r=n(2),o=n.n(r),i=n(8),s=n(3),l=n(73),c=n.n(l),u=n(15),d=n(19),m=n.n(d),p=n(91);let h=class extends r.Component{constructor(e){super(e),this.handleStartEditing=()=>{this.setState({isEditing:!0})},this.handleStopEditing=()=>{const{workingDescription:e}=this.state,{onUpdate:t}=this.props;t(e),this.setState({isEditing:!1})},this.handleInputChange=e=>{this.setState({workingDescription:e.target.value})},this.handleKeyDown=e=>{const{onUpdate:t,description:n}=this.props,{workingDescription:a}=this.state;"Enter"===e.key&&(t(a),this.setState({isEditing:!1})),"Escape"===e.key&&this.setState({isEditing:!1,workingDescription:n})},this.handleInputFocus=e=>{e.currentTarget.select()},this.state={isEditing:!1,workingDescription:e.description}}render(){const{description:e}=this.props,{isEditing:t}=this.state;return t?o.a.createElement("div",{className:"editable-description"},o.a.createElement(p.a,{onClickOutside:this.handleStopEditing},this.input)):o.a.createElement("div",{className:"editable-description"},o.a.createElement("div",{className:this.previewClassName,onClick:this.handleStartEditing},e||"No description",o.a.createElement(s.Icon,{glyph:s.IconFont.Pencil})))}get input(){const{placeholder:e}=this.props,{workingDescription:t}=this.state;return o.a.createElement(s.Input,{size:s.ComponentSize.ExtraSmall,maxLength:90,autoFocus:!0,spellCheck:!1,placeholder:e,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,className:"editable-description--input",value:t})}get previewClassName(){const{description:e}=this.props;return m()("editable-description--preview",{untitled:!e})}};h=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],h);var f=h;let g=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickDelete=e=>{this.props.onDelete(e)},this.handleKeyDown=e=>{const{onChange:t,index:n}=this.props;t(n,e)}}render(){const{item:e,fieldName:t}=this.props;return o.a.createElement(s.IndexList,null,o.a.createElement(s.IndexList.Body,{emptyState:o.a.createElement("div",null),columnCount:2},o.a.createElement(s.IndexList.Row,{key:c.a.v4(),disabled:!1},o.a.createElement(s.IndexList.Cell,null,o.a.createElement(f,{description:e.text,placeholder:`Edit ${t}`,onUpdate:this.handleKeyDown})),o.a.createElement(s.IndexList.Cell,{alignment:s.Alignment.Right},o.a.createElement(s.ConfirmationButton,{onConfirm:this.handleClickDelete,returnValue:e,text:"Delete",popoverColor:s.ComponentColor.Danger,popoverAppearance:s.Appearance.Outline,color:s.ComponentColor.Danger,confirmationLabel:"",confirmationButtonColor:s.ComponentColor.Danger,confirmationButtonText:"Confirm",size:s.ComponentSize.ExtraSmall})))))}};g.defaultProps={confirmText:"Delete"},g=Object(a.a)([u.a],g);var b=g;var v=({tags:e,onDeleteTag:t,onChange:n})=>o.a.createElement("div",{className:"input-tag-list","data-testid":"multiple-rows"},e.map((a=>o.a.createElement(b,{index:e.indexOf(a),key:c.a.v4(),item:a,onDelete:t,onChange:n})))),y=n(376);var x;!function(e){e.String="string",e.URI="uri"}(x||(x={}));let E=class extends r.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const{inputType:t}=this.props,{value:n}=e.target;this.setState({editingText:n}),t===x.URI&&this.debouncedValidate(n)},this.handleSubmit=e=>{e.preventDefault();const t=this.inputRef.current.value.trim(),{tags:n,onAddRow:a}=this.props;this.shouldAddToList(t,n)&&(this.setState({editingText:""}),a(this.inputRef.current.value))},this.handleKeyDown=e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim(),{tags:n,onAddRow:a}=this.props;if(!this.shouldAddToList(t,n))return;this.setState({editingText:""}),a(e.target.value)}},this.handleDeleteRow=e=>{this.props.onDeleteRow(e.name||e.text)},this.handleValidateURI=e=>{Object(y.a)(e)?this.setState({status:s.ComponentStatus.Valid}):this.setState({status:s.ComponentStatus.Error})},this.state={editingText:"",status:s.ComponentStatus.Default},this.inputRef=o.a.createRef(),this.debouncedValidate=Object(i.debounce)(this.handleValidateURI,350)}render(){const{title:e,helpText:t,tags:n,autoFocus:a,onEditRow:r}=this.props,{editingText:i}=this.state;return o.a.createElement(s.Grid,null,o.a.createElement(s.Grid.Row,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Eight,offsetXS:s.Columns.One},o.a.createElement(s.Form.Element,{label:e,key:e,helpText:t},o.a.createElement(s.Input,{placeholder:`Type and hit 'Enter' to add to list of ${e}`,autocomplete:s.AutoComplete.Off,type:s.InputType.Text,onKeyDown:this.handleKeyDown,autoFocus:a||!1,value:i,status:this.state.status,onChange:this.handleInputChange,size:s.ComponentSize.Medium,titleText:e,ref:this.inputRef}))),o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Two},o.a.createElement(s.Form.Element,{key:"submit",label:" ",style:{minHeight:"15px"}},o.a.createElement(s.Button,{color:s.ComponentColor.Secondary,onClick:this.handleSubmit,size:s.ComponentSize.Medium,text:"Add",titleText:`Add to list of ${e}`})))),o.a.createElement(s.Grid.Row,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Ten,offsetXS:s.Columns.One},o.a.createElement(v,{tags:n,onDeleteTag:this.handleDeleteRow,onChange:r}))))}shouldAddToList(e,t){return!Object(i.isEmpty)(e)&&!t.find((t=>t===e))}};E=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],E);var w=E;var S=e=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wizard--full-screen"},e.children,o.a.createElement("div",{className:"wizard--credits","data-testid":"credits"},"Powered by ",o.a.createElement("span",{className:"icon cubo-uniform"})," ",o.a.createElement("a",{href:"https://www.influxdata.com/",target:"_blank",rel:"noreferrer"},"InfluxData"))),o.a.createElement("div",{className:"auth-image"}));let k=class extends r.PureComponent{render(){const{title:e,maxWidth:t,children:n,footer:a,onDismiss:r}=this.props;return o.a.createElement(s.Overlay,{visible:!0},o.a.createElement(s.Overlay.Container,{maxWidth:t},o.a.createElement(s.Overlay.Header,{title:e,onDismiss:r}),o.a.createElement(s.Overlay.Body,null,o.a.createElement("div",{className:"data-loading--overlay"},n)),a&&o.a.createElement(s.Overlay.Footer,null,a)))}};k.defaultProps={maxWidth:1200},k=Object(a.a)([u.a],k);var C=e=>{const{children:t}=e;return o.a.createElement("div",{className:"wizard--progress-header"},t)},O=n(321);let D=class extends r.PureComponent{constructor(){super(...arguments),this.handleSetCurrentStep=e=>()=>{const{handleSetCurrentStep:t,currentStepIndex:n}=this.props,a=!this.isStepSkippable&&e>n,r=-1!==this.nextNonSkippableStep&&e>this.nextNonSkippableStep;a||r||t(e)}}render(){return o.a.createElement("div",{className:"wizard--progress-bar"},this.WizardProgress)}get nextNonSkippableStep(){const{currentStepIndex:e,stepSkippable:t,stepStatuses:n}=this.props;return t.findIndex(((t,a)=>!t&&a>e&&n[a]!==O.b.Complete))}get isStepSkippable(){const{stepSkippable:e,stepStatuses:t,currentStepIndex:n}=this.props;return e[n]||t[n]===O.b.Complete}getStepClass(e){return!this.isStepSkippable&&e>this.props.currentStepIndex?"wizard--progress-button unclickable":"wizard--progress-button"}get WizardProgress(){const{hideFirstStep:e,stepStatuses:t,stepTitles:n,stepTestIds:a,currentStepIndex:r}=this.props,i=t.length-1;return t.reduce(((t,s,l)=>{if(e&&0===l)return[...t];let c="";l===r&&s!==O.b.Error&&(c="current");const u=o.a.createElement("div",{key:`stepEle${l}`,className:this.getStepClass(l),onClick:this.handleSetCurrentStep(l)},o.a.createElement("span",{className:`wizard--progress-icon ${c||s}`},o.a.createElement("span",{className:`icon ${s}`})),o.a.createElement("div",{className:`wizard--progress-title ${c||s}`,"data-testid":a[l]},n[l]));if(l===i)return[...t,u];let d=O.a.None;l===r&&s!==O.b.Error&&(d=O.a.Some),l!==i&&s!==O.b.Complete||(d=O.a.Full);const m=o.a.createElement("span",{key:l,className:`wizard--progress-connector wizard--progress-connector--${d||O.a.None}`});return[...t,u,m]}),[])}};D=Object(a.a)([u.a],D);var T=D;class j extends r.Component{constructor(){super(...arguments),this.handleClick=()=>{const{action:e,onCollapseMenu:t,value:n}=this.props;e(n),t&&t()}}render(){const{label:e,disabled:t,testID:n}=this.props;return o.a.createElement("button",{className:this.className,onClick:this.handleClick,disabled:t,"data-testid":n},e,this.description)}get className(){const{disabled:e}=this.props;return m()("context-menu--item",{"context-menu--item__disabled":e})}get description(){const{description:e}=this.props;if(e)return o.a.createElement("div",{className:"contex-menu--item-description"},e)}}j.defaultProps={description:"",testID:"context-menu-item"};var I=j;let N=class extends r.Component{constructor(e){super(e),this.handleExpandMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!0),this.setState({isExpanded:!0})},this.handleCollapseMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!1),this.setState({isExpanded:!1})},this.state={isExpanded:!1}}render(){const{icon:e,text:t,shape:n,color:a,testID:r,size:i,style:l}=this.props;return o.a.createElement(p.a,{onClickOutside:this.handleCollapseMenu},o.a.createElement("div",{className:"context-menu--container"},o.a.createElement(s.Button,{className:this.toggleClassName,onClick:this.handleExpandMenu,text:t,shape:n,icon:e,size:i,color:a,testID:r,style:l}),this.menu))}get menu(){const{children:e}=this.props;return o.a.createElement("div",{className:this.menuClassName},o.a.createElement("div",{className:this.listClassName},o.a.Children.map(e,(e=>e.type===I?o.a.createElement(I,Object.assign({},e.props,{onCollapseMenu:this.handleCollapseMenu})):e))))}get listClassName(){const{color:e}=this.props;return m()("context-menu--list",{[`context-menu--${e}`]:e})}get menuClassName(){const{isExpanded:e}=this.state;return m()("context-menu--list-container",{open:e})}get toggleClassName(){const{color:e}=this.props,{isExpanded:t}=this.state;return m()("context-menu--toggle",{[`context-menu--${e}`]:e,active:t})}};N.defaultProps={color:s.ComponentColor.Primary,shape:s.ButtonShape.Square,text:"",testID:"context-menu",size:s.ComponentSize.ExtraSmall},N=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],N);var R,A,F,_,M,L,P,$,B,z,q,H,V,U,W=N;!function(e){e.Default="default",e.Primary="primary",e.Secondary="secondary",e.Success="success",e.Warning="warning",e.Danger="danger",e.Alert="alert"}(R||(R={})),function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(A||(A={})),function(e){e.Default="default",e.Loading="loading",e.Error="error",e.Valid="valid",e.Disabled="disabled"}(F||(F={})),function(e){e.Amethyst="amethyst",e.Malachite="malachite",e.Sapphire="sapphire",e.Onyx="onyx"}(_||(_={})),function(e){e.Above="above",e.Below="below"}(M||(M={})),function(e){e.Default="none",e.Square="square",e.StretchToFit="stretch"}(L||(L={})),function(e){e.Button="button",e.Submit="submit"}(P||(P={})),function(e){e.Obsidian="#0f0e15",e.Raven="#181820",e.Kevlar="#202028",e.Castle="#292933",e.Onyx="#31313d",e.Pepper="#383846",e.Smoke="#434453",e.Graphite="#545667",e.Storm="#676978",e.Mountain="#757888",e.Wolf="#8e91a1",e.Sidewalk="#999dab",e.Forge="#a4a8b6",e.Mist="#bec2cc",e.Chromium="#c6cad3",e.Platinum="#d4d7dd",e.Pearl="#e7e8eb",e.Whisper="#eeeff2",e.Cloud="#f6f6f8",e.Ghost="#fafafc",e.White="#ffffff"}($||($={})),function(e){e.AddCell="add-cell",e.AlertTriangle="alert-triangle",e.Alerts="alerts",e.Annotate="annotate",e.AnnotatePlus="annotate-plus",e.AuthZero="authzero",e.BarChart="bar-chart",e.Bell="bell",e.BellRinging="bell-ringing",e.BellSolid="bell-solid",e.Calendar="calendar",e.Capacitor="capacitor2",e.CaretDown="caret-down",e.CaretLeft="caret-left",e.CaretRight="caret-right",e.CaretUp="caret-up",e.Chat="chat",e.Checkmark="checkmark",e.Circle="circle",e.CircleThick="circle-thick",e.Clock="clock",e.CogOutline="cog-outline",e.CogSolid_New="cog-thick",e.Collapse="collapse",e.CrownOutline="crown-outline",e.CrownSolid="crown2",e.Cube="cube",e.Cubouniform="cubo-uniform",e.CuboNav="cubo-nav",e.Dashboards="dashboards",e.DashF="dash-f",e.DashH="dash-h",e.DashJ="dash-j",e.Disks="disks",e.Download="download",e.Duplicate="duplicate",e.ExpandA="expand-a",e.ExpandB="expand-b",e.Export="export",e.Eye="eye",e.EyeClosed="eye-closed",e.EyeOpen="eye-open",e.GitHub="github",e.Google="google",e.GraphLine="graphline-2",e.Group="group",e.Heroku="heroku",e.HerokuSimple="",e.Import="import",e.Link="link",e.OAuth="oauth",e.Octagon="octagon",e.Okta="okta",e.Pause="pause",e.Pencil="pencil",e.Play="play",e.Plus="plus",e.PlusSkinny="plus-skinny",e.Pulse="pulse-c",e.Refresh="refresh",e.Remove="remove",e.Search="search",e.Server="server2",e.Shuffle="shuffle",e.Square="square",e.TextBlock="text-block",e.Trash="trash",e.Triangle="triangle",e.User="user",e.UserAdd="user-add",e.UserOutline="user-outline",e.UserRemove="user-remove",e.UsersDuo="users-duo",e.UsersTrio="users-trio",e.Wood="wood",e.Wrench="wrench",e.Star="star",e.Stop="stop",e.Zap="zap"}(B||(B={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten",e[e.Eleven=11]="Eleven",e[e.Twelve=12]="Twelve"}(z||(z={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(q||(q={})),function(e){e.Descending="desc",e.Ascending="asc",e.None="none"}(H||(H={})),function(e){e.Rows="rows",e.Columns="columns"}(V||(V={})),function(e){e.RouterLink="router",e.HTTPLink="http",e.ShowDropdown="showDropdown"}(U||(U={}));let G=class extends r.PureComponent{constructor(e){super(e),this.handleBoostZIndex=e=>{this.setState({boostZIndex:e})},this.state={boostZIndex:!1}}render(){const{children:e}=this.props;return o.a.createElement("div",{className:this.className},o.a.Children.map(e,(e=>(null==e?void 0:e.type)===W?o.a.createElement(W,Object.assign({},e.props,{onBoostZIndex:this.handleBoostZIndex})):e)))}get className(){const{align:e,className:t}=this.props,{boostZIndex:n}=this.state;return m()("context-menu",{[`${t}`]:t,"context-menu--boost-z":n,"context-menu--align-left":e===q.Left,"context-menu--align-right":e===q.Right})}};G.defaultProps={align:q.Right},G.Menu=W,G.Item=I,G=Object(a.a)([u.a,Object(a.b)("design:paramtypes",[Object])],G);var K=G},129:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(35),i=n(3),s=n(171),l=n(20),c=n(7);n(258);const u="visualization.customize.staticlegend";t.a=({properties:e,update:t})=>{const{staticLegend:n={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{valueAxis:d}=n,{colorizeRows:m=!1,heightRatio:p=l.v,opacity:h=l.h,orientationThreshold:f=l.l,show:g}=n,[b,v]=Object(a.useState)(g),y=a=>{v(a===l.o.SHOW),t({staticLegend:Object.assign(Object.assign({},n),{show:a===l.o.SHOW})}),Object(c.a)(`${u}.${a}`,{type:e.type})},x=e=>{t({staticLegend:Object.assign(Object.assign({},n),{valueAxis:e})})};return r.a.createElement(i.Form.Element,{label:"Display Static Legend",className:"static-legend-options",testID:"static-legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"static-legend-hide",id:"radio_static_legend_hide",titleText:"Hide",active:!b,onClick:y,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"static-legend-show",id:"radio_static_legend_show",titleText:"Show",active:b,onClick:y,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"static-legend-options--show"},r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:f,parentName:"static-legend",handleSetOrientation:e=>{let a;a="number"!=typeof e||e!=e||e>0?l.m:l.n,t({staticLegend:Object.assign(Object.assign({},n),{orientationThreshold:a})})},testID:"static-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:h,handleSetOpacity:a=>{const r=Object(o.a)(a);isNaN(r)||r<l.j?(t({staticLegend:Object.assign(Object.assign({},n),{opacity:l.i})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({staticLegend:Object.assign(Object.assign({},n),{opacity:r})}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:r}))},testID:"static-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:m,handleSetColorization:()=>{t({staticLegend:Object.assign(Object.assign({},n),{colorizeRows:!m})}),Object(c.a)(`${u}.colorizeRows.${!m}`,{type:e.type})},testID:"static-legend-colorize-rows-toggle"}),r.a.createElement(i.InputLabel,{className:"latest-axis-label"},"Displayed Value"),r.a.createElement(i.Toggle,{tabIndex:1,value:"y",id:"latest-y-axis",className:"latest-y-axis",name:"valueAxis",checked:"x"!==d,onChange:x,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"!==d,htmlFor:"latest-y-axis"},"Latest Y Axis")),r.a.createElement(i.Toggle,{tabIndex:2,value:"x",id:"latest-x-axis",className:"latest-x-axis",name:"valueAxis",checked:"x"===d,onChange:x,type:i.InputToggleType.Radio,size:i.ComponentSize.ExtraSmall,appearance:i.Appearance.Outline},r.a.createElement(i.InputLabel,{active:"x"===d,htmlFor:"latest-x-axis"},"Latest X Axis")),r.a.createElement(i.Form.Element,{className:"static-legend-height-slider",label:(e=>`Height: ${(100*e).toFixed(0)}%`)(p)},r.a.createElement(i.RangeSlider,{max:l.t,min:l.u,step:l.w,value:p,onChange:a=>{const r=Object(o.a)(a);isNaN(r)||r<l.u?(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:l.v})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:l.v})):(t({staticLegend:Object.assign(Object.assign({},n),{heightRatio:r})}),Object(c.a)(`${u}.heightRatio`,{type:e.type,heightRatio:r}))},hideLabels:!0,testID:"static-legend-height-slider"}))))))}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(14),r=n(2),o=n(4),i=n(37),s=n(26),l=n(20),c=n(23),u=n(7);const d=e=>{const{isViewingVisOptions:t}=Object(o.e)(s.d),n=Object(o.d)(),d=Object(r.useCallback)((t=>{n(Object(i.p)(Object.assign(Object.assign({},e.staticLegend),t)))}),[n,e.staticLegend]);return Object(r.useMemo)((()=>{const{legendColorizeRows:n=l.f,legendOpacity:r=l.h,legendOrientationThreshold:o=l.l}=e,{staticLegend:i={colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z}}=e,{colorizeRows:s=!1,heightRatio:m=l.v,opacity:p=l.h,orientationThreshold:h=o,show:f=l.x}=i,g=Object(a.c)(i,["colorizeRows","heightRatio","opacity","orientationThreshold","show"]);if(t&&!f&&m===l.v){let e,t=l.h;"number"==typeof r&&r==r&&r>=l.j&&r<=l.i&&(t=r),e="number"!=typeof o||o!=o||o>0?l.m:l.n,d({colorizeRows:n,opacity:t,orientationThreshold:e})}return Object.assign(Object.assign(Object.assign(Object.assign({},g),{colorizeRows:s,heightRatio:m,hide:(b=f,!b),opacity:p,orientationThreshold:h}),l.y),{renderEffect:t=>{const{staticLegendHeight:n,totalHeight:a,legendDataLength:r,lineCount:o,padding:i,headerTextMetrics:s,sampleTextMetrics:m}=t,p=s.height,f=m.height;if(n===l.v){let t=l.s;if(h===l.m&&(t=o*f+p+i/2),h===l.n){t=(r-c.a.length>0?r-c.a.length:r)*f+i}let n=t/a;n>l.t&&(n=l.t),n<l.u&&(n=l.u),"number"==typeof n&&n==n||(n=l.s),Object(u.a)("visualization.customize.staticlegend.heightRatio.autoAdjust",{type:e.type,updatedHeightRatio:n}),d({heightRatio:n})}}});var b}),[e,t,d])}},131:function(e,t,n){var a=n(261);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},132:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(12),r=n(5);const o=async(e,t)=>{const n=await a.getDashboardsCellsView({dashboardID:e,cellID:t});if(200!==n.status)throw new Error(n.data.message);return Object.assign(Object.assign({},n.data),{dashboardID:e,cellID:t,status:r.RemoteDataState.Done})},i=async(e,t,n)=>{const o=await a.patchDashboardsCellsView({dashboardID:e,cellID:t,data:n});if(200!==o.status)throw new Error(o.data.message);return Object.assign(Object.assign({},o.data),{dashboardID:e,cellID:t,status:r.RemoteDataState.Done})},s=async(e,t,n)=>{const r=e.map((e=>a.getDashboardsCellsView({dashboardID:t,cellID:e.id}).then((t=>Object.assign(Object.assign({},t),{cellID:e.id}))))),o=await Promise.all(r);if(o.length>0&&o.some((e=>200!==e.status)))throw new Error("An error occurred cloning the dashboard");return o.map((async t=>{const r=t.data,o=e.find((e=>e.id===r.id));if(o){const e=await a.postDashboardsCell({dashboardID:n,data:o});if(201!==e.status)throw new Error("An error occurred cloning the dashboard");return a.patchDashboardsCellsView({dashboardID:n,cellID:e.data.id,data:r})}}))}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(2),r=n.n(a);const o=r.a.createContext({launch:()=>{},data:null,element:null,closeFn:()=>{}}),i=()=>{const{element:e}=Object(a.useContext)(o);return e||null},s=({children:e})=>{const[t,n]=Object(a.useState)(null),[i,s]=Object(a.useState)(null);return r.a.createElement(o.Provider,{value:{launch:(e,t)=>{n(e),s(t)},data:i,element:t,closeFn:()=>{n(null),s(null)}}},e)}},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n(2),o=n(8);const i=/\w+\[\]/g,s=/\[\]?\./;class l extends r.PureComponent{constructor(e){super(e),this.createIndex=e=>Object(o.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const n=e[Object(o.sortedIndex)(e,t)];return!(!n||!n.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),n=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=n.slice(e);return t},this.collator=new Intl.Collator("en-us",{numeric:!0})}render(){return this.props.children(this.sorted)}get sorted(){return this.filtered.sort(((e,t)=>this.props.sortByKey?this.collator.compare(Object(o.get)(e,this.props.sortByKey),Object(o.get)(t,this.props.sortByKey)):this.collator.compare(e.name,t.name)))}get filtered(){const{list:e,labels:t,searchKeys:n}=this.props,{formattedSearchTerm:a}=this;if(Object(o.isEmpty)(a))return e;return e.filter((e=>{const r=Object.assign(Object.assign({},e),{labels:Object(o.get)(e,"labels",[]).map((e=>t[e]))});return n.some((e=>{const t=this.getKey(r,e),n=this.isStringArray(t);if(!n&&"object"==typeof t)throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(n){const e=this.createIndex(t);return this.checkIndex(e,a)}return String(t).toLocaleLowerCase().includes(a)}))}))}isStringArray(e){return!!Array.isArray(e)&&!(!Object(o.isEmpty)(e)&&"string"!=typeof e[0])}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(i)?this.getInExactKey(e,t):Object(o.get)(e,t,"")}getInExactKey(e,t){return t.split(s).reduce(((e,t)=>Object(o.flatMap)(e,(e=>Object(o.get)(e,t,[])))),[e])}}const c=e=>({labels:e.resources.labels.byID});function u(){return Object(a.c)(c)(l)}},137:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const a=e=>e.app.persisted.timeZone||"Local",r=e=>e.app.persisted.theme||"dark",o=e=>e.app.persisted.navBarState||"collapsed",i=e=>e.app.persisted.versionInfo||{},s=e=>e.app.ephemeral.hasUpdatedTimeRangeInVEO||!1,l=e=>e.app.ephemeral.inPresentationMode||!1,c=e=>e.app.persisted.flowsCTA||{explorer:!0,tasks:!0,alerts:!0}},138:function(e,t,n){"use strict";n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return P})),n.d(t,"i",(function(){return $})),n.d(t,"e",(function(){return B})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return q})),n.d(t,"m",(function(){return H})),n.d(t,"a",(function(){return V})),n.d(t,"k",(function(){return U})),n.d(t,"c",(function(){return W})),n.d(t,"l",(function(){return G})),n.d(t,"j",(function(){return K})),n.d(t,"n",(function(){return Y})),n.d(t,"f",(function(){return Z}));var a=n(25),r=n(375),o=n(8),i=n(132),s=n(12),l=n(244),c=n(210),u=n(55),d=n(234),m=n(10),p=n(142),h=n(113),f=n(157),g=n(36),b=n(222),v=n(118),y=n(168),x=n(90),E=n(191),w=n(216),S=n(115),k=n(324),C=n(212),O=n(426),D=n(26),T=n(62),j=n(43),I=n(9),N=n(11),R=n(13),A=n(128),F=n(74),_=n(5),M=n(325);const L=()=>async(e,t)=>{try{const n=Object(I.a)(t()),o={name:A.e,cells:[],orgID:n.id},i=await s.postDashboard({data:o});if(201!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data,u.k);await e(E.setDashboard(i.data.id,_.RemoteDataState.Done,l)),e(Object(r.e)(`/orgs/${n.id}/dashboards/${i.data.id}`)),e(Object(g.d)())}catch(t){console.error(t),Object(j.r)(t)?e(Object(m.c)(R.cd("dashboards"))):e(Object(m.c)(R.lb()))}},P=(e,t)=>async(n,o)=>{try{const l=o(),c=Object(I.a)(l),d=Object(N.a)(l,_.ResourceType.Dashboards).map((e=>e.name)),m=Object(T.a)(d,t),p=await s.getDashboard({dashboardID:e,query:{include:"properties"}});if(200!==p.status)throw new Error(p.data.message);const{entities:h,result:f}=Object(a.a)(p.data,u.k),b=h.dashboards[f],v=Object.values(h.cells||{}),y=await s.postDashboard({data:{orgID:c.id,name:m,description:b.description||""}});if(201!==y.status)throw new Error(y.data.message);const x=Object(a.a)(y.data,u.k);await n(E.setDashboard(y.data.id,_.RemoteDataState.Done,x));const w=p.data.labels.map((e=>s.postDashboardsLabel({dashboardID:y.data.id,data:{labelID:e.id}}))),S=await Promise.all(w);if(S.length>0&&S.some((e=>201!==e.status)))throw new Error("An error occurred cloning the labels for this dashboard");const k=y.data.id,C=await i.a(v,e,k),O=await Promise.all(C);if(O.length>0&&O.some((e=>200!==e.status)))throw new Error("An error occurred cloning the dashboard");n(Object(g.d)()),n(Object(r.e)(`/orgs/${c.id}/dashboards/${y.data.id}`))}catch(e){console.error(e),Object(j.r)(e)?n(Object(m.c)(R.cd("dashboards"))):n(Object(m.c)(R.lb()))}},$=()=>async(e,t)=>{try{const{setDashboards:n}=E,r=t();Object(N.h)(r,_.ResourceType.Dashboards)===_.RemoteDataState.NotStarted&&e(n(_.RemoteDataState.Loading));const o=Object(I.a)(r),i=await s.getDashboards({query:{orgID:o.id,limit:F.b}});if(200!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data.dashboards,u.c);if(e(n(_.RemoteDataState.Done,l)),!l.result.length)return;const c=[],m=[];setTimeout((()=>{Object.values(l.entities.dashboards).map((e=>({id:e.id,cells:e.cells.map((e=>l.entities.cells[e]))}))).forEach((e=>{const t=Object(d.h)(e.cells,e.id),n=Object(a.a)(t,u.g);m.push(n);const r=Object(a.a)(e.cells,u.b);c.push(r)})),e(Object(v.j)(_.RemoteDataState.Done,c,m))}),0)}catch(t){throw e(E.setDashboards(_.RemoteDataState.Error)),console.error(t),t}},B=e=>async(t,n)=>{try{const r=Object(I.a)(n());await l.a(e,r.id);const o=await s.getDashboards({query:{orgID:r.id}});if(200!==o.status)throw new Error(o.data.message);const i=Object(a.a)(o.data.dashboards,u.c);t(E.setDashboards(_.RemoteDataState.Done,i)),t(Object(m.c)(R.fc())),t(Object(g.d)())}catch(e){Object(j.r)(e)?t(Object(m.c)(R.cd("dashboards"))):t(Object(m.c)(R.ec(e)))}},z=(e,t)=>async n=>{n(E.removeDashboard(e)),n(Object(p.b)(e));try{const a=await s.deleteDashboard({dashboardID:e});if(204!==a.status)throw new Error(a.data.message);n(Object(m.c)(R.ob(t))),n(Object(g.d)())}catch(e){n(Object(m.c)(R.nb(t,e.message)))}},q=(e,t)=>async(n,o)=>{try{n(E.setDashboard(e,_.RemoteDataState.Loading));const[r]=await Promise.all([s.getDashboard({dashboardID:e,query:{include:"properties"}},{signal:null==t?void 0:t.signal}),n(Object(h.f)(t))]);if(!r)return;if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,u.k),i=r.data.cells||[],l=Object(d.h)(i,e);setTimeout((()=>{const r=Object(a.a)(i,u.b);n(Object(b.f)(e,_.RemoteDataState.Done,r));const s=Object(a.a)(l,u.g);if(n(Object(v.i)(_.RemoteDataState.Done,s)),n(E.setDashboard(e,_.RemoteDataState.Done,o)),n(Object(p.g)(e)),i.length>0){const e=!0;n(Object(h.g)(e,t))}}),0)}catch(t){if("AbortError"===t.name)return;const a=Object(I.a)(o());return n(Object(r.e)(`/orgs/${a.id}/dashboards-list`)),void n(Object(m.c)(R.pb(e,t.message)))}},H=(e,t)=>async(n,r)=>{const o=r(),i=Object(N.f)(o,_.ResourceType.Dashboards,e),l=Object.assign(Object.assign({},i),t);try{const e=await s.patchDashboard({dashboardID:l.id,data:{name:l.name,description:l.description}});if(200!==e.status)throw new Error(e.data.message);const t=Object(a.a)(e.data,u.k);n(E.editDashboard(t))}catch(e){console.error(e),n(Object(m.c)(R.qb()))}},V=(e,t)=>async n=>{try{const r=await s.postDashboardsLabel({dashboardID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data.label,u.l);n(Object(x.g)(e,o))}catch(e){console.error(e),n(Object(m.c)(R.p()))}},U=(e,t)=>async n=>{try{const a=await s.deleteDashboardsLabel({dashboardID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);n(E.removeDashboardLabel(e,t.id))}catch(e){console.error(e),n(Object(m.c)(R.bd()))}},W=e=>async(t,n)=>{try{t(Object(f.i)(_.RemoteDataState.Loading));const r=n(),o=Object(I.a)(r),l=await s.getDashboard({dashboardID:e});if(200!==l.status)throw new Error(l.data.message);const{entities:c,result:d}=Object(a.a)(l.data,u.k),m=c.dashboards[d],p=m.cells.map((e=>c.cells[e])),h=m.cells.map((t=>i.b(e,t))),g=await Promise.all(h),b=await s.getVariables({query:{orgID:o.id}});if(200!==b.status)throw new Error(b.data.message);let v=[];if(b.data.variables.length){const e=Object(a.a)(b.data.variables,M.a);v=Object.values(e.entities.variables)}const y=Object(k.a)(v,g),x=Object(O.a)(y,v),E=Object(C.a)(r,m,p,g,x);t(Object(f.i)(_.RemoteDataState.Done,E))}catch(e){console.error(e),t(Object(f.i)(_.RemoteDataState.Error)),t(Object(m.c)(R.eb(e)))}},G=e=>async(t,n)=>{const a=Object(D.j)(n());try{a.id?await t(Object(y.c)(e,a)):await t(Object(c.a)(e,a))}catch(e){throw console.error(e),t(Object(m.c)(R.K(e.message))),e}},K=e=>(t,n)=>{const a=n(),r=Object(N.f)(a,_.ResourceType.Views,e);if(!r)return;const i=r,s=Object(o.get)(i,"properties.note",""),l=Object(o.get)(i,"properties.showNoteWhenEmpty",!1),c={viewID:i.id,note:s,showNoteWhenEmpty:l,mode:_.NoteEditorMode.Editing};t(Object(w.d)(c))},Y=e=>(t,n)=>{const a=n(),{note:r,showNoteWhenEmpty:o}=a.noteEditor,i=Object(N.f)(a,_.ResourceType.Views,e);if("check"===i.properties.type)throw new Error(`view type "${i.properties.type}" does not support notes`);const s=Object.assign(Object.assign({},i),{properties:Object.assign(Object.assign({},i.properties),{note:r,showNoteWhenEmpty:o})});return t(Object(y.b)(i.dashboardID,s))},Z=e=>(t,n)=>{const a=Object(N.f)(n(),_.ResourceType.Dashboards,e);if(!a)throw new Error(`could not find dashboard with id "${e}"`);const{note:r}=n().noteEditor,o=Object(S.a)("markdown");return o.properties.note=r,t(Object(c.a)(a.id,o))}},140:function(e,t,n){"use strict";n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return D})),n.d(t,"s",(function(){return T})),n.d(t,"r",(function(){return j})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return N})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return A})),n.d(t,"k",(function(){return F})),n.d(t,"b",(function(){return _})),n.d(t,"q",(function(){return M})),n.d(t,"n",(function(){return L})),n.d(t,"i",(function(){return P})),n.d(t,"m",(function(){return $})),n.d(t,"h",(function(){return B})),n.d(t,"d",(function(){return z})),n.d(t,"l",(function(){return q}));var a=n(375),r=n(25),o=n(12),i=n(326),s=n(157),l=n(10),c=n(250),u=n(13),d=n(252),m=n(5),p=n(64),h=n(8);const f=async(e,t)=>{var n,a;if(!e.includes("import"))return`${t}\n\n${e}`;const r=await Object(o.postQueryAst)({data:{query:e}});if(200!==r.status)throw new Error(r.data.message);const i=r.data.ast,s=null!==(a=null===(n=null==i?void 0:i.files[0])||void 0===n?void 0:n.imports)&&void 0!==a?a:[],l=Object(h.get)(i,"files.0.body",[]);return`${s.map((e=>e.location.source)).join("\n")}\n${t}\n\n${l.map((e=>e.location.source)).join("\n\n")}`};var g=n(212),b=n(43),v=n(36),y=n(9),x=n(11),E=n(62),w=n(74);const S=async e=>{const t=await o.getTasks({query:e});if(200!==t.status)throw new Error(t.data.message);return t},k=(e=w.e)=>async(t,n)=>{try{const a=n();Object(x.h)(a,m.ResourceType.Tasks)===m.RemoteDataState.NotStarted&&t(Object(c.G)(m.RemoteDataState.Loading));const o={orgID:Object(y.a)(a).id,limit:e},s=await S(o),l=Object(r.a)(s.data.tasks,i.a);t(Object(c.G)(m.RemoteDataState.Done,l))}catch(e){t(Object(c.G)(m.RemoteDataState.Error));const n=Object(p.a)(e);console.error(e),t(Object(l.c)(u.Bd(n)))}},C=()=>async(e,t)=>{try{const n=t();Object(x.h)(n,m.ResourceType.Tasks)===m.RemoteDataState.NotStarted&&e(Object(c.G)(m.RemoteDataState.Loading));const a=Object(y.a)(n),s=500,l={orgID:a.id,limit:s},u=await S(l);let d=u.data.tasks,p=u.data.links.next;for(;p&&p.includes("after=");){const e=p.split("after=");if(e.length<2)break;const t=e[1].split("&")[0];if(!t)break;l.after=t;const n=await o.getTasks({query:l});if(200!==n.status)throw new Error(n.data.message);d=[...d,...n.data.tasks],p=n.data.links.next}const h=Object(r.a)(d,i.a);e(Object(c.G)(m.RemoteDataState.Done,h))}catch(t){e(Object(c.G)(m.RemoteDataState.Error));const n=Object(p.a)(t);console.error(t),e(Object(l.c)(u.Bd(n)))}},O=(e,t)=>async n=>{try{const a=await o.postTasksLabel({taskID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=await o.getTask({taskID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(r.a)(s.data,i.b);n(Object(c.u)(l))}catch(e){console.error(e),n(Object(l.c)(u.q()))}},D=(e,t)=>async n=>{try{const a=await o.deleteTasksLabel({taskID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);const s=await o.getTask({taskID:e});if(200!==s.status)throw new Error(s.data.message);const l=Object(r.a)(s.data,i.b);n(Object(c.u)(l))}catch(e){console.error(e),n(Object(l.c)(u.Wc()))}},T=e=>async t=>{try{const n=await o.patchTask({taskID:e.id,data:{status:e.status}});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,i.b);t(Object(c.u)(a)),t(Object(c.y)(a)),t(Object(l.c)(u.Ad()))}catch(e){console.error(e);const n=Object(p.a)(e);t(Object(l.c)(u.zd(n)))}},j=(e,t)=>async n=>{try{const a=await o.patchTask({taskID:t,data:{name:e}});if(200!==a.status)throw new Error(a.data.message);const s=Object(r.a)(a.data,i.b);n(Object(c.u)(s)),n(Object(l.c)(u.Ad()))}catch(e){console.error(e);const t=Object(p.a)(e);n(Object(l.c)(u.zd(t)))}},I=e=>async t=>{try{const n=await o.deleteTask({taskID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(c.v)(e)),t(Object(l.c)(u.rd()))}catch(e){console.error(e);const n=Object(p.a)(e);t(Object(l.c)(u.qd(n)))}},N=e=>async(t,n)=>{try{const a=n(),s=await o.getTask({taskID:e.id});if(200!==s.status)throw new Error(s.data.message);const p=s.data.name,h=Object(x.a)(a,m.ResourceType.Tasks).map((e=>e.name)),f=Object(E.a)(h,p),{flux:g}=s.data,b=Object(d.b)(g);b.body=b.body.map((e=>{var t;return"OptionStatement"===e.type&&"VariableAssignment"===e.assignment.type&&"task"===e.assignment.id.name&&"ObjectExpression"===e.assignment.init.type&&(e.assignment.init.properties=null===(t=e.assignment.init)||void 0===t?void 0:t.properties.map((e=>{var t,n;return"Identifier"===e.key.type&&"name"===e.key.name&&(null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.location)||void 0===n?void 0:n.source)&&(e.value.location.source=`"${f}"`),e}))),e}));const y=Object(d.a)(b),w=await o.postTask({data:Object.assign(Object.assign({},s.data),{flux:y})});if(201!==w.status)throw new Error(w.data.message);const S=Object(r.a)(w.data,i.b);t(Object(l.c)(u.od(e.name))),t(Object(c.r)(S)),t(Object(v.g)())}catch(n){if(console.error(n),Object(b.r)(n))t(Object(l.c)(u.cd("tasks")));else{const a=Object(p.a)(n);t(Object(l.c)(u.nd(e.name,a)))}}},R=e=>async t=>{try{const n=await o.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,i.b);t(Object(c.y)(a))}catch(e){console.error(e),t(F());const n=Object(p.a)(e);t(Object(l.c)(u.ud(n)))}},A=e=>async t=>{try{const n=await o.getTask({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(r.a)(n.data,i.b);t(Object(c.w)(a))}catch(e){console.error(e),t(F());const n=Object(p.a)(e);t(Object(l.c)(u.ud(n)))}},F=()=>(e,t)=>{const n=Object(y.a)(t());e(Object(a.e)(`/orgs/${n.id}/tasks/`))},_=()=>e=>{e(Object(c.s)()),e(Object(a.c)())},M=()=>async(e,t)=>{try{const n=t(),{tasks:{currentScript:r,currentTask:i,taskOptions:s,currentPage:d}}=n.resources,p={flux:r,name:s.name,offset:s.offset,token:null};s.taskScheduleType===m.TaskSchedule.interval?(p.every=s.interval,p.cron=null):(p.cron=s.cron,p.every=null);const h=await o.patchTask({taskID:i.id,data:p});if(200!==h.status)throw new Error(h.data.message);d===c.q.TasksPage?e(F()):d===c.q.TaskRunsPage&&e(((e,t)=>{const n=t(),{tasks:{currentTask:r}}=n.resources,o=Object(y.a)(t());e(Object(a.e)(`/orgs/${o.id}/tasks/${r.id}/runs`))})),e(Object(c.s)()),e(Object(l.c)(u.Ad()))}catch(t){console.error(t);const n=Object(p.a)(t);e(Object(l.c)(u.zd(n)))}},L=(e,t)=>async(n,a)=>{try{const r=await f(e,t),i=Object(y.a)(a()),s=await o.postTask({data:{orgID:i.id,flux:r}});if(201!==s.status)throw new Error(s.data.message);n(Object(c.B)("")),n(Object(c.t)()),n(Object(l.c)(u.pd())),n(Object(v.g)())}catch(e){if(Object(b.r)(e))n(Object(l.c)(u.cd("tasks")));else{const t=Object(p.a)(e);n(Object(l.c)(u.td(t)))}}},P=e=>async t=>{try{t(Object(c.C)([],m.RemoteDataState.Loading)),t(R(e));const n=await o.getTasksRuns({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data.runs.map((e=>{const t=new Date(e.finishedAt),n=new Date(e.startedAt);return Object.assign(Object.assign({},e),{duration:`${H(t,n)}`})}));t(Object(c.C)(a,m.RemoteDataState.Done))}catch(e){console.error(e);const n=Object(p.a)(e);t(Object(l.c)(u.sd(n))),t(Object(c.C)([],m.RemoteDataState.Error))}},$=e=>async t=>{try{const n=await o.postTasksRun({taskID:e});if(201!==n.status)throw new Error(n.data.message);t(Object(l.c)(u.yd()))}catch(e){const n=Object(p.a)(e);throw t(Object(l.c)(u.xd(n))),console.error(e),n}},B=(e,t)=>async n=>{try{const a=await o.getTasksRunsLogs({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(c.A)(a.data.events))}catch(e){console.error(e),n(Object(c.A)([]))}},z=e=>async(t,n)=>{try{t(Object(s.i)(m.RemoteDataState.Loading));const a=await o.getTask({taskID:e});if(200!==a.status)throw new Error(a.data.message);const{entities:l,result:c}=Object(r.a)(a.data,i.b),u=Object(g.b)(n(),l.tasks[c]);t(Object(s.i)(m.RemoteDataState.Done,u))}catch(e){t(Object(s.i)(m.RemoteDataState.Error)),t(Object(l.c)(u.eb(e)))}},q=(e,t)=>async n=>{try{const a=await o.postTasksRunsRetry({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(l.c)(u.wd(t)))}catch(e){n(Object(l.c)(u.vd(e)))}},H=(e,t)=>{let n="seconds";if(isNaN(e.getTime())||isNaN(t.getTime()))return"";let a=(e.getTime()-t.getTime())/1e3;return a>60&&(a=Math.round(a/60),n="minutes"),a+" "+n}},143:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(75);const s="duration-input--suggestion";t.a=({suggestions:e,onSubmit:t,value:n,placeholder:l,status:c,submitInvalid:u=!0,showDivider:d=!0,testID:m="duration-input",validFunction:p,customClass:h,dividerText:f,dividerOnClick:g})=>{const[b,v]=Object(a.useState)(!1),[y,x]=Object(a.useState)(n);Object(a.useEffect)((()=>{x(n)}),[n,x]);const E=e=>{x(e),t(e),v(!1)},w=e=>p?p(e):Object(i.e)(e);let S=c||o.ComponentStatus.Default;S!==o.ComponentStatus.Default||w(y)||(S=o.ComponentStatus.Error);return r.a.createElement("div",{className:`duration-input ${h}`},r.a.createElement(o.ClickOutside,{onClickOutside:e=>{e.target.classList.contains(s)||e.target.parentNode.classList.contains(s)||v(!1)}},r.a.createElement(o.Input,{placeholder:l,value:y,status:S,onChange:e=>{return n=e.target.value,x(n),void((u||!u&&w(n))&&t(n));var n},onFocus:()=>v(!0),onKeyPress:e=>{"Enter"===e.key&&v(!1)},testID:m})),b&&r.a.createElement(o.DropdownMenu,{className:"duration-input--menu",noScrollX:!0},d&&f&&g&&r.a.createElement(o.Dropdown.Item,{value:"Customize",key:"Customize",onClick:g,className:s,testID:"custom-duration-input-button"},f),r.a.createElement(o.DropdownDivider,{text:""}),e.map((e=>r.a.createElement(o.DropdownItem,{key:e,value:e,className:s,onClick:E},e)))))}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(8),r=n(410),o=n.n(r),i=n(39);const s=e=>{const[t,n,a]=o()(e).rgb();return(t+n+a)/3>128?"#292933":"#ffffff"},l=(e,t)=>{const n=Object(a.sortBy)(e,(e=>Number(e.value)));if(t<0)return n[0];return n.filter((e=>t>=e.value)).pop()},c=({colors:e,lastValue:t,cellType:n="line"})=>{const a={bgColor:null,textColor:"table"===n?"#BEC2CC":i.k[11].hex},r=Number(t)||0;if(!e||!e.length)return a;const o=e.find((e=>e.id===i.a))||{hex:a.textColor};if(!t&&0!==t)return Object.assign(Object.assign({},a),{textColor:o.hex});if("line-plus-single-stat"===n)return o?{bgColor:null,textColor:o.hex}:a;const c=!!e.find((e=>e.type===i.m));if(c&&1===e.length&&o)return{bgColor:null,textColor:o.hex};if(c&&1===e.length)return a;if(c&&e.length>1){return{bgColor:null,textColor:l(e,r).hex}}if(1===e.length)return{bgColor:o.hex,textColor:s(o.hex)};if(e.length>1){const t=l(e,r),n=t?t.hex:o.hex;return{bgColor:n,textColor:s(n)}}return{bgColor:null,textColor:o.hex}}},145:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(110),i=n.n(o),s=n(3);class l extends a.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=()=>{const{onCopy:e}=this.props;e&&e()}}render(){const{text:e,testID:t,size:n}=this.props;return r.a.createElement(i.a,{text:e,onCopy:this.handleCopyAttempt},r.a.createElement(s.Button,{shape:s.ButtonShape.Default,size:n||s.ComponentSize.ExtraSmall,color:s.ComponentColor.Secondary,titleText:"Copy to Clipboard",text:"Copy to Clipboard",onClick:this.handleClickCopy,testID:null!=t?t:"button-copy"}))}}t.a=l},146:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y}));var a=n(25),r=n(294),o=n(10),i=n(315),s=n(13),l=n(9),c=n(11),u=n(7),d=n(5),m=n(12);const p=()=>async(e,t)=>{try{const n=t();Object(c.h)(n,d.ResourceType.Telegrafs)===d.RemoteDataState.NotStarted&&e(Object(i.i)(d.RemoteDataState.Loading));const o=Object(l.a)(n),s=await Object(m.getTelegrafs)({query:{orgID:o.id}});if(200!==s.status)throw new Error(s.data.message);const u=s.data.configurations,p=Object(a.a)(u,r.a);e(Object(i.i)(d.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(i.i)(d.RemoteDataState.Error)),e(Object(o.c)(Object(s.Ed)()))}},h=e=>async t=>{try{const n=await Object(m.postTelegraf)({data:e});if(201!==n.status)throw new Error(n.data.message);const o=n.data,s=Object(a.a)(o,r.b);t(Object(i.f)(s))}catch(e){console.error(e),t(Object(o.c)(Object(s.Cd)()))}},f=e=>async t=>{try{const n=await Object(m.putTelegraf)({telegrafID:e.id,data:e});if(200!==n.status)throw new Error(n.data.message);const o=n.data,s=Object(a.a)(o,r.b);t(Object(i.g)(s)),Object(u.a)(`telegraf.config.${Object(u.c)(e.name)}.edit.success`,{id:e.id})}catch(n){Object(u.a)(`telegraf.config.${Object(u.c)(e.name)}.edit.failure`,{id:e.id}),console.error(n),t(Object(o.c)(Object(s.Fd)(e.name)))}},g=(e,t)=>async n=>{try{const a=await Object(m.deleteTelegraf)({telegrafID:e});if(204!==a.status)throw new Error(a.data.message);n(Object(i.h)(e)),Object(u.a)(`telegraf.config.${Object(u.c)(t)}.delete.success`,{id:e})}catch(a){Object(u.a)(`telegraf.config.${Object(u.c)(t)}.delete.failure`,{id:e}),console.error(a),n(Object(o.c)(Object(s.Dd)(t)))}},b=(e,t)=>async n=>{try{const o=await Object(m.postTelegrafsLabel)({telegrafID:e,data:{labelID:t.id}});if(201!==o.status)throw new Error(o.data.message);const s=await Object(m.getTelegraf)({telegrafID:e,headers:{Accept:"application/json"}});if(200!==s.status)throw new Error(s.data.message);const l=s.data,c=Object(a.a)(l,r.b);n(Object(i.g)(c))}catch(e){console.error(e),n(Object(o.c)(Object(s.r)()))}},v=(e,t)=>async n=>{try{const o=await Object(m.deleteTelegrafsLabel)({telegrafID:e,labelID:t.id});if(204!==o.status)throw new Error(o.data.message);const s=await Object(m.getTelegraf)({telegrafID:e,headers:{Accept:"application/json"}});if(200!==s.status)throw new Error(s.data.message);const l=s.data,c=Object(a.a)(l,r.b);n(Object(i.g)(c))}catch(e){console.error(e),n(Object(o.c)(Object(s.Xc)()))}},y=e=>async()=>{try{const t=await Object(m.getTelegraf)({telegrafID:e,headers:{Accept:"application/json"}});if(200!==t.status)throw new Error(t.data.message);return t.data.name}catch(e){throw console.error(e),e}}},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),o=n(79),i=n(18),s=n(5);const l={loading:s.RemoteDataState.NotStarted,buckets:[],addBucket:e=>{}},c=Object(a.createContext)(l),u=({children:e})=>{var t,n;const[l,u]=Object(a.useState)(s.RemoteDataState.NotStarted),[d,m]=Object(a.useState)([]),{getPanelQueries:p}=Object(a.useContext)(o.a),{id:h}=Object(a.useContext)(i.a),f=null!==(n=null===(t=p(h))||void 0===t?void 0:t.scope)&&void 0!==n?n:{},g=Object(a.useRef)(new AbortController);Object(a.useEffect)((()=>()=>{try{g.current.abort()}catch(e){}}),[g]),Object(a.useEffect)((()=>{if(!f.region||!f.org)return;u(s.RemoteDataState.Loading);const e={"Content-Type":"application/json","Accept-Encoding":"gzip"};f.token&&(e.Authorization=`Token ${f.token}`),fetch(`${f.region}/api/v2/buckets?limit=100&orgID=${f.org}`,{method:"GET",headers:e,signal:g.current.signal}).then((e=>e.json())).then((e=>{const t=e.buckets.map((e=>({id:e.id,orgID:e.orgID,type:e.type,name:e.name}))).reduce(((e,t)=>("system"===t.type?e.system.push(t):e.user.push(t),e)),{system:[],user:[],sample:[{type:"sample",name:"Air Sensor Data",id:"airSensor"},{type:"sample",name:"Coinbase bitcoin price",id:"bitcoin"},{type:"sample",name:"NOAA National Buoy Data",id:"noaa"},{type:"sample",name:"USGS Earthquakes",id:"usgs"}]});t.system.sort(((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase()))),t.user.sort(((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase()))),t.sample.sort(((e,t)=>`${e.name}`.toLowerCase().localeCompare(`${t.name}`.toLowerCase()))),u(s.RemoteDataState.Done),m([...t.user,...t.system,...t.sample])})).catch((()=>{}))}),[f.region,f.org,g]);const b=e=>{m([...d,e])};return Object(a.useMemo)((()=>r.a.createElement(c.Provider,{value:{loading:l,buckets:d,addBucket:b}},e)),[l,d])}},149:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3);t.a=({selected:e,secrets:t,onSelect:n,onCreate:a,testID:i="secrets"})=>r.a.createElement(o.Dropdown,{testID:`dropdown--${i}`,style:{width:"180px"},button:(t,n)=>r.a.createElement(o.Dropdown.Button,{active:t,onClick:n,icon:o.IconFont.Lock,color:o.ComponentColor.Default,testID:`dropdown-button--${i}`},""!==e?e:"Choose Secret"),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},r.a.createElement(o.Dropdown.Item,{testID:"dropdown-item--create-secret",id:"create",key:"create",value:"create",className:"secrets-dropdown-header",onClick:()=>a(n)},r.a.createElement(o.Icon,{style:{marginRight:"4px"},glyph:o.IconFont.Plus}),"Create Secret"),t.map((e=>r.a.createElement(o.Dropdown.Item,{testID:`dropdown-item--${e.id}`,id:e.id,key:e.id,value:e.id,onClick:n},e.id))))})},150:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3);t.a=e=>{const{items:t,selectedItems:n,onSelectItem:a,multiSelect:i,children:s,testID:l,wrapText:c}=e;return r.a.createElement(o.List,{autoHideScrollbars:!0,testID:l,style:{flex:"1 0 0"},scrollToSelected:!0},t.map((e=>{const t=n.includes(e),s=i&&r.a.createElement(o.List.Indicator,{type:"checkbox"});return r.a.createElement(o.List.Item,{className:"selector-list--item",testID:`selector-list ${e}`,key:e,value:e,onClick:a,title:e,selected:t,size:o.ComponentSize.ExtraSmall,wrapText:c},s,e)})),s)}},152:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s}));const a=()=>new Map,r=e=>{const t=a();return e.forEach(((e,n)=>{t.set(n,e)})),t},o=(e,t,n)=>{let a=e.get(t);return void 0===a&&e.set(t,a=n()),a},i=(e,t)=>{const n=[];for(const[a,r]of e)n.push(t(r,a));return n},s=(e,t)=>{for(const[n,a]of e)if(t(a,n))return!0;return!1}},153:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return E}));var a=n(203),r=n(204),o=n(94);class i{constructor(e){this.arr=e,this.pos=0}}const s=e=>new i(e),l=e=>e.pos!==e.arr.length,c=(e,t)=>{const n=a.c(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},u=e=>c(e,m(e)),d=e=>e.arr[e.pos++],m=e=>{let t=0,n=0;for(;;){const a=e.arr[e.pos++];if(t|=(a&r.k)<<n,n+=7,a<r.g)return t>>>0;if(n>35)throw new Error("Integer out of range!")}},p=e=>{let t=e.arr[e.pos++],n=t&r.j,a=6;const o=(t&r.f)>0?-1:1;if(0==(t&r.g))return o*n;for(;;){if(t=e.arr[e.pos++],n|=(t&r.k)<<a,a+=7,t<r.g)return o*(n>>>0);if(a>41)throw new Error("Integer out of range!")}},h=e=>{let t=m(e);if(0===t)return"";{let n=String.fromCodePoint(d(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(d(e));else for(;t>0;){const a=t<1e4?t:1e4,r=e.arr.subarray(e.pos,e.pos+a);e.pos+=a,n+=String.fromCodePoint.apply(null,r),t-=a}return decodeURIComponent(escape(n))}},f=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},g=[e=>{},e=>null,p,e=>f(e,4).getFloat32(0,!1),e=>f(e,8).getFloat64(0,!1),e=>f(e,8).getBigInt64(0,!1),e=>!1,e=>!0,h,e=>{const t=m(e),n={};for(let a=0;a<t;a++){n[h(e)]=b(e)}return n},e=>{const t=m(e),n=[];for(let a=0;a<t;a++)n.push(b(e));return n},u],b=e=>g[127-d(e)](e);class v extends i{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),l(this)?this.count=m(this)+1:this.count=-1),this.count--,this.s}}class y extends i{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=p(this);const e=o.d(this.s);this.count=1,e&&(this.s=-this.s,this.count=m(this)+2)}return this.count--,this.s}}class x extends i{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=p(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=m(this)+2)}return this.s+=this.diff,this.count--,this.s}}class E{constructor(e){this.decoder=new y(e),this.str=h(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},156:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return D}));var a=n(203),r=n(94),o=n(204);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,o.h;const i=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&r.c(e)===e);Number.isNaN,Number.parseInt;class s{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const l=()=>new s,c=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},u=e=>{const t=new Uint8Array(c(e));let n=0;for(let a=0;a<e.bufs.length;a++){const r=e.bufs[a];t.set(r,n),n+=r.length}return t.set(a.c(e.cbuf.buffer,0,e.cpos),n),t},d=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},m=d,p=(e,t)=>{for(;t>o.k;)d(e,o.g|o.k&t),t>>>=7;d(e,o.k&t)},h=(e,t)=>{const n=r.d(t);for(n&&(t=-t),d(e,(t>o.j?o.g:0)|(n?o.f:0)|o.j&t),t>>>=6;t>0;)d(e,(t>o.k?o.g:0)|o.k&t),t>>>=7},f=(e,t)=>{const n=unescape(encodeURIComponent(t)),a=n.length;p(e,a);for(let t=0;t<a;t++)d(e,n.codePointAt(t))},g=(e,t)=>b(e,u(t)),b=(e,t)=>{const n=e.cbuf.length,a=e.cpos,o=r.g(n-a,t.length),i=t.length-o;e.cbuf.set(t.subarray(0,o),a),e.cpos+=o,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r.f(2*n,i)),e.cbuf.set(t.subarray(o)),e.cpos=i)},v=(e,t)=>{p(e,t.byteLength),b(e,t)},y=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(a.c(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*r.f(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},x=new DataView(new ArrayBuffer(4)),E=(e,t)=>{switch(typeof t){case"string":d(e,119),f(e,t);break;case"number":i(t)&&t<=o.h?(d(e,125),h(e,t)):(n=t,x.setFloat32(0,n),x.getFloat32(0)===n?(d(e,124),((e,t)=>{y(e,4).setFloat32(0,t,!1)})(e,t)):(d(e,123),((e,t)=>{y(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":d(e,122),((e,t)=>{y(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)d(e,126);else if(t instanceof Array){d(e,117),p(e,t.length);for(let n=0;n<t.length;n++)E(e,t[n])}else if(t instanceof Uint8Array)d(e,116),v(e,t);else{d(e,118);const n=Object.keys(t);p(e,n.length);for(let a=0;a<n.length;a++){const r=n[a];f(e,r),E(e,t[r])}}break;case"boolean":d(e,t?120:121);break;default:d(e,127)}var n};class w extends s{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&p(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const S=e=>{e.count>0&&(h(e.encoder,1===e.count?e.s:-e.s),e.count>1&&p(e.encoder,e.count-2))};class k{constructor(){this.encoder=new s,this.s=0,this.count=0}write(e){this.s===e?this.count++:(S(this),this.count=1,this.s=e)}toUint8Array(){return S(this),u(this.encoder)}}const C=e=>{if(e.count>0){const t=e.diff<<1|(1===e.count?0:1);h(e.encoder,t),e.count>1&&p(e.encoder,e.count-2)}};class O{constructor(){this.encoder=new s,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(C(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return C(this),u(this.encoder)}}class D{constructor(){this.sarr=[],this.s="",this.lensE=new k}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new s;return this.sarr.push(this.s),this.s="",f(e,this.sarr.join("")),b(e,this.lensE.toUint8Array()),u(e)}}},158:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n(25),r=n(323),o=n(12),i=n(377),s=n(322),l=n(10),c=n(13),u=n(5),d=n(9),m=n(11),p=n(7),h=n(64);const f=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,u.ResourceType.Authorizations)===u.RemoteDataState.NotStarted&&e(Object(s.j)(u.RemoteDataState.Loading));const r=Object(d.a)(n),l=await o.getAuthorizations({query:{orgID:r.id}});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data.authorizations,i.a);e(Object(s.j)(u.RemoteDataState.Done,c))}catch(t){console.error(t),e(Object(s.j)(u.RemoteDataState.Error)),e(Object(l.c)(Object(c.A)()))}},g=e=>async t=>{try{const n=await r.a(e),o=Object(a.a)(n,i.b);Object(p.a)("token.create.success",{id:n.id}),t(Object(s.g)(o)),t(Object(s.k)(u.RemoteDataState.Done,o.entities.tokens[o.result])),t(Object(l.c)(Object(c.v)()))}catch(e){Object(p.a)("token.create.failure");const n=Object(h.a)(e);throw t(Object(l.c)(Object(c.u)(n))),e}},b=e=>async t=>{try{const n=await o.patchAuthorization({authID:e.id,data:e});if(200!==n.status)throw new Error(n.data.message);Object(p.a)("token.edit.success",{id:e.id}),t(f()),t(Object(l.c)(Object(c.z)()))}catch(n){console.error(n),Object(p.a)("token.edit.failure",{id:e.id}),t(Object(l.c)(Object(c.y)(e.id)))}},v=(e,t="")=>async n=>{try{const a=await o.deleteAuthorization({authID:e});if(204!==a.status)throw new Error(a.data.message);Object(p.a)("token.delete.success",{id:e,name:t}),n(Object(s.h)(e)),n(Object(l.c)(Object(c.x)()))}catch(a){Object(p.a)("token.delete.failure",{id:e,name:t}),console.error(a),n(Object(l.c)(Object(c.w)(t)))}},y=()=>async e=>{const t=await o.getResources({headers:{}});if(200!==t.status)throw new Error(t.data.message);const n=t.data;e(Object(s.i)(n))}},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n(25),r=n(12),o=n(5);const i=new a.b.Entity(o.ResourceType.Secrets),s=[i];var l=n(10),c=n(13),u=n(405),d=n(9),m=n(11);const p=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,o.ResourceType.Secrets)===o.RemoteDataState.NotStarted&&e(Object(u.f)(o.RemoteDataState.Loading));const i=Object(d.a)(n),l=await Object(r.getOrgsSecrets)({orgID:i.id});if(200!==l.status)throw new Error(l.data.message);const c=l.data.secrets.map((e=>({id:e,key:e}))),p=Object(a.a)(c,s);e(Object(u.f)(o.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(u.f)(o.RemoteDataState.Error)),e(Object(l.c)(Object(c.Zb)()))}},h=e=>async(t,n)=>{try{const s=Object(d.a)(n());if(204!==(await Object(r.patchOrgsSecrets)({orgID:s.id,data:{[e.id]:e.value}})).status)throw new Error;const l={id:e.id},c=Object(a.a)(l,i);t(Object(u.e)(e.id,o.RemoteDataState.Done,c))}catch(e){console.error(e),t(Object(l.c)(Object(c.Td)()))}},f=e=>async(t,n)=>{try{const a=Object(d.a)(n()),o=await Object(r.deleteOrgsSecret)({orgID:a.id,secretID:e.id});if(204!==o.status)throw new Error(o.data.message);t(Object(u.d)(e.id))}catch(e){console.error(e),t(Object(l.c)(Object(c.zb)()))}}},161:function(e,t,n){"use strict";var a=n(2),r=n(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return r.f?null:e}}},164:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g}));var a=n(25),r=n(12),o=n(99),i=n(5),s=n(10),l=n(13),c=n(90),u=n(9),d=n(185);var m=n(11);const p=()=>async(e,t)=>{try{const n=t();Object(m.h)(n,i.ResourceType.Labels)===i.RemoteDataState.NotStarted&&e(Object(c.h)(i.RemoteDataState.Loading));const s=Object(u.a)(n),l=await Object(r.getLabels)({query:{orgID:s.id}});if(200!==l.status)throw new Error(l.data.message);const p=Object(a.a)((e=>e.filter((e=>!e.name.startsWith(d.c))))(l.data.labels),o.a);e(Object(c.h)(i.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(c.h)(i.RemoteDataState.Error)),e(Object(s.c)(Object(l.Rb)()))}},h=(e,t)=>async(n,d)=>{const m=Object(u.a)(d());try{const s=await Object(r.postLabel)({data:{orgID:m.id,name:e,properties:t}});if(201!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.label,o.b);n(Object(c.f)(s.data.label.id,i.RemoteDataState.Done,l))}catch(e){console.error(e),n(Object(s.c)(Object(l.cb)()))}},f=(e,t)=>async n=>{try{n(Object(c.f)(e,i.RemoteDataState.Loading));const s=await Object(r.patchLabel)({labelID:e,data:t});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.label,o.b);n(Object(c.f)(e,i.RemoteDataState.Done,l))}catch(e){console.error(e),n(Object(s.c)(Object(l.Nd)()))}},g=e=>async t=>{try{const n=await Object(r.deleteLabel)({labelID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(c.e)(e))}catch(e){console.error(e),t(Object(s.c)(Object(l.yb)()))}}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(25),r=n(12),o=n(55),i=n(74);const s=async(e,t=i.a)=>{const n=await Object(r.getBuckets)({query:{orgID:e,limit:t}});if(200!==n.status)throw new Error(n.data.message);return{buckets:n.data.buckets,normalizedBuckets:Object(a.a)([...n.data.buckets],o.a)}}},168:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return k}));var a=n(25),r=n(132),o=n(253),i=n(13),s=n(55),l=n(177),c=n(8),u=n(115),d=n(27);var m=function(e){const t=e.properties.queries.map((e=>{if("advanced"===e.editMode)return e;const t=Object(c.get)(e,"builderConfig.functions",[]),n=!!Object(c.get)(e,"text","").trim(),a=Object.assign(Object.assign({},e),{editMode:"advanced",builderConfig:Object(u.b)()});if(0===t.length&&n)return a;let r=!1,o=Object(c.get)(e,"builderConfig.aggregateWindow.period",null);null===o&&(r=!0,o=d.a);let i=Object(c.get)(e,"builderConfig.aggregateWindow.fillValues",null);null===i&&(r=!0,i=d.c);let s=Object(c.get)(e,"builderConfig",{});s=Object.assign(Object.assign({},s),{aggregateWindow:{period:o,fillValues:i}});const m=Object(c.get)(e,"text","");try{const t=r?Object(l.b)(s):m;return Object.assign(Object.assign({},e),{text:t,builderConfig:s})}catch(e){return a}}));return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{queries:t})})},p=n(102),h=n(10),f=n(37),g=n(66),b=n(118),v=n(215),y=n(11),x=n(9),E=n(5);const w=(e,t)=>async n=>{const o=t.cellID;n(Object(b.h)(o,E.RemoteDataState.Loading));try{const i=await Object(r.c)(e,o,t),l=Object(a.a)(i,s.p);return n(Object(b.h)(o,E.RemoteDataState.Done,l)),i}catch(e){console.error(e),n(Object(b.h)(o,E.RemoteDataState.Error))}},S=(e,t)=>async(n,o)=>{const l=t.cellID;try{const i=await Object(r.c)(e,l,t),c=Object(v.b)(o(),e);c.splice(c.findIndex((e=>e.id===i.id)),1,i);const u=Object(a.a)(i,s.p);n(Object(b.h)(l,E.RemoteDataState.Done,u))}catch(e){console.error(e),n(Object(h.c)(i.O())),n(Object(b.h)(l,E.RemoteDataState.Error))}},k=(e,t,n)=>async(a,s)=>{try{const i=s();let l=Object(y.f)(i,E.ResourceType.Views,t);l||(a(Object(b.h)(t,E.RemoteDataState.Loading)),l=await Object(r.b)(e,t));const c=m(l);a(Object(f.l)(n,{contextID:e,view:c}));const u=l.properties.queries.filter((({text:e})=>!!e.trim()));u.length||a(Object(g.h)(E.RemoteDataState.Done,[],null));const{id:d}=Object(x.a)(i),h=u.map((({text:e})=>Object(o.b)(d,e,Object(p.g)(i)))),v=(await Promise.all(h.map((e=>e.promise)))).map((e=>e.csv));if(v)return void a(Object(g.h)(E.RemoteDataState.Done,v,null,null));a(Object(g.c)())}catch(e){console.error(e),a(Object(h.c)(i.dc(e.message))),a(Object(b.h)(t,E.RemoteDataState.Error))}}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(5),r=n(11);const o=(e,t)=>Object(r.a)(e,a.ResourceType.Buckets).find((e=>e.name===t)),i=(e,t)=>{const n=`${e.name}`.toLowerCase(),a=`${t.name}`.toLowerCase();return n===a?0:n<a?-1:n>a?1:0},s=e=>{const t=[],n=[];return Object(r.a)(e,a.ResourceType.Buckets).forEach((e=>{"system"===e.type?t.push(e):n.push(e)})),t.sort(i),n.sort(i),n.concat(t)}},170:function(e,t,n){"use strict";var a=n(2),r=n.n(a);const o=e=>({background:`linear-gradient(to right, ${e.map(((t,n)=>`${t} ${Math.round(n/(e.length-1)*100)}%`)).join(", ")})`});t.a=({name:e,colors:t})=>r.a.createElement("div",{className:"color-scheme-dropdown-item"},r.a.createElement("div",{className:"color-scheme-dropdown-item--swatches",style:o(t)}),r.a.createElement("div",{className:"color-scheme-dropdown-item--name"},e))},171:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(3),i=n(20),s=n(7);n(172);const l=({eventName:e,graphType:t,legendOrientation:n,parentName:a,handleSetOrientation:l,testID:c="orientation-toggle"})=>{const u=n=>{l("vertical"===n?i.n:i.m),Object(s.a)(`${e}.${n}`,{type:t})};return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,className:"legend-orientation-toggle",testID:c},r.a.createElement(o.InputLabel,{className:"legend-orientation-label"},"Orientation"),r.a.createElement(o.Toggle,{tabIndex:1,value:"horizontal",className:"legend-orientation--horizontal",id:`${a}-orientation--horizontal`,name:`${a}-orientation--horizontal`,checked:n===i.m,onChange:u,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,appearance:o.Appearance.Outline},r.a.createElement(o.InputLabel,{active:n===i.m,htmlFor:`${a}-orientation--horizontal`},"Horizontal")),r.a.createElement(o.Toggle,{tabIndex:2,value:"vertical",className:"legend-orientation--vertical",id:`${a}-orientation--vertical`,name:`${a}-orientation--vertical`,checked:n<=0,onChange:u,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,appearance:o.Appearance.Outline},r.a.createElement(o.InputLabel,{active:n<=0,htmlFor:`${a}-orientation--vertical`},"Vertical")))},c=({legendOpacity:e,handleSetOpacity:t,testID:n="opacity-slider"})=>{let a=i.h;"number"==typeof e&&e==e&&e>=i.j&&e<=i.i&&(a=e);const s=(100*a).toFixed(0);return r.a.createElement(o.Form.Element,{className:"legend-opacity-slider",label:`Opacity: ${s}%`,testID:n},r.a.createElement(o.RangeSlider,{max:i.i,min:i.j,step:i.k,value:a,onChange:t,hideLabels:!0}))},u=({legendColorizeRows:e,handleSetColorization:t,testID:n="colorize-rows-toggle"})=>{return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Medium,stretchToFitWidth:!0,className:"legend-colorize-rows-toggle",testID:n},r.a.createElement(o.SlideToggle,{active:e,size:o.ComponentSize.ExtraSmall,onChange:t}),r.a.createElement(o.InputLabel,{style:(a=e,a?{color:o.InfluxColors.Grey95}:{color:o.InfluxColors.Grey65})},"Colorize Rows"));var a}},172:function(e,t,n){var a=n(257);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},173:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({label:e,checked:t,onSetChecked:n,testID:a})=>r.a.createElement("label",{className:"fancy-checkbox "+(t?"checked":"")},r.a.createElement("input",{"data-testid":a||"checkbox",type:"checkbox",checked:!!t,onChange:()=>n(!t)}),e)},174:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(170);t.a=({colorSchemes:e,selectedColorScheme:t,onSelectColorScheme:n})=>{const a=e.find((e=>e.colors.length===t.length&&e.colors.every(((e,n)=>e===t[n]))));let s,l;return a?(s=a.name,l=e):(s="Custom",l=[...e,{name:"Custom",colors:t}]),r.a.createElement(o.Dropdown,{className:"color-scheme-dropdown",button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n},r.a.createElement(i.a,{name:s,colors:t})),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},l.map((({name:e,colors:t})=>r.a.createElement(o.Dropdown.Item,{key:e,id:e,value:t,onClick:n,selected:s===e},r.a.createElement(i.a,{name:e,colors:t})))))})}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,r=["result","table",...a.filter((e=>"result"!==e&&"table"!==e))],o=n.getColumn("table"),i=n.getColumn("result");let s=null,l=null,c=[];const u=[];let d,m,p,h,f=[];const g=new Set(t);let b=0;for(let e=0;e<o.length;e++){if(i[e]!==s||o[e]!==l){s=i[e],l=o[e],c=r.filter((t=>{const a=n.getColumnType(t);return void 0!==n.getColumn(t,a)[e]}));const t=["#datatype"],a=["#default",`${i[e]}`],d=["#group"];let m;u.push([],d,t,a,["",...c]);for(let e=0;e<c.length;e++)m=c[e],d.push(`${g.has(m)}`),t.push(n.getOriginalColumnType(m));b=Math.max(d.length,t.length,b)}f=[""];for(let t=0;t<c.length;t++)h=c[t],d=n.getColumnType(h),m=n.getOriginalColumnType(h),p=n.getColumn(h,d)[e],"dateTime:RFC3339"!==m||"number"!=typeof p||isNaN(p)||(p=new Date(p).toISOString()),"result"===h&&(p=""),f.push(`${p}`);u.push(f)}return u.shift(),{tableData:u,max:b}}},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return ye})),n.d(t,"d",(function(){return ke}));var a=n(268),r=n(269),o=n(94),i=n(152),s=n(156),l=n(153);"undefined"==typeof window||void 0!==window.performance&&window.performance;const c="undefined"==typeof crypto?null:crypto,u=null!==c?e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);return c.getRandomValues(n),t}:e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);for(let t=0;t<e;t++)n[t]=Math.ceil(4294967295*Math.random()>>>0);return t},d=(Math.random,()=>new Uint32Array(u(4))[0]),m=[1e7]+-1e3+-4e3+-8e3+-1e11,p=()=>m.replace(/[018]/g,(e=>(e^d()&15>>e/4).toString(16)));var h=n(203);const f=e=>new Error(e),g=()=>{throw f("Method unimplemented")},b=()=>{throw f("Unexpected case")};var v=n(204),y=n(205),x=n(357),E=n(359);const w=Symbol;class S{constructor(e,t){this.left=e,this.right=t}}const k=(e,t)=>new S(e,t),C="undefined"!=typeof document?document:{},O=("undefined"!=typeof DOMParser&&new DOMParser,e=>i.d(e,((e,t)=>`${t}:${e};`)).join(""));C.ELEMENT_NODE,C.TEXT_NODE,C.CDATA_SECTION_NODE,C.COMMENT_NODE,C.DOCUMENT_NODE,C.DOCUMENT_TYPE_NODE,C.DOCUMENT_FRAGMENT_NODE,JSON.stringify,JSON.parse;const D=e=>class{constructor(e){this._=e}destroy(){e(this._)}};D(clearTimeout),D(clearInterval),D((e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e))),D((e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e)));var T=n(209);const j=w(),I=w(),N=w(),R=w(),A=w(),F=w(),_=w(),M=w(),L=w(),P={[j]:k("font-weight","bold"),[I]:k("font-weight","normal"),[N]:k("color","blue"),[A]:k("color","green"),[R]:k("color","grey"),[F]:k("color","red"),[_]:k("color","purple"),[M]:k("color","orange"),[L]:k("color","black")},$={[j]:"[1m",[I]:"[2m",[N]:"[34m",[A]:"[32m",[R]:"[37m",[F]:"[31m",[_]:"[35m",[M]:"[38;5;208m",[L]:"[0m"},B=E.c?e=>{const t=[],n=[];let a=0;for(;a<e.length;a++){const n=e[a],r=$[n];if(void 0!==r)t.push(r);else{if(n.constructor!==String&&n.constructor!==Number)break;t.push(n)}}for(a>0&&(t.push("[0m"),n.push(t.join("")));a<e.length;a++){const t=e[a];t instanceof Symbol||n.push(t)}return n}:e=>{const t=[],n=[],a=i.c();let r=[],o=0;for(;o<e.length;o++){const r=e[o],i=P[r];if(void 0!==i)a.set(i.left,i.right);else{if(r.constructor!==String&&r.constructor!==Number)break;{const e=O(a);o>0||e.length>0?(t.push("%c"+r),n.push(e)):t.push(r)}}}for(o>0&&(r=n,r.unshift(t.join("")));o<e.length;o++){const t=e[o];t instanceof Symbol||r.push(t)}return r},z=(...e)=>{console.log(...B(e)),q.forEach((t=>t.print(e)))},q=new Set;T.a();const H=e=>({[Symbol.iterator](){return this},next:e}),V=(e,t)=>H((()=>{const{done:n,value:a}=e.next();return{done:n,value:n?void 0:t(a)}}));var U=n(270);a.a;class W{constructor(e,t){this.clock=e,this.len=t}}class G{constructor(){this.clients=new Map}}const K=(e,t,n)=>t.clients.forEach(((t,a)=>{const r=e.doc.store.clients.get(a);for(let a=0;a<t.length;a++){const o=t[a];Ge(e,r,o.clock,o.len,n)}})),Y=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,a=e.length-1;for(;n<=a;){const r=o.c((n+a)/2),i=e[r],s=i.clock;if(s<=t){if(t<s+i.len)return r;n=r+1}else a=r-1}return null})(n,t.clock)},Z=e=>{e.clients.forEach((e=>{let t,n;for(e.sort(((e,t)=>e.clock-t.clock)),t=1,n=1;t<e.length;t++){const a=e[n-1],r=e[t];a.clock+a.len>=r.clock?a.len=o.f(a.len,r.clock+r.len-a.clock):(n<t&&(e[n]=r),n++)}e.length=n}))},Q=e=>{const t=new G;for(let n=0;n<e.length;n++)e[n].clients.forEach(((a,o)=>{if(!t.clients.has(o)){const i=a.slice();for(let t=n+1;t<e.length;t++)r.a(i,e[t].clients.get(o)||[]);t.clients.set(o,i)}}));return Z(t),t},X=(e,t,n,a)=>{i.e(e.clients,t,(()=>[])).push(new W(n,a))},J=()=>new G,ee=e=>{const t=J();return e.clients.forEach(((e,n)=>{const a=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const r=n.id.clock;let o=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])o+=n.length;a.push(new W(r,o))}}a.length>0&&t.clients.set(n,a)})),t},te=(e,t)=>{s.n(e.restEncoder,t.clients.size),t.clients.forEach(((t,n)=>{e.resetDsCurVal(),s.n(e.restEncoder,n);const a=t.length;s.n(e.restEncoder,a);for(let n=0;n<a;n++){const a=t[n];e.writeDsClock(a.clock),e.writeDsLen(a.len)}}))},ne=e=>{const t=new G,n=l.k(e.restDecoder);for(let a=0;a<n;a++){e.resetDsCurVal();const n=l.k(e.restDecoder),a=l.k(e.restDecoder);if(a>0){const r=i.e(t.clients,n,(()=>[]));for(let t=0;t<a;t++)r.push(new W(e.readDsClock(),e.readDsLen()))}}return t},ae=(e,t,n)=>{const a=new G,r=l.k(e.restDecoder);for(let o=0;o<r;o++){e.resetDsCurVal();const r=l.k(e.restDecoder),o=l.k(e.restDecoder),i=n.clients.get(r)||[],s=Be(n,r);for(let n=0;n<o;n++){const n=e.readDsClock(),o=n+e.readDsLen();if(n<s){s<o&&X(a,r,s,o-s);let e=qe(i,n),l=i[e];for(!l.deleted&&l.id.clock<n&&(i.splice(e+1,0,Tn(t,l,n-l.id.clock)),e++);e<i.length&&(l=i[e++],l.id.clock<o);)l.deleted||(o<l.id.clock+l.length&&i.splice(e,0,Tn(t,l,o-l.id.clock)),l.delete(t))}else X(a,r,n,o-n)}}if(a.clients.size>0){const e=new pe;return s.n(e.restEncoder,0),te(e,a),e.toUint8Array()}return null},re=d;class oe extends a.a{constructor({guid:e=p(),collectionid:t=null,gc:n=!0,gcFilter:a=(()=>!0),meta:r=null,autoLoad:o=!1,shouldLoad:i=!0}={}){super(),this.gc=n,this.gcFilter=a,this.clientID=re(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new Pe,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=i,this.autoLoad=o,this.meta=r}load(){const e=this._item;null===e||this.shouldLoad||tt(e.parent.doc,(e=>{e.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map((e=>e.guid)))}transact(e,t=null){tt(this,e,t)}get(e,t=xt){const n=i.e(this.share,e,(()=>{const e=new t;return e._integrate(this,null),e})),a=n.constructor;if(t!==xt&&a!==t){if(a===xt){const a=new t;a._map=n._map,n._map.forEach((e=>{for(;null!==e;e=e.left)e.parent=a})),a._start=n._start;for(let e=a._start;null!==e;e=e.right)e.parent=a;return a._length=n._length,this.share.set(e,a),a._integrate(this,null),a}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,Pt)}getText(e=""){return this.get(e,en)}getMap(e=""){return this.get(e,Bt)}getXmlFragment(e=""){return this.get(e,nn)}toJSON(){const e={};return this.share.forEach(((t,n)=>{e[n]=t.toJSON()})),e}destroy(){r.c(this.subdocs).forEach((e=>e.destroy()));const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new oe({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,tt(e.parent.doc,(n=>{const a=t.doc;e.deleted||n.subdocsAdded.add(a),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class ie{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return l.k(this.restDecoder)}readDsLen(){return l.k(this.restDecoder)}}class se extends ie{readLeftID(){return Re(l.k(this.restDecoder),l.k(this.restDecoder))}readRightID(){return Re(l.k(this.restDecoder),l.k(this.restDecoder))}readClient(){return l.k(this.restDecoder)}readInfo(){return l.h(this.restDecoder)}readString(){return l.j(this.restDecoder)}readParentInfo(){return 1===l.k(this.restDecoder)}readTypeRef(){return l.k(this.restDecoder)}readLen(){return l.k(this.restDecoder)}readAny(){return l.g(this.restDecoder)}readBuf(){return h.a(l.l(this.restDecoder))}readJSON(){return JSON.parse(l.j(this.restDecoder))}readKey(){return l.j(this.restDecoder)}}class le{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=l.k(this.restDecoder),this.dsCurrVal}readDsLen(){const e=l.k(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class ce extends le{constructor(e){super(e),this.keys=[],l.k(e),this.keyClockDecoder=new l.a(l.l(e)),this.clientDecoder=new l.d(l.l(e)),this.leftClockDecoder=new l.a(l.l(e)),this.rightClockDecoder=new l.a(l.l(e)),this.infoDecoder=new l.b(l.l(e),l.h),this.stringDecoder=new l.c(l.l(e)),this.parentInfoDecoder=new l.b(l.l(e),l.h),this.typeRefDecoder=new l.d(l.l(e)),this.lenDecoder=new l.d(l.l(e))}readLeftID(){return new Ie(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ie(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return l.g(this.restDecoder)}readBuf(){return l.l(this.restDecoder)}readJSON(){return l.g(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class ue{constructor(){this.restEncoder=s.e()}toUint8Array(){return s.g(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){s.n(this.restEncoder,e)}writeDsLen(e){s.n(this.restEncoder,e)}}class de extends ue{writeLeftID(e){s.n(this.restEncoder,e.client),s.n(this.restEncoder,e.clock)}writeRightID(e){s.n(this.restEncoder,e.client),s.n(this.restEncoder,e.clock)}writeClient(e){s.n(this.restEncoder,e)}writeInfo(e){s.j(this.restEncoder,e)}writeString(e){s.m(this.restEncoder,e)}writeParentInfo(e){s.n(this.restEncoder,e?1:0)}writeTypeRef(e){s.n(this.restEncoder,e)}writeLen(e){s.n(this.restEncoder,e)}writeAny(e){s.h(this.restEncoder,e)}writeBuf(e){s.o(this.restEncoder,e)}writeJSON(e){s.m(this.restEncoder,JSON.stringify(e))}writeKey(e){s.m(this.restEncoder,e)}}class me{constructor(){this.restEncoder=s.e(),this.dsCurrVal=0}toUint8Array(){return s.g(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,s.n(this.restEncoder,t)}writeDsLen(e){0===e&&b(),s.n(this.restEncoder,e-1),this.dsCurrVal+=e}}class pe extends me{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new s.a,this.clientEncoder=new s.d,this.leftClockEncoder=new s.a,this.rightClockEncoder=new s.a,this.infoEncoder=new s.b(s.j),this.stringEncoder=new s.c,this.parentInfoEncoder=new s.b(s.j),this.typeRefEncoder=new s.d,this.lenEncoder=new s.d}toUint8Array(){const e=s.e();return s.n(e,0),s.o(e,this.keyClockEncoder.toUint8Array()),s.o(e,this.clientEncoder.toUint8Array()),s.o(e,this.leftClockEncoder.toUint8Array()),s.o(e,this.rightClockEncoder.toUint8Array()),s.o(e,s.g(this.infoEncoder)),s.o(e,this.stringEncoder.toUint8Array()),s.o(e,s.g(this.parentInfoEncoder)),s.o(e,this.typeRefEncoder.toUint8Array()),s.o(e,this.lenEncoder.toUint8Array()),s.k(e,s.g(this.restEncoder)),s.g(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){s.h(this.restEncoder,e)}writeBuf(e){s.o(this.restEncoder,e)}writeJSON(e){s.h(this.restEncoder,e)}writeKey(e){void 0===this.keyMap.get(e)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const he=(e,t,n)=>{const a=new Map;n.forEach(((e,n)=>{Be(t,n)>e&&a.set(n,e)})),$e(t).forEach(((e,t)=>{n.has(t)||a.set(t,0)})),s.n(e.restEncoder,a.size),Array.from(a.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([n,a])=>{((e,t,n,a)=>{a=o.f(a,t[0].id.clock);const r=qe(t,a);s.n(e.restEncoder,t.length-r),e.writeClient(n),s.n(e.restEncoder,a);const i=t[r];i.write(e,a-i.id.clock);for(let n=r+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(n),n,a)}))},fe=(e,t,n,a=new ce(e))=>tt(t,(e=>{e.local=!1;let t=!1;const n=e.doc,r=n.store,o=((e,t)=>{const n=i.c(),a=l.k(e.restDecoder);for(let r=0;r<a;r++){const a=l.k(e.restDecoder),r=new Array(a),o=e.readClient();let i=l.k(e.restDecoder);n.set(o,{i:0,refs:r});for(let n=0;n<a;n++){const a=e.readInfo();switch(v.i&a){case 0:{const t=e.readLen();r[n]=new cn(Re(o,i),t),i+=t;break}case 10:{const t=l.k(e.restDecoder);r[n]=new Rn(Re(o,i),t),i+=t;break}default:{const s=0==(a&(v.f|v.g)),l=new jn(Re(o,i),null,(a&v.g)===v.g?e.readLeftID():null,null,(a&v.f)===v.f?e.readRightID():null,s?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,s&&(a&v.e)===v.e?e.readString():null,In(e,a));r[n]=l,i+=l.length}}}}return n})(a,n),c=((e,t,n)=>{const a=[];let r=Array.from(n.keys()).sort(((e,t)=>e-t));if(0===r.length)return null;const o=()=>{if(0===r.length)return null;let e=n.get(r[r.length-1]);for(;e.refs.length===e.i;){if(r.pop(),!(r.length>0))return null;e=n.get(r[r.length-1])}return e};let l=o();if(null===l&&0===a.length)return null;const c=new Pe,u=new Map,d=(e,t)=>{const n=u.get(e);(null==n||n>t)&&u.set(e,t)};let m=l.refs[l.i++];const p=new Map,h=()=>{for(const e of a){const t=e.id.client,a=n.get(t);a?(a.i--,c.clients.set(t,a.refs.slice(a.i)),n.delete(t),a.i=0,a.refs=[]):c.clients.set(t,[e]),r=r.filter((e=>e!==t))}a.length=0};for(;;){if(m.constructor!==Rn){const r=i.e(p,m.id.client,(()=>Be(t,m.id.client)))-m.id.clock;if(r<0)a.push(m),d(m.id.client,m.id.clock-1),h();else{const o=m.getMissing(e,t);if(null!==o){a.push(m);const e=n.get(o)||{refs:[],i:0};if(e.refs.length!==e.i){m=e.refs[e.i++];continue}d(o,Be(t,o)),h()}else(0===r||r<m.length)&&(m.integrate(e,r),p.set(m.id.client,m.id.clock+m.length))}}if(a.length>0)m=a.pop();else if(null!==l&&l.i<l.refs.length)m=l.refs[l.i++];else{if(l=o(),null===l)break;m=l.refs[l.i++]}}if(c.clients.size>0){const e=new pe;return he(e,c,new Map),s.n(e.restEncoder,0),{missing:u,update:e.toUint8Array()}}return null})(e,r,o),u=r.pendingStructs;if(u){for(const[e,n]of u.missing)if(n<Be(r,e)){t=!0;break}if(c){for(const[e,t]of c.missing){const n=u.missing.get(e);(null==n||n>t)&&u.missing.set(e,t)}u.update=it([u.update,c.update])}}else r.pendingStructs=c;const d=ae(a,e,r);if(r.pendingDs){const t=new ce(l.e(r.pendingDs));l.k(t.restDecoder);const n=ae(t,e,r);r.pendingDs=d&&n?it([d,n]):d||n}else r.pendingDs=d;if(t){const t=r.pendingStructs.update;r.pendingStructs=null,ge(e.doc,t)}}),n,!1),ge=(e,t,n,a=ce)=>{const r=l.e(t);fe(r,e,n,new a(r))},be=(e,t,n)=>ge(e,t,n,se),ve=(e,t=new Uint8Array([0]),n=new pe)=>{((e,t,n=new Map)=>{he(e,t.store,n),te(e,ee(t.store))})(n,e,Ee(t));const a=[n.toUint8Array()];if(e.store.pendingDs&&a.push(e.store.pendingDs),e.store.pendingStructs&&a.push(st(e.store.pendingStructs.update,t)),a.length>1){if(n.constructor===de)return rt(a.map(((e,t)=>0===t?e:dt(e))));if(n.constructor===pe)return it(a)}return a[0]},ye=(e,t)=>ve(e,t,new de),xe=e=>{const t=new Map,n=l.k(e.restDecoder);for(let a=0;a<n;a++){const n=l.k(e.restDecoder),a=l.k(e.restDecoder);t.set(n,a)}return t},Ee=e=>xe(new ie(l.e(e))),we=(e,t)=>(s.n(e.restEncoder,t.size),Array.from(t.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([t,n])=>{s.n(e.restEncoder,t),s.n(e.restEncoder,n)})),e),Se=(e,t=new me)=>(e instanceof Map?we(t,e):((e,t)=>{we(e,$e(t.store))})(t,e),t.toUint8Array()),ke=e=>Se(e,new ue);class Ce{constructor(){this.l=[]}}const Oe=()=>new Ce,De=(e,t)=>e.l.push(t),Te=(e,t)=>{const n=e.l,a=n.length;e.l=n.filter((e=>t!==e)),a===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},je=(e,t,n)=>y.a(e.l,[t,n]);class Ie{constructor(e,t){this.client=e,this.clock=t}}const Ne=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Re=(e,t)=>new Ie(e,t),Ae=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw b()};class Fe{constructor(e,t){this.ds=e,this.sv=t}}const _e=(e,t)=>new Fe(e,t),Me=(_e(J(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Y(t.ds,e.id)),Le=(e,t)=>{const n=i.e(e.meta,Le,x.a),a=e.doc.store;n.has(t)||(t.sv.forEach(((t,n)=>{t<Be(a,n)&&Ue(e,Re(n,t))})),K(e,t.ds,(e=>{})),n.add(t))};class Pe{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const $e=e=>{const t=new Map;return e.clients.forEach(((e,n)=>{const a=e[e.length-1];t.set(n,a.id.clock+a.length)})),t},Be=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const a=n[n.length-1];return a.id.clock+a.length},ze=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw b()}n.push(t)},qe=(e,t)=>{let n=0,a=e.length-1,r=e[a],i=r.id.clock;if(i===t)return a;let s=o.c(t/(i+r.length-1)*a);for(;n<=a;){if(r=e[s],i=r.id.clock,i<=t){if(t<i+r.length)return s;n=s+1}else a=s-1;s=o.c((n+a)/2)}throw b()},He=(e,t)=>{const n=e.clients.get(t.client);return n[qe(n,t.clock)]},Ve=(e,t,n)=>{const a=qe(t,n),r=t[a];return r.id.clock<n&&r instanceof jn?(t.splice(a+1,0,Tn(e,r,n-r.id.clock)),a+1):a},Ue=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Ve(e,n,t.clock)]},We=(e,t,n)=>{const a=t.clients.get(n.client),r=qe(a,n.clock),o=a[r];return n.clock!==o.id.clock+o.length-1&&o.constructor!==cn&&a.splice(r+1,0,Tn(e,o,n.clock-o.id.clock+1)),o},Ge=(e,t,n,a,r)=>{if(0===a)return;const o=n+a;let i,s=Ve(e,t,n);do{i=t[s++],o<i.id.clock+i.length&&Ve(e,t,o),r(i)}while(s<t.length&&t[s].id.clock<o)};class Ke{constructor(e,t,n){this.doc=e,this.deleteSet=new G,this.beforeState=$e(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Ye=(e,t)=>!(0===t.deleteSet.clients.size&&!i.a(t.afterState,((e,n)=>t.beforeState.get(n)!==e)))&&(Z(t.deleteSet),((e,t)=>{he(e,t.doc.store,t.beforeState)})(e,t),te(e,t.deleteSet),!0),Ze=(e,t,n)=>{const a=t._item;(null===a||a.id.clock<(e.beforeState.get(a.id.client)||0)&&!a.deleted)&&i.e(e.changed,t,x.a).add(n)},Qe=(e,t)=>{const n=e[t-1],a=e[t];n.deleted===a.deleted&&n.constructor===a.constructor&&n.mergeWith(a)&&(e.splice(t,1),a instanceof jn&&null!==a.parentSub&&a.parent._map.get(a.parentSub)===a&&a.parent._map.set(a.parentSub,n))},Xe=(e,t,n)=>{for(const[a,r]of e.clients.entries()){const e=t.clients.get(a);for(let a=r.length-1;a>=0;a--){const o=r[a],i=o.clock+o.len;for(let a=qe(e,o.clock),r=e[a];a<e.length&&r.id.clock<i;r=e[++a]){const r=e[a];if(o.clock+o.len<=r.id.clock)break;r instanceof jn&&r.deleted&&!r.keep&&n(r)&&r.gc(t,!1)}}}},Je=(e,t)=>{e.clients.forEach(((e,n)=>{const a=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=o.g(a.length-1,1+qe(a,n.clock+n.len-1)),t=a[e];e>0&&t.id.clock>=n.clock;t=a[--e])Qe(a,e)}}))},et=(e,t)=>{if(t<e.length){const n=e[t],a=n.doc,r=a.store,i=n.deleteSet,s=n._mergeStructs;try{Z(i),n.afterState=$e(n.doc.store),a._transaction=null,a.emit("beforeObserverCalls",[n,a]);const l=[];n.changed.forEach(((e,t)=>l.push((()=>{null!==t._item&&t._item.deleted||t._callObserver(n,e)})))),l.push((()=>{n.changedParentTypes.forEach(((e,t)=>l.push((()=>{null!==t._item&&t._item.deleted||((e=e.filter((e=>null===e.target._item||!e.target._item.deleted))).forEach((e=>{e.currentTarget=t})),e.sort(((e,t)=>e.path.length-t.path.length)),je(t._dEH,e,n))})))),l.push((()=>a.emit("afterTransaction",[n,a])))})),Object(y.a)(l,[])}finally{a.gc&&Xe(i,r,a.gcFilter),Je(i,r),n.afterState.forEach(((e,t)=>{const a=n.beforeState.get(t)||0;if(a!==e){const e=r.clients.get(t),n=o.f(qe(e,a),1);for(let t=e.length-1;t>=n;t--)Qe(e,t)}}));for(let e=0;e<s.length;e++){const{client:t,clock:n}=s[e].id,a=r.clients.get(t),o=qe(a,n);o+1<a.length&&Qe(a,o+1),o>0&&Qe(a,o)}if(n.local||n.afterState.get(a.clientID)===n.beforeState.get(a.clientID)||(z(M,j,"[yjs] ",I,F,"Changed the client-id because another client seems to be using it."),a.clientID=re()),a.emit("afterTransactionCleanup",[n,a]),a._observers.has("update")){const e=new de;Ye(e,n)&&a.emit("update",[e.toUint8Array(),n.origin,a,n])}if(a._observers.has("updateV2")){const e=new pe;Ye(e,n)&&a.emit("updateV2",[e.toUint8Array(),n.origin,a,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:u}=n;(l.size>0||u.size>0||c.size>0)&&(l.forEach((e=>{e.clientID=a.clientID,null==e.collectionid&&(e.collectionid=a.collectionid),a.subdocs.add(e)})),u.forEach((e=>a.subdocs.delete(e))),a.emit("subdocs",[{loaded:c,added:l,removed:u},a,n]),u.forEach((e=>e.destroy()))),e.length<=t+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,e])):et(e,t+1)}}},tt=(e,t,n=null,a=!0)=>{const r=e._transactionCleanups;let o=!1;null===e._transaction&&(o=!0,e._transaction=new Ke(e,n,a),r.push(e._transaction),1===r.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{o&&r[0]===e._transaction&&et(r,0)}};a.a;class nt{constructor(e,t){this.gen=function*(e){const t=l.k(e.restDecoder);for(let n=0;n<t;n++){const t=l.k(e.restDecoder),n=e.readClient();let a=l.k(e.restDecoder);for(let r=0;r<t;r++){const t=e.readInfo();if(10===t){const t=l.k(e.restDecoder);yield new Rn(Re(n,a),t),a+=t}else if(0!=(v.i&t)){const r=0==(t&(v.f|v.g)),o=new jn(Re(n,a),null,(t&v.g)===v.g?e.readLeftID():null,null,(t&v.f)===v.f?e.readRightID():null,r?e.readParentInfo()?e.readString():e.readLeftID():null,r&&(t&v.e)===v.e?e.readString():null,In(e,t));yield o,a+=o.length}else{const t=e.readLen();yield new cn(Re(n,a),t),a+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Rn);return this.curr}}class at{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const rt=e=>it(e,se,de),ot=(e,t)=>{if(e.constructor===cn){const{client:n,clock:a}=e.id;return new cn(Re(n,a+t),e.length-t)}if(e.constructor===Rn){const{client:n,clock:a}=e.id;return new Rn(Re(n,a+t),e.length-t)}{const n=e,{client:a,clock:r}=n.id;return new jn(Re(a,r+t),null,Re(a,r+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},it=(e,t=ce,n=pe)=>{if(1===e.length)return e[0];const a=e.map((e=>new t(l.e(e))));let r=a.map((e=>new nt(e,!0))),o=null;const i=new n,s=new at(i);for(;r=r.filter((e=>null!==e.curr)),r.sort(((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===Rn?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==r.length;){const e=r[0],t=e.curr.id.client;if(null!==o){let n=e.curr,a=!1;for(;null!==n&&n.id.clock+n.length<=o.struct.id.clock+o.struct.length&&n.id.client>=o.struct.id.client;)n=e.next(),a=!0;if(null===n||n.id.client!==t||a&&n.id.clock>o.struct.id.clock+o.struct.length)continue;if(t!==o.struct.id.client)ct(s,o.struct,o.offset),o={struct:n,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<n.id.clock)if(o.struct.constructor===Rn)o.struct.length=n.id.clock+n.length-o.struct.id.clock;else{ct(s,o.struct,o.offset);const e=n.id.clock-o.struct.id.clock-o.struct.length;o={struct:new Rn(Re(t,o.struct.id.clock+o.struct.length),e),offset:0}}else{const t=o.struct.id.clock+o.struct.length-n.id.clock;t>0&&(o.struct.constructor===Rn?o.struct.length-=t:n=ot(n,t)),o.struct.mergeWith(n)||(ct(s,o.struct,o.offset),o={struct:n,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===o.struct.id.clock+o.struct.length&&n.constructor!==Rn;n=e.next())ct(s,o.struct,o.offset),o={struct:n,offset:0}}null!==o&&(ct(s,o.struct,o.offset),o=null),ut(s);const c=a.map((e=>ne(e))),u=Q(c);return te(i,u),i.toUint8Array()},st=(e,t,n=ce,a=pe)=>{const r=Ee(t),i=new a,s=new at(i),c=new n(l.e(e)),u=new nt(c,!1);for(;u.curr;){const e=u.curr,t=e.id.client,n=r.get(t)||0;if(u.curr.constructor!==Rn)if(e.id.clock+e.length>n)for(ct(s,e,o.f(n-e.id.clock,0)),u.next();u.curr&&u.curr.id.client===t;)ct(s,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===t&&u.curr.id.clock+u.curr.length<=n;)u.next();else u.next()}ut(s);const d=ne(c);return te(i,d),i.toUint8Array()},lt=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:s.g(e.encoder.restEncoder)}),e.encoder.restEncoder=s.e(),e.written=0)},ct=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&lt(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),s.n(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},ut=e=>{lt(e);const t=e.encoder.restEncoder;s.n(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const a=e.clientStructs[n];s.n(t,a.written),s.k(t,a.restEncoder)}},dt=e=>((e,t,n)=>{const a=new t(l.e(e)),r=new nt(a,!1),o=new n,i=new at(o);for(let e=r.curr;null!==e;e=r.next())ct(i,e,0);ut(i);const s=ne(a);return te(o,s),o.toUint8Array()})(e,ce,de);class mt{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null}get path(){return pt(this.currentTarget,this.target)}deletes(e){return Y(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){const e=new Map,t=this.target;this.transaction.changed.get(t).forEach((n=>{if(null!==n){const a=t._map.get(n);let o,i;if(this.adds(a)){let e=a.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(a)){if(null===e||!this.deletes(e))return;o="delete",i=r.d(e.content.getContent())}else null!==e&&this.deletes(e)?(o="update",i=r.d(e.content.getContent())):(o="add",i=void 0)}else{if(!this.deletes(a))return;o="delete",i=r.d(a.content.getContent())}e.set(n,{action:o,oldValue:i})}})),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){const t=this.target,n=x.a(),a=x.a(),r=[];e={added:n,deleted:a,delta:r,keys:this.keys};if(this.transaction.changed.get(t).has(null)){let e=null;const o=()=>{e&&r.push(e)};for(let r=t._start;null!==r;r=r.right)r.deleted?this.deletes(r)&&!this.adds(r)&&(null!==e&&void 0!==e.delete||(o(),e={delete:0}),e.delete+=r.length,a.add(r)):this.adds(r)?(null!==e&&void 0!==e.insert||(o(),e={insert:[]}),e.insert=e.insert.concat(r.content.getContent()),n.add(r)):(null!==e&&void 0!==e.retain||(o(),e={retain:0}),e.retain+=r.length);null!==e&&void 0===e.retain&&o()}this._changes=e}return e}}const pt=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,a=t._item.parent._start;for(;a!==t._item&&null!==a;)a.deleted||e++,a=a.right;n.unshift(e)}t=t._item.parent}return n};let ht=0;class ft{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=ht++}}const gt=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=ht++},bt=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce(((e,n)=>o.a(t-e.index)<o.a(t-n.index)?e:n));let a=e._start,r=0;for(null!==n&&(a=n.p,r=n.index,(e=>{e.timestamp=ht++})(n));null!==a.right&&r<t;){if(!a.deleted&&a.countable){if(t<r+a.length)break;r+=a.length}a=a.right}for(;null!==a.left&&r>t;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);for(;null!==a.left&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(r-=a.length);return null!==n&&o.a(n.index-r)<a.parent.length/80?(gt(n,a,r),n):((e,t,n)=>{if(e.length>=80){const a=e.reduce(((e,t)=>e.timestamp<t.timestamp?e:t));return gt(a,t,n),a}{const a=new ft(t,n);return e.push(a),a}})(e._searchMarker,a,r)},vt=(e,t,n)=>{for(let a=e.length-1;a>=0;a--){const r=e[a];if(n>0){let t=r.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(r.index-=t.length);if(null===t||!0===t.marker){e.splice(a,1);continue}r.p=t,t.marker=!0}(t<r.index||n>0&&t===r.index)&&(r.index=o.f(t,r.index+n))}},yt=(e,t,n)=>{const a=e,r=t.changedParentTypes;for(;i.e(r,e,(()=>[])).push(n),null!==e._item;)e=e._item.parent;je(a._eH,n,t)};class xt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Oe(),this._dEH=Oe(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw g()}clone(){throw g()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){De(this._eH,e)}observeDeep(e){De(this._dEH,e)}unobserve(e){Te(this._eH,e)}unobserveDeep(e){Te(this._dEH,e)}toJSON(){}}const Et=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let a=n-t;const r=[];let o=e._start;for(;null!==o&&a>0;){if(o.countable&&!o.deleted){const e=o.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&a>0;n++)r.push(e[n]),a--;t=0}}o=o.right}return r},wt=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},St=(e,t)=>{let n=0,a=e._start;for(;null!==a;){if(a.countable&&!a.deleted){const r=a.content.getContent();for(let a=0;a<r.length;a++)t(r[a],n++,e)}a=a.right}},kt=(e,t)=>{const n=[];return St(e,((a,r)=>{n.push(t(a,r,e))})),n},Ct=e=>{let t=e._start,n=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),a=0,t=t.right}const e=n[a++];return n.length<=a&&(n=null),{done:!1,value:e}}}},Ot=(e,t)=>{const n=bt(e,t);let a=e._start;for(null!==n&&(a=n.p,t-=n.index);null!==a;a=a.right)if(!a.deleted&&a.countable){if(t<a.length)return a.content.getContent()[t];t-=a.length}},Dt=(e,t,n,a)=>{let r=n;const o=e.doc,i=o.clientID,s=o.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(r=new jn(Re(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new bn(c)),r.integrate(e,0),c=[])};a.forEach((n=>{if(null===n)c.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:r=new jn(Re(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new un(new Uint8Array(n))),r.integrate(e,0);break;case oe:r=new jn(Re(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new pn(n)),r.integrate(e,0);break;default:if(!(n instanceof xt))throw new Error("Unexpected content type in insert operation");r=new jn(Re(i,Be(s,i)),r,r&&r.lastId,l,l&&l.id,t,null,new Dn(n)),r.integrate(e,0)}}})),u()},Tt=f("Length exceeded!"),jt=(e,t,n,a)=>{if(n>t._length)throw Tt;if(0===n)return t._searchMarker&&vt(t._searchMarker,n,a.length),Dt(e,t,null,a);const r=n,o=bt(t,n);let i=t._start;for(null!==o&&(i=o.p,0===(n-=o.index)&&(i=i.prev,n+=i&&i.countable&&!i.deleted?i.length:0));null!==i;i=i.right)if(!i.deleted&&i.countable){if(n<=i.length){n<i.length&&Ue(e,Re(i.id.client,i.id.clock+n));break}n-=i.length}return t._searchMarker&&vt(t._searchMarker,r,a.length),Dt(e,t,i,a)},It=(e,t,n,a)=>{if(0===a)return;const r=n,o=a,i=bt(t,n);let s=t._start;for(null!==i&&(s=i.p,n-=i.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&Ue(e,Re(s.id.client,s.id.clock+n)),n-=s.length);for(;a>0&&null!==s;)s.deleted||(a<s.length&&Ue(e,Re(s.id.client,s.id.clock+a)),s.delete(e),a-=s.length),s=s.right;if(a>0)throw Tt;t._searchMarker&&vt(t._searchMarker,r,-o+a)},Nt=(e,t,n)=>{const a=t._map.get(n);void 0!==a&&a.delete(e)},Rt=(e,t,n,a)=>{const r=t._map.get(n)||null,o=e.doc,i=o.clientID;let s;if(null==a)s=new bn([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:s=new bn([a]);break;case Uint8Array:s=new un(a);break;case oe:s=new pn(a);break;default:if(!(a instanceof xt))throw new Error("Unexpected content type");s=new Dn(a)}new jn(Re(i,Be(o.store,i)),r,r&&r.lastId,null,null,t,n,s).integrate(e,0)},At=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Ft=e=>{const t={};return e._map.forEach(((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},_t=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Mt=e=>{return t=e.entries(),n=e=>!e[1].deleted,H((()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e}));var t,n};class Lt extends mt{constructor(e,t){super(e,t),this._transaction=t}}class Pt extends xt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new Pt;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Pt}clone(){const e=new Pt;return e.insert(0,this.toArray().map((e=>e instanceof xt?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),yt(this,e,new Lt(this,e))}insert(e,t){null!==this.doc?tt(this.doc,(n=>{jt(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?tt(this.doc,(n=>{It(n,this,e,t)})):this._prelimContent.splice(e,t)}get(e){return Ot(this,e)}toArray(){return wt(this)}slice(e=0,t=this.length){return Et(this,e,t)}toJSON(){return this.map((e=>e instanceof xt?e.toJSON():e))}map(e){return kt(this,e)}forEach(e){St(this,e)}[Symbol.iterator](){return Ct(this)}_write(e){e.writeTypeRef(xn)}}class $t extends mt{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Bt extends xt{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach(((e,t)=>{this.set(t,e)})),this._prelimContent=null}_copy(){return new Bt}clone(){const e=new Bt;return this.forEach(((t,n)=>{e.set(n,t instanceof xt?t.clone():t)})),e}_callObserver(e,t){yt(this,e,new $t(this,e,t))}toJSON(){const e={};return this._map.forEach(((t,n)=>{if(!t.deleted){const a=t.content.getContent()[t.length-1];e[n]=a instanceof xt?a.toJSON():a}})),e}get size(){return[...Mt(this._map)].length}keys(){return V(Mt(this._map),(e=>e[0]))}values(){return V(Mt(this._map),(e=>e[1].content.getContent()[e[1].length-1]))}entries(){return V(Mt(this._map),(e=>[e[0],e[1].content.getContent()[e[1].length-1]]))}forEach(e){return this._map.forEach(((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)})),{}}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?tt(this.doc,(t=>{Nt(t,this,e)})):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?tt(this.doc,(n=>{Rt(n,this,e,t)})):this._prelimContent.set(e,t),t}get(e){return At(this,e)}has(e){return _t(this,e)}clear(){null!==this.doc?tt(this.doc,(e=>{this.forEach((function(t,n,a){Nt(e,a,n)}))})):this._prelimContent.clear()}_write(e){e.writeTypeRef(En)}}const zt=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&U.a(e,t);class qt{constructor(e,t,n,a){this.left=e,this.right=t,this.index=n,this.currentAttributes=a}forward(){if(null===this.right&&b(),this.right.content.constructor===fn)this.right.deleted||Wt(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}const Ht=(e,t,n)=>{for(;null!==t.right&&n>0;){if(t.right.content.constructor===fn)t.right.deleted||Wt(t.currentAttributes,t.right.content);else t.right.deleted||(n<t.right.length&&Ue(e,Re(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);t.left=t.right,t.right=t.right.right}return t},Vt=(e,t,n)=>{const a=new Map,r=bt(t,n);if(r){const t=new qt(r.p.left,r.p,r.index,a);return Ht(e,t,n-r.index)}{const r=new qt(null,t._start,0,a);return Ht(e,r,n)}},Ut=(e,t,n,a)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===fn&&zt(a.get(n.right.content.key),n.right.content.value));)n.right.deleted||a.delete(n.right.content.key),n.forward();const r=e.doc,o=r.clientID;a.forEach(((a,i)=>{const s=n.left,l=n.right,c=new jn(Re(o,Be(r.store,o)),s,s&&s.lastId,l,l&&l.id,t,null,new fn(i,a));c.integrate(e,0),n.right=c,n.forward()}))},Wt=(e,t)=>{const{key:n,value:a}=t;null===a?e.delete(n):e.set(n,a)},Gt=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===fn&&zt(t[e.right.content.key]||null,e.right.content.value));)e.forward()},Kt=(e,t,n,a)=>{const r=e.doc,o=r.clientID,i=new Map;for(const s in a){const l=a[s],c=n.currentAttributes.get(s)||null;if(!zt(c,l)){i.set(s,c);const{left:a,right:u}=n;n.right=new jn(Re(o,Be(r.store,o)),a,a&&a.lastId,u,u&&u.id,t,null,new fn(s,l)),n.right.integrate(e,0),n.forward()}}return i},Yt=(e,t,n,a,r)=>{n.currentAttributes.forEach(((e,t)=>{void 0===r[t]&&(r[t]=null)}));const o=e.doc,i=o.clientID;Gt(n,r);const s=Kt(e,t,n,r),l=a.constructor===String?new vn(a):a instanceof xt?new Dn(a):new hn(a);let{left:c,right:u,index:d}=n;t._searchMarker&&vt(t._searchMarker,n.index,l.getLength()),u=new jn(Re(i,Be(o.store,i)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),Ut(e,t,n,s)},Zt=(e,t,n,a,r)=>{const o=e.doc,i=o.clientID;Gt(n,r);const s=Kt(e,t,n,r);for(;a>0&&null!==n.right;){if(!n.right.deleted)switch(n.right.content.constructor){case fn:{const{key:t,value:a}=n.right.content,o=r[t];void 0!==o&&(zt(o,a)?s.delete(t):s.set(t,a),n.right.delete(e));break}default:a<n.right.length&&Ue(e,Re(n.right.id.client,n.right.id.clock+a)),a-=n.right.length}n.forward()}if(a>0){let r="";for(;a>0;a--)r+="\n";n.right=new jn(Re(i,Be(o.store,i)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new vn(r)),n.right.integrate(e,0),n.forward()}Ut(e,t,n,s)},Qt=(e,t,n,a,r)=>{for(;n&&(!n.countable||n.deleted);)n.deleted||n.content.constructor!==fn||Wt(r,n.content),n=n.right;let o=0;for(;t!==n;){if(!t.deleted){const n=t.content;switch(n.constructor){case fn:{const{key:i,value:s}=n;(r.get(i)||null)===s&&(a.get(i)||null)!==s||(t.delete(e),o++);break}}}t=t.right}return o},Xt=(e,t,n)=>{const a=n,r=i.b(t.currentAttributes),o=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case Dn:case hn:case vn:n<t.right.length&&Ue(e,Re(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&Qt(e,o,t.right,r,i.b(t.currentAttributes));const s=(t.left||t.right).parent;return s._searchMarker&&vt(s._searchMarker,t.index,-a+n),t};class Jt extends mt{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)}))}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];tt(e,(e=>{const n=new Map,a=new Map;let r=this.target._start,o=null;const i={};let s="",l=0,c=0;const u=()=>{if(null!==o){let e;switch(o){case"delete":e={delete:c},c=0;break;case"insert":e={insert:s},n.size>0&&(e.attributes={},n.forEach(((t,n)=>{null!==t&&(e.attributes[n]=t)}))),s="";break;case"retain":if(e={retain:l},Object.keys(i).length>0){e.attributes={};for(const t in i)e.attributes[t]=i[t]}l=0}t.push(e),o=null}};for(;null!==r;){switch(r.content.constructor){case Dn:case hn:this.adds(r)?this.deletes(r)||(u(),o="insert",s=r.content.getContent()[0],u()):this.deletes(r)?("delete"!==o&&(u(),o="delete"),c+=1):r.deleted||("retain"!==o&&(u(),o="retain"),l+=1);break;case vn:this.adds(r)?this.deletes(r)||("insert"!==o&&(u(),o="insert"),s+=r.content.str):this.deletes(r)?("delete"!==o&&(u(),o="delete"),c+=r.length):r.deleted||("retain"!==o&&(u(),o="retain"),l+=r.length);break;case fn:{const{key:t,value:s}=r.content;if(this.adds(r)){if(!this.deletes(r)){const l=n.get(t)||null;zt(l,s)?r.delete(e):("retain"===o&&u(),zt(s,a.get(t)||null)?delete i[t]:i[t]=s)}}else if(this.deletes(r)){a.set(t,s);const e=n.get(t)||null;zt(e,s)||("retain"===o&&u(),i[t]=e)}else if(!r.deleted){a.set(t,s);const n=i[t];void 0!==n&&(zt(n,s)?r.delete(e):("retain"===o&&u(),null===s?delete i[t]:i[t]=s))}r.deleted||("insert"===o&&u(),Wt(n,r.content));break}}r=r.right}for(u();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}})),this._delta=t}return this._delta}}class en extends xt{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach((e=>e()))}catch(e){console.error(e)}this._pending=null}_copy(){return new en}clone(){const e=new en;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new Jt(this,e,t),a=e.doc;if(yt(this,e,n),!e.local){let t=!1;for(const[n,r]of e.afterState.entries()){const o=e.beforeState.get(n)||0;if(r!==o&&(Ge(e,a.store.clients.get(n),o,r,(e=>{e.deleted||e.content.constructor!==fn||(t=!0)})),t))break}t||K(e,e.deleteSet,(e=>{e instanceof cn||t||e.parent===this&&e.content.constructor===fn&&(t=!0)})),tt(a,(e=>{t?(e=>{let t=0;tt(e.doc,(n=>{let a=e._start,r=e._start,o=i.c();const s=i.b(o);for(;r;)!1===r.deleted&&(r.content.constructor===fn?Wt(s,r.content):(t+=Qt(n,a,r,o,s),o=i.b(s),a=r)),r=r.right}))})(this):K(e,e.deleteSet,(t=>{t instanceof cn||t.parent===this&&((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===fn){const a=t.content.key;n.has(a)?t.delete(e):n.add(a)}t=t.left}})(e,t)}))}))}}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===vn&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?tt(this.doc,(n=>{const a=new qt(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const o=e[r];if(void 0!==o.insert){const i=t||"string"!=typeof o.insert||r!==e.length-1||null!==a.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!=typeof i||i.length>0)&&Yt(n,this,a,i,o.attributes||{})}else void 0!==o.retain?Zt(n,this,a,o.retain,o.attributes||{}):void 0!==o.delete&&Xt(n,a,o.delete)}})):this._pending.push((()=>this.applyDelta(e)))}toDelta(e,t,n){const a=[],r=new Map,o=this.doc;let i="",s=this._start;function l(){if(i.length>0){const e={};let t=!1;r.forEach(((n,a)=>{t=!0,e[a]=n}));const n={insert:i};t&&(n.attributes=e),a.push(n),i=""}}return tt(o,(o=>{for(e&&Le(o,e),t&&Le(o,t);null!==s;){if(Me(s,e)||void 0!==t&&Me(s,t))switch(s.content.constructor){case vn:{const a=r.get("ychange");void 0===e||Me(s,e)?void 0===t||Me(s,t)?void 0!==a&&(l(),r.delete("ychange")):void 0!==a&&a.user===s.id.client&&"added"===a.state||(l(),r.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==a&&a.user===s.id.client&&"removed"===a.state||(l(),r.set("ychange",n?n("removed",s.id):{type:"removed"})),i+=s.content.str;break}case Dn:case hn:{l();const e={insert:s.content.getContent()[0]};if(r.size>0){const t={};e.attributes=t,r.forEach(((e,n)=>{t[n]=e}))}a.push(e);break}case fn:Me(s,e)&&(l(),Wt(r,s.content))}s=s.right}l()}),Le),a}insert(e,t,n){if(t.length<=0)return;const a=this.doc;null!==a?tt(a,(a=>{const r=Vt(a,this,e);n||(n={},r.currentAttributes.forEach(((e,t)=>{n[t]=e}))),Yt(a,this,r,t,n)})):this._pending.push((()=>this.insert(e,t,n)))}insertEmbed(e,t,n={}){const a=this.doc;null!==a?tt(a,(a=>{const r=Vt(a,this,e);Yt(a,this,r,t,n)})):this._pending.push((()=>this.insertEmbed(e,t,n)))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?tt(n,(n=>{Xt(n,Vt(n,this,e),t)})):this._pending.push((()=>this.delete(e,t)))}format(e,t,n){if(0===t)return;const a=this.doc;null!==a?tt(a,(a=>{const r=Vt(a,this,e);null!==r.right&&Zt(a,this,r,t,n)})):this._pending.push((()=>this.format(e,t,n)))}removeAttribute(e){null!==this.doc?tt(this.doc,(t=>{Nt(t,this,e)})):this._pending.push((()=>this.removeAttribute(e)))}setAttribute(e,t){null!==this.doc?tt(this.doc,(n=>{Rt(n,this,e,t)})):this._pending.push((()=>this.setAttribute(e,t)))}getAttribute(e){return At(this,e)}getAttributes(e){return Ft(this)}_write(e){e.writeTypeRef(wn)}}class tn{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==an&&t.constructor!==nn||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class nn extends xt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new nn}clone(){const e=new nn;return e.insert(0,this.toArray().map((e=>e instanceof xt?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new tn(this,e)}querySelector(e){e=e.toUpperCase();const t=new tn(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new tn(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)))}_callObserver(e,t){yt(this,e,new rn(this,t,e))}toString(){return kt(this,(e=>e.toString())).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const a=e.createDocumentFragment();return void 0!==n&&n._createAssociation(a,this),St(this,(r=>{a.insertBefore(r.toDOM(e,t,n),null)})),a}insert(e,t){null!==this.doc?tt(this.doc,(n=>{jt(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)tt(this.doc,(n=>{const a=e&&e instanceof xt?e._item:e;Dt(n,this,a,t)}));else{const n=this._prelimContent,a=null===e?0:n.findIndex((t=>t===e))+1;if(0===a&&null!==e)throw f("Reference item not found");n.splice(a,0,...t)}}delete(e,t=1){null!==this.doc?tt(this.doc,(n=>{It(n,this,e,t)})):this._prelimContent.splice(e,t)}toArray(){return wt(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Ot(this,e)}slice(e=0,t=this.length){return Et(this,e,t)}_write(e){e.writeTypeRef(kn)}}class an extends nn{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach(((e,t)=>{this.setAttribute(t,e)})),this._prelimAttrs=null}_copy(){return new an(this.nodeName)}clone(){const e=new an(this.nodeName),t=this.getAttributes();for(const n in t)e.setAttribute(n,t[n]);return e.insert(0,this.toArray().map((e=>e instanceof xt?e.clone():e))),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const a=n.length;for(let r=0;r<a;r++){const a=n[r];t.push(a+'="'+e[a]+'"')}const r=this.nodeName.toLocaleLowerCase();return`<${r}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${r}>`}removeAttribute(e){null!==this.doc?tt(this.doc,(t=>{Nt(t,this,e)})):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?tt(this.doc,(n=>{Rt(n,this,e,t)})):this._prelimAttrs.set(e,t)}getAttribute(e){return At(this,e)}hasAttribute(e){return _t(this,e)}getAttributes(e){return Ft(this)}toDOM(e=document,t={},n){const a=e.createElement(this.nodeName),r=this.getAttributes();for(const e in r)a.setAttribute(e,r[e]);return St(this,(r=>{a.appendChild(r.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(a,this),a}_write(e){e.writeTypeRef(Sn),e.writeKey(this.nodeName)}}class rn extends mt{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach((e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)}))}}class on extends Bt{constructor(e){super(),this.hookName=e}_copy(){return new on(this.hookName)}clone(){const e=new on(this.hookName);return this.forEach(((t,n)=>{e.set(n,t)})),e}toDOM(e=document,t={},n){const a=t[this.hookName];let r;return r=void 0!==a?a.createDom(this):document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Cn),e.writeKey(this.hookName)}}class sn extends en{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new sn}clone(){const e=new sn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const a=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(a,this),a}toString(){return this.toDelta().map((e=>{const t=[];for(const n in e.attributes){const a=[];for(const t in e.attributes[n])a.push({key:t,value:e.attributes[n][t]});a.sort(((e,t)=>e.key<t.key?-1:1)),t.push({nodeName:n,attrs:a})}t.sort(((e,t)=>e.nodeName<t.nodeName?-1:1));let n="";for(let e=0;e<t.length;e++){const a=t[e];n+=`<${a.nodeName}`;for(let e=0;e<a.attrs.length;e++){const t=a.attrs[e];n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n})).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(On)}}class ln{constructor(e,t){this.id=e,this.length=t}get deleted(){throw g()}mergeWith(e){return!1}write(e,t,n){throw g()}integrate(e,t){throw g()}}class cn extends ln{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),ze(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class un{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new un(this.content)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class dn{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new dn(this.len)}splice(e){const t=new dn(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){X(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const mn=(e,t)=>new oe({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class pn{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new pn(mn(this.doc.guid,this.opts))}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class hn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new hn(this.embed)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class fn{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new fn(this.key,this.value)}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){t.parent._searchMarker=null}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class gn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gn(this.arr)}splice(e){const t=new gn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}class bn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new bn(this.arr)}splice(e){const t=new bn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let a=t;a<n;a++){const t=this.arr[a];e.writeAny(t)}}getRef(){return 8}}class vn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new vn(this.str)}splice(e){const t=new vn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",t.str="�"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const yn=[e=>new Pt,e=>new Bt,e=>new en,e=>new an(e.readKey()),e=>new nn,e=>new on(e.readKey()),e=>new sn],xn=0,En=1,wn=2,Sn=3,kn=4,Cn=5,On=6;class Dn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Dn(this.type._copy())}splice(e){throw g()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((t=>{t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((t=>{for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Tn=(e,t,n)=>{const{client:a,clock:r}=t.id,o=new jn(Re(a,r+n),t,Re(a,r+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=Re(t.redone.client,t.redone.clock+n)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=n,o};class jn extends ln{constructor(e,t,n,a,r,o,i,s){super(e,s.getLength()),this.origin=n,this.left=t,this.right=a,this.rightOrigin=r,this.parent=o,this.parentSub=i,this.redone=null,this.content=s,this.info=this.content.isCountable()?v.b:0}set marker(e){(this.info&v.d)>0!==e&&(this.info^=v.d)}get marker(){return(this.info&v.d)>0}get keep(){return(this.info&v.a)>0}set keep(e){this.keep!==e&&(this.info^=v.a)}get countable(){return(this.info&v.b)>0}get deleted(){return(this.info&v.c)>0}set deleted(e){this.deleted!==e&&(this.info^=v.c)}markDeleted(){this.info|=v.c}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Be(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Be(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ie&&this.id.client!==this.parent.client&&this.parent.clock>=Be(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=We(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ue(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===cn||this.right&&this.right.constructor===cn)&&(this.parent=null),this.parent){if(this.parent.constructor===Ie){const e=He(t,this.parent);e.constructor===cn?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===jn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===jn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=We(e,e.doc.store,Re(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const a=new Set,r=new Set;for(;null!==t&&t!==this.right;){if(r.add(t),a.add(t),Ne(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,a.clear();else if(Ne(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!r.has(He(e.doc.store,t.origin)))break;a.has(He(e.doc.store,t.origin))||(n=t,a.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ze(e.doc.store,this),this.content.integrate(e,this),Ze(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new cn(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:Re(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Ne(e.origin,this.lastId)&&this.right===e&&Ne(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach((t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),X(e.deleteSet,this.id.client,this.id.clock,this.length),Ze(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw b();this.content.gc(e),t?((e,t,n)=>{const a=e.clients.get(t.id.client);a[qe(a,t.id.clock)]=n})(e,this,new cn(this.id,this.length)):this.content=new dn(this.length)}write(e,t){const n=t>0?Re(this.id.client,this.id.clock+t-1):this.origin,a=this.rightOrigin,r=this.parentSub,o=this.content.getRef()&v.i|(null===n?0:v.g)|(null===a?0:v.f)|(null===r?0:v.e);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==a&&e.writeRightID(a),null===n&&null===a){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=Ae(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===Ie?(e.writeParentInfo(!1),e.writeLeftID(t)):b();null!==r&&e.writeString(r)}this.content.write(e,t)}}const In=(e,t)=>Nn[t&v.i](e),Nn=[()=>{b()},e=>new dn(e.readLen()),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new gn(n)},e=>new un(e.readBuf()),e=>new vn(e.readString()),e=>new hn(e.readJSON()),e=>new fn(e.readString(),e.readJSON()),e=>new Dn(yn[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let a=0;a<t;a++)n.push(e.readAny());return new bn(n)},e=>new pn(mn(e.readString(),e.readAny())),()=>{b()}];class Rn extends ln{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){b()}write(e,t){e.writeInfo(10),s.n(e.restEncoder,this.length-t)}getMissing(e,t){return null}}const An="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};!0===An["__ $YJS$ __"]&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues."),An["__ $YJS$ __"]=!0},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),o=n(65),i=n(301),s=n(5);const l={id:"",data:{},range:null,update:()=>{},loading:s.RemoteDataState.NotStarted,results:{source:"",parsed:{}},readOnly:!1},c=r.a.createContext(l),u=({id:e,children:t})=>{const{flow:n,updateData:u}=Object(a.useContext)(o.a),{results:d,statuses:m}=Object(a.useContext)(i.a),p=d[e],h=m[e],f=Object(a.useCallback)((t=>{u(e,t)}),[n,u]);return Object(a.useMemo)((()=>r.a.createElement(c.Provider,{value:{id:e,data:n.data.byID[e],range:n.range,update:f,results:p||Object.assign({},l.results),loading:h||s.RemoteDataState.NotStarted,readOnly:n.readOnly}},t)),[n,e,p,h,t,f])}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f}));var a=n(22),r=n(201),o=n(407),i=n(452),s=n(177),l=n(7);const c=n(51).h;function u({orgID:e}){return Object(l.a)("runQuery",{context:"queryBuilder-findBuckets"}),p(Object(r.a)(e,'buckets()\n  |> sort(columns: ["name"])\n  |> limit(n: 200)'),"name")}function d({orgID:e,bucket:t,tagsSelections:n,searchTerm:a="",timeRange:o=c,limit:i=200}){const s=h(n),u=function(e){const t=e.map((({key:e})=>e));if(!t.length)return"";return`\n  |> filter(fn: (r) => ${t.map((e=>`r._value != "${e}"`)).join(" and ")})`}(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${f(o)})\n  |> filter(fn: ${s})\n  |> keys()\n  |> keep(columns: ["_value"])\n  |> distinct()${a?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${a}") + ")"))`:""}${u}\n  |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n  |> sort()\n  |> limit(n: ${i})`;return Object(l.a)("runQuery",{context:"queryBuilder-findKeys"}),p(Object(r.a)(e,d),"_value")}function m({orgID:e,bucket:t,tagsSelections:n,key:a,searchTerm:o="",timeRange:i=c,limit:s=200}){const u=h(n),d=`import "regexp"\n  \n  from(bucket: "${t}")\n  |> range(${f(i)})\n  |> filter(fn: ${u})\n  |> keep(columns: ["${a}"])\n  |> group()\n  |> distinct(column: "${a}")${o?`\n  |> filter(fn: (r) => r._value =~ regexp.compile(v: "(?i:" + regexp.quoteMeta(v: "${o}") + ")"))`:""}\n  |> limit(n: ${s})\n  |> sort()`;return Object(l.a)("runQuery",{context:"queryBuilder-findValues"}),p(Object(r.a)(e,d),"_value")}function p(e,t){const n=e.promise.then((e=>"SUCCESS"!==e.type?Promise.reject(new Error(e.message)):function(e,t){const{table:n}=Object(a.fromFlux)(e);return n.getColumn(t,"string")||[]}(e.csv,t)));return{promise:n,cancel:e.cancel}}function h(e){const t=e.filter((({key:e,values:t})=>e&&t.length));if(!t.length)return"(r) => true";return`(r) => ${t.map((e=>`(${Object(s.g)(e)})`)).join(" and ")}`}function f(e){const[t,n]=Object(o.b)(e).map((e=>Object(i.a)(e.init)));return`start: ${t}, stop: ${n}`}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return I}));var a=n(2),r=n.n(a),o=n(4);const i={};var s={get(e,t){var n,a;try{return null!==(n=i[e])&&void 0!==n?n:"undefined"===(a=localStorage.getItem(e))?void 0:JSON.parse(null!=a?a:"")}catch(e){return t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),i[e]=void 0,!0}catch(n){return i[e]=t,!1}},remove(e){i[e]=void 0,localStorage.removeItem(e)}};var l=n(73),c=n(9),u=n(51),d=n(6),m=n(41),p=n(456),h=n(429),f=n(13),g=n(10);const b={id:"",data:{}};let v=b,y=null,x=null;const E=async e=>{const t=await Object(h.e)(e);if(200!=t.status)throw new Error(t.data.message)},w=async e=>{const t=await Object(h.f)(e);if(200!=t.status)throw new Error(t.data.message);return t.data};var S=n(62);const k={name:m.a,range:u.b,refresh:d.b,data:{byID:{},allIDs:[]},meta:{byID:{},allIDs:[]},readOnly:!1},C={flows:{},add:e=>{},clone:e=>{},update:(e,t)=>{},remove:e=>{},change:e=>{},getAll:()=>{},currentID:null},O=function(e,t){const n=[];return function(){const[r,o,i]=function(e,t){const[n]=Object(a.useState)((()=>"function"==typeof t?t():t)),r=Object(a.useCallback)((()=>({value:s.get(e,n),isPersistent:(()=>{if("undefined"==typeof window)return!0;try{return localStorage.setItem("__ulss","#"),localStorage.removeItem("__ulss"),!0}catch(e){return!1}})()})),[n,e]),[o,i]=Object(a.useState)(r),l=Object(a.useMemo)((()=>{const t=t=>{i("function"==typeof t?n=>({value:t(n.value),isPersistent:s.set(e,t(n.value))}):{value:t,isPersistent:s.set(e,t)})};return t.reset=()=>{s.remove(e),i((e=>({value:n,isPersistent:e.isPersistent})))},t}),[e,n]);Object(a.useEffect)((()=>{const t=t=>{t.storageArea===localStorage&&t.key===e&&i({value:s.get(e,n),isPersistent:!0})};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}),[e,n]);const c=Object(a.useRef)(!0);return Object(a.useEffect)((()=>{c.current?c.current=!1:i(r())}),[r]),[o.value,l,o.isPersistent]}(e,t),l=Object(a.useMemo)((()=>{const e=e=>{for(const t of n)t(e)};return e.reset=()=>{for(const e of n)e.reset()},e}),[]);return Object(a.useEffect)((()=>(n.push(o),()=>{n.splice(n.indexOf(o),1)})),[o]),[r,l,i]}}("flows",C.flows),D=r.a.createContext(C);function T(e){const t={data:{orgID:e.orgID,name:e.name,spec:{name:e.name,readOnly:e.readOnly,range:e.range,refresh:e.refresh,createdAt:e.createdAt,createdBy:e.createdBy,updatedAt:e.updatedAt,pipes:e.data.allIDs.map((t=>{const n=e.meta.byID[t];let a={};return n&&(a=Object.assign(Object.assign({},e.data.byID[t]),{id:t,title:n.title,visible:n.visible}),n.layout&&(a.layout=n.layout)),a}))}}};return e.id&&(t.data.id=e.id),t}function j(e){var t;const n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(k))),{name:e.name||k.name,range:e.spec.range,refresh:e.spec.refresh,readOnly:e.spec.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy});return e.id&&(n.id=e.id),e.orgID&&(n.orgID=e.orgID),(null===(t=null==e?void 0:e.spec)||void 0===t?void 0:t.pipes)?(e.spec.pipes.forEach((e=>{const t=e.id||`local_${Object(l.v4)()}`;n.data.allIDs.push(t),n.meta.allIDs.push(t);const a={title:e.title,visible:e.visible};e.layout&&(a.layout=e.layout,delete e.layout),delete e.title,delete e.visible,n.data.byID[t]=e,n.meta.byID[t]=a})),n):n}const I=({children:e})=>{const[t,n]=O(),[i,s]=Object(a.useState)(C.currentID),l=Object(o.e)(c.a),u=Object(o.d)();Object(a.useEffect)((()=>{R(),I()}),[]);const d=e=>{let a;return a=e?{name:e.name,orgID:e.orgID,range:e.range,refresh:e.refresh,data:e.data,meta:e.meta,readOnly:e.readOnly,createdAt:e.createdAt,updatedAt:e.updatedAt}:j(Object.assign(Object.assign({},p.a.default.init()),{name:m.a,orgID:l.id})),w(T(a)).then((e=>(n(Object.assign(Object.assign({},t),{[e.id]:j(e)})),e.id))).catch((()=>{u(Object(g.c)(Object(f.Bc)()))}))},k=Object(a.useCallback)(((e,a)=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);n((t=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),a)})));const r=T(Object.assign(Object.assign({},t[e]),a));(e=>{v=e,y&&(clearTimeout(y),y=null),x||(x=setTimeout((()=>{x=null,v!==b&&(clearTimeout(y),y=null,E(v),v=b)}),5e3)),y=setTimeout((()=>{E(v),v=b}),500)})(Object.assign({id:e},r))}),[n,l.id,t]),I=Object(a.useCallback)((async()=>{const e=await(async e=>{const t=await Object(h.c)({query:{orgID:e}});if(200!=t.status)throw new Error(t.data.message);return t.data})(l.id);if(e&&e.flows){const t={};e.flows.forEach((e=>{t[e.id]=j(e)})),n(t)}}),[l.id,n]),N=Object(a.useCallback)((e=>{Object.keys(t).length||I(),s(e)}),[s,t]),R=async()=>{if(!Object.keys(t).filter((e=>e.includes("local"))).length)return;const e=await(async(e,t,n,a)=>{const r=Object.keys(t).filter((e=>e.includes("local")));return r.length&&await Promise.all(r.map((async a=>{const r=t[a],o=n(r,e),{id:i}=await w(o);delete t[a],t[i]=r}))).catch((()=>{a(Object(g.c)(Object(f.Gc)()))})),t})(l.id,t,T,u);n(Object.assign({},e)),i&&i.includes("local")&&s(Object.keys(e)[0])};return r.a.createElement(D.Provider,{value:{flows:t,add:d,clone:async e=>{if(!t.hasOwnProperty(e))throw new Error(`${m.d} not found`);const n=t[e],a=Object.values(t).map((e=>e.name)),r=Object(S.a)(a,n.name),o=Object.assign(Object.assign({},n),{name:r});return await d(o)},update:k,remove:async e=>{const a=Object.assign({},t);try{await(async e=>{const t=await Object(h.a)(e);if(204!=t.status)throw new Error(t.data.message)})({id:e}),u(Object(g.c)(Object(f.Dc)()))}catch(e){u(Object(g.c)(Object(f.Cc)()))}delete a[e],i===e&&s(null),n(a)},getAll:I,currentID:i,change:N}},e)}},194:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(455),i=n.n(o),s=n(4),l=n(226),c=n(3),u=(n(454),n(122)),d=n(114),m=n(72),p=n(235),h=n(379);const f=e=>Object(p.c)(e,"YYYY-MM-DD HH:mm")||Object(p.c)(e,"YYYY-MM-DD HH:mm:ss")||Object(p.c)(e,"YYYY-MM-DD HH:mm:ss.sss")||Object(p.c)(e,"YYYY-MM-DD")||Object(h.b)(e),g=e=>Object(p.c)(e,"YYYY-MM-DD")?"YYYY-MM-DD":Object(p.c)(e,"YYYY-MM-DD HH:mm")?"YYYY-MM-DD HH:mm":Object(p.c)(e,"YYYY-MM-DD HH:mm:ss")?"YYYY-MM-DD HH:mm:ss":Object(p.c)(e,"YYYY-MM-DD HH:mm:ss.sss")?"YYYY-MM-DD HH:mm:ss.sss":Object(h.b)(e)?m.b:null;class b extends a.PureComponent{constructor(){super(...arguments),this.inCurrentMonth=!1,this.state={inputValue:null,inputFormat:null},this.dayClassName=e=>(1===e.getDate()&&(this.inCurrentMonth=!this.inCurrentMonth),this.inCurrentMonth?"range-picker--day-in-month":"range-picker--day"),this.overrideInputState=()=>{const{dateTime:e,timeZone:t}=this.props,{inputFormat:n}=this.state;let a=new Date(e).toISOString();if(n){a=Object(u.a)(n,t).format(e)}this.setState({inputValue:a,inputFormat:g(a)})},this.handleSelectDate=e=>{const{onSelectDate:t,timeZone:n}=this.props;"UTC"===n&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),this.overrideInputState()},this.handleChangeInput=e=>{const{onSelectDate:t,timeZone:n}=this.props,a=e.target.value;if(f(a)){let e;return e=Object(h.b)(a)?new Date(l.DateTime.fromISO(a)):new Date(l.DateTime.fromFormat(a,Object(p.a)(g(a)))),"UTC"!==n||Object(h.b)(a)||e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t(e.toISOString()),void this.setState({inputValue:a,inputFormat:g(a)})}this.setState({inputValue:a,inputFormat:null})}}componentDidUpdate(){this.isInputValueInvalid&&this.props.onInvalidInput()}render(){const{dateTime:e,label:t,maxDate:n,minDate:a,timeZone:o}=this.props,s=new Date(e);return"UTC"===o&&s.setMinutes(s.getMinutes()+s.getTimezoneOffset()),r.a.createElement("div",{className:"range-picker--date-picker"},r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve},r.a.createElement(c.Form.Element,{label:t,errorMessage:this.inputErrorMessage},r.a.createElement(c.Input,{size:c.ComponentSize.Medium,className:"range-picker--input react-datepicker-ignore-onclickoutside",titleText:t,value:this.inputValue,onChange:this.handleChangeInput,status:this.inputStatus,testID:"timerange--input"})),r.a.createElement("div",{className:"range-picker--popper-container"},r.a.createElement(i.a,{inline:!0,selected:s,onChange:this.handleSelectDate,startOpen:!0,dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",shouldCloseOnSelect:!1,disabledKeyboardNavigation:!0,calendarClassName:"range-picker--calendar",dayClassName:this.dayClassName,timeIntervals:60,fixedHeight:!0,minDate:new Date(a),maxDate:new Date(n)})))))}get inputValue(){const{dateTime:e,timeZone:t}=this.props,{inputValue:n,inputFormat:a}=this.state;if(this.isInputValueInvalid)return n;if(Object(h.b)(e)&&a===m.b)return e;if(a){return Object(u.a)(a,t).format(new Date(e))}return Object(u.a)(m.a,t).format(new Date(e))}get isInputValueInvalid(){const{inputValue:e}=this.state;return null!==e&&!f(e)}get inputErrorMessage(){return this.isInputValueInvalid?"Format must be YYYY-MM-DD HH:mm:ss":"  "}get inputStatus(){return this.isInputValueInvalid?c.ComponentStatus.Error:c.ComponentStatus.Default}}t.a=Object(s.c)((e=>({timeZone:Object(d.d)(e)})))(b)},195:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),o=n(4),i=n(59),s=n(11),l=n(5);const c=r.a.createContext({id:"",type:"custom",query:null,statuses:[],thresholds:[],updateStatuses:()=>{},updateThresholds:()=>{}}),u=({children:e})=>{const{type:t,thresholds:n}=Object(o.e)((e=>e.alertBuilder)),[i,s]=Object(a.useState)([]);return r.a.createElement(c.Provider,{value:{id:"new",type:t,query:null,statuses:i,thresholds:n,updateStatuses:s,updateThresholds:()=>{}}},e)};t.c=({id:e,children:t})=>{const n=Object(o.d)(),u=Object(o.e)((t=>Object(s.f)(t,l.ResourceType.Checks,e))),[d,m]=Object(a.useState)([]),p=Object(a.useCallback)((e=>{n(Object(i.q)(e))}),[n]);return r.a.createElement(c.Provider,{value:{id:e,type:u.type,query:u.query,statuses:d,thresholds:"threshold"===u.type?u.thresholds:[],updateStatuses:m,updateThresholds:p}},t)}},1958:function(e,t){!function(e){function t(t){return 1===t.length&&"string"==typeof t[0]&&isNaN(e.parse(t[0]))&&(t[0]=t[0].replace(/-/g,"/")),Array.prototype.slice.call(t)}function n(){return this instanceof n?new(Function.prototype.bind.apply(e,[null].concat(t(arguments)))):e()}n.prototype=e.prototype,n.now=e.now,n.UTC=e.UTC,n.parse=function(){return e.parse.apply(e,t(arguments))},Date=n}(Date)},1959:function(e,t,n){var a=n(1960);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(5);const r=(e,t)=>{const n=t.map((t=>{if(!e.resources||!e.resources[t].status)throw new Error(`RemoteDataState status for resource "${t}" is undefined in getResourcesStatus`);return e.resources[t].status}));let r=a.RemoteDataState.NotStarted;return n.every((e=>e===a.RemoteDataState.Done))?r=a.RemoteDataState.Done:n.includes(a.RemoteDataState.Error)?r=a.RemoteDataState.Error:n.includes(a.RemoteDataState.Loading)&&(r=a.RemoteDataState.Loading),r}},1960:function(e,t,n){(t=n(16)(!1)).push([e.i,'.GlobalSearch .DocSearch-Modal{background-color:#333346 !important;box-shadow:none;min-width:690px !important;width:40vw !important}.GlobalSearch .DocSearch-Footer{display:none !important}.GlobalSearch .DocSearch-Container{background:transparent;height:auto !important;position:absolute !important}.GlobalSearch .DocSearch-Hit{padding-left:0px !important;border-radius:0px !important;margin-left:6px !important;border-left:2px solid #68687b;margin-bottom:8px !important}.GlobalSearch .DocSearch-Hit:hover{border-left:2px solid #0098f0 !important}.GlobalSearch .DocSearch-Hit-source{color:#fff;background:none;font-size:21px;margin:0px !important;font-weight:400;margin-bottom:4px !important;position:relative}.GlobalSearch .DocSearch-Hit-title{color:#b9b9c5;font-size:15px;font-weight:400}.GlobalSearch .DocSearch-Hit-path{font-weight:bold !important;font-size:13px;margin-top:4px !important;color:#68687b}.GlobalSearch .DocSearch-Hit-path:hover{color:#b9b9c5}.GlobalSearch .DocSearch-Hit a{background:transparent !important;box-shadow:none;color:#d4d7dd !important;padding:0 !important}.GlobalSearch .DocSearch-Hit-content-wrapper{overflow-x:clip}.GlobalSearch .DocSearch-Hit-Container{height:100% !important;padding-top:4px !important}.GlobalSearch .DocSearch-Hit-icon{display:none}.GlobalSearch .DocSearch-SearchBar{padding:0 !important}.GlobalSearch .DocSearch-Form{display:block;width:100% !important;height:56px;margin:auto;border-radius:4px 4px 0px 0px;border:none !important;box-shadow:none !important;outline:none;font-family:"Rubik",Helvetica,Arial,Tahoma,Verdana,sans-serif;color:#b9b9c5;background-color:#333346;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIuNyAyMi41IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMi43IDIyLjUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NzY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjguMSIgY3k9IjguNCIgcj0iNi44Ii8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NzY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEzLjIiIHkxPSIxMi45IiB4Mj0iMjEuNSIgeTI9IjIxLjQiLz48L3N2Zz4=);background-position:left 17px center;background-repeat:no-repeat;background-size:3.5%;padding:0 52px}.GlobalSearch .DocSearch-Form label{display:none}.GlobalSearch .DocSearch-Input{color:#fff;font-size:21px !important}.GlobalSearch .DocSearch-LoadingIndicator{display:none !important}.GlobalSearch .DocSearch-Hit-path{font-weight:bold}.GlobalSearch .DocSearch-Reset{top:17px;position:absolute;right:10px}.GlobalSearch .DocSearch-Dropdown::-webkit-scrollbar-thumb{border:none;background:linear-gradient(#be2ee4 0%, #00a3ff 100%) !important}.GlobalSearch .DocSearch-Dropdown::-webkit-scrollbar{width:6px}.GlobalSearch .DocSearch-Dropdown{padding-top:16px !important}.GlobalSearch .DocSearch-StartScreen,.GlobalSearch .DocSearch-StartScreen>.DocSearch-Help{font-size:1.3em !important}.GlobalSearch .DocSearch-Hits mark{color:#0098f0 !important}',""]),e.exports=t},198:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(22),i=n(175),s=(n(262),n(24));const l={offset:0,size:0,maxSize:0,total:0,totalPages:0,next:()=>{},previous:()=>{},setSize:e=>{},setMaxSize:e=>{},setPage:e=>{},setTotalPages:e=>{}},c=Object(a.createContext)(l),u=({total:e,children:t})=>{const[n,o]=Object(a.useState)(l.offset),[i,s]=Object(a.useState)(l.size),[u,d]=Object(a.useState)(l.maxSize),[m,p]=Object(a.useState)(l.totalPages),h=Object(a.useCallback)((()=>{o(e?((e,t,n)=>n<=e+t?e:e+t)(n,i,e):n+i)}),[n,i,o]),f=Object(a.useCallback)((()=>{o(((e,t)=>Math.max(e-t,0))(n,i))}),[n,i,o]),g=Object(a.useCallback)((t=>{o(((e,t,n)=>Math.min(Math.max(0,(e-1)*t),n-1))(t,u,e))}),[n,u,o]);return r.a.createElement(c.Provider,{value:{offset:n,size:i,maxSize:u,total:e,totalPages:m,next:h,previous:f,setSize:s,setMaxSize:d,setPage:g,setTotalPages:p}},t)};var d=n(3);var m=()=>{const{offset:e,size:t,total:n,totalPages:o,setPage:i}=Object(a.useContext)(c);return r.a.createElement("div",{className:"visualization--simple-table--paging"},n&&t>0&&r.a.createElement(d.PaginationNav.PaginationNav,{totalPages:o,currentPage:Math.min(Math.floor(e/t)+1,o),pageRangeOffset:1,onChange:i}))};var p=({table:e})=>{const t=Object.values(e.cols).map((t=>"table"===t.name?r.a.createElement(d.Table.HeaderCell,{key:"htable",verticalAlignment:d.VerticalAlignment.Top,style:{textTransform:"none"}},"table",r.a.createElement("label",null,e.yield)):r.a.createElement(d.Table.HeaderCell,{key:`h${t.name}`,style:{textTransform:"none"}},t.name,r.a.createElement("label",null,t.group?"group":"no group"),r.a.createElement("label",null,t.fluxDataType)))),n=Array(e.end-e.start).fill(null).map(((t,n)=>{const a=Object.values(e.cols).map((e=>{let t=e.data[n];return t&&"time"===e.type&&(t=new Date(t).toISOString()),t&&"boolean"===e.type&&(t=t?"true":"false"),r.a.createElement(d.Table.Cell,{key:`h${e.name}:r${n}`,testID:`table-cell ${e.data[n]}`},null==t?void 0:t.toString())}));return r.a.createElement(d.Table.Row,{key:`r${n}`},a)}));return r.a.createElement(d.Table,{fontSize:d.ComponentSize.Small,striped:!0,highlight:!0,testID:"simple-table"},r.a.createElement(d.Table.Header,null,r.a.createElement(d.Table.Row,null,t)),r.a.createElement(d.Table.Body,null,n))};const h=(e,t,n)=>{if(0===n)return 0;let a,r,o,i=14,s=t;for(;s<e.table.length;)if(e.table.columns.table.data[s]===a){if(i+=25,i>=n)break;s++}else{if(o=Object.values(e.table.columns).map((t=>`${t.name}::${t.fluxDataType}::${e.fluxGroupKeyUnion.includes(t.name)}`)).join("|"),o!==r){if(i+=51,void 0!==a&&(i+=10),i>=n)break;r=o}a=e.table.columns.table.data[s]}return Math.max(0,s-t)};var f=({result:e,properties:t})=>{const{offset:n,setSize:o,maxSize:i,setMaxSize:s,setPage:l,setTotalPages:u}=Object(a.useContext)(c),[m,f]=Object(a.useState)(0),g=Object(a.useRef)();Object(a.useEffect)((()=>{if(!g||!g.current)return;let e;const t=new ResizeObserver((t=>{e&&clearTimeout(e),e=setTimeout((()=>{requestAnimationFrame((()=>{f(t[0].contentRect.height)}))}),200)}));t.observe(g.current);const n=(null==g?void 0:g.current)||{},a=null==n?void 0:n.getBoundingClientRect();return a&&a.height!==m&&f(a.height),()=>{t.disconnect(),e&&clearTimeout(e)}}),[null==g?void 0:g.current]);const b=Object(a.useMemo)((()=>h(e,n,m)),[e,n,m]),v=Object(a.useMemo)((()=>((e,t,n,a)=>{const r=Object.values(e.table.columns).map((a=>Object.assign(Object.assign({},a),{group:e.fluxGroupKeyUnion.includes(a.name),data:a.data.slice(t,t+n)}))).filter((e=>!!e.data.filter((e=>void 0!==e)).length)).reduce(((e,t)=>e[t.name]?(e[t.name].push(t),e):(e[t.name]=[t],e)),{}),o=[];let i;for(let e=0;e<n;e++)`y${r.result[0].data[e]}:t${r.table[0].data[e]}`!==i&&(i=`y${r.result[0].data[e]}:t${r.table[0].data[e]}`,o.length&&(o[o.length-1].end=e),o.push({idx:r.table[0].data[e],yield:r.result[0].data[e],cols:[],signature:"",start:e,end:-1}));return o.length&&(o[o.length-1].end=n),o.reduce(((e,t)=>(t.cols=[r.table,r._measurement,r._field,r._value].filter((e=>!!e)).concat(Object.entries(r).filter((([e,t])=>!["result","table","_measurement","_field","_value"].includes(e)&&(a||!["_start","_stop"].includes(e)))).sort(((e,t)=>e[0].toLowerCase().localeCompare(t[0].toLowerCase()))).map((e=>e[1]))).map((e=>e.map((e=>Object.assign(Object.assign({},e),{data:e.data.slice(t.start,t.end)}))).filter((e=>!!e.data.filter((e=>void 0!==e)).length)))).reduce(((e,t)=>t.length?(e[t[0].name]=t[0],e):e),{}),t.signature=Object.values(t.cols).map((e=>`${e.name}::${e.fluxDataType}::${e.group}`)).join("|"),e.push(t),e)),[]).reduce(((e,t)=>{const n=e[e.length-1];return n&&t.yield===n.yield&&t.signature===n.signature?(Object.values(n.cols).forEach((e=>{n.cols[e.name]=Object.assign(Object.assign({},e),{data:[...e.data,...t.cols[e.name].data]})})),n.end=t.end,e):(e.push(t),e)}),[])})(e,n,b,t.showAll)),[e,n,b]);Object(a.useEffect)((()=>{o(b)}),[b]),Object(a.useEffect)((()=>{s(h(e,0,m))}),[m,e]),Object(a.useEffect)((()=>{l(1)}),[e]),Object(a.useEffect)((()=>{var t,n;i&&u(Math.ceil((null!==(n=null===(t=null==e?void 0:e.table)||void 0===t?void 0:t.length)&&void 0!==n?n:0)/i))}),[i,e]);const y=!!b&&v.map(((e,t)=>r.a.createElement(p,{table:e,key:`table${t}`})));return r.a.createElement("div",{className:"visualization--simple-table--results",ref:g},r.a.createElement(d.DapperScrollbars,{noScrollY:!0},y))};t.a=({properties:e,result:t})=>{var n;if(Object(s.c)("useGiraffeGraphs")){const n={fluxResponse:Object(i.a)(t).tableData.join("\n"),layers:[{type:"simple table",showAll:e.showAll}]};return r.a.createElement(o.Plot,{config:n})}return r.a.createElement("div",{className:"visualization--simple-table","data-testid":"simple-table"},r.a.createElement(u,{total:(null===(n=null==t?void 0:t.table)||void 0===n?void 0:n.length)||0},r.a.createElement(f,{properties:e,result:t}),r.a.createElement(m,null)))}},199:function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return F})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return P}));var a=n(375),r=n(25),o=n(13),i=n(12),s=n(378),l=n(62),c=n(224),u=n(115),d=n(9);var m=n(75),p=n(26);const h=e=>{const{alertBuilder:t}=e,n=v(e);return b(t),"threshold"===n.type?g(t,n):"deadman"===n.type?f(t,n):"custom"===n.type?Object.assign(Object.assign({},n),{status:n.activeStatus}):void 0},f=(e,t)=>{const{every:n,level:a,offset:r,reportZero:o,staleTime:i,statusMessageTemplate:s,tags:l,timeSince:c,activeStatus:u}=e;if(!Object(m.e)(c)||!Object(m.e)(i))throw new Error("Duration fields must contain valid duration");return Object.assign(Object.assign({},t),{every:n,level:a,offset:r,reportZero:o,staleTime:i,statusMessageTemplate:s,tags:l,timeSince:c,status:u})},g=(e,t)=>{const{activeStatus:n,every:a,offset:r,statusMessageTemplate:o,tags:i,thresholds:s}=e;return(e=>{e.forEach((e=>{if("greater"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("lesser"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("range"===e.type&&(isNaN(e.min)||isNaN(e.min)))throw new Error("Threshold must have defined min and max values")}))})(s),Object.assign(Object.assign({},t),{every:a,offset:r,statusMessageTemplate:o,tags:i,thresholds:s,status:n})},b=e=>{if(!Object(m.e)(e.offset))throw new Error("Check offset must be a valid duration");if(!Object(m.e)(e.every))throw new Error("Check every must be a valid duration")},v=e=>{const{type:t,id:n,status:a,activeStatus:r,name:o}=e.alertBuilder,{draftQueries:i}=Object(p.d)(e),{id:s}=Object(d.a)(e);return{id:n,type:t,status:a,activeStatus:r,name:o,query:i[0],orgID:s,labels:[]}};var y=n(11),x=n(64),E=n(10),w=n(37),S=n(59),k=n(423),C=n(36),O=n(90),D=n(5),T=n(99),j=n(74);const I=()=>async(e,t)=>{try{const n=t();Object(y.h)(n,D.ResourceType.Checks)===D.RemoteDataState.NotStarted&&e(Object(k.h)(D.RemoteDataState.Loading));const{id:a}=Object(d.a)(n),o=await i.getChecks({query:{orgID:a,limit:j.c}});if(200!==o.status)throw new Error(o.data.message);const l=Object(r.a)(o.data.checks,s.a);e(Object(k.h)(D.RemoteDataState.Done,l)),e(Object(C.c)())}catch(t){console.error(t),e(Object(k.h)(D.RemoteDataState.Error)),e(Object(E.c)(o.Nb(t.message)))}},N=e=>async(t,n)=>{const l=Object(d.a)(n());try{t(Object(S.h)(D.RemoteDataState.Loading));const n=await i.getCheck({checkID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data,o=Object(r.a)(n.data,s.b),l=o.entities.checks[o.result],c=Object(u.a)(l.type);c.properties.queries=[l.query],t(Object(w.l)("alerting",{view:c,activeTab:"custom"===a.type?"customCheckQuery":"alerting"})),t(Object(S.g)(l))}catch(e){console.error(e),t(Object(a.e)(`/orgs/${l.id}/alerting`)),t(Object(S.h)(D.RemoteDataState.Error)),t(Object(E.c)(o.Mb(e.message)))}},R=()=>async(e,t)=>{const n="Please rename the check before saving";try{const o=t(),l=h(o),c=await i.postCheck({data:l});if(201!==c.status){if(c.data.code.includes("conflict"))throw new Error(`A check named ${l.name} already exists. ${n}`);throw new Error(c.data.message)}const u=Object(r.a)(c.data,s.b);e(Object(k.g)(c.data.id,D.RemoteDataState.Done,u)),e(Object(C.c)()),e(Object(a.e)(`/orgs/${l.orgID}/alerting`)),e(Object(S.f)())}catch(a){console.error(a);const r=Object(x.a)(a);e(Object(E.c)(o.ab(r))),r.includes(n)||Object(c.b)(a,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}},A=()=>async(e,t)=>{const n=t(),l=h(n);try{const t=await i.getCheck({checkID:l.id});if(200!==t.status)throw new Error(t.data.message);const n=await i.putCheck({checkID:l.id,data:Object.assign(Object.assign({},l),{ownerID:t.data.ownerID})});if(200!==n.status)throw new Error(n.data.message);const o=Object(r.a)(n.data,s.b);e(Object(k.g)(n.data.id,D.RemoteDataState.Done,o)),e(Object(C.c)()),e(Object(a.e)(`/orgs/${l.orgID}/alerting`)),e(Object(S.f)())}catch(n){console.error(n),e(Object(E.c)(o.Ld(n.message))),Object(c.b)(n,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}},F=(e,t)=>async n=>{try{const a=await i.patchCheck({checkID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const o=Object(r.a)(a.data,s.b);n(Object(k.g)(e,D.RemoteDataState.Done,o))}catch(e){console.error(e)}},_=e=>async t=>{try{const n=await i.deleteCheck({checkID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(k.e)(e)),t(Object(C.c)())}catch(e){console.error(e),t(Object(E.c)(o.wb(e.message)))}},M=(e,t)=>async n=>{try{const a=await i.postChecksLabel({checkID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const o=Object(r.a)(a.data.label,T.b);n(Object(O.g)(e,o))}catch(e){console.error(e)}},L=(e,t)=>async n=>{try{const a=await i.deleteChecksLabel({checkID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(k.f)(e,t))}catch(e){console.error(e)}},P=e=>async(t,n)=>{try{const a=n(),o=Object(y.a)(a,D.ResourceType.Checks).map((e=>e.name)),c=Object(l.a)(o,e.name),u=(e=>{const t=e.activeStatus;return delete e.activeStatus,Object.assign(Object.assign({},e),{status:t})})(Object.assign(Object.assign({},e),{name:c})),d=await i.postCheck({data:u});if(201!==d.status)throw new Error(d.data.message);const m=Object(r.a)(d.data,s.b);t(Object(k.g)(d.data.id,D.RemoteDataState.Done,m)),t(Object(C.c)())}catch(e){console.error(e),t(Object(E.c)(o.ab(e.message)))}}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(2),r=(n(75),n(108)),o=n(23),i=n(8);const s=(e,t)=>{const n=Object(a.useMemo)((()=>Object(o.g)(e)),[e]);return Object(a.useMemo)((()=>{const e=Object(i.flatMap)(t||[],(e=>[e.value,e.min,e.max])).filter((e=>null!=e)).concat(n);return Object(o.g)(e)}),[n,t])},l=(e,t)=>{const n=s(e,t),[a,o]=Object(r.a)(n);return[a,o,()=>o(n)]}},203:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(358),r=n(359);n(156),n(153);const o=e=>new Uint8Array(e),i=(e,t,n)=>new Uint8Array(e,t,n),s=e=>new Uint8Array(e),l=r.b?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=a.b(e[n]);return btoa(t)}:t=>e.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),c=r.b?e=>{const t=atob(e),n=o(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}:t=>{const n=e.from(t,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)},u=e=>{const t=o(e.byteLength);return t.set(e),t}}).call(this,n(604).Buffer)},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"h",(function(){return h}));const a=1,r=2,o=4,i=8,s=32,l=64,c=128,u=31,d=63,m=127,p=255,h=2147483647},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));n(269);var a=n(270);const r=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&r(e,t,n+1)}},o=()=>{},i=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!i(e.get(n),t.get(n)))return!1;break;case Object:if(a.c(e)!==a.c(t))return!1;for(const n in e)if(!a.b(e,n)||!i(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;break;default:return!1}return!0}},206:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n(25),r=n(55),o=n(5),i=n(402),s=n(10),l=n(13),c=n(9),u=n(11);let d,m,p,h;n(6).f||(d=n(12).getScrapers,m=n(12).deleteScraper,p=n(12).postScraper,h=n(12).patchScraper);const f=()=>async(e,t)=>{try{const n=t();Object(u.h)(n,o.ResourceType.Scrapers)===o.RemoteDataState.NotStarted&&e(Object(i.h)(o.RemoteDataState.Loading));const s=Object(c.a)(n);e(Object(i.h)(o.RemoteDataState.Loading));const l=await d({query:{orgID:s.id}});if(200!==l.status)throw new Error(l.data.message);const m=l.data.configurations,p=Object(a.a)(m,r.f);e(Object(i.h)(o.RemoteDataState.Done,p))}catch(t){console.error(t),e(Object(i.h)(o.RemoteDataState.Error))}},g=e=>async t=>{try{const n=await p({data:e});if(201!==n.status)throw new Error(n.data.message);const{data:o}=n,c=Object(a.a)(o,r.o);t(Object(i.e)(c)),t(Object(s.c)(Object(l.gd)()))}catch(e){console.error(e),t(Object(s.c)(Object(l.fd)()))}},b=e=>async t=>{try{const n=await h({scraperTargetID:e.id,data:e});if(200!==n.status)throw new Error(n.data.message);const{data:o}=n,c=Object(a.a)(o,r.o);t(Object(i.f)(c)),t(Object(s.c)(Object(l.kd)(e.name)))}catch(n){console.error(n),t(Object(s.c)(Object(l.jd)(e.name)))}},v=e=>async t=>{try{await m({scraperTargetID:e.id}),t(Object(i.g)(e.id)),t(Object(s.c)(Object(l.id)(e.name)))}catch(n){console.error(n),t(Object(s.c)(Object(l.hd)(e.name)))}}},207:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),o=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&o.includes("json")?JSON.stringify(n.data):n.data,s=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,s,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let f;return f=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,f)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a(((e,t,n)=>({url:e,query:t,init:n})),((e,t,n)=>({status:e,headers:t,data:n}))),o=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t)=>{const n=new URLSearchParams({});if((null==e?void 0:e.startTime)&&n.append("startTime",e.startTime),(null==e?void 0:e.endTime)&&n.append("endTime",e.endTime),null==e?void 0:e.stream){const a="delete"===t?"stream":"streamIncludes";n.append(a,e.stream)}return(null==e?void 0:e.stickers)&&Object.keys(e.stickers).forEach((t=>{n.append(`stickerIncludes[${t}]`,e.stickers[t])})),`${n.toString()}`}),s=async(e,t)=>{var n;const a={data:e.map((e=>Object.assign(Object.assign({},e),{startTime:new Date(e.startTime).toISOString(),endTime:new Date(e.endTime).toISOString()}))),query:{orgID:t}},r=await((e,t={})=>o("POST","/api/v2private/annotations",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(a);if(r.status>=300)throw new Error(null===(n=r.data)||void 0===n?void 0:n.message);const[{startTime:i,endTime:s,summary:l,message:c,stickers:u,stream:d}]=r.data;return[{startTime:i,endTime:s,summary:l,message:c,stickers:u,stream:d}]},l=async(e,t)=>{const n={query:{AnnotationListFilter:i({stream:t}),orgID:e}},a=await((e,t={})=>o("GET","/api/v2private/annotations",e,t))(n);if(a.status>=300)throw new Error(a.data.message);return a.data.map((e=>({stream:e.stream,annotations:e.annotations})))},c=async e=>{var t;const n={annotationID:e.id,data:e},a=await((e,t={})=>o("PUT",`/api/v2private/annotations/${e.annotationID}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.data},u=async e=>{var t;const n={annotationID:e.id},a=await((e,t={})=>o("DELETE",`/api/v2private/annotations/${e.annotationID}`,e,t))(n);if(a.status>=300)throw new Error(null===(t=a.data)||void 0===t?void 0:t.message);return a.status};var d=n(403),m=n(9);const p=()=>async(e,t)=>{const n=Object(m.a)(t()),a=await l(n.id);e(Object(d.i)(a))},h=e=>async(t,n)=>{const a=Object(m.a)(n());await s(e,a.id),p()(t,n)},f=e=>async t=>{await u(Object.assign(Object.assign({},e),{endTime:e.startTime})),t(Object(d.f)(e))},g=e=>async t=>{let{endTime:n}=e;"point"===e.type&&(n=e.startTime);const a=await c(Object.assign(Object.assign({},e),{endTime:n}));t(Object(d.g)(a))}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(2),r=n.n(a),o=n(38),i=n(110),s=n.n(i),l=n(3);var c=({message:e,testID:t})=>{const[n,o]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default,u=()=>{o(!0),setTimeout((()=>o(!1)),2e3)},d=Object(a.useRef)(null);return r.a.createElement("div",{className:"cell--view-empty error","data-testid":t},r.a.createElement("div",{ref:d},r.a.createElement("span",{className:`icon ${l.IconFont.AlertTriangle} empty-graph-error--icon`}),r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheRight,triggerRef:d,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"emptygraph-popover",contents:()=>r.a.createElement("pre",null,r.a.createElement(s.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:u,className:"empty-graph-error--copy"})),r.a.createElement("code",null,e))})))};var u=({message:e,testID:t})=>{const[n,o]=Object(a.useState)(!1),i=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default;return r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("div",{className:"empty-graph-error","data-testid":"empty-graph-error"},r.a.createElement(s.a,{text:e},r.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:i,text:i,onClick:()=>{o(!0),setTimeout((()=>o(!1)),2e3)},className:"empty-graph-error--copy"})),r.a.createElement(l.DapperScrollbars,{className:"empty-graph-error--scroll",autoHide:!0},r.a.createElement("pre",null,r.a.createElement(l.Icon,{glyph:l.IconFont.AlertTriangle}),r.a.createElement("code",{className:"cell--error-message"}," ",e)))))},d=n(246),m=n(8);const p=Object(m.sample)(["Looks like you don’t have any queries. Be a lot cooler if you did!","Create a query. Go on!","Create a query. Have fun!"]);var h,f=n(5);!function(e){e.Tooltip="tooltip",e.Scroll="scroll"}(h||(h={}));class g extends a.PureComponent{render(){const{errorMessage:e,isInitialFetch:t,loading:n,queries:a,fallbackNote:i,hasResults:s,errorFormat:l}=this.props;if(n===f.RemoteDataState.NotStarted||a&&!a.length)return r.a.createElement(o.a,{message:p,testID:"empty-graph--no-queries"});if(e){if(l===h.Tooltip)return r.a.createElement(c,{message:e,testID:"empty-graph--error"});if(l===h.Scroll)return r.a.createElement(u,{message:e,testID:"empty-graph--error"})}return!t&&s||n!==f.RemoteDataState.Loading?!s&&i?r.a.createElement(d.a,{text:i}):s?this.props.children:r.a.createElement(o.a,{message:"No Results",testID:"empty-graph--no-results"}):r.a.createElement(o.a,{message:""})}}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(94);const a=Date.now},210:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return w}));var a=n(25),r=n(12),o=n(132),i=n(55),s=n(118),l=n(10),c=n(191),u=n(222),d=n(142),m=n(13),p=n(5),h=n(73),f=n.n(h),g=(n(128),n(20));const b=e=>e.reduce(((e,t)=>{const{distribution:n,mostCommonCount:a}=e;return n[t]=(n[t]||0)+1,n[t]>a?{distribution:n,mostCommonCount:n[t],mostCommonValue:t}:e}),{distribution:{},mostCommonCount:0,mostCommonValue:null}).mostCommonValue;var v=n(11);const y=(e,t,n)=>async a=>{try{await Promise.all([Object(r.deleteDashboardsCell)({dashboardID:e,cellID:t})]),a(Object(s.f)(n)),a(Object(u.d)({dashboardID:e,id:t})),a(Object(l.c)(m.N()))}catch(e){console.error(e)}},x=(e,t,n,h,y,x)=>async(E,w)=>{const S=w();let k=t,C=Object(v.f)(S,p.ResourceType.Dashboards,e);try{if(!C){const t=await Object(r.getDashboard)({dashboardID:e});if(200!==t.status)throw new Error(t.data.message);const n=Object(a.a)(t.data,i.k),{entities:o,result:s}=n;C=o.dashboards[s],x||E(Object(c.setDashboard)(t.data.id,p.RemoteDataState.Done,n))}const l=((e,t,n,a)=>{var r,o;const i=g.C.has(null==a?void 0:a.type),s={id:f.a.v4(),x:0,y:0,h:i&&(null===(o=null===(r=a)||void 0===r?void 0:r.staticLegend)||void 0===o?void 0:o.show)?g.r:4,w:4,links:{self:"",view:"",copy:""},status:p.RemoteDataState.Done},l=t.cells.map((t=>e.resources.cells.byID[t])).filter((e=>!!e));if(!l.length)return s;const c=l.map((e=>e.w)),u=l.map((e=>e.h)),d=b(c);let m=b(u);if(i){const{staticLegend:e}=a;e.show&&(m=Math.max(g.r,m))}let h=Object.assign(Object.assign({},s),{w:d,h:m});return n&&(h=Object.assign(Object.assign({},s),{w:n.w,h:n.h,x:n.x,y:n.y})),h})(S,C,n,null==t?void 0:t.properties),m=await Object(r.postDashboardsCell)({dashboardID:e,data:l});if(201!==m.status)throw new Error(m.data.message);const v=m.data.id;n&&!x&&(k=Object.assign(Object.assign({},k),{name:`${t.name} (Clone)`})),y&&E(Object(d.d)(e,y));const w=await Object(o.c)(e,v,k),O=Object(a.a)(Object.assign(Object.assign({},m.data),{dashboardID:e}),i.j),D=Object(a.a)(w,i.p);E(Object(u.e)(v,p.RemoteDataState.Done,O)),E(Object(s.h)(v,p.RemoteDataState.Done,D)),h&&h(e)}catch(e){throw E(Object(l.c)(m.K(e.message))),e}},E=(e,t,n,o,s)=>async u=>{try{const d={orgID:e,name:t,cells:[]},h=await Object(r.postDashboard)({data:d});if(201!==h.status)throw new Error(h.data.message);const f=Object(a.a)(h.data,i.k);await u(Object(c.setDashboard)(h.data.id,p.RemoteDataState.Done,f)),await u(x(h.data.id,n,null,null,s)),u(Object(l.c)(m.mb())),o&&o(h.data.id)}catch(e){throw console.error(e),u(Object(l.c)(m.K(e.message))),e}},w=(e,t)=>async n=>{try{const o=await Object(r.putDashboardsCells)({dashboardID:e,data:t});if(201!==o.status)throw new Error(o.data.message);const s=t.map((t=>Object.assign(Object.assign({},t),{dashboardID:e}))),l=Object(a.a)(s,i.b);n(Object(u.f)(e,p.RemoteDataState.Done,l))}catch(e){n(Object(l.c)(m.O())),console.error(e)}}},215:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(5),r=n(11),o=n(72);const i=(e,t)=>{const n=Object(r.f)(e,a.ResourceType.Dashboards,t),o=new Set(n.cells.map((e=>e)));return Object.values(e.resources.views.byID).filter((e=>e&&o.has(e.cellID)))},s=(e,t)=>{const n=Object(r.f)(e,a.ResourceType.Views,t);return n.properties&&"timeFormat"in n.properties&&""!==n.properties.timeFormat?n.properties.timeFormat:o.a}},216:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));const a=e=>({type:"SET_IS_PREVIEWING",payload:{isPreviewing:e}}),r=()=>({type:"TOGGLE_SHOW_NOTE_WHEN_EMPTY"}),o=e=>({type:"SET_NOTE",payload:{note:e}}),i=()=>({type:"RESET_NOTE_STATE"}),s=e=>({type:"SET_NOTE_STATE",payload:e})},218:function(e,t,n){var a=n(335);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(75);const l=e=>e?i.ComponentStatus.Disabled:i.ComponentStatus.Default;var c=({selectedDuration:e,onSelectDuration:t,durations:n,disabled:a=!1})=>{let o=n,c=n.find((t=>e===t.duration||Object(s.a)(e,t.duration)));return c||(c={duration:e,displayText:e},o=[c,...o]),r.a.createElement(i.Dropdown,{testID:"duration-selector",button:(e,t)=>r.a.createElement(i.Dropdown.Button,{testID:"duration-selector--button",active:e,onClick:t,status:l(a)},c.displayText),menu:n=>r.a.createElement(i.Dropdown.Menu,{onCollapse:n,testID:"duration-selector--menu"},o.map((({duration:n,displayText:a})=>r.a.createElement(i.Dropdown.Item,{id:n,key:n,value:n,testID:`duration-selector--${n}`,selected:n===e,onClick:t},a))))})},u=n(43),d=n(475);const m=2592e3,p=Object(d.a)(m),h=[{duration:"1h",displayText:"1 hour"},{duration:"6h",displayText:"6 hours"},{duration:"12h",displayText:"12 hours"},{duration:"24h",displayText:"24 hours"},{duration:"48h",displayText:"48 hours"},{duration:"72h",displayText:"72 hours"},{duration:"7d",displayText:"7 days"},{duration:"14d",displayText:"14 days"},{duration:"30d",displayText:"30 days"},{duration:"90d",displayText:"90 days"},{duration:"1y",displayText:"1 year"}];class f extends a.PureComponent{constructor(){super(...arguments),this.handleRadioClick=e=>{this.props.onChangeRuleType(e)},this.handleSelectDuration=e=>{const t=Object(s.c)(Object(s.h)(e))/1e3;this.props.onChangeRetentionRule(t)}}render(){const{retentionSeconds:e,maxRetentionSeconds:t,type:n}=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit,className:"retention--radio"},r.a.createElement(i.SelectGroup.Option,{name:"bucket-retention",id:"never",testID:"retention-never--button",active:null===n,onClick:this.handleRadioClick,value:null,titleText:"Never delete data",disabled:!!t},"Never"),r.a.createElement(i.SelectGroup.Option,{name:"bucket-retention",id:"intervals",active:"expire"===n,onClick:this.handleRadioClick,value:"expire",testID:"retention-intervals--button",titleText:"Delete data older than a duration"},"Older Than")),"expire"===n&&r.a.createElement(c,{selectedDuration:`${e}s`,onSelectDuration:this.handleSelectDuration,durations:this.durations}))}get durations(){const{maxRetentionSeconds:e}=this.props;return e?h.filter((({duration:t})=>Object(s.c)(Object(s.h)(t))<=1e3*e)):h}}t.c=Object(o.c)((e=>({maxRetentionSeconds:Object(u.c)(e)})))(f)},225:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({text:e,className:t})=>r.a.createElement("div",{className:`waiting-text ${t||""}`},e)},228:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));n(8);var a=n(25),r=n(12),o=n(55),i=n(5),s=n(404),l=n(10),c=n(13),u=n(9),d=n(11);const m=()=>async(e,t)=>{try{const n=t();Object(d.h)(n,i.ResourceType.Members)===i.RemoteDataState.NotStarted&&e(Object(s.f)(i.RemoteDataState.Loading));const{id:l}=Object(u.a)(n),[c,m]=await Promise.all([r.getOrgsOwners({orgID:l}),r.getOrgsMembers({orgID:l})]);if(200!==c.status)throw new Error(c.data.message);if(200!==m.status)throw new Error(m.data.message);const p=c.data.users,h=m.data.users,f=[...p,...h],g=Object(a.a)(f,o.d);e(Object(s.f)(i.RemoteDataState.Done,g))}catch(t){console.error(t),e(Object(s.f)(i.RemoteDataState.Error))}},p=e=>async(t,n)=>{try{const{id:a}=Object(u.a)(n()),o=await r.deleteOrgsMember({orgID:a,userID:e.id});if(204!==o.status)throw new Error(o.data.message);t(Object(s.e)(e.id)),t(Object(l.c)(Object(c.yc)(e.name)))}catch(n){console.error(n),t(Object(l.c)(Object(c.xc)(e.name)))}}},229:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"b",(function(){return C}));var a=n(25),r=n(13),o=n(12),i=n(381),s=n(99),l=n(10),c=n(424),u=n(36),d=n(90),m=n(245),p=n(9),h=n(11),f=n(62),g=n(5),b=n(74);const v=()=>async(e,t)=>{try{const n=t();Object(h.h)(n,g.ResourceType.NotificationRules)===g.RemoteDataState.NotStarted&&e(Object(c.j)(g.RemoteDataState.Loading));const{id:r}=Object(p.a)(n),s=await o.getNotificationRules({query:{orgID:r,limit:b.d}});if(200!==s.status)throw new Error(s.data.message);const l=Object(a.a)(s.data.notificationRules,i.a);e(Object(c.j)(g.RemoteDataState.Done,l)),e(Object(u.f)())}catch(t){console.error(t),e(Object(c.j)(g.RemoteDataState.Error)),e(Object(l.c)(r.Vb(t.message)))}},y=e=>async t=>{const n=Object(m.d)(e);try{const e=await o.postNotificationRule({data:n});if(201!==e.status)throw new Error(e.data.message);const r=Object(a.a)(e.data,i.b);t(Object(c.i)(e.data.id,g.RemoteDataState.Done,r)),t(Object(u.f)())}catch(e){console.error(e)}},x=e=>async t=>{if(""==e.offset)throw new Error("Notification Rule offset field can not be empty");if(""==e.every)throw new Error("Notification Rule every field can not be empty");t(Object(c.i)(e.id,g.RemoteDataState.Loading));try{const n=await o.putNotificationRule({ruleID:e.id,data:Object(m.d)(e)});if(200!==n.status)throw new Error(n.data.message);const r=Object(a.a)(n.data,i.b);t(Object(c.i)(e.id,g.RemoteDataState.Done,r))}catch(e){console.error(e)}},E=(e,t)=>async n=>{try{const r=await o.patchNotificationRule({ruleID:e,data:t});if(200!==r.status)throw new Error(r.data.message);const s=Object(a.a)(r.data,i.b);n(Object(c.i)(e,g.RemoteDataState.Done,s))}catch(e){console.error(e)}},w=e=>async t=>{try{const n=await o.deleteNotificationRule({ruleID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(c.g)(e)),t(Object(u.f)())}catch(e){console.error(e)}},S=(e,t)=>async n=>{try{const r=await o.postNotificationRulesLabel({ruleID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const i=Object(a.a)(r.data.label,s.b);n(Object(d.g)(e,i))}catch(e){console.error(e)}},k=(e,t)=>async n=>{try{const a=await o.deleteNotificationRulesLabel({ruleID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(c.f)(e,t))}catch(e){console.error(e)}},C=e=>async(t,n)=>{try{const r=n(),s=Object(h.a)(r,g.ResourceType.NotificationRules),l=Object(m.d)(e),d=s.map((e=>e.name)),p=Object(f.a)(d,l.name),b=await o.postNotificationRule({data:Object.assign(Object.assign({},l),{name:p})});if(201!==b.status)throw new Error(b.data.message);const v=Object(a.a)(b.data,i.b);t(Object(c.i)(b.data.id,g.RemoteDataState.Done,v)),t(Object(u.f)())}catch(e){console.error(e),t(Object(l.c)(r.db(e.message)))}}},232:function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return k}));var a=n(25),r=n(10),o=n(36),i=n(425),s=n(90),l=n(380),c=n(99),u=n(12),d=n(62),m=n(9),p=n(11);const h=e=>Object.assign(Object.assign({},e),{status:e.activeStatus});var f=n(13),g=n(5);const b=()=>async(e,t)=>{try{const n=t();Object(p.h)(n,g.ResourceType.NotificationEndpoints)===g.RemoteDataState.NotStarted&&e(Object(i.h)(g.RemoteDataState.Loading));const{id:r}=Object(m.a)(n),s=await u.getNotificationEndpoints({query:{orgID:r}});if(200!==s.status)throw new Error(s.data.message);const c=Object(a.a)(s.data.notificationEndpoints,l.a);e(Object(i.h)(g.RemoteDataState.Done,c)),e(Object(o.e)())}catch(t){console.error(t),e(Object(r.c)(f.Pb(t.message))),e(Object(i.h)(g.RemoteDataState.Error))}},v=e=>async t=>{const n=h(e);try{const e=await u.postNotificationEndpoint({data:n});if(201!==e.status)throw new Error(e.data.message);const r=Object(a.a)(e.data,l.b);t(Object(i.g)(e.data.id,g.RemoteDataState.Done,r)),t(Object(o.e)())}catch(e){console.error(e),t(Object(r.c)(f.bb(e.message)))}},y=e=>async t=>{t(Object(i.g)(e.id,g.RemoteDataState.Loading));const n=h(e);try{const r=await u.putNotificationEndpoint({endpointID:e.id,data:n});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,l.b);t(Object(i.g)(e.id,g.RemoteDataState.Done,o))}catch(n){console.error(n),t(Object(i.g)(e.id,g.RemoteDataState.Error))}},x=(e,t)=>async n=>{n(Object(i.g)(e,g.RemoteDataState.Loading));try{const r=await u.patchNotificationEndpoint({endpointID:e,data:t});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,l.b);n(Object(i.g)(e,g.RemoteDataState.Done,o))}catch(t){n(Object(r.c)(f.Md(t.message))),n(Object(i.g)(e,g.RemoteDataState.Error))}},E=e=>async t=>{try{const n=await u.deleteNotificationEndpoint({endpointID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(i.e)(e)),t(Object(o.e)())}catch(e){t(Object(r.c)(f.xb(e.message)))}},w=(e,t)=>async n=>{try{const r=await u.postNotificationEndpointsLabel({endpointID:e,data:{labelID:t.id}});if(201!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data.label,c.b);n(Object(s.g)(e,o))}catch(e){console.error(e)}},S=(e,t)=>async n=>{try{const a=await u.deleteNotificationEndpointsLabel({endpointID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(i.f)(e,t))}catch(e){console.error(e)}},k=e=>async(t,n)=>{try{const r=n(),s=Object(p.a)(r,g.ResourceType.NotificationEndpoints).map((e=>e.name)),c=Object(d.a)(s,e.name),m=await u.postNotificationEndpoint({data:Object.assign(Object.assign({},h(e)),{name:c})});if(201!==m.status)throw new Error(m.data.message);const f=Object(a.a)(m.data,l.b);t(Object(i.g)(m.data.id,g.RemoteDataState.Done,f)),t(Object(o.e)())}catch(e){console.error(e),t(Object(r.c)(f.bb(e.message)))}}},235:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(226),r=n(72);const o={[r.a]:{format:"yyyy-MM-dd H:mm:ss",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/},"YYYY-MM-DD":{format:"yyyy-MM-dd",regex:/\d{4}-\d{2}-\d{2}/},"YYYY-MM-DD HH:mm":{format:"yyyy-MM-dd H:mm",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/},"YYYY-MM-DD HH:mm:ss.sss":{format:"yyyy-MM-dd H:mm:ss.SSS",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3}/},"YYYY-MM-DD hh:mm:ss a ZZ":{format:"yyyy-MM-dd h:mm:ss a ZZZ",regex:/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"DD/MM/YYYY HH:mm:ss.sss":{format:"dd/MM/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"DD/MM/YYYY hh:mm:ss.sss a":{format:"dd/MM/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MM/DD/YYYY HH:mm:ss.sss":{format:"MM/dd/yyyy H:mm:ss.SSS",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3}/},"MM/DD/YYYY hh:mm:ss.sss a":{format:"MM/dd/yyyy h:mm:ss.SSS a",regex:/\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"YYYY/MM/DD HH:mm:ss":{format:"yyyy/MM/dd H:mm:ss",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/},"YYYY/MM/DD hh:mm:ss a":{format:"yyyy/MM/dd h:mm:ss a",regex:/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2} \w{2}/},"HH:mm":{format:"H:mm",regex:/\d{2}:\d{2}/},"hh:mm a":{format:"h:mm a",regex:/\d{2}:\d{2} \w{2}/},"HH:mm:ss":{format:"H:mm:ss",regex:/\d{2}:\d{2}:\d{2}/},"hh:mm:ss a":{format:"h:mm:ss a",regex:/\d{2}:\d{2}:\d{2} \w{2}/},"HH:mm:ss ZZ":{format:"h:mm:ss ZZZ",regex:/\d{2}:\d{2}:\d{2} -?\+?\d{4}/},"hh:mm:ss a ZZ":{format:"h:mm:ss a ZZZ",regex:/\d{2}:\d{2}:\d{2} \w{2} -?\+?\d{4}/},"HH:mm:ss.sss":{format:"H:mm:ss.SSS",regex:/\d{2}:\d{2}:\d{2}.\d{3}/},"hh:mm:ss.sss a":{format:"h:mm:ss.SSS a",regex:/\d{2}:\d{2}:\d{2}.\d{3} \w{2}/},"MMMM D, YYYY HH:mm:ss":{format:"LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"MMMM D, YYYY hh:mm:ss a":{format:"LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/},"dddd, MMMM D, YYYY HH:mm:ss":{format:"EEEE, LLLL d, yyyy H:mm:ss",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2}/},"dddd, MMMM D, YYYY hh:mm:ss a":{format:"EEEE, LLLL d, yyyy h:mm:ss a",regex:/[a-zA-Z]+, [a-zA-Z]+ \d{1,2}, \d{4} \d{2}:\d{2}:\d{2} \w{2}/}},i=e=>o[e].format?o[e].format:o[r.a].format,s=(e,t)=>{const n=i(t);return a.DateTime.fromFormat(e,n).isValid},l=(e,t)=>{const n=i(t);return((e,t)=>o[t].regex.test(e))(e,t)&&a.DateTime.fromFormat(e,n).isValid}},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n.n(a);const o="tooltip-portal";t.b=()=>r.a.createElement("div",{id:o})},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.replace(/&gt;/g,">").replace(/&#39;/g,"'")},238:function(e,t,n){var a=n(659);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},246:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(3),s=n(237),l=n(15),c=n(117);let u=class extends r.PureComponent{render(){const{text:e}=this.props;return o.a.createElement(i.DapperScrollbars,{className:"markdown-cell",autoHide:!0},o.a.createElement("div",{className:"markdown-cell--contents"},o.a.createElement(c.a,{text:Object(s.a)(e),className:"markdown-format"})))}};u=Object(a.a)([l.a],u),t.a=u},247:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u}));const a=["timestamp","tag","field"],r=["integer","float","boolean","string","unsigned"],o=(e="")=>(e=e.trim()).startsWith("_")||/^[0-9]/.test(e)?{valid:!1,message:"cannot start with '_' or a number"}:e.length>128?{valid:!1,message:"too long, max length is 128 characters"}:{valid:!0,message:null},i=e=>!(Array.isArray(e)&&e.length)||e.every((e=>e.valid)),s=e=>!(Array.isArray(e)&&e.length)||e.every((e=>!e.hasUpdate||e.hasUpdate&&e.valid)),l=(e,t)=>{let n=null;if(e&&(n="csv"===t?c(e):JSON.parse(e),!(e=>!!Array.isArray(e)&&e.every((e=>"name"in e&&"string"==typeof e.name&&(!(!("type"in e)||!a.includes(e.type))&&("dataType"in e?r.includes(e.dataType):"field"!==e.type)))))(n)))throw{message:"column file is not formatted correctly"};return n},c=(e,t=",")=>{const n=e.slice(0,e.indexOf("\n")).split(t);if("name"!==n[0]||"type"!==n[1]||"dataType"!==n[2])throw{message:'csv headers are not correct; they need to be : "name, type, dataType"'};return e.slice(e.indexOf("\n")+1).split("\n").map((function(e){const a=e.split(t);return n.reduce((function(e,t,n){const r=a[n];return r&&(e[t]=r.trim()),e}),{})}))},u=e=>[["name","type","dataType"],...e.map((e=>{const t=[e.name,e.type];return e.dataType?t.push(e.dataType):t.push(""),t}))].map((e=>e.join(","))).join("\n")},2519:function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var o=t.initialState;return{getState:function(){return o},dispatch:function(i,s){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o);o=e(o,{type:i,props:t,payload:s}),n({state:o,prevState:l})}}}function i(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return 0===e.collections.length?0:e.collections.reduce((function(e,t){return e+t.items.length}),0)}n.d(t,"a",(function(){return kn}));var d=0;var m=function(){};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=[];return Promise.resolve(e(t)).then((function(e){return Array.isArray(e),Promise.all(e.filter((function(e){return Boolean(e)})).map((function(e){if(e.sourceId,n.includes(e.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(e.sourceId)," is not unique."));n.push(e.sourceId);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getItemInputValue:function(e){return e.state.query},getItemUrl:function(){},onSelect:function(e){(0,e.setIsOpen)(!1)},onActive:m},e);return Promise.resolve(t)})))}))}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return Boolean(e.execute)}function A(e,t){return n=e,Boolean(null==n?void 0:n.execute)?I(I({},e),{},{requests:e.queries.map((function(n){return{query:n,sourceId:t,transformResponse:e.transformResponse}}))}):{items:e,sourceId:t};var n}function F(e){var t=e.reduce((function(e,t){if(!R(t))return e.push(t),e;var n=t.searchClient,a=t.execute,r=t.requests,o=e.find((function(e){return R(t)&&R(e)&&e.searchClient===n&&e.execute===a}));if(o){var i;(i=o.items).push.apply(i,D(r))}else{var s={execute:a,items:r,searchClient:n};e.push(s)}return e}),[]).map((function(e){if(!R(e))return Promise.resolve(e);var t=e,n=t.execute,a=t.items;return n({searchClient:t.searchClient,requests:a})}));return Promise.all(t).then((function(e){return i(e)}))}function _(e,t){return t.map((function(t){var n=e.filter((function(e){return e.sourceId===t.sourceId})),a=n.map((function(e){return e.items})),r=n[0].transformResponse,o=r?r(function(e){var t=e.map((function(e){var t;return C(C({},e),{},{hits:null===(t=e.hits)||void 0===t?void 0:t.map((function(t){return C(C({},t),{},{__autocomplete_indexName:e.index,__autocomplete_queryID:e.queryID})}))})}));return{results:t,hits:t.map((function(e){return e.hits})).filter(Boolean),facetHits:t.map((function(e){var t;return null===(t=e.facetHits)||void 0===t?void 0:t.map((function(e){return{label:e.value,count:e.count,_highlightResult:{label:{value:e.highlighted}}}}))})).filter(Boolean)}}(a)):a;return Array.isArray(o),o.every(Boolean),'The `getItems` function from source "'.concat(t.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),".\n\nDid you forget to return items?\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems"),{source:t,items:o}}))}function M(e){var t=function(e){var t=e.collections.map((function(e){return e.items.length})).reduce((function(e,t,n){var a=(e[n-1]||0)+t;return e.push(a),e}),[]).reduce((function(t,n){return n<=e.activeItemId?t+1:t}),0);return e.collections[t]}(e);if(!t)return null;var n=t.items[function(e){for(var t=e.state,n=e.collection,a=!1,r=0,o=0;!1===a;){var i=t.collections[r];if(i===n){a=!0;break}o+=i.items.length,r++}return t.activeItemId-o}({state:e,collection:t})],a=t.source;return{item:n,itemInputValue:a.getItemInputValue({item:n,state:e}),itemUrl:a.getItemUrl({item:n,state:e}),source:a}}var L=["event","nextState","props","query","refresh","store"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var q,H,V,U=null,W=(q=-1,H=-1,V=void 0,function(e){var t=++q;return Promise.resolve(e).then((function(e){return V&&t<H?V:(H=t,V=e,e)}))});function G(e){var t=e.event,n=e.nextState,a=void 0===n?{}:n,r=e.props,o=e.query,s=e.refresh,l=e.store,c=z(e,L);U&&r.environment.clearTimeout(U);var u=c.setCollections,d=c.setIsOpen,m=c.setQuery,p=c.setActiveItemId,h=c.setStatus;if(m(o),p(r.defaultActiveItemId),!o&&!1===r.openOnFocus){var f,g=l.getState().collections.map((function(e){return $($({},e),{},{items:[]})}));return h("idle"),u(g),d(null!==(f=a.isOpen)&&void 0!==f?f:r.shouldPanelOpen({state:l.getState()})),W(g).then((function(){return Promise.resolve()}))}return h("loading"),U=r.environment.setTimeout((function(){h("stalled")}),r.stallThreshold),W(r.getSources($({query:o,refresh:s,state:l.getState()},c)).then((function(e){return Promise.all(e.map((function(e){return Promise.resolve(e.getItems($({query:o,refresh:s,state:l.getState()},c))).then((function(t){return A(t,e.sourceId)}))}))).then(F).then((function(t){return _(t,e)})).then((function(e){return function(e){var t=e.collections,n=e.props,a=e.state,r=t.reduce((function(e,t){return w(w({},e),{},S({},t.source.sourceId,w(w({},t.source),{},{getItems:function(){return i(t.items)}})))}),{});return i(n.reshape({sources:Object.values(r),sourcesBySourceId:r,state:a})).filter(Boolean).map((function(e){return{source:e,items:e.getItems()}}))}({collections:e,props:r,state:l.getState()})}))}))).then((function(e){var n;h("idle"),u(e);var i=r.shouldPanelOpen({state:l.getState()});d(null!==(n=a.isOpen)&&void 0!==n?n:r.openOnFocus&&!o&&i||i);var m=M(l.getState());if(null!==l.getState().activeItemId&&m){var p=m.item,f=m.itemInputValue,g=m.itemUrl,b=m.source;b.onActive($({event:t,item:p,itemInputValue:f,itemUrl:g,refresh:s,source:b,state:l.getState()},c))}})).finally((function(){U&&r.environment.clearTimeout(U)}))}var K=["event","props","refresh","store"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var J=["props","refresh","store"],ee=["inputElement","formElement","panelElement"],te=["inputElement"],ne=["inputElement","maxLength"],ae=["item","source"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function le(e){var t=e.props,n=e.refresh,a=e.store,r=se(e,J);return{getEnvironmentProps:function(e){var n=e.inputElement,r=e.formElement,o=e.panelElement;return oe({onTouchStart:function(e){!1!==a.getState().isOpen&&e.target!==n&&(!1===[r,o].some((function(t){return n=t,a=e.target,n===a||n.contains(a);var n,a}))&&a.dispatch("blur",null))},onTouchMove:function(e){!1!==a.getState().isOpen&&n===t.environment.document.activeElement&&e.target!==n&&n.blur()}},se(e,ee))},getRootProps:function(e){return oe({role:"combobox","aria-expanded":a.getState().isOpen,"aria-haspopup":"listbox","aria-owns":a.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label")},e)},getFormProps:function(e){e.inputElement;return oe({action:"",noValidate:!0,role:"search",onSubmit:function(o){var i;o.preventDefault(),t.onSubmit(oe({event:o,refresh:n,state:a.getState()},r)),a.dispatch("submit",null),null===(i=e.inputElement)||void 0===i||i.blur()},onReset:function(o){var i;o.preventDefault(),t.onReset(oe({event:o,refresh:n,state:a.getState()},r)),a.dispatch("reset",null),null===(i=e.inputElement)||void 0===i||i.focus()}},se(e,te))},getLabelProps:function(e){return oe({htmlFor:"".concat(t.id,"-input"),id:"".concat(t.id,"-label")},e)},getInputProps:function(e){function o(e){(t.openOnFocus||Boolean(a.getState().query))&&G(oe({event:e,props:t,query:a.getState().completion||a.getState().query,refresh:n,store:a},r)),a.dispatch("focus",null)}var i="ontouchstart"in t.environment,s=e||{},l=(s.inputElement,s.maxLength),c=void 0===l?512:l,u=se(s,ne),d=M(a.getState());return oe({"aria-autocomplete":"both","aria-activedescendant":a.getState().isOpen&&null!==a.getState().activeItemId?"".concat(t.id,"-item-").concat(a.getState().activeItemId):void 0,"aria-controls":a.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label"),value:a.getState().completion||a.getState().query,id:"".concat(t.id,"-input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:null!=d&&d.itemUrl?"go":"search",spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:c,type:"search",onChange:function(e){G(oe({event:e,props:t,query:e.currentTarget.value.slice(0,c),refresh:n,store:a},r))},onKeyDown:function(e){!function(e){var t=e.event,n=e.props,a=e.refresh,r=e.store,o=X(e,K);if("ArrowUp"===t.key||"ArrowDown"===t.key){var i=function(){var e=n.environment.document.getElementById("".concat(n.id,"-item-").concat(r.getState().activeItemId));e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!1):e.scrollIntoView(!1))},s=function(){var e=M(r.getState());if(null!==r.getState().activeItemId&&e){var n=e.item,i=e.itemInputValue,s=e.itemUrl,l=e.source;l.onActive(Z({event:t,item:n,itemInputValue:i,itemUrl:s,refresh:a,source:l,state:r.getState()},o))}};t.preventDefault(),!1===r.getState().isOpen&&(n.openOnFocus||Boolean(r.getState().query))?G(Z({event:t,props:n,query:r.getState().query,refresh:a,store:r},o)).then((function(){r.dispatch(t.key,{nextActiveItemId:n.defaultActiveItemId}),s(),setTimeout(i,0)})):(r.dispatch(t.key,{}),s(),i())}else if("Escape"===t.key)t.preventDefault(),r.dispatch(t.key,null);else if("Enter"===t.key){if(null===r.getState().activeItemId||r.getState().collections.every((function(e){return 0===e.items.length})))return;t.preventDefault();var l=M(r.getState()),c=l.item,u=l.itemInputValue,d=l.itemUrl,m=l.source;if(t.metaKey||t.ctrlKey)void 0!==d&&(m.onSelect(Z({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),n.navigator.navigateNewTab({itemUrl:d,item:c,state:r.getState()}));else if(t.shiftKey)void 0!==d&&(m.onSelect(Z({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),n.navigator.navigateNewWindow({itemUrl:d,item:c,state:r.getState()}));else if(t.altKey);else{if(void 0!==d)return m.onSelect(Z({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o)),void n.navigator.navigate({itemUrl:d,item:c,state:r.getState()});G(Z({event:t,nextState:{isOpen:!1},props:n,query:u,refresh:a,store:r},o)).then((function(){m.onSelect(Z({event:t,item:c,itemInputValue:u,itemUrl:d,refresh:a,source:m,state:r.getState()},o))}))}}}(oe({event:e,props:t,refresh:n,store:a},r))},onFocus:o,onBlur:function(){i||a.dispatch("blur",null)},onClick:function(n){e.inputElement!==t.environment.document.activeElement||a.getState().isOpen||o(n)}},u)},getPanelProps:function(e){return oe({onMouseDown:function(e){e.preventDefault()},onMouseLeave:function(){a.dispatch("mouseleave",null)}},e)},getListProps:function(e){return oe({role:"listbox","aria-labelledby":"".concat(t.id,"-label"),id:"".concat(t.id,"-list")},e)},getItemProps:function(e){var o=e.item,i=e.source,s=se(e,ae);return oe({id:"".concat(t.id,"-item-").concat(o.__autocomplete_id),role:"option","aria-selected":a.getState().activeItemId===o.__autocomplete_id,onMouseMove:function(e){if(o.__autocomplete_id!==a.getState().activeItemId){a.dispatch("mousemove",o.__autocomplete_id);var t=M(a.getState());if(null!==a.getState().activeItemId&&t){var i=t.item,s=t.itemInputValue,l=t.itemUrl,c=t.source;c.onActive(oe({event:e,item:i,itemInputValue:s,itemUrl:l,refresh:n,source:c,state:a.getState()},r))}}},onMouseDown:function(e){e.preventDefault()},onClick:function(e){var s=i.getItemInputValue({item:o,state:a.getState()}),l=i.getItemUrl({item:o,state:a.getState()});(l?Promise.resolve():G(oe({event:e,nextState:{isOpen:!1},props:t,query:s,refresh:n,store:a},r))).then((function(){i.onSelect(oe({event:e,item:o,itemInputValue:s,itemUrl:l,refresh:n,source:i,state:a.getState()},r))}))}},s)}}}var ce=[{segment:"autocomplete-core",version:"1.5.0"}];function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){var t,n,a,r,o=e.plugins,i=e.options,s=null===(t=((null===(n=i.__autocomplete_metadata)||void 0===n?void 0:n.userAgents)||[])[0])||void 0===t?void 0:t.segment,l=s?me({},s,Object.keys((null===(a=i.__autocomplete_metadata)||void 0===a?void 0:a.options)||{})):{};return{plugins:o.map((function(e){return{name:e.name,options:Object.keys(e.__autocomplete_pluginOptions||[])}})),options:de({"autocomplete-core":Object.keys(i)},l),ua:ce.concat((null===(r=i.__autocomplete_metadata)||void 0===r?void 0:r.userAgents)||[])}}function he(e){var t,n=e.state;return!1===n.isOpen||null===n.activeItemId?null:(null===(t=M(n))||void 0===t?void 0:t.itemInputValue)||null}function fe(e,t,n,a){if(!n)return null;if(e<0&&(null===t||null!==a&&0===t))return n+e;var r=(null===t?-1:t)+e;return r<=-1||r>=n?null===a?null:0:r}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e,t){switch(t.type){case"setActiveItemId":case"mousemove":return be(be({},e),{},{activeItemId:t.payload});case"setQuery":return be(be({},e),{},{query:t.payload,completion:null});case"setCollections":return be(be({},e),{},{collections:t.payload});case"setIsOpen":return be(be({},e),{},{isOpen:t.payload});case"setStatus":return be(be({},e),{},{status:t.payload});case"setContext":return be(be({},e),{},{context:be(be({},e.context),t.payload)});case"ArrowDown":var n=be(be({},e),{},{activeItemId:t.payload.hasOwnProperty("nextActiveItemId")?t.payload.nextActiveItemId:fe(1,e.activeItemId,u(e),t.props.defaultActiveItemId)});return be(be({},n),{},{completion:he({state:n})});case"ArrowUp":var a=be(be({},e),{},{activeItemId:fe(-1,e.activeItemId,u(e),t.props.defaultActiveItemId)});return be(be({},a),{},{completion:he({state:a})});case"Escape":return e.isOpen?be(be({},e),{},{activeItemId:null,isOpen:!1,completion:null}):be(be({},e),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return be(be({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return be(be({},e),{},{activeItemId:!0===t.props.openOnFocus?t.props.defaultActiveItemId:null,status:"idle",query:""});case"focus":return be(be({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||Boolean(e.query))&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:be(be({},e),{},{isOpen:!1,activeItemId:null});case"mouseleave":return be(be({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}};function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=[],n=function(e,t){var n,a="undefined"!=typeof window?window:{},r=e.plugins||[];return y(y({debug:!1,openOnFocus:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,environment:a,shouldPanelOpen:function(e){return u(e.state)>0},reshape:function(e){return e.sources}},e),{},{id:null!==(n=e.id)&&void 0!==n?n:"autocomplete-".concat(d++),plugins:r,initialState:y({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(t){var n;null===(n=e.onStateChange)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onStateChange)||void 0===n?void 0:n.call(e,t)}))},onSubmit:function(t){var n;null===(n=e.onSubmit)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onSubmit)||void 0===n?void 0:n.call(e,t)}))},onReset:function(t){var n;null===(n=e.onReset)||void 0===n||n.call(e,t),r.forEach((function(e){var n;return null===(n=e.onReset)||void 0===n?void 0:n.call(e,t)}))},getSources:function(n){return Promise.all([].concat(g(r.map((function(e){return e.getSources}))),[e.getSources]).filter(Boolean).map((function(e){return f(e,n)}))).then((function(e){return i(e)})).then((function(e){return e.map((function(e){return y(y({},e),{},{onSelect:function(n){e.onSelect(n),t.forEach((function(e){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,n)}))},onActive:function(n){e.onActive(n),t.forEach((function(e){var t;return null===(t=e.onActive)||void 0===t?void 0:t.call(e,n)}))}})}))}))},navigator:y({navigate:function(e){var t=e.itemUrl;a.location.assign(t)},navigateNewTab:function(e){var t=e.itemUrl,n=a.open(t,"_blank","noopener");null==n||n.focus()},navigateNewWindow:function(e){var t=e.itemUrl;a.open(t,"_blank","noopener")}},e.navigator)})}(e,t),a=o(ye,n,(function(e){var t=e.prevState,a=e.state;n.onStateChange(Ee({prevState:t,state:a,refresh:c},r))})),r=function(e){var t=e.store;return{setActiveItemId:function(e){t.dispatch("setActiveItemId",e)},setQuery:function(e){t.dispatch("setQuery",e)},setCollections:function(e){var n=0,a=e.map((function(e){return l(l({},e),{},{items:i(e.items).map((function(e){return l(l({},e),{},{__autocomplete_id:n++})}))})}));t.dispatch("setCollections",a)},setIsOpen:function(e){t.dispatch("setIsOpen",e)},setStatus:function(e){t.dispatch("setStatus",e)},setContext:function(e){t.dispatch("setContext",e)}}}({store:a}),s=le(Ee({props:n,refresh:c,store:a},r));function c(){return G(Ee({event:new Event("input"),nextState:{isOpen:a.getState().isOpen},props:n,query:a.getState().query,refresh:c,store:a},r))}return n.plugins.forEach((function(e){var n;return null===(n=e.subscribe)||void 0===n?void 0:n.call(e,Ee(Ee({},r),{},{refresh:c,onSelect:function(e){t.push({onSelect:e})},onActive:function(e){t.push({onActive:e})}}))})),function(e){var t,n=e.metadata,a=e.environment;if(null===(t=a.navigator)||void 0===t?void 0:t.userAgent.includes("Algolia Crawler")){var r=a.document.createElement("meta"),o=a.document.querySelector("head");r.name="algolia:metadata",setTimeout((function(){r.content=JSON.stringify(n),o.appendChild(r)}),0)}}({metadata:pe({plugins:n.plugins,options:e}),environment:n.environment}),Ee(Ee({refresh:c},s),r)}var ke=n(2),Ce=n.n(ke);function Oe(e){var t=e.translations,n=(void 0===t?{}:t).searchByText,a=void 0===n?"Search by":n;return Ce.a.createElement("a",{href:"https://www.algolia.com/docsearch",target:"_blank",rel:"noopener noreferrer"},Ce.a.createElement("span",{className:"DocSearch-Label"},a),Ce.a.createElement("svg",{width:"77",height:"19"},Ce.a.createElement("path",{d:"M2.5067 0h14.0245c1.384.001 2.5058 1.1205 2.5068 2.5017V16.5c-.0014 1.3808-1.1232 2.4995-2.5068 2.5H2.5067C1.1232 18.9995.0014 17.8808 0 16.5V2.4958A2.495 2.495 0 01.735.7294 2.505 2.505 0 012.5068 0zM37.95 15.0695c-3.7068.0168-3.7068-2.986-3.7068-3.4634L34.2372.3576 36.498 0v11.1794c0 .2715 0 1.9889 1.452 1.994v1.8961zm-9.1666-1.8388c.694 0 1.2086-.0397 1.5678-.1088v-2.2934a5.3639 5.3639 0 00-1.3303-.1679 4.8283 4.8283 0 00-.758.0582 2.2845 2.2845 0 00-.688.2024c-.2029.0979-.371.2362-.4919.4142-.1268.1788-.185.2826-.185.5533 0 .5297.185.8359.5205 1.0375.3355.2016.7928.3053 1.365.3053v-.0008zm-.1969-8.1817c.7463 0 1.3768.092 1.8856.2767.5088.1838.9195.4428 1.2204.7717.3068.334.5147.7777.6423 1.251.1327.4723.196.991.196 1.5603v5.798c-.5235.1036-1.05.192-1.5787.2649-.7048.1037-1.4976.156-2.3774.156-.5832 0-1.1215-.0582-1.6016-.167a3.385 3.385 0 01-1.2432-.5364 2.6034 2.6034 0 01-.8037-.9565c-.191-.3922-.29-.9447-.29-1.5208 0-.5533.11-.905.3246-1.2863a2.7351 2.7351 0 01.8849-.9329c.376-.242.8029-.415 1.2948-.5187a7.4517 7.4517 0 011.5381-.156 7.1162 7.1162 0 011.6667.2024V8.886c0-.259-.0296-.5061-.093-.7372a1.5847 1.5847 0 00-.3245-.6158 1.5079 1.5079 0 00-.6119-.4158 2.6788 2.6788 0 00-.966-.173c-.5206 0-.9948.0634-1.4283.1384a6.5481 6.5481 0 00-1.065.259l-.2712-1.849c.2831-.0986.7048-.1964 1.2491-.2943a9.2979 9.2979 0 011.752-.1501v.0008zm44.6597 8.1193c.6947 0 1.2086-.0405 1.567-.1097v-2.2942a5.3743 5.3743 0 00-1.3303-.1679c-.2485 0-.503.0177-.7573.0582a2.2853 2.2853 0 00-.688.2024 1.2333 1.2333 0 00-.4918.4142c-.1268.1788-.1843.2826-.1843.5533 0 .5297.1843.8359.5198 1.0375.3414.2066.7927.3053 1.365.3053v.0009zm-.191-8.1767c.7463 0 1.3768.0912 1.8856.2759.5087.1847.9195.4436 1.2204.7717.3.329.5147.7786.6414 1.251a5.7248 5.7248 0 01.197 1.562v5.7972c-.3466.0742-.874.1602-1.5788.2648-.7049.1038-1.4976.1552-2.3774.1552-.5832 0-1.1215-.0573-1.6016-.167a3.385 3.385 0 01-1.2432-.5356 2.6034 2.6034 0 01-.8038-.9565c-.191-.3922-.2898-.9447-.2898-1.5216 0-.5533.1098-.905.3245-1.2854a2.7373 2.7373 0 01.8849-.9338c.376-.2412.8029-.4141 1.2947-.5178a7.4545 7.4545 0 012.325-.1097c.2781.0287.5672.081.879.156v-.3686a2.7781 2.7781 0 00-.092-.738 1.5788 1.5788 0 00-.3246-.6166 1.5079 1.5079 0 00-.612-.415 2.6797 2.6797 0 00-.966-.1729c-.5205 0-.9947.0633-1.4282.1384a6.5608 6.5608 0 00-1.065.259l-.2712-1.8498c.283-.0979.7048-.1957 1.2491-.2935a9.8597 9.8597 0 011.752-.1494zm-6.79-1.072c-.7576.001-1.373-.6103-1.3759-1.3664 0-.755.6128-1.3664 1.376-1.3664.764 0 1.3775.6115 1.3775 1.3664s-.6195 1.3664-1.3776 1.3664zm1.1393 11.1507h-2.2726V5.3409l2.2734-.3568v10.0845l-.0008.0017zm-3.984 0c-3.707.0168-3.707-2.986-3.707-3.4642L59.7069.3576 61.9685 0v11.1794c0 .2715 0 1.9889 1.452 1.994V15.0703zm-7.3512-4.979c0-.975-.2138-1.7873-.6305-2.3516-.4167-.571-.9998-.852-1.747-.852-.7454 0-1.3302.281-1.7452.852-.4166.5702-.6195 1.3765-.6195 2.3516 0 .9851.208 1.6473.6254 2.2183.4158.576.9998.8587 1.7461.8587.7454 0 1.3303-.2885 1.747-.8595.4158-.5761.6237-1.2315.6237-2.2184v.0009zm2.3132-.006c0 .7609-.1099 1.3361-.3356 1.9654a4.654 4.654 0 01-.9533 1.6076A4.214 4.214 0 0155.613 14.69c-.579.2412-1.4697.3795-1.9143.3795-.4462-.005-1.3303-.1324-1.9033-.3795a4.307 4.307 0 01-1.474-1.0316c-.4115-.4445-.7293-.9801-.9609-1.6076a5.3423 5.3423 0 01-.3465-1.9653c0-.7608.104-1.493.3356-2.1155a4.683 4.683 0 01.9719-1.5958 4.3383 4.3383 0 011.479-1.0257c.5739-.242 1.2043-.3567 1.8864-.3567.6829 0 1.3125.1197 1.8906.3567a4.1245 4.1245 0 011.4816 1.0257 4.7587 4.7587 0 01.9592 1.5958c.2426.6225.3643 1.3547.3643 2.1155zm-17.0198 0c0 .9448.208 1.9932.6238 2.431.4166.4386.955.6579 1.6142.6579.3584 0 .6998-.0523 1.0176-.1502.3186-.0978.5721-.2134.775-.3517V7.0784a8.8706 8.8706 0 00-1.4926-.1906c-.8206-.0236-1.4452.312-1.8847.8468-.4335.5365-.6533 1.476-.6533 2.3516v-.0008zm6.2863 4.4485c0 1.5385-.3938 2.662-1.1866 3.3773-.791.7136-2.0005 1.0712-3.6308 1.0712-.5958 0-1.834-.1156-2.8228-.334l.3643-1.7865c.8282.173 1.9202.2193 2.4932.2193.9077 0 1.555-.1847 1.943-.5533.388-.3686.578-.916.578-1.643v-.3687a6.8289 6.8289 0 01-.8848.3349c-.3634.1096-.786.167-1.261.167-.6246 0-1.1917-.0979-1.7055-.2944a3.5554 3.5554 0 01-1.3244-.8645c-.3642-.3796-.6541-.8579-.8561-1.4289-.2028-.571-.3068-1.59-.3068-2.339 0-.7034.1099-1.5856.3245-2.1735.2198-.5871.5316-1.0949.9542-1.515.4167-.42.9255-.743 1.5213-.98a5.5923 5.5923 0 012.052-.3855c.7353 0 1.4114.092 2.0707.2024.6592.1088 1.2204.2236 1.6776.35v8.945-.0008zM11.5026 4.2418v-.6511c-.0005-.4553-.3704-.8241-.8266-.8241H8.749c-.4561 0-.826.3688-.8265.824v.669c0 .0742.0693.1264.1445.1096a6.0346 6.0346 0 011.6768-.2362 6.125 6.125 0 011.6202.2185.1116.1116 0 00.1386-.1097zm-5.2806.852l-.3296-.3282a.8266.8266 0 00-1.168 0l-.393.3922a.8199.8199 0 000 1.164l.3237.323c.0524.0515.1268.0397.1733-.0117.191-.259.3989-.507.6305-.7372.2374-.2362.48-.4437.7462-.6335.0575-.0354.0634-.1155.017-.1687zm3.5159 2.069v2.818c0 .081.0879.1392.1622.0987l2.5102-1.2964c.0574-.0287.0752-.0987.0464-.1552a3.1237 3.1237 0 00-2.603-1.574c-.0575 0-.115.0456-.115.1097l-.0008-.0009zm.0008 6.789c-2.0933.0005-3.7915-1.6912-3.7947-3.7804C5.9468 8.0821 7.6452 6.39 9.7387 6.391c2.0932-.0005 3.7911 1.6914 3.794 3.7804a3.7783 3.7783 0 01-1.1124 2.675 3.7936 3.7936 0 01-2.6824 1.1054h.0008zM9.738 4.8002c-1.9218 0-3.6975 1.0232-4.6584 2.6841a5.359 5.359 0 000 5.3683c.9609 1.661 2.7366 2.6841 4.6584 2.6841a5.3891 5.3891 0 003.8073-1.5725 5.3675 5.3675 0 001.578-3.7987 5.3574 5.3574 0 00-1.5771-3.797A5.379 5.379 0 009.7387 4.801l-.0008-.0008z",fill:"currentColor",fillRule:"evenodd"})))}function De(e){return Ce.a.createElement("svg",{width:"15",height:"15"},Ce.a.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"},e.children))}function Te(e){var t=e.translations,n=void 0===t?{}:t,a=n.selectText,r=void 0===a?"to select":a,o=n.navigateText,i=void 0===o?"to navigate":o,s=n.closeText,l=void 0===s?"to close":s,c=n.searchByText,u=void 0===c?"Search by":c;return Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("div",{className:"DocSearch-Logo"},Ce.a.createElement(Oe,{translations:{searchByText:u}})),Ce.a.createElement("ul",{className:"DocSearch-Commands"},Ce.a.createElement("li",null,Ce.a.createElement("span",{className:"DocSearch-Commands-Key"},Ce.a.createElement(De,null,Ce.a.createElement("path",{d:"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"}))),Ce.a.createElement("span",{className:"DocSearch-Label"},r)),Ce.a.createElement("li",null,Ce.a.createElement("span",{className:"DocSearch-Commands-Key"},Ce.a.createElement(De,null,Ce.a.createElement("path",{d:"M7.5 3.5v8M10.5 8.5l-3 3-3-3"}))),Ce.a.createElement("span",{className:"DocSearch-Commands-Key"},Ce.a.createElement(De,null,Ce.a.createElement("path",{d:"M7.5 11.5v-8M10.5 6.5l-3-3-3 3"}))),Ce.a.createElement("span",{className:"DocSearch-Label"},i)),Ce.a.createElement("li",null,Ce.a.createElement("span",{className:"DocSearch-Commands-Key"},Ce.a.createElement(De,null,Ce.a.createElement("path",{d:"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"}))),Ce.a.createElement("span",{className:"DocSearch-Label"},l))))}function je(e){var t=e.hit,n=e.children;return Ce.a.createElement("a",{href:t.url},n)}function Ie(){return Ce.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Ce.a.createElement("path",{d:"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0"}))}function Ne(e){var t=e.translations,n=void 0===t?{}:t,a=n.titleText,r=void 0===a?"Unable to fetch results":a,o=n.helpText,i=void 0===o?"You might want to check your network connection.":o;return Ce.a.createElement("div",{className:"DocSearch-ErrorScreen"},Ce.a.createElement("div",{className:"DocSearch-Screen-Icon"},Ce.a.createElement(Ie,null)),Ce.a.createElement("p",{className:"DocSearch-Title"},r),Ce.a.createElement("p",{className:"DocSearch-Help"},i))}function Re(){return Ce.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Ce.a.createElement("path",{d:"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2"}))}var Ae=["translations"];function Fe(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Me(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Le(e){var t=e.translations,n=void 0===t?{}:t,a=Me(e,Ae),r=n.noResultsText,o=void 0===r?"No results for":r,i=n.suggestedQueryText,s=void 0===i?"Try searching for":i,l=n.openIssueText,c=void 0===l?"Believe this query should return results?":l,u=n.openIssueLinkText,d=void 0===u?"Let us know":u,m=a.state.context.searchSuggestions;return Ce.a.createElement("div",{className:"DocSearch-NoResults"},Ce.a.createElement("div",{className:"DocSearch-Screen-Icon"},Ce.a.createElement(Re,null)),Ce.a.createElement("p",{className:"DocSearch-Title"},o,' "',Ce.a.createElement("strong",null,a.state.query),'"'),m&&m.length>0&&Ce.a.createElement("div",{className:"DocSearch-NoResults-Prefill-List"},Ce.a.createElement("p",{className:"DocSearch-Help"},s,":"),Ce.a.createElement("ul",null,m.slice(0,3).reduce((function(e,t){return[].concat(Fe(e),[Ce.a.createElement("li",{key:t},Ce.a.createElement("button",{className:"DocSearch-Prefill",key:t,type:"button",onClick:function(){a.setQuery(t.toLowerCase()+" "),a.refresh(),a.inputRef.current.focus()}},t))])}),[]))),Ce.a.createElement("p",{className:"DocSearch-Help"},"".concat(c," "),Ce.a.createElement("a",{href:"https://github.com/algolia/docsearch-configs/issues/new?template=Missing_results.md&title=[".concat(a.indexName,']+Missing+results+for+query+"').concat(a.state.query,'"'),target:"_blank",rel:"noopener noreferrer"},d),"."))}var Pe=function(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))};function $e(e){switch(e.type){case"lvl1":return Ce.a.createElement(Pe,null);case"content":return Ce.a.createElement(ze,null);default:return Ce.a.createElement(Be,null)}}function Be(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}function ze(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M17 5H3h14zm0 5H3h14zm0 5H3h14z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function qe(){return Ce.a.createElement("svg",{className:"DocSearch-Hit-Select-Icon",width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},Ce.a.createElement("path",{d:"M18 3v4c0 2-2 4-4 4H2"}),Ce.a.createElement("path",{d:"M8 17l-6-6 6-6"})))}var He=["hit","attribute","tagName"];function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ke(e,t){return t.split(".").reduce((function(e,t){return null!=e&&e[t]?e[t]:null}),e)}function Ye(e){var t=e.hit,n=e.attribute,a=e.tagName,r=void 0===a?"span":a,o=Ge(e,He);return Object(ke.createElement)(r,Ue(Ue({},o),{},{dangerouslySetInnerHTML:{__html:Ke(t,"_snippetResult.".concat(n,".value"))||Ke(t,n)}}))}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xe.apply(this,arguments)}function Je(e){return e.collection&&0!==e.collection.items.length?Ce.a.createElement("section",{className:"DocSearch-Hits"},Ce.a.createElement("div",{className:"DocSearch-Hit-source"},e.title),Ce.a.createElement("ul",e.getListProps(),e.collection.items.map((function(t,n){return Ce.a.createElement(et,Xe({key:[e.title,t.objectID].join(":"),item:t,index:n},e))})))):null}function et(e){var t=e.item,n=e.index,a=e.renderIcon,r=e.renderAction,o=e.getItemProps,i=e.onItemClick,s=e.collection,l=e.hitComponent,c=Ze(Ce.a.useState(!1),2),u=c[0],d=c[1],m=Ze(Ce.a.useState(!1),2),p=m[0],h=m[1],f=Ce.a.useRef(null),g=l;return Ce.a.createElement("li",Xe({className:["DocSearch-Hit",t.__docsearch_parent&&"DocSearch-Hit--Child",u&&"DocSearch-Hit--deleting",p&&"DocSearch-Hit--favoriting"].filter(Boolean).join(" "),onTransitionEnd:function(){f.current&&f.current()}},o({item:t,source:s.source,onClick:function(){i(t)}})),Ce.a.createElement(g,{hit:t},Ce.a.createElement("div",{className:"DocSearch-Hit-Container"},a({item:t,index:n}),t.hierarchy[t.type]&&"lvl1"===t.type&&Ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},Ce.a.createElement(Ye,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.lvl1"}),t.content&&Ce.a.createElement(Ye,{className:"DocSearch-Hit-path",hit:t,attribute:"content"})),t.hierarchy[t.type]&&("lvl2"===t.type||"lvl3"===t.type||"lvl4"===t.type||"lvl5"===t.type||"lvl6"===t.type)&&Ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},Ce.a.createElement(Ye,{className:"DocSearch-Hit-title",hit:t,attribute:"hierarchy.".concat(t.type)}),Ce.a.createElement(Ye,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),"content"===t.type&&Ce.a.createElement("div",{className:"DocSearch-Hit-content-wrapper"},Ce.a.createElement(Ye,{className:"DocSearch-Hit-title",hit:t,attribute:"content"}),Ce.a.createElement(Ye,{className:"DocSearch-Hit-path",hit:t,attribute:"hierarchy.lvl1"})),r({item:t,runDeleteTransition:function(e){d(!0),f.current=e},runFavoriteTransition:function(e){h(!0),f.current=e}}))))}var tt=/(<mark>|<\/mark>)/g,nt=RegExp(tt.source);function at(e){var t,n,a,r,o,i=e;if(!i.__docsearch_parent&&!e._highlightResult)return e.hierarchy.lvl0;var s=((i.__docsearch_parent?null===(t=i.__docsearch_parent)||void 0===t||null===(n=t._highlightResult)||void 0===n||null===(a=n.hierarchy)||void 0===a?void 0:a.lvl0:null===(r=e._highlightResult)||void 0===r||null===(o=r.hierarchy)||void 0===o?void 0:o.lvl0)||{}).value;return s&&nt.test(s)?s.replace(tt,""):s}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rt.apply(this,arguments)}function ot(e){return Ce.a.createElement("div",{className:"DocSearch-Dropdown-Container"},e.state.collections.map((function(t){if(0===t.items.length)return null;var n=at(t.items[0]);return Ce.a.createElement(Je,rt({},e,{key:t.source.sourceId,title:n,collection:t,renderIcon:function(e){var n,a=e.item,r=e.index;return Ce.a.createElement(Ce.a.Fragment,null,a.__docsearch_parent&&Ce.a.createElement("svg",{className:"DocSearch-Hit-Tree",viewBox:"0 0 24 54"},Ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},a.__docsearch_parent!==(null===(n=t.items[r+1])||void 0===n?void 0:n.__docsearch_parent)?Ce.a.createElement("path",{d:"M8 6v21M20 27H8.3"}):Ce.a.createElement("path",{d:"M8 6v42M20 27H8.3"}))),Ce.a.createElement("div",{className:"DocSearch-Hit-icon"},Ce.a.createElement($e,{type:a.type})))},renderAction:function(){return Ce.a.createElement("div",{className:"DocSearch-Hit-action"},Ce.a.createElement(qe,null))}}))})),e.resultsFooterComponent&&Ce.a.createElement("section",{className:"DocSearch-HitsFooter"},Ce.a.createElement(e.resultsFooterComponent,{state:e.state})))}function it(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},Ce.a.createElement("path",{d:"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0"}),Ce.a.createElement("path",{d:"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13"})))}function st(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"}))}function lt(){return Ce.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}var ct=["translations"];function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ut.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mt(e){var t=e.translations,n=void 0===t?{}:t,a=dt(e,ct),r=n.recentSearchesTitle,o=void 0===r?"Recent":r,i=n.noRecentSearchesText,s=void 0===i?"No recent searches":i,l=n.saveRecentSearchButtonTitle,c=void 0===l?"Save this search":l,u=n.removeRecentSearchButtonTitle,d=void 0===u?"Remove this search from history":u,m=n.favoriteSearchesTitle,p=void 0===m?"Favorite":m,h=n.removeFavoriteSearchButtonTitle,f=void 0===h?"Remove this search from favorites":h;return"idle"===a.state.status&&!1===a.hasCollections?a.disableUserPersonalization?null:Ce.a.createElement("div",{className:"DocSearch-StartScreen"},Ce.a.createElement("p",{className:"DocSearch-Help"},s)):!1===a.hasCollections?null:Ce.a.createElement("div",{className:"DocSearch-Dropdown-Container"},Ce.a.createElement(Je,ut({},a,{title:o,collection:a.state.collections[0],renderIcon:function(){return Ce.a.createElement("div",{className:"DocSearch-Hit-icon"},Ce.a.createElement(it,null))},renderAction:function(e){var t=e.item,n=e.runFavoriteTransition,r=e.runDeleteTransition;return Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("div",{className:"DocSearch-Hit-action"},Ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:c,type:"submit",onClick:function(e){e.preventDefault(),e.stopPropagation(),n((function(){a.favoriteSearches.add(t),a.recentSearches.remove(t),a.refresh()}))}},Ce.a.createElement(st,null))),Ce.a.createElement("div",{className:"DocSearch-Hit-action"},Ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:d,type:"submit",onClick:function(e){e.preventDefault(),e.stopPropagation(),r((function(){a.recentSearches.remove(t),a.refresh()}))}},Ce.a.createElement(lt,null))))}})),Ce.a.createElement(Je,ut({},a,{title:p,collection:a.state.collections[1],renderIcon:function(){return Ce.a.createElement("div",{className:"DocSearch-Hit-icon"},Ce.a.createElement(st,null))},renderAction:function(e){var t=e.item,n=e.runDeleteTransition;return Ce.a.createElement("div",{className:"DocSearch-Hit-action"},Ce.a.createElement("button",{className:"DocSearch-Hit-action-button",title:f,type:"submit",onClick:function(e){e.preventDefault(),e.stopPropagation(),n((function(){a.favoriteSearches.remove(t),a.refresh()}))}},Ce.a.createElement(lt,null)))}})))}var pt=["translations"];function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ht.apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gt=Ce.a.memo((function(e){var t=e.translations,n=void 0===t?{}:t,a=ft(e,pt);if("error"===a.state.status)return Ce.a.createElement(Ne,{translations:null==n?void 0:n.errorScreen});var r=a.state.collections.some((function(e){return e.items.length>0}));return a.state.query?!1===r?Ce.a.createElement(Le,ht({},a,{translations:null==n?void 0:n.noResultsScreen})):Ce.a.createElement(ot,a):Ce.a.createElement(mt,ht({},a,{hasCollections:r,translations:null==n?void 0:n.startScreen}))}),(function(e,t){return"loading"===t.state.status||"stalled"===t.state.status}));function bt(){return Ce.a.createElement("svg",{viewBox:"0 0 38 38",stroke:"currentColor",strokeOpacity:".5"},Ce.a.createElement("g",{fill:"none",fillRule:"evenodd"},Ce.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},Ce.a.createElement("circle",{strokeOpacity:".3",cx:"18",cy:"18",r:"18"}),Ce.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},Ce.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}function vt(){return Ce.a.createElement("svg",{width:"20",height:"20",className:"DocSearch-Search-Icon",viewBox:"0 0 20 20"},Ce.a.createElement("path",{d:"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))}var yt=["translations"];function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xt.apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wt(e){var t=e.translations,n=void 0===t?{}:t,a=Et(e,yt),r=n.resetButtonTitle,o=void 0===r?"Clear the query":r,i=n.resetButtonAriaLabel,s=void 0===i?"Clear the query":i,l=n.cancelButtonText,c=void 0===l?"Cancel":l,u=n.cancelButtonAriaLabel,d=void 0===u?"Cancel":u,m=a.getFormProps({inputElement:a.inputRef.current}).onReset;return Ce.a.useEffect((function(){a.autoFocus&&a.inputRef.current&&a.inputRef.current.focus()}),[a.autoFocus,a.inputRef]),Ce.a.useEffect((function(){a.isFromSelection&&a.inputRef.current&&a.inputRef.current.select()}),[a.isFromSelection,a.inputRef]),Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("form",{className:"DocSearch-Form",onSubmit:function(e){e.preventDefault()},onReset:m},Ce.a.createElement("label",xt({className:"DocSearch-MagnifierLabel"},a.getLabelProps()),Ce.a.createElement(vt,null)),Ce.a.createElement("div",{className:"DocSearch-LoadingIndicator"},Ce.a.createElement(bt,null)),Ce.a.createElement("input",xt({className:"DocSearch-Input",ref:a.inputRef},a.getInputProps({inputElement:a.inputRef.current,autoFocus:a.autoFocus,maxLength:64}))),Ce.a.createElement("button",{type:"reset",title:o,className:"DocSearch-Reset","aria-label":s,hidden:!a.state.query},Ce.a.createElement(lt,null))),Ce.a.createElement("button",{className:"DocSearch-Cancel",type:"reset","aria-label":d,onClick:a.onClose},c))}var St=["_highlightResult","_snippetResult"];function kt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ct(e){return!1===function(){var e="__TEST_KEY__";try{return localStorage.setItem(e,""),localStorage.removeItem(e),!0}catch(e){return!1}}()?{setItem:function(){},getItem:function(){return[]}}:{setItem:function(t){return window.localStorage.setItem(e,JSON.stringify(t))},getItem:function(){var t=window.localStorage.getItem(e);return t?JSON.parse(t):[]}}}function Ot(e){var t=e.key,n=e.limit,a=void 0===n?5:n,r=Ct(t),o=r.getItem().slice(0,a);return{add:function(e){var t=e,n=(t._highlightResult,t._snippetResult,kt(t,St)),i=o.findIndex((function(e){return e.objectID===n.objectID}));i>-1&&o.splice(i,1),o.unshift(n),o=o.slice(0,a),r.setItem(o)},remove:function(e){o=o.filter((function(t){return t.objectID!==e.objectID})),r.setItem(o)},getAll:function(){return o}}}function Dt(e){const t=`algoliasearch-client-js-${e.key}`;let n;const a=()=>(void 0===n&&(n=e.localStorage||window.localStorage),n),r=()=>JSON.parse(a().getItem(t)||"{}");return{get:(e,t,n={miss:()=>Promise.resolve()})=>Promise.resolve().then((()=>{const n=JSON.stringify(e),a=r()[n];return Promise.all([a||t(),void 0!==a])})).then((([e,t])=>Promise.all([e,t||n.miss(e)]))).then((([e])=>e)),set:(e,n)=>Promise.resolve().then((()=>{const o=r();return o[JSON.stringify(e)]=n,a().setItem(t,JSON.stringify(o)),n})),delete:e=>Promise.resolve().then((()=>{const n=r();delete n[JSON.stringify(e)],a().setItem(t,JSON.stringify(n))})),clear:()=>Promise.resolve().then((()=>{a().removeItem(t)}))}}function Tt(e){const t=[...e.caches],n=t.shift();return void 0===n?{get:(e,t,n={miss:()=>Promise.resolve()})=>t().then((e=>Promise.all([e,n.miss(e)]))).then((([e])=>e)),set:(e,t)=>Promise.resolve(t),delete:e=>Promise.resolve(),clear:()=>Promise.resolve()}:{get:(e,a,r={miss:()=>Promise.resolve()})=>n.get(e,a,r).catch((()=>Tt({caches:t}).get(e,a,r))),set:(e,a)=>n.set(e,a).catch((()=>Tt({caches:t}).set(e,a))),delete:e=>n.delete(e).catch((()=>Tt({caches:t}).delete(e))),clear:()=>n.clear().catch((()=>Tt({caches:t}).clear()))}}function jt(e={serializable:!0}){let t={};return{get(n,a,r={miss:()=>Promise.resolve()}){const o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);const i=a(),s=r&&r.miss||(()=>Promise.resolve());return i.then((e=>s(e))).then((()=>i))},set:(n,a)=>(t[JSON.stringify(n)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)),delete:e=>(delete t[JSON.stringify(e)],Promise.resolve()),clear:()=>(t={},Promise.resolve())}}function It(e){let t=e.length-1;for(;t>0;t--){const n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}function Nt(e,t){return t?(Object.keys(t).forEach((n=>{e[n]=t[n](e)})),e):e}function Rt(e,...t){let n=0;return e.replace(/%s/g,(()=>encodeURIComponent(t[n++])))}const At="4.11.0",Ft={WithinQueryParameters:0,WithinHeaders:1};function _t(e,t){const n=e||{},a=n.data||{};return Object.keys(n).forEach((e=>{-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(a[e]=n[e])})),{data:Object.entries(a).length>0?a:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}const Mt={Read:1,Write:2,Any:3},Lt=1,Pt=2,$t=3,Bt=12e4;function zt(e,t=Lt){return{...e,status:t,lastUpdate:Date.now()}}function qt(e){return"string"==typeof e?{protocol:"https",url:e,accept:Mt.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||Mt.Any}}const Ht="GET",Vt="POST";function Ut(e,t){return Promise.all(t.map((t=>e.get(t,(()=>Promise.resolve(zt(t))))))).then((e=>{const n=e.filter((e=>function(e){return e.status===Lt||Date.now()-e.lastUpdate>Bt}(e))),a=e.filter((e=>function(e){return e.status===$t&&Date.now()-e.lastUpdate<=Bt}(e))),r=[...n,...a];return{getTimeout:(e,t)=>(0===a.length&&0===e?1:a.length+3+e)*t,statelessHosts:r.length>0?r.map((e=>qt(e))):t}}))}function Wt(e,t,n,a){const r=[],o=function(e,t){if(e.method===Ht||void 0===e.data&&void 0===t.data)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}(n,a),i=function(e,t){const n={...e.headers,...t.headers},a={};return Object.keys(n).forEach((e=>{const t=n[e];a[e.toLowerCase()]=t})),a}(e,a),s=n.method,l=n.method!==Ht?{}:{...n.data,...a.data},c={"x-algolia-agent":e.userAgent.value,...e.queryParameters,...l,...a.queryParameters};let u=0;const d=(t,l)=>{const m=t.pop();if(void 0===m)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:Zt(r)};const p={data:o,headers:i,method:s,url:Kt(m,n.path,c),connectTimeout:l(u,e.timeouts.connect),responseTimeout:l(u,a.timeout)},h=e=>{const n={request:p,response:e,host:m,triesLeft:t.length};return r.push(n),n},f={onSuccess:e=>function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e),onRetry(n){const a=h(n);return n.isTimedOut&&u++,Promise.all([e.logger.info("Retryable failure",Qt(a)),e.hostsCache.set(m,zt(m,n.isTimedOut?$t:Pt))]).then((()=>d(t,l)))},onFail(e){throw h(e),function({content:e,status:t},n){let a=e;try{a=JSON.parse(e).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(a,t,n)}(e,Zt(r))}};return e.requester.send(p).then((e=>((e,t)=>(e=>{const t=e.status;return e.isTimedOut||(({isTimedOut:e,status:t})=>!e&&0==~~t)(e)||2!=~~(t/100)&&4!=~~(t/100)})(e)?t.onRetry(e):(({status:e})=>2==~~(e/100))(e)?t.onSuccess(e):t.onFail(e))(e,f)))};return Ut(e.hostsCache,t).then((e=>d([...e.statelessHosts].reverse(),e.getTimeout)))}function Gt(e){const t={value:`Algolia for JavaScript (${e})`,add(e){const n=`; ${e.segment}${void 0!==e.version?` (${e.version})`:""}`;return-1===t.value.indexOf(n)&&(t.value=`${t.value}${n}`),t}};return t}function Kt(e,t,n){const a=Yt(n);let r=`${e.protocol}://${e.url}/${"/"===t.charAt(0)?t.substr(1):t}`;return a.length&&(r+=`?${a}`),r}function Yt(e){return Object.keys(e).map((t=>{return Rt("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function Zt(e){return e.map((e=>Qt(e)))}function Qt(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}const Xt=e=>{const t=e.appId,n=function(e,t,n){const a={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:()=>e===Ft.WithinHeaders?a:{},queryParameters:()=>e===Ft.WithinQueryParameters?a:{}}}(void 0!==e.authMode?e.authMode:Ft.WithinHeaders,t,e.apiKey),a=function(e){const{hostsCache:t,logger:n,requester:a,requestsCache:r,responsesCache:o,timeouts:i,userAgent:s,hosts:l,queryParameters:c,headers:u}=e,d={hostsCache:t,logger:n,requester:a,requestsCache:r,responsesCache:o,timeouts:i,userAgent:s,headers:u,queryParameters:c,hosts:l.map((e=>qt(e))),read(e,t){const n=_t(t,d.timeouts.read),a=()=>Wt(d,d.hosts.filter((e=>0!=(e.accept&Mt.Read))),e,n);if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return a();const r={request:e,mappedRequestOptions:n,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(r,(()=>d.requestsCache.get(r,(()=>d.requestsCache.set(r,a()).then((e=>Promise.all([d.requestsCache.delete(r),e])),(e=>Promise.all([d.requestsCache.delete(r),Promise.reject(e)]))).then((([e,t])=>t))))),{miss:e=>d.responsesCache.set(r,e)})},write:(e,t)=>Wt(d,d.hosts.filter((e=>0!=(e.accept&Mt.Write))),e,_t(t,d.timeouts.write))};return d}({hosts:[{url:`${t}-dsn.algolia.net`,accept:Mt.Read},{url:`${t}.algolia.net`,accept:Mt.Write}].concat(It([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}])),...e,headers:{...n.headers(),"content-type":"application/x-www-form-urlencoded",...e.headers},queryParameters:{...n.queryParameters(),...e.queryParameters}}),r={transporter:a,appId:t,addAlgoliaAgent(e,t){a.userAgent.add({segment:e,version:t})},clearCache:()=>Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((()=>{}))};return Nt(r,e.methods)},Jt=e=>(t,n)=>t.method===Ht?e.transporter.read(t,n):e.transporter.write(t,n),en=e=>(t,n={})=>Nt({transporter:e.transporter,appId:e.appId,indexName:t},n.methods),tn=e=>(t,n)=>{const a=t.map((e=>({...e,params:Yt(e.params||{})})));return e.transporter.read({method:Vt,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},n)},nn=e=>(t,n)=>Promise.all(t.map((t=>{const{facetName:a,facetQuery:r,...o}=t.params;return en(e)(t.indexName,{methods:{searchForFacetValues:on}}).searchForFacetValues(a,r,{...n,...o})}))),an=e=>(t,n,a)=>e.transporter.read({method:Vt,path:Rt("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},a),rn=e=>(t,n)=>e.transporter.read({method:Vt,path:Rt("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n),on=e=>(t,n,a)=>e.transporter.read({method:Vt,path:Rt("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},a),sn=1,ln=2,cn=3;function un(e,t,n){const a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:e=>new Promise((t=>{const n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((t=>n.setRequestHeader(t,e.headers[t])));const a=(e,a)=>setTimeout((()=>{n.abort(),t({status:0,content:a,isTimedOut:!0})}),1e3*e),r=a(e.connectTimeout,"Connection timeout");let o;n.onreadystatechange=()=>{n.readyState>n.OPENED&&void 0===o&&(clearTimeout(r),o=a(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{0===n.status&&(clearTimeout(r),clearTimeout(o),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(r),clearTimeout(o),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))},logger:(r=cn,{debug:(e,t)=>(sn>=r&&console.debug(e,t),Promise.resolve()),info:(e,t)=>(ln>=r&&console.info(e,t),Promise.resolve()),error:(e,t)=>(console.error(e,t),Promise.resolve())}),responsesCache:jt(),requestsCache:jt({serializable:!1}),hostsCache:Tt({caches:[Dt({key:`4.11.0-${e}`}),jt()]}),userAgent:Gt(At).add({segment:"Browser",version:"lite"}),authMode:Ft.WithinQueryParameters};var r;return Xt({...a,...n,methods:{search:tn,searchForFacetValues:nn,multipleQueries:tn,multipleSearchForFacetValues:nn,customRequest:Jt,initIndex:e=>t=>en(e)(t,{methods:{search:rn,searchForFacetValues:on,findAnswers:an}})}})}un.version=At;var dn=un,mn="3.0.0-alpha.42";function pn(){}function hn(e){return e}function fn(e,t){return e.reduce((function(e,n){var a=t(n);return e.hasOwnProperty(a)||(e[a]=[]),e[a].length<5&&e[a].push(n),e}),{})}var gn=["footer","searchBox"];function bn(){return bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bn.apply(this,arguments)}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Sn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kn(e){var t=e.appId,n=void 0===t?"BH4D9OD16A":t,a=e.apiKey,r=e.indexName,o=e.placeholder,i=void 0===o?"Search docs":o,s=e.searchParameters,l=e.onClose,c=void 0===l?pn:l,u=e.transformItems,d=void 0===u?hn:u,m=e.hitComponent,p=void 0===m?je:m,h=e.resultsFooterComponent,f=void 0===h?function(){return null}:h,g=e.navigator,b=e.initialScrollY,v=void 0===b?0:b,y=e.transformSearchClient,x=void 0===y?hn:y,E=e.disableUserPersonalization,w=void 0!==E&&E,S=e.initialQuery,k=void 0===S?"":S,C=e.translations,O=void 0===C?{}:C,D=O.footer,T=O.searchBox,j=Sn(O,gn),I=En(Ce.a.useState({query:"",collections:[],completion:null,context:{},isOpen:!1,activeItemId:null,status:"idle"}),2),N=I[0],R=I[1],A=Ce.a.useRef(null),F=Ce.a.useRef(null),_=Ce.a.useRef(null),M=Ce.a.useRef(null),L=Ce.a.useRef(null),P=Ce.a.useRef(10),$=Ce.a.useRef("undefined"!=typeof window?window.getSelection().toString().slice(0,64):"").current,B=Ce.a.useRef(k||$).current,z=function(e,t,n){return Ce.a.useMemo((function(){var a=dn(e,t);return a.addAlgoliaAgent("docsearch",mn),!1===/docsearch.js \(.*\)/.test(a.transporter.userAgent.value)&&a.addAlgoliaAgent("docsearch-react",mn),n(a)}),[e,t,n])}(n,a,x),q=Ce.a.useRef(Ot({key:"__DOCSEARCH_FAVORITE_SEARCHES__".concat(r),limit:10})).current,H=Ce.a.useRef(Ot({key:"__DOCSEARCH_RECENT_SEARCHES__".concat(r),limit:0===q.getAll().length?7:4})).current,V=Ce.a.useCallback((function(e){if(!w){var t="content"===e.type?e.__docsearch_parent:e;t&&-1===q.getAll().findIndex((function(e){return e.objectID===t.objectID}))&&H.add(t)}}),[q,H,w]),U=Ce.a.useMemo((function(){return Se({id:"docsearch",defaultActiveItemId:0,placeholder:i,openOnFocus:!0,initialState:{query:B,context:{searchSuggestions:[]}},navigator:g,onStateChange:function(e){R(e.state)},getSources:function(e){var t=e.query,n=e.state,a=e.setContext,o=e.setStatus;return t?z.search([{query:t,indexName:r,params:yn({attributesToRetrieve:["hierarchy.lvl0","hierarchy.lvl1","hierarchy.lvl2","hierarchy.lvl3","hierarchy.lvl4","hierarchy.lvl5","hierarchy.lvl6","content","type","url"],attributesToSnippet:["hierarchy.lvl1:".concat(P.current),"hierarchy.lvl2:".concat(P.current),"hierarchy.lvl3:".concat(P.current),"hierarchy.lvl4:".concat(P.current),"hierarchy.lvl5:".concat(P.current),"hierarchy.lvl6:".concat(P.current),"content:".concat(P.current)],snippetEllipsisText:"…",highlightPreTag:"<mark>",highlightPostTag:"</mark>",hitsPerPage:20},s)}]).catch((function(e){throw"RetryError"===e.name&&o("error"),e})).then((function(e){var t=e.results[0],r=t.hits,o=t.nbHits,i=fn(r,(function(e){return at(e)}));return n.context.searchSuggestions.length<Object.keys(i).length&&a({searchSuggestions:Object.keys(i)}),a({nbHits:o}),Object.values(i).map((function(e,t){return{sourceId:"hits".concat(t),onSelect:function(e){var t=e.item,n=e.event;V(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return Object.values(fn(e,(function(e){return e.hierarchy.lvl1}))).map(d).map((function(e){return e.map((function(t){return yn(yn({},t),{},{__docsearch_parent:"lvl1"!==t.type&&e.find((function(e){return"lvl1"===e.type&&e.hierarchy.lvl1===t.hierarchy.lvl1}))})}))})).flat()}}}))})):w?[]:[{sourceId:"recentSearches",onSelect:function(e){var t=e.item,n=e.event;V(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return H.getAll()}},{sourceId:"favoriteSearches",onSelect:function(e){var t=e.item,n=e.event;V(t),n.shiftKey||n.ctrlKey||n.metaKey||c()},getItemUrl:function(e){return e.item.url},getItems:function(){return q.getAll()}}]}})}),[r,s,z,c,H,q,V,B,i,g,d,w]),W=U.getEnvironmentProps,G=U.getRootProps,K=U.refresh;return function(e){var t=e.getEnvironmentProps,n=e.panelElement,a=e.formElement,r=e.inputElement;Ce.a.useEffect((function(){if(n&&a&&r){var e=t({panelElement:n,formElement:a,inputElement:r}),o=e.onTouchStart,i=e.onTouchMove;return window.addEventListener("touchstart",o),window.addEventListener("touchmove",i),function(){window.removeEventListener("touchstart",o),window.removeEventListener("touchmove",i)}}}),[t,n,a,r])}({getEnvironmentProps:W,panelElement:M.current,formElement:_.current,inputElement:L.current}),function(e){var t=e.container;Ce.a.useEffect((function(){if(t){var e=t.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), input:not([disabled])"),n=e[0],a=e[e.length-1];return t.addEventListener("keydown",r),function(){t.removeEventListener("keydown",r)}}function r(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),n.focus()))}}),[t])}({container:A.current}),Ce.a.useEffect((function(){return document.body.classList.add("DocSearch--active"),function(){var e,t;document.body.classList.remove("DocSearch--active"),null===(e=(t=window).scrollTo)||void 0===e||e.call(t,0,v)}}),[]),Ce.a.useEffect((function(){window.matchMedia("(max-width: 750px)").matches&&(P.current=5)}),[]),Ce.a.useEffect((function(){M.current&&(M.current.scrollTop=0)}),[N.query]),Ce.a.useEffect((function(){B.length>0&&(K(),L.current&&L.current.focus())}),[B,K]),Ce.a.useEffect((function(){function e(){if(F.current){var e=.01*window.innerHeight;F.current.style.setProperty("--docsearch-vh","".concat(e,"px"))}}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Ce.a.createElement("div",bn({ref:A},G({"aria-expanded":!0}),{className:["DocSearch","DocSearch-Container","stalled"===N.status&&"DocSearch-Container--Stalled","error"===N.status&&"DocSearch-Container--Errored"].filter(Boolean).join(" "),role:"button",tabIndex:0,onMouseDown:function(e){e.target===e.currentTarget&&c()}}),Ce.a.createElement("div",{className:"DocSearch-Modal",ref:F},Ce.a.createElement("header",{className:"DocSearch-SearchBar",ref:_},Ce.a.createElement(wt,bn({},U,{state:N,autoFocus:0===B.length,inputRef:L,isFromSelection:Boolean(B)&&B===$,translations:T,onClose:c}))),Ce.a.createElement("div",{className:"DocSearch-Dropdown",ref:M},Ce.a.createElement(gt,bn({},U,{indexName:r,state:N,hitComponent:p,resultsFooterComponent:f,disableUserPersonalization:w,recentSearches:H,favoriteSearches:q,inputRef:L,translations:j,onItemClick:function(e){V(e),c()}}))),Ce.a.createElement("footer",{className:"DocSearch-Footer"},Ce.a.createElement(Te,{translations:D}))))}},255:function(e,t,n){var a=n(494);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},256:function(e,t,n){var a={"./Band/index.tsx":283,"./Check/index.tsx":276,"./Gauge/index.tsx":279,"./Graph/index.tsx":280,"./Heatmap/index.tsx":284,"./Histogram/index.tsx":285,"./Map/index.tsx":277,"./Mosaic/index.tsx":286,"./Scatter/index.tsx":281,"./SimpleTable/index.tsx":289,"./SingleStat/index.tsx":287,"./SingleStatWithLine/index.tsx":288,"./Table/index.tsx":278};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=256},257:function(e,t,n){(t=n(16)(!1)).push([e.i,".hover-legend-toggle,.legend-orientation-toggle,.legend-opacity-slider,.legend-colorize-rows-toggle{margin-top:8px;margin-bottom:16px}.hover-legend-toggle label.legend-orientation-label,.legend-orientation-toggle label.legend-orientation-label,.legend-opacity-slider label.legend-orientation-label,.legend-colorize-rows-toggle label.legend-orientation-label{color:#9e9ead}.legend-orientation--horizontal{margin-bottom:8px !important}",""]),e.exports=t},258:function(e,t,n){var a=n(259);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},259:function(e,t,n){(t=n(16)(!1)).push([e.i,".static-legend-options .latest-axis-label{color:#9e9ead}.latest-y-axis{margin-top:16px;margin-bottom:8px}.latest-x-axis,.static-legend-height-slider{margin-bottom:16px}",""]),e.exports=t},260:function(e,t){},261:function(e,t,n){(t=n(16)(!1)).push([e.i,'.mapTypeOptions{display:grid;grid-template-columns:repeat(4, 1fr)}.allowPanAndZoom{display:grid;grid-template-columns:1fr 1fr;width:100%}.allowPanZoomInput{left:20px;justify-self:end}.geo-dropdowns{flex:"0 0 120px";padding-bottom:10px}',""]),e.exports=t},262:function(e,t,n){var a=n(263);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},263:function(e,t,n){(t=n(16)(!1)).push([e.i,'.visualization--simple-table{width:100%;height:100%;display:flex;flex-direction:column;font-family:"IBMPlexMono",monospace;user-select:text}.visualization--simple-table .cf-dapper-scrollbars{border-bottom:2px solid #07070e}.visualization--simple-table .cf-dapper-scrollbars--track-x{background-color:rgba(26,26,42,.5) !important}.visualization--simple-table .cf-table{border:2px solid #333346;margin-bottom:10px;width:100%}.visualization--simple-table .cf-table--header-cell,.visualization--simple-table .cf-table--cell{padding:4px 10px;white-space:nowrap}.visualization--simple-table .cf-table--header-cell label{display:block;font-size:10px;text-transform:uppercase;color:#68687b;font-weight:500}.visualization--simple-table .cf-table--header-cell label:first-of-type{padding-top:2px}.visualization--simple-table--results{flex:1 0 0;position:relative;margin-top:8px}.visualization--simple-table--paging{display:flex;align-items:center;height:48px;margin:0 auto}.visualization--simple-table--paging-label{display:inline-block;margin-right:8px;color:#b9b9c5;font-weight:500;width:189px}',""]),e.exports=t},264:function(e,t,n){var a=n(265);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},265:function(e,t,n){(t=n(16)(!1)).push([e.i,'.single-stat{display:flex;align-items:center;justify-content:center;overflow:hidden;width:100%;height:100%;padding:8px;color:#00c9ff;user-select:none !important;-moz-user-select:none !important;-webkit-user-select:none !important;-ms-user-select:none !important;-o-user-select:none !important;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:2px}.single-stat,.single-stat:hover{cursor:default}.single-stat--resizer{display:flex;overflow:hidden;width:100%;height:100%}.dygraph-child .single-stat--resizer{height:100%;margin-top:0}.single-stat--text{font-family:"Rubik",Helvetica,Arial,Tahoma,Verdana,sans-serif;font-weight:300;letter-spacing:-0.05em}',""]),e.exports=t},2650:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(19),s=n.n(i),l=n(184),c=n(183),u=n(33),d=(n(1958),n(6)),m=n(637),p=n(224),h=n(3),f=n(1045),g=n(236),b=n(957),v=n(788),y=n(91),x=n(7),E=n(1055);n(1959);var w=Object(a.memo)((()=>{const[e,t]=Object(a.useState)(!1),n=Object(l.g)(),o=e=>{e.ctrlKey&&"m"===e.key?(t(!0),Object(x.a)(`Global search opened from url ${n.pathname}`)):"Escape"===e.key&&t(!1)};return Object(a.useEffect)((()=>(document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o))),[]),e&&(null===d.t||void 0===d.t?void 0:d.t.length)&&(null===d.u||void 0===d.u?void 0:d.u.length)?r.a.createElement(y.a,{onClickOutside:()=>t(!1)},r.a.createElement("div",{className:"GlobalSearch"},r.a.createElement(E.b,{type:E.a.Global}))):null})),S=n(1041),k=n(292),C=n(964),O=n(24);const D=Object(a.lazy)((()=>n.e(68).then(n.bind(null,2641)))),T=Object(a.lazy)((()=>n.e(360).then(n.bind(null,2573)))),j=()=>{const{theme:e,presentationMode:t}=Object(a.useContext)(u.a),n=Object(o.e)((e=>e.currentPage)),i=s()("",{"dashboard-light-mode":"dashboard"===n&&"light"===e});return Object(a.useEffect)((()=>{if(d.f&&Object(O.c)("rudderstackReporting"))try{Object(m.load)(d.H,d.G)}catch(e){console.error("Error loading Rudderstack with wk: ",d.H," at: ",d.G),Object(p.b)(e,{name:"Rudderstack Loading Function"})}if(d.f&&Object(O.c)("coveo")){const e=document.createElement("script");return e.src="https://platform.cloud.coveo.com/rest/organizations/influxdatanonproduction1eh1cn7go/pages/95a20052-218d-4048-9081-16dbcebbdebb/inappwidget/loader",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}Object(c.c)(!1)}),[]),r.a.createElement(h.AppWrapper,{presentationMode:t,className:i},Object(O.c)("globalSearch")&&r.a.createElement(w,null),r.a.createElement(v.a,null),r.a.createElement(g.b,null),r.a.createElement(b.a,null),r.a.createElement(S.c,null,r.a.createElement(S.b,null)),r.a.createElement(C.a,null),r.a.createElement(f.a,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(k.a,null)},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/orgs/new",component:T}),r.a.createElement(l.a,{path:"/orgs/:orgID",component:D}))))};t.default=()=>r.a.createElement(u.b,null,r.a.createElement(j,null))},266:function(e,t,n){var a=n(267);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},267:function(e,t,n){(t=n(16)(!1)).push([e.i,'.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.u-flex{display:flex;flex-wrap:wrap}.u-flex.u-jc-flex-start{justify-content:flex-start}.u-flex.u-jc-flex-end{justify-content:flex-end}.u-flex.u-jc-center{justify-content:center}.u-flex.u-jc-space-between{justify-content:space-between}.u-flex.u-jc-space-around{justify-content:space-around}.u-flex.u-ai-flex-start{align-items:flex-start}.u-flex.u-ai-flex-end{align-items:flex-end}.u-flex.u-ai-center{align-items:center}.u-flex.u-ai-stretch{align-items:stretch}.u-flex.u-ai-baseline{align-items:baseline}.u-flex.u-ac-flex-start{align-content:flex-start}.u-flex.u-ac-flex-end{align-content:flex-end}.u-flex.u-ac-center{align-content:center}.u-flex.u-ac-stretch{align-content:stretch}.u-flex.u-ac-space-between{align-content:space-between}.u-flex.u-ac-space-around{align-content:space-around}.margin-zero{margin:0 !important}.margin-bottom-zero{margin-bottom:0 !important}.margin-top-zero{margin-top:0 !important}.margin-left-zero{margin-left:0 !important}.margin-right-zero{margin-right:0 !important}.padding-zero{padding:0 !important}.padding-bottom-zero{padding-bottom:0 !important}.padding-top-zero{padding-top:0 !important}.padding-left-zero{padding-left:0 !important}.padding-right-zero{padding-right:0 !important}.customizable-field{width:100%;display:flex;flex-wrap:nowrap;align-items:center;height:30px;margin-top:4px}.customizable-field:first-of-type{margin-top:0}.customizable-field.dragging{border-radius:4px;opacity:.4;background:#0098f0;background:-moz-linear-gradient(left, #0098f0 0%, #be2ee4 100%);background:-webkit-linear-gradient(left, #0098f0 0%, #be2ee4 100%);background:linear-gradient(to right, #0098f0 0%, #be2ee4 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="$startColor", endColorstr="$endColor",GradientType=1 )}.customizable-field.dragging>*{opacity:0}.customizable-field--label,.customizable-field--label__hidden{user-select:none !important;-moz-user-select:none !important;-webkit-user-select:none !important;-ms-user-select:none !important;-o-user-select:none !important;height:30px;display:flex;flex-wrap:nowrap;align-items:center;padding:0 11px 0 0;border-radius:4px;width:100%;transition:background-color .25s ease,color .25s ease}.customizable-field--label,.customizable-field--label:hover,.customizable-field--label__hidden,.customizable-field--label__hidden:hover{cursor:default}.customizable-field--label>span,.customizable-field--label__hidden>span{margin-right:5px}.customizable-field--label{color:#b9b9c5;background-color:#333346}.customizable-field--label__hidden{background-color:#1a1a2a;color:#4d4d60;font-style:italic}.customizable-field--input{margin-left:4px;width:calc(40% - 4px);display:flex;align-items:center;height:100%}.customizable-field .input-cte__empty{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.customizable-field--name{flex:1 0 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600;font-size:13px;margin-left:6px}.customizable-field--drag,.customizable-field--visibility{display:inline-block;width:30px;height:30px;position:relative}.customizable-field--drag:hover,.customizable-field--visibility:hover{cursor:grab}.customizable-field--visibility{width:18px}.customizable-field--drag .hamburger,.customizable-field--visibility .cf-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.customizable-field--drag .hamburger{width:10px;height:2px;background-color:#9e9ead;transition:background-color .25s ease;border-radius:1px}.customizable-field--drag .hamburger:before,.customizable-field--drag .hamburger:after{position:absolute;display:block;content:"";width:100%;height:100%;background-color:#9e9ead;transition:background-color .25s ease;border-radius:1px;left:0}.customizable-field--drag .hamburger:before{top:-4px}.customizable-field--drag .hamburger:after{top:4px}.customizable-field--label__hidden .customizable-field--drag .hamburger,.customizable-field--label__hidden .customizable-field--drag .hamburger:before,.customizable-field--label__hidden .customizable-field--drag .hamburger:after{background-color:#4d4d60}',""]),e.exports=t},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(152),r=n(357),o=n(269);class i{constructor(){this._observers=a.c()}on(e,t){a.e(this._observers,e,r.a).add(t)}once(e,t){const n=(...a)=>{this.off(e,n),t(...a)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return o.c((this._observers.get(e)||a.c()).values()).forEach((e=>e(...t)))}destroy(){this._observers=a.c()}}},269:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const a=e=>e[e.length-1],r=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},o=Array.from,i=(e,t)=>{return e.length===t.length&&(n=(e,n)=>e===t[n],e.every(n));var n}},270:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));Object.assign;const a=Object.keys,r=(e,t)=>{const n=[];for(const a in e)n.push(t(e[a],a));return n},o=e=>a(e).length,i=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s=(e,t)=>e===t||o(e)===o(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,((e,n)=>(void 0!==e||i(t,n))&&t[n]===e))},276:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(30),s=n(27),l={type:"check",shape:"chronograf-v2",checkID:"",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}}},c=n(22),u=n(8),d=n(38);var m=({level:e,y:t,onDrag:n,onMouseUp:o})=>{const i=(e=>({onMouseDown:Object(a.useCallback)((t=>{t.stopPropagation(),e({type:"dragStart",x:t.pageX,y:t.pageY});const n=t=>{e({type:"drag",x:t.pageX,y:t.pageY})},a=t=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),e({type:"dragStop",x:t.pageX,y:t.pageY})};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)}),[e])}))(n),s=`threshold-marker--${e.toLowerCase()}`,l={top:`${t}px`};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:`threshold-marker--line ${s}`,style:l,"data-testid":`threshold-marker-line--${e.toLowerCase()}`}),r.a.createElement("div",Object.assign({className:`threshold-marker--handle ${s}`,"data-testid":`threshold-marker--handle--${e.toLowerCase()}`,style:l},i,{onMouseUp:o})))};var p=({level:e,top:t,height:n})=>r.a.createElement("div",{className:`threshold-marker--area threshold-marker--${e.toLowerCase()}`,style:{top:`${t}px`,height:`${n}px`}}),h=n(23);var f=({yScale:e,yDomain:t,threshold:{level:n,within:a,min:o,max:i},onChangeMinPos:s,onChangeMaxPos:l,onMouseUp:c})=>{const u=e(Object(h.b)(o,t)),d=e(Object(h.b)(i,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(o,t)&&r.a.createElement(m,{level:n,y:u,onDrag:s,onMouseUp:c}),Object(h.o)(i,t)&&r.a.createElement(m,{level:n,y:d,onDrag:l,onMouseUp:c}),a?r.a.createElement(p,{level:n,top:d,height:u-d}):r.a.createElement(r.a.Fragment,null,i<=t[1]&&r.a.createElement(p,{level:n,top:e(t[1]),height:d-e(t[1])}),o>=t[0]&&r.a.createElement(p,{level:n,top:u,height:e(t[0])-u})))};var g=({yScale:e,yDomain:t,threshold:{level:n,value:a},onChangePos:o,onMouseUp:i})=>{const s=e(Object(h.b)(a,t));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,t)&&r.a.createElement(m,{level:n,y:s,onDrag:o,onMouseUp:i}),a>=t[0]&&r.a.createElement(p,{level:n,top:s,height:e(t[0])-s}))};var b=({yDomain:e,yScale:t,threshold:{level:n,value:a},onChangePos:o,onMouseUp:i})=>{const s=t(Object(h.b)(a,e));return r.a.createElement(r.a.Fragment,null,Object(h.o)(a,e)&&r.a.createElement(m,{level:n,y:s,onDrag:o,onMouseUp:i}),a<=e[1]&&r.a.createElement(p,{level:n,top:t(e[1]),height:s-t(e[1])}))};var v=({yScale:e,yDomain:t,thresholds:n,onSetThresholds:o})=>{const i=Object(a.useRef)(null),s={},[l,c]=Object(a.useState)(s),d=Object(u.debounce)((()=>{o(n.map(((e,t)=>l.index!==t?e:"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{max:e.value}):"range"===e.type?Object.assign(Object.assign({},e),{max:l.maxValue,min:l.minValue}):void 0)))}),500),m=(a,r,l)=>{s.index=a;const d=l-i.current.getBoundingClientRect().top,m=Object(h.b)(e.invert(d),t),p=Object.assign(Object.assign({},n[a]),{[r]:m});if("range"===p.type&&p.min>p.max){const e=p.min;p.min=p.max,p.max=e}const f=n.map(((e,t)=>t===a?p:e)).map((e=>"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{value:Object(u.round)(e.value,2),max:t[1]}):"range"===e.type?"maxValue"===r?(s.maxValue=Object(u.round)(e.maxValue,2),s.minValue=Object(u.round)(e.min,2),Object.assign(Object.assign({},e),{max:Object(u.round)(t[1],2),min:Object(u.round)(e.min,2)})):(s.maxValue=Object(u.round)(e.max,2),s.minValue=Object(u.round)(e.minValue,2),Object.assign(Object.assign({},e),{max:Object(u.round)(e.max,2),min:t[0]?Object(u.round)(t[0],2):0})):void 0));c(s),o(f)};return r.a.createElement("div",{className:"threshold-markers",ref:i},n.map(((n,a)=>{const o=({y:e})=>m(a,"value",e),i=({y:e})=>m(a,"maxValue",e),s=({y:e})=>m(a,"minValue",e);switch(n.type){case"greater":return r.a.createElement(b,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:o,onMouseUp:d});case"lesser":return r.a.createElement(g,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:o,onMouseUp:d});case"range":return r.a.createElement(f,{key:a,yScale:e,yDomain:t,threshold:Object.assign(Object.assign({},n),{min:l.minValue?l.minValue:Object(u.round)(n.min,2),max:l.maxValue?l.maxValue:Object(u.round)(n.max,2)}),onChangeMinPos:s,onChangeMaxPos:i,onMouseUp:d});default:throw new Error("Unknown threshold type in <ThresholdMarkers /> ")}})))},y=n(87),x=n(236),E=n(3);var w=({triggerRect:e,children:t,maxWidth:n=300,color:o=E.ComponentColor.Primary})=>{const i=Object(a.useRef)(null);return Object(a.useLayoutEffect)((()=>{const t=i.current;if(!t||!e)return;const a=t.getBoundingClientRect();let r=Math.floor(e.left-a.width)-2,s="left";r<0&&(r=e.left+e.width,s="right");let l=e.top+e.height/2-a.height/2;l<0&&(l=0),l+a.height>window.innerHeight&&(l=window.innerHeight-a.height),t.setAttribute("style",`visibility: visible; top: ${l}px; left: ${r}px; max-width: ${n}px;`);const c=e.top+e.height/2-l;t.querySelector(".box-tooltip--caret").setAttribute("style",`top: ${c}px;`),t.className=`box-tooltip  box-tooltip__${o} ${s}`})),Object(y.createPortal)(r.a.createElement("div",{className:`box-tooltip box-tooltip__${o}`,ref:i,style:{maxWidth:n},"data-testid":"box-tooltip"},t,r.a.createElement("div",{className:"box-tooltip--caret-container"},r.a.createElement("div",{className:"box-tooltip--caret"}))),document.querySelector(`#${x.a}`))},S=n(81);var k=({events:e})=>{const t=(e,t)=>{if(!t)return;return{color:S.l[`${e.toUpperCase()}`]}};return r.a.createElement("div",{className:"box-tooltip--contents event-marker-tooltip"},r.a.createElement("div",{className:"event-marker-tooltip--table"},["time","checkName","level","message"].map((n=>r.a.createElement("div",{key:n,className:"event-marker-tooltip--column"},r.a.createElement("div",{className:"event-marker-tooltip--header"},n),e.map(((e,o)=>{const{time:i,checkName:s,level:l}=e;return r.a.createElement(a.Fragment,{key:`${i}-${s}-${l}-${o}`},r.a.createElement("div",{className:"event-marker-tooltip--cell",style:t(l,"level"===n),"data-testid":`event-marker-tooltip--cell ${n}`},e[n]))})))))))};var C=({xScale:e,xDomain:t,events:n,xFormatter:o})=>{const i=Object(a.useRef)(null),[s,l]=Object(a.useState)(!1);let c=null;i.current&&(c=i.current.getBoundingClientRect());const{time:u}=n[0],d={left:`${Math.ceil(e(u))}px`},m=(e=>{const t=["crit","warn","info","ok","unknown"],n=e.map((e=>e.level));for(const e of t)if(n.includes(e))return e;return"unknown"})(n),p=`event-marker--line__${m.toLowerCase()}`,f=n.map((e=>Object.assign(Object.assign({},e),{time:o(e.time)})));return Object(h.o)(u,t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:p,style:d,"data-testid":`event-marker--line--${m}`},r.a.createElement("div",{className:"event-marker--line-rect","data-testid":`event-marker--rect--${m}`,ref:i,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)}})),s&&i.current&&r.a.createElement(w,{triggerRect:c,maxWidth:50*f[0].message.length},r.a.createElement(k,{events:f})))};const O=(e,t,n,a,r,o)=>e.map((e=>e.length&&e.filter((e=>"ok"===e.level&&t||"info"===e.level&&n||"warn"===e.level&&a||"crit"===e.level&&r||"unknown"===e.level&&o)))).filter((e=>e&&e.length));var D=({xScale:e,xDomain:t,eventsArray:n,xFormatter:o})=>{const[i,s]=Object(a.useState)(!1),[l,c]=Object(a.useState)(!0),[u,d]=Object(a.useState)(!0),[m,p]=Object(a.useState)(!0),[h,f]=Object(a.useState)(!0),[g,b]=Object(a.useState)(O(n,i,l,u,m,h));Object(a.useEffect)((()=>{b(O(n,i,l,u,m,h))}),[n,i,l,u,m,h]);const v=e=>e?E.IconFont.EyeOpen:E.IconFont.EyeClosed,y=r.a.createElement("div",{className:"event-marker--vis-selector"},"Toggle markers:",r.a.createElement("span",{onClick:()=>s(!i),"data-testid":"event-marker-vis-toggle-ok"},r.a.createElement(E.Icon,{className:"event-marker--vis-icon",style:{color:S.l.OK},glyph:v(i),testID:"event-marker-vis-icon-ok"})),r.a.createElement("span",{onClick:()=>d(!u),"data-testid":"event-marker-vis-toggle-warn"},r.a.createElement(E.Icon,{className:"event-marker--vis-icon",style:{color:S.l.WARN},glyph:v(u)})),r.a.createElement("span",{onClick:()=>c(!l),"data-testid":"event-marker-vis-toggle-info"},r.a.createElement(E.Icon,{className:"event-marker--vis-icon",style:{color:S.l.INFO},glyph:v(l)})),r.a.createElement("span",{onClick:()=>p(!m),"data-testid":"event-marker-vis-toggle-crit"},r.a.createElement(E.Icon,{className:"event-marker--vis-icon",style:{color:S.l.CRIT},glyph:v(m)})),r.a.createElement("span",{onClick:()=>f(!h),"data-testid":"event-marker-vis-toggle-unknown"},r.a.createElement(E.Icon,{className:"event-marker--vis-icon",style:{color:S.l.UNKNOWN},glyph:v(h)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"event-markers","data-testid":"event-markers"},g.map(((n,a)=>r.a.createElement(C,{key:a,xScale:e,xDomain:t,events:n,xFormatter:o})))),y)},T=n(48),j=n(195),I=n(33),N=n(6),R=n(20),A=n(202);const F="_time",_="_value";var M=({properties:e,result:t})=>{const{statuses:n,thresholds:o,updateThresholds:s}=Object(a.useContext)(j.b),{theme:l,timeZone:m}=Object(a.useContext)(I.a),[p,f,g]=Object(A.b)(t.table.getColumn(_,"number"),o),b=t.table.columnKeys;if(!(b.includes(F)&&b.includes(_)))return r.a.createElement(d.a,{message:R.e});const y=[...t.fluxGroupKeyUnion,"result"],x=Object(T.a)(t.table.getColumnType(F),{timeZone:m,trimZeros:!1}),E=Object(T.a)(t.table.getColumnType(_),{timeZone:m,trimZeros:!1}),w=Object(h.h)([...y,F,_],t.table),S=Object(u.flatMap)(o,(e=>[e.value,e.minValue,e.maxValue])).filter((e=>void 0!==e)),k=S.length?S:null,C=e.colors&&e.colors.length?e.colors.map((e=>e.hex)):i.a.map((e=>e.hex)),O="light"===l?N.M:N.L;return r.a.createElement("div",{className:"time-series-container time-series-container--alert-check"},r.a.createElement(c.Plot,{config:Object.assign(Object.assign({},O),{table:t.table,legendColumns:w,yTicks:k,yDomain:p,onSetYDomain:f,onResetYDomain:g,valueFormatters:{[F]:x,[_]:E},layers:[{type:"line",x:F,y:_,fill:y,interpolation:"linear",colors:C},{type:"custom",render:({yScale:e,yDomain:t})=>r.a.createElement(v,{key:"thresholds",thresholds:o,onSetThresholds:s,yScale:e,yDomain:t})},{type:"custom",render:({xScale:e,xDomain:t})=>r.a.createElement(D,{key:"events",eventsArray:n,xScale:e,xDomain:t,xFormatter:x})}]})}))};t.default=e=>{e({type:"check",name:"Check",disabled:!0,graphic:o,component:M,initial:l})}},277:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),r.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}))),i=n(27),s=n(39),l={type:"geo",queries:[{text:"",editMode:"builder",name:"",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],shape:"chronograf-v2",center:{lat:0,lon:0},zoom:0,allowPanAndZoom:!0,detectCoordinateFields:!1,mapStyle:"",note:"",showNoteWhenEmpty:!1,layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:s.f,isClustered:!1,tooltipColumns:[]}],useS2CellID:!0,s2Column:"",latLonColumns:{lat:{key:"",column:""},lon:{key:"",column:""}}},c=n(22),u=n(3),d=n(8),m=n(23),p=n(7),h=n(6);let f=null;h.f&&(f=n(260).getMapToken);var g=({result:e,properties:t})=>{const{layers:n,zoom:o,allowPanAndZoom:i,mapStyle:s,useS2CellID:l,s2Column:g,latLonColumns:b}=t,{lat:v,lon:y}=t.center,[x,E]=Object(a.useState)(u.RemoteDataState.NotStarted),[w,S]=Object(a.useState)(""),[k,C]=Object(a.useState)(u.RemoteDataState.NotStarted),[O,D]=Object(a.useState)({lat:v,lon:y});Object(a.useEffect)((()=>{var e,n;const a=null===(e=null==t?void 0:t.layers)||void 0===e?void 0:e.find((e=>{var t;return null===(t=null==e?void 0:e.tileServerConfiguration)||void 0===t?void 0:t.tileServerUrl}));if(h.f&&a&&(E(u.RemoteDataState.Done),S(null===(n=a.tileServerConfiguration)||void 0===n?void 0:n.tileServerUrl)),h.f&&!a){(async()=>{try{E(u.RemoteDataState.Loading);const e=await f({});if(200!==e.status)throw new Error(e.data.message);S(e.data.token),E(u.RemoteDataState.Done),Object(p.a)("mapplot.map_token_request.success")}catch(e){E(u.RemoteDataState.Error),Object(p.a)("mapplot.map_token_request.failure")}})()}}),[t.layers]),Object(a.useEffect)((()=>{try{if(C(u.RemoteDataState.Loading),h.f){const t=Object(m.j)(e.table,0,l,g,b);D(t)}C(u.RemoteDataState.Done),Object(p.a)("mapplot.get_geo_coordinates.success")}catch(e){C(u.RemoteDataState.Error),Object(p.a)("mapplot.get_geo_coordinates.failure")}}),[l,g,b,e.table]);let T="";if(x===u.RemoteDataState.NotStarted||k===u.RemoteDataState.NotStarted||x===u.RemoteDataState.Loading||k===u.RemoteDataState.Loading)return null;if(x===u.RemoteDataState.Error)return T="We are having issues connecting to the Maps Server. Please try again later",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},T);if(k===u.RemoteDataState.Error)return T="Map type is not supported with the data provided. Please use customization options to select correct fields to use for lat/lon",r.a.createElement("div",{className:"panel-resizer--error","data-testid":"geoplot-error"},T);const j={tileServerUrl:w?`https://api.mapbox.com/styles/v1/influxdata/cklspghhd1opp17mmz0yk7rcy/tiles/256/{z}/{x}/{y}@2x?access_token=${w}`:"",bingKey:""};let I=n;n.length||(I=[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:[],isClustered:!1,tooltipColumns:[]}]);const N=Object(d.isEmpty)(I[0].tooltipColumns)?e.fluxGroupKeyUnion:I[0].tooltipColumns;I[0]=Object.assign(Object.assign({},I[0]),{tooltipColumns:N});let R,A=o;return 0===o&&(A=6),h.f&&(R={table:e.table,showAxes:!1,layers:[{type:"geo",lat:O.lat,lon:O.lon,zoom:A,allowPanAndZoom:i,detectCoordinateFields:!0,mapStyle:s,layers:I,tileServerConfiguration:j,useS2CellID:l,s2Column:g,latLonColumns:b}]}),r.a.createElement(c.Plot,{config:R})},b=n(84);const v=(e,t=!1)=>e.columnKeys.reduce(((n,a)=>"time"===e.getColumnType(a)||"_measurement"===a||"id"===a||"_field"===a||"result"===a||t&&"s2_cell_id"===a?n:Object.assign(Object.assign({},n),{[a]:{key:"tag",column:e.getColumnName(a)}})),{});n(131);const y=({properties:e,update:t,results:n})=>{const{s2Column:a}=e,o=v(n.table),i=e=>{t({s2Column:e})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},a||"Select S2 Column"),menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map((e=>{const t=o[e];return r.a.createElement(u.Dropdown.Item,{id:t.column,key:t.column,value:t.column,selected:t.column===a,onClick:i},t.column)})))}))},x=({properties:e,update:t,results:n})=>{const{latLonColumns:a}=e,o=Object.assign(Object.assign({},(e=>{const t={},n=e.getColumn("_field");n&&new Set([...n]).forEach((e=>{t[e]={key:"field",column:e}}));return t})(n.table)),v(n.table,!0)),i=e=>{const n={lat:e,lon:a.lon};t({latLonColumns:n})},s=e=>{const n={lat:a.lat,lon:e};t({latLonColumns:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lat)||void 0===n?void 0:n.column)?a.lat.column:"Select Lat Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map((e=>{var t;const n=o[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lat)||void 0===t?void 0:t.column),onClick:i},n.column)})))}),r.a.createElement(u.Dropdown,{className:"geo-dropdowns",button:(e,t)=>{var n;return r.a.createElement(u.Dropdown.Button,{active:e,onClick:t,status:u.ComponentStatus.Default},""!==(null===(n=null==a?void 0:a.lon)||void 0===n?void 0:n.column)?a.lon.column:"Select Lon Column")},menu:e=>r.a.createElement(u.Dropdown.Menu,{onCollapse:e,theme:u.DropdownMenuTheme.Onyx},Object.keys(o).map((e=>{var t;const n=o[e];return r.a.createElement(u.Dropdown.Item,{id:n.key,key:n.column,value:n,selected:n.column===(null===(t=null==a?void 0:a.lon)||void 0===t?void 0:t.column),onClick:s},n.column)})))}))};var E;!function(e){e.Point="pointMap",e.Circle="circleMap",e.Heat="heatmap",e.Track="trackMap"}(E||(E={}));const w=({properties:e,update:t,results:n})=>{const{useS2CellID:a}=e;return h.f?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Grid.Column,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.FlexBox,{direction:u.FlexDirection.Row,alignItems:u.AlignItems.Center,margin:u.ComponentSize.Medium,stretchToFitWidth:!0,style:{marginTop:"0.5em",marginBottom:"1.5em"},testID:"hover-legend-toggle"},r.a.createElement(u.SlideToggle,{active:a,size:u.ComponentSize.ExtraSmall,onChange:()=>{t({useS2CellID:!a})}}),r.a.createElement(u.InputLabel,{style:(o=a,o?{color:u.InfluxColors.Grey95}:{color:u.InfluxColors.Grey65})},"Use S2 Cell ID for lat/lon")),a?r.a.createElement(y,{properties:e,update:t,results:n}):r.a.createElement(x,{properties:e,update:t,results:n})),r.a.createElement(u.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(b.a,{thresholds:e.layers[0].colors.filter((e=>"scale"!==e.type)),onSetThresholds:e=>{t({layers:[{type:"pointMap",colorDimension:{label:"Value"},colorField:"_value",colors:e,isClustered:!1}]})}})))):r.a.createElement(u.Grid.Column,null,r.a.createElement("h4",{className:"view-options--header"},"Customize Geo Options"),r.a.createElement("p",null,"To display properly, your data will need to contain fields named 'lat' and 'lon' or a tag named 's2_cell_id'. For help customizing your query, please see our"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/visualize-data/visualization-types/map/",rel:"noreferrer",target:"_blank"},"documentation")));var o};t.default=e=>{e({type:"geo",name:"Map",graphic:o,initial:l,component:g,options:w,disabled:!h.f})}},278:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"}))),i=n(27),s=n(22),l={type:"table",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},colors:s.DEFAULT_TABLE_COLORS,fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1},c=n(471),u=n(2567),d=n(3),m=n(46),p=n(39),h=n(14),f=n(87),g=n(2645),b=n(2646),v=n(15);const y="column",x={beginDrag:e=>({id:e.id,index:e.index})},E={hover(e,t,n){const a=t.getItem().index,r=e.index;if(a===r)return;const o=Object(f.findDOMNode)(n).getBoundingClientRect(),i=(o.bottom-o.top)/2,s=t.getClientOffset().y-o.top;a<r&&s<i||a>r&&s>i||(e.onMoveColumn(a,r),t.getItem().index=r)}};let w=class extends a.Component{constructor(e){super(e),this.handleColumnRename=e=>{const{onUpdateColumn:t,internalName:n,visible:a}=this.props;t({internalName:n,displayName:e.target.value,visible:a})},this.handleToggleVisible=()=>{const{onUpdateColumn:e,internalName:t,displayName:n,visible:a}=this.props;e({internalName:t,displayName:n,visible:!a})},this.handleColumnRename=this.handleColumnRename.bind(this),this.handleToggleVisible=this.handleToggleVisible.bind(this)}render(){const{internalName:e,displayName:t,connectDragPreview:n,connectDropTarget:a}=this.props;return n(a(r.a.createElement("div",{className:this.columnClassName},r.a.createElement("div",{className:this.labelClassName},this.dragHandle,this.visibilityToggle,r.a.createElement("div",{className:"customizable-field--name"},e)),r.a.createElement(d.Input,{className:"customizable-field--input",id:"internalName",value:t,onChange:this.handleColumnRename,placeholder:`Rename ${e}`,status:this.inputStatus}))))}get inputStatus(){const{visible:e}=this.props;return e?d.ComponentStatus.Default:d.ComponentStatus.Disabled}get dragHandle(){const{connectDragSource:e}=this.props;return e(r.a.createElement("div",{className:"customizable-field--drag"},r.a.createElement("span",{className:"hamburger"})))}get visibilityToggle(){const{visible:e,internalName:t}=this.props;return e?r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to HIDE ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeOpen})):r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to SHOW ${t}`},r.a.createElement(d.Icon,{glyph:d.IconFont.EyeClosed}))}get labelClassName(){const{visible:e}=this.props;return e?"customizable-field--label":"customizable-field--label__hidden"}get columnClassName(){const{isDragging:e}=this.props;return e?"customizable-field dragging":"customizable-field"}};var S,k,C,O,D,T;w=Object(h.a)([v.a,(O=y,D=E,T=e=>({connectDropTarget:e.dropTarget()}),e=>Object(g.a)(O,D,T)(e)),(S=y,k=x,C=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}),e=>Object(b.a)(S,k,C)(e)),Object(h.b)("design:paramtypes",[Object])],w);var j=w,I=n(20),N=n(35),R=n(84);const A=(e,t,n)=>{if(t===n)return e.slice();const a=e[t],r=[...e.slice(0,t),...e.slice(t+1)];return[...r.slice(0,n),a,...r.slice(n)]};n(266);var F=({properties:e,results:t,update:n})=>{var o;const i=(e.fieldOptions||[]).reduce(((e,t)=>(e[t.internalName]=t,e)),{});t.table.columnKeys.filter((e=>!i.hasOwnProperty(e))).filter((e=>!["result","","table","time"].includes(e))).forEach((e=>{i[e]={internalName:e,displayName:e,visible:!0}}));const s=Object.keys(i).map((e=>i[e])),l=Object(a.useCallback)((t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})}),[n,e.decimalPlaces]),h=Object(a.useCallback)((e=>{e===d.AutoInputMode.Auto?l(null):l(2)}),[l]),f=Object(a.useCallback)((t=>{n({tableOptions:Object.assign(Object.assign({},e.tableOptions),t)})}),[n,e.tableOptions]),g=Object(a.useCallback)((t=>{t===p.l?n({colors:e.colors.map((e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.l}):e))}):n({colors:e.colors.map((e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:p.m}):e))})}),[n,e.colors]),b=e=>"time"!==e.internalName&&""!==e.internalName&&"result"!==e.internalName&&"table"!==e.internalName,v=Object(a.useCallback)((e=>{n({fieldOptions:s.map((t=>t.internalName!==e.internalName?t:Object.assign({},e)))})}),[n,s]),y=Object(a.useCallback)(((e,t)=>{n({fieldOptions:A(s.filter(b),e,t)})}),[n,s]),x=(null===(o=e.colors.filter((e=>"scale"!==e.type))[0])||void 0===o?void 0:o.type)||"text",E=Object(a.useMemo)((()=>s.filter(b).map(((e,t)=>r.a.createElement(j,{key:e.internalName,index:t,id:e.internalName,internalName:e.internalName,displayName:e.displayName,visible:e.visible,onUpdateColumn:v,onMoveColumn:y})))),[s]);return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Formatting"),r.a.createElement(d.Form.Element,{label:"Default Sort Field"},r.a.createElement(d.Dropdown,{className:"dropdown-stretch",button:(t,n)=>{var a,o;return r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},(null===(o=null===(a=e.tableOptions)||void 0===a?void 0:a.sortBy)||void 0===o?void 0:o.displayName)||"Choose a sort field")},menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},s.filter((e=>!!e.internalName)).map((t=>{var n,a;return r.a.createElement(d.Dropdown.Item,{key:t.internalName,id:t.internalName,value:t,onClick:e=>{f({sortBy:e})},selected:t.internalName===(null===(a=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===a?void 0:a.internalName)},t.displayName)})))})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:m.a.map((e=>e.text)),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:h,inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{l(Object(N.a)(e))},value:e.decimalPlaces.digits,min:I.q,max:I.p,type:d.InputType.Number})})),r.a.createElement("h5",{className:"view-options--header"},"Colorized Thresholds"),r.a.createElement(R.a,{thresholds:e.colors,onSetThresholds:e=>{n({colors:e})}}),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:x===p.l,onClick:g,value:p.l},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:x===p.m,onClick:g,value:p.m},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement("h5",{className:"view-options--header"},"Column Settings"),r.a.createElement(d.Form.Element,{label:"First Column"},r.a.createElement(d.Form.Box,null,r.a.createElement(d.FlexBox,{direction:d.FlexDirection.Row,margin:d.ComponentSize.Small},r.a.createElement(d.InputLabel,null,"Scroll with table"),r.a.createElement(d.SlideToggle,{active:e.tableOptions.fixFirstColumn,onChange:()=>{f({fixFirstColumn:!e.tableOptions.fixFirstColumn})},size:d.ComponentSize.ExtraSmall}),r.a.createElement(d.InputLabel,null,"Fixed")))),r.a.createElement(d.Form.Element,{label:"Table Columns"},r.a.createElement(u.a,{backend:c.a},r.a.createElement("div",null,E.length?E:r.a.createElement(d.Form.Box,null,r.a.createElement(d.EmptyState,{size:d.ComponentSize.Small},r.a.createElement(d.EmptyState.Text,null,"This query returned no columns")))))))))},_=n(33),M=n(175);var L=({properties:e,result:t})=>{const{theme:n}=Object(a.useContext)(_.a),{timeZone:o}=Object(a.useContext)(_.a),i={fluxResponse:Object(M.a)(t).tableData.join("\n"),layers:[{type:"table",properties:e,timeZone:o,tableTheme:n}]};return r.a.createElement(s.HoverTimeProvider,null,r.a.createElement(s.Plot,{config:i}))};t.default=e=>{e({type:"table",name:"Table",graphic:o,initial:l,component:L,options:F})}},279:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--gauge"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M110.9,110.9c19.9-19.9,19.9-52,0-71.9s-52-19.9-71.9,0s-19.9,52,0,71.9"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"110.9",x2:"35",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"110.9",x2:"115",y2:"115"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"94.5",x2:"127.2",y2:"96.6"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"125.8",y1:"75",x2:"131.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"55.5",x2:"127.2",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"39.1",x2:"115",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"94.5",y1:"28",x2:"96.6",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"75",y1:"24.2",x2:"75",y2:"18.5"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"55.5",y1:"28",x2:"53.4",y2:"22.8"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"39.1",x2:"35",y2:"35"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"55.5",x2:"22.8",y2:"53.4"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"24.2",y1:"75",x2:"18.5",y2:"75"}),r.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"94.5",x2:"22.8",y2:"96.6"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M78.6,73.4L75,56.3l-3.6,17.1c-0.2,0.5-0.3,1-0.3,1.6c0,2.2,1.8,3.9,3.9,3.9s3.9-1.8,3.9-3.9C78.9,74.4,78.8,73.9,78.6,73.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}))),i=n(39),s=n(27),l={type:"gauge",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.e,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(84),d=n(20),m=n(35);var p=({properties:e,update:t})=>{const n=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Prefix"},r.a.createElement(c.Input,{testID:"prefix-input",value:e.prefix,onChange:e=>{t({prefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Value Suffix"},r.a.createElement(c.Input,{testID:"suffix-input",value:e.suffix,onChange:e=>{t({suffix:e.target.value})},placeholder:"%, MPH, etc."})))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Prefix"},r.a.createElement(c.Input,{testID:"tick-prefix-input",value:e.tickPrefix,onChange:e=>{t({tickPrefix:e.target.value})},placeholder:"%, MPH, etc."}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Axis Suffix"},r.a.createElement(c.Input,{testID:"tick-suffix-input",value:e.tickSuffix,onChange:e=>{t({tickSuffix:e.target.value})},placeholder:"%, MPH, etc."})))),e.decimalPlaces&&r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n(null):n(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(m.a)(e))},value:e.decimalPlaces.digits,min:d.q,max:d.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(u.a,{thresholds:e.colors,onSetThresholds:e=>{t({colors:e})}})))))},h=n(22);Math.PI,c.InfluxColors.Grey45,c.InfluxColors.Grey85,c.InfluxColors.Grey55,c.InfluxColors.Grey25,c.InfluxColors.Grey35,Math.PI,c.InfluxColors.Grey55,c.InfluxColors.Grey35,c.InfluxColors.Grey25,c.InfluxColors.White,c.InfluxColors.White;const f=1.5*Math.PI;var g=({result:e,properties:t})=>{const{colors:n,prefix:a,tickPrefix:o,suffix:i,tickSuffix:s,decimalPlaces:l}=t,c={table:e.table,layers:[{type:"gauge",prefix:a,suffix:i,tickPrefix:o,tickSuffix:s,decimalPlaces:l,gaugeColors:n,gaugeSize:f,gaugeTheme:{valuePositionYOffset:1.5}}]};return r.a.createElement(h.Plot,{config:c})};t.default=e=>{e({type:"gauge",name:"Gauge",graphic:o,initial:l,component:g,options:p})}},280:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),i=n(30),s=n(27),l=n(20),c={type:"xy",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(46),p=n(23),h=n(83),f=n(56),g=n(129),b=n(71),v=n(173);const{BASE_2:y,BASE_10:x}=l.a;var E=({properties:e,results:t,update:n})=>{var a,o,i;const s=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n})),l=Object(p.c)(null==t?void 0:t.table,e.xColumn),c=Object(p.d)(null==t?void 0:t.table,e.yColumn),E=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:s,selectedOption:c||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==s.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map((e=>e.text)),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:null!==(i=null===(o=e.colors)||void 0===o?void 0:o.filter((e=>"scale"===e.type)))&&void 0!==i?i:[],onChange:e=>{n({colors:e})}})),r.a.createElement(v.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{E("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{E("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:x,active:e.axes.y.base===x,titleText:"Format values using an International System of Units prefix",onClick:e=>{E("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:y,active:e.axes.y.base===y,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{E("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{E("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{E("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:c,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),E("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(u.Form.Element,{label:"Positioning"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(u.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}))))},w=n(4),S=n(22),k=n(38),C=n(33),O=n(44),D=n(6),T=n(68),j=n(48),I=n(57),N=n(130),R=n(49),A=n(47);const F=(e,t)=>{const n=M(e,t);if(((e,t)=>{if(!e||!t)return!1;const n=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(n.length!==a.length)return!1;for(let a=0;a<n.length;a++){const r=n[a];if(e[r]!==t[r])return!1}return!0})(t.colorMapping,n)){const n=e.columnKeys,a=Object.assign({},e);a.mappings.forEach((e=>{const a=_(e,n),r=t.colors;e.color=r[t.colorMapping[a]].hex}));const r=!1;return{colorMappingForGiraffe:Object.assign({columnKeys:n},a),needsToSaveToIDPE:r}}{const a=e.columnKeys,r=Object.assign({},e),o=!0;r.mappings.forEach((e=>{const r=_(e,a),o=t.colors;e.color=o[n[r]].hex}));const i=Object.assign({},r);return{colorMappingForIDPE:n,colorMappingForGiraffe:i,needsToSaveToIDPE:o}}},_=(e,t)=>{let n="";for(const a of t)"_start"!==a&&"_stop"!==a&&(n+=e[a]+"-");return n},M=(e,t)=>{const n={};return Object.assign({},e).mappings.forEach(((a,r)=>{const o=_(a,e.columnKeys);n[o]=r%t.colors.length})),Object.assign({},n)};var L=n(24);var P=({properties:e,result:t,timeRange:n,annotations:o,cellID:s})=>{const{theme:c,timeZone:u}=Object(a.useContext)(C.a),d=Object(T.a)(e),m=Object(I.a)(e.legendOpacity),h=e.legendColorizeRows,f=e.legendHide,g=e.legendOrientationThreshold,b=Object(N.a)(e),v=Object(w.d)(),y=Object(w.e)(O.a),x=Object(a.useMemo)((()=>Object(p.p)(e.axes.x.bounds)),[e.axes.x.bounds]),E=Object(a.useMemo)((()=>Object(p.q)(e.axes.y.bounds)),[e.axes.y.bounds]),_=Object.keys(t.table.columns),M=e.xColumn||Object(p.c)(t.table,"_time"),P=_.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),$=M&&_.includes(M)&&P&&_.includes(P),B=Object(a.useMemo)((()=>e.colors&&e.colors.length?e.colors.map((e=>e.hex)):i.a.map((e=>e.hex))),[e.colors]),z=Object(p.i)(e.geom),q=Object(a.useMemo)((()=>[...t.fluxGroupKeyUnion,"result"]),[t]),H=t.table.columns[M],[V,U,W]=Object(R.a)(x,"number"===H.type?H.data:null,n),G=Object(a.useMemo)((()=>{if("stacked"===e.position){const{lineData:n}=Object(S.lineTransform)(t.table,M,P,q,B,e.position),[a]=Object(S.createGroupIDColumn)(t.table,q);return Object(S.getDomainDataFromLines)(n,[...a],S.DomainLabel.Y)}const n=t.table.columns[P];return"number"===n.type?n.data:null}),[t.table,M,P,q,B,e.position]),[K,Y,Z]=Object(R.b)(E,G),Q=Object(p.h)("stacked"===e.position?[...q,M,P,`_${S.STACKED_LINE_CUMULATIVE}`,`_${S.LINE_COUNT}`]:[...q,M,P],t.table),X=Object(j.a)(t.table.columns[M].type,{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),J=Object(j.a)(t.table.columns[P].type,{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),ee="light"===c?D.M:D.L;if(!$)return r.a.createElement(k.a,{message:l.e});let te=null;if(Object(L.c)("graphColorMapping")){const[,n]=Object(S.createGroupIDColumn)(t.table,q),{colorMappingForGiraffe:a}=F(n,e);te=a}const ne=Object.assign(Object.assign(Object.assign(Object.assign({},ee),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:V,onSetXDomain:U,onResetXDomain:W,yDomain:K,onSetYDomain:Y,onResetYDomain:Z}),d),{legendColumns:Q,legendOpacity:m,legendOrientationThreshold:g,legendColorizeRows:h,legendHide:f,staticLegend:b,valueFormatters:{[M]:X,[P]:J},layers:[{type:"line",x:M,y:P,fill:q,interpolation:z,position:e.position,colors:B,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]});if(Object(L.c)("graphColorMapping")){const e=Object.assign({},ne.layers[0]);e.colorMapping=te,ne.layers[0]=e}return Object(A.a)(ne,y,s,M,P,q,o,v),r.a.createElement(S.Plot,{config:ne})};t.default=e=>{e({type:"xy",name:"Graph",graphic:o,component:P,initial:c,options:E})}},281:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--scatter"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Scatter",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"77.6",cy:"91.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"47.5",cy:"110.9",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"111.6",cy:"46.1",r:"7.5"}),r.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"17.5",cy:"118.5",r:"7.5"}),r.a.createElement("rect",{x:"77.6",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"108.3",y:"83.6",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"125",y:"54",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("rect",{x:"123.2",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"49.5,68.6 42,81.4 57,81.4 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"61.1,25.7 53.6,38.6 68.6,38.6 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"93.8,19.2 86.3,32.2 101.3,32.2 "}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"78.8,47.5 71.3,60.5 86.3,60.5 "}))),i=n(22),s=n(27),l=n(20),c={type:"scatter",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,symbolColumns:null,xColumn:null,xDomain:null,yColumn:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(3),d=n(67),m=n(174),p=n(56),h=n(71),f=n(49);const g=e=>Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1],b=({setDomain:e,xDomain:t,table:n})=>{const[o,i]=Object(a.useState)(!1),[s]=Object(f.a)(t,n.getColumn("_time","number"));return r.a.createElement("div",{"data-testid":"time-domain-toggle"},r.a.createElement(u.SlideToggle,{size:u.ComponentSize.ExtraSmall,active:o,onChange:()=>{e("x",o?[null,null]:s),i(!o)},disabled:!g(s),testID:"time-domain-toggle-slide"}))};var v=n(46),y=n(6),x=n(23);var E=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter((e=>!["_value","_time","table"].includes(e))),o=a.length?u.ComponentStatus.Default:u.ComponentStatus.Disabled,i=Object(x.c)(t.table,e.xColumn),s=Object(x.d)(t.table,e.yColumn);let l=a,c=a;e.fillColumns&&e.fillColumns.every((e=>a.includes(e)))&&(l=e.fillColumns),e.symbolColumns&&e.symbolColumns.every((e=>a.includes(e)))&&(c=e.symbolColumns);const f=t.table.columnKeys.filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n})),g=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"Symbol Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:c,onSelect:e=>{const t=c.find((t=>t===e));let a=c;a=t?c.filter((t=>t!==e)):[...c,e],n({symbolColumns:a})},buttonStatus:o})),r.a.createElement(u.Form.Element,{label:"Fill Column"},r.a.createElement(u.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find((t=>t===e));let a=l;a=t?l.filter((t=>t!==e)):[...l,e],n({fillColumns:a})},buttonStatus:o})),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:f,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==f.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:f,selectedOption:s||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==f.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:v.a.map((e=>e.text)),selectedOption:Object(v.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),"_time"===i&&r.a.createElement(u.Form.Element,{label:"Auto Scale Domain"},r.a.createElement(b,{xDomain:e.xDomain,setDomain:g,table:t.table})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(u.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{colorSchemes:y.r,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(u.Form.Element,{label:"X Axis Label"},r.a.createElement(u.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(h.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.xDomain,onSetDomain:e=>{g("x",e)},label:"X Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(u.Input,{value:e.yPrefix,onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthSM:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(u.Input,{value:e.ySuffix,onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(h.a,{axisName:"y",columnType:s,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:e.yDomain,onSetDomain:e=>{g("y",e)},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},w=n(4),S=n(38),k=n(68),C=n(48),O=n(57),D=n(33),T=n(47),j=n(30),I=n(44);var N=({properties:e,result:t,timeRange:n})=>{const{theme:o,timeZone:s}=Object(a.useContext)(D.a),c=e.fillColumns||t.fluxGroupKeyUnion||[],u=e.symbolColumns||t.fluxGroupKeyUnion||[],d=e.xColumn||Object(x.c)(t.table),m=e.yColumn||Object(x.d)(t.table),p=t.table.columnKeys,h=Object(k.a)(e),g=Object(O.a)(e.legendOpacity),b=e.legendColorizeRows,v=e.legendOrientationThreshold;let E;"_time"===d&&(E=n);const[N,R,A]=Object(f.a)(e.xDomain,t.table.getColumn(d,"number"),E),[F,_,M]=Object(f.b)(e.yDomain,t.table.getColumn(m,"number")),L=Object(w.d)(),P=Object(w.e)(I.a);if(!(d&&p.includes(d)&&m&&p.includes(m)&&c.every((e=>p.includes(e)))&&u.every((e=>p.includes(e)))))return r.a.createElement(S.a,{message:l.e});const $=e.colors&&e.colors.length?e.colors:j.a.map((e=>e.hex)),B=Object(C.a)(t.table.getColumnType(d),{prefix:e.xPrefix,suffix:e.xSuffix,timeZone:s,timeFormat:e.timeFormat}),z=Object(C.a)(t.table.getColumnType(m),{prefix:e.yPrefix,suffix:e.ySuffix,timeZone:s,timeFormat:e.timeFormat}),q="light"===o?y.M:y.L,H=Object.assign(Object.assign(Object.assign(Object.assign({},q),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:N,onSetXDomain:R,onResetXDomain:A,yDomain:F,onSetYDomain:_,onResetYDomain:M}),h),{legendOpacity:g,legendOrientationThreshold:v,legendColorizeRows:b,valueFormatters:{[d]:B,[m]:z},layers:[{type:"scatter",x:d,y:m,colors:$,fill:c,symbol:u}]});return P&&(H.interactionHandlers={singleClick:()=>{L(Object(T.b)("Scatter Plot"))}}),r.a.createElement(i.Plot,{config:H})};t.default=e=>{e({type:"scatter",name:"Scatter",graphic:o,initial:c,component:N,options:E})}},283:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--band-chart"},r.a.createElement("svg",{id:"Band Chart",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-e",d:"M10,127V52.6v-8c0-1.8,0.8-3.5,2.2-4.6l25-18.3c1.6-1.2,3.7-0.9,5,0.5l24.6,26.9c1.8,1.9,4.5,2.1,6.5,0.5\n\tL104,23c1.8-1.5,7.1-1.5,8.3,0.6l16.5,27c0.7,1.2,2,1.9,3.3,1.9h7.9v5.5V127H10z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M39.5,22c0.8,0,1.5,0.3,2.1,1l24.6,26.9c1.1,1.2,2.7,1.9,4.3,1.9c1.3,0,2.6-0.5,3.7-1.3l30.5-26.7\n\tc0.6-0.5,1.9-0.8,3.3-0.8c1.7,0,3.1,0.5,3.5,1.2l16.5,27c0.9,1.5,2.5,2.4,4.2,2.4h6.9v4.5V126H11V52.6v-8c0-1.5,0.7-2.9,1.8-3.7\n\tl25-18.3C38.3,22.2,38.9,22,39.5,22 M39.5,21c-0.8,0-1.5,0.2-2.2,0.7L12.2,40c-1.4,1-2.2,2.7-2.2,4.6v8V127h130V58.1v-5.5h-7.9\n\tc-1.3,0-2.6-0.7-3.3-1.9l-16.5-27c-0.7-1.1-2.5-1.7-4.4-1.7c-1.6,0-3.1,0.4-4,1.1L73.5,49.7c-0.9,0.7-1.9,1.1-3,1.1\n\tc-1.3,0-2.6-0.5-3.5-1.6L42.3,22.3C41.5,21.4,40.5,21,39.5,21L39.5,21z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-e",d:"M10,91h0.2c1.2,0,2.4-0.4,3.3-1.2L35.6,71c2-1.7,5-1.6,6.9,0.3L66.6,96c2.1,2.1,5.6,2,7.5-0.3l29.2-34.4\n\tc2.2-2.6,6.4-2.3,8.2,0.6l15,24.6c0.9,1.5,2.5,2.4,4.3,2.4h9.3"}))),i=n(30),s=n(27),l=n(20),c={type:"band",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.a,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,staticLegend:{colorizeRows:l.f,heightRatio:l.v,opacity:l.h,orientationThreshold:l.l,show:l.x,widthRatio:l.z},note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},hoverDimension:"auto",upperColumn:"",mainColumn:s.b,lowerColumn:""},u=n(3),d=n(67),m=n(46),p=n(23),h=n(83),f=n(56),g=n(129),b=n(71);const{BASE_2:v,BASE_10:y}=l.a;var x=({properties:e,results:t,update:n})=>{var a;const o=((null===(a=null==t?void 0:t.table)||void 0===a?void 0:a.columnKeys)||[]).filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n})),i=Object(p.c)(null==t?void 0:t.table,e.xColumn),s=Object(p.d)(null==t?void 0:t.table,e.yColumn),l=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},c=e=>{n({upperColumn:e.target.value})},x=e=>{n({mainColumn:e.target.value})},E=e=>{n({lowerColumn:e.target.value})};return r.a.createElement(u.Grid,null,r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(u.Form.Element,{label:"X Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Y Column"},r.a.createElement(u.SelectDropdown,{options:o,selectedOption:s||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==o.length?u.ComponentStatus.Disabled:u.ComponentStatus.Default})),r.a.createElement(u.Form.Element,{label:"Time Format"},r.a.createElement(u.SelectDropdown,{options:m.a.map((e=>e.text)),selectedOption:Object(m.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Aggregate Functions"),r.a.createElement(u.Form.Element,{label:"Upper Column Name"},r.a.createElement(u.Input,{onChange:c,onFocus:c,placeholder:"Please enter upper column's function name",type:u.InputType.Text,value:e.upperColumn})),r.a.createElement(u.Form.Element,{label:"Main Column Name"},r.a.createElement(u.Input,{onChange:x,onFocus:x,placeholder:"Please enter main column's function name",status:e.mainColumn.length?u.ComponentStatus.Default:u.ComponentStatus.Error,type:u.InputType.Text,value:e.mainColumn})),r.a.createElement(u.Form.Element,{label:"Lower Column Name"},r.a.createElement(u.Input,{onChange:E,onFocus:E,placeholder:"Please enter lower column's function name",type:u.InputType.Text,value:e.lowerColumn}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&r.a.createElement(u.Form.Element,{label:"Interpolation"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:return"Linear"}})(e.geom)),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),r.a.createElement(u.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),r.a.createElement(u.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),r.a.createElement(u.Form.Element,{label:"Line Colors"},r.a.createElement(h.a,{value:e.colors.filter((e=>"scale"===e.type)),onChange:e=>{n({colors:e})}})),r.a.createElement("br",null),r.a.createElement(u.Form.Element,{label:"Hover Dimension"},r.a.createElement(u.Dropdown,{button:(t,n)=>r.a.createElement(u.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(u.Dropdown.Menu,{onCollapse:t},r.a.createElement(u.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(u.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(u.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(u.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(u.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:i,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(u.Form.Element,{label:"Y Axis Label"},r.a.createElement(u.Input,{value:e.axes.y.label,onChange:e=>{l("y",{label:e.target.value})}})),r.a.createElement(u.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(u.SelectGroup,{shape:u.ButtonShape.StretchToFit},r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{l("y",{base:e})}},"None"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:y,active:e.axes.y.base===y,titleText:"Format values using an International System of Units prefix",onClick:e=>{l("y",{base:e})}},"SI"),r.a.createElement(u.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:v,active:e.axes.y.base===v,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{l("y",{base:e})}},"Binary"))),r.a.createElement(u.Grid.Row,null,r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(u.Input,{value:e.axes.y.prefix,onChange:e=>{l("y",{prefix:e.target.value})}}))),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Six},r.a.createElement(u.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(u.Input,{value:e.axes.y.suffix,onChange:e=>{l("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:s,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(d.a,{domain:Object(p.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),l("y",{bounds:t})},label:"Y Axis Domain"})),r.a.createElement(u.Grid.Column,{widthXS:u.Columns.Twelve,widthMD:u.Columns.Six,widthLG:u.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(g.a,{properties:e,results:t,update:n}))))},E=n(22),w=n(44),S=n(4),k=n(47),C=n(38),O=n(68),D=n(48),T=n(57),j=n(130),I=n(49),N=n(6),R=n(33);var A=({properties:e,result:t,annotations:n,cellID:o,timeRange:s})=>{const c=e.mainColumn,u=Object(j.a)(e),{theme:d,timeZone:m}=Object(a.useContext)(R.a),h=Object(S.d)(),f=Object(O.a)(e),g=Object(T.a)(e.legendOpacity),b=e.legendOrientationThreshold,v=e.legendColorizeRows,y=e.legendHide,x=Object(a.useMemo)((()=>Object(p.p)(e.axes.x.bounds)),[e.axes.x.bounds]),A=Object(a.useMemo)((()=>Object(p.q)(e.axes.y.bounds)),[e.axes.y.bounds]),F=e.xColumn||Object(p.c)(t.table,"_time"),_=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(p.d)(t.table),M=t.table.columnKeys,L=F&&M.includes(F)&&_&&M.includes(_),P=e.colors&&e.colors.length?e.colors.map((e=>e.hex)):i.a.map((e=>e.hex)),$=Object(p.i)(e.geom),B=[...t.fluxGroupKeyUnion,"result"],[z,q,H]=Object(I.a)(x,t.table.getColumn(F,"number"),s),V=Object(a.useMemo)((()=>t.table.getColumn(_,"number")),[t.table,_]),[U,W,G]=Object(I.b)(A,V),K=Object(p.h)([...B,F,_],t.table),Y=Object(S.e)(w.a),Z=Object(D.a)(t.table.getColumnType(F),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:m,timeFormat:e.timeFormat}),Q=Object(D.a)(t.table.getColumnType(_),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:m,timeFormat:e.timeFormat}),X="light"===d?N.M:N.L;if(!L)return r.a.createElement(C.a,{message:l.e});const J=Object.assign(Object.assign(Object.assign(Object.assign({},X),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:z,onSetXDomain:q,onResetXDomain:H,yDomain:U,onSetYDomain:W,onResetYDomain:G}),f),{legendColumns:K,legendOpacity:g,legendOrientationThreshold:b,legendColorizeRows:v,legendHide:y,staticLegend:u,valueFormatters:{[F]:Z,[_]:Q},layers:[{type:"band",x:F,y:_,fill:B,interpolation:$,colors:P,lineWidth:l.c,lineOpacity:l.b,shadeOpacity:l.d,hoverDimension:e.hoverDimension,upperColumnName:e.upperColumn,mainColumnName:c,lowerColumnName:e.lowerColumn}]});return Object(k.a)(J,Y,o,F,_,B,n,h,"band"),r.a.createElement(E.Plot,{config:J})};t.default=e=>{e({type:"band",name:"Band",graphic:o,initial:c,component:A,options:x})}},284:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--heatmap"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",{id:"r"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"127.5,127.5 127.5,112.5 112.5,112.5 112.5,127.5 97.5,127.5 97.5,142.5 112.5,142.5 127.5,142.5\n\t\t142.5,142.5 142.5,127.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"67.5,127.5 52.5,127.5 52.5,112.5 37.5,112.5 37.5,97.5 22.5,97.5 22.5,112.5 22.5,127.5 7.5,127.5\n\t\t7.5,142.5 22.5,142.5 37.5,142.5 52.5,142.5 67.5,142.5 82.5,142.5 82.5,127.5 82.5,112.5 67.5,112.5 \t"})),r.a.createElement("g",{id:"rl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M126,114v13.5v1.5h1.5H141v12h-13.5h-15H99v-12h13.5h1.5v-1.5V114H126 M127.5,112.5h-15v15h-15v15h15h15h15\n\t\t\tv-15h-15V112.5L127.5,112.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M36,99v13.5v1.5h1.5H51v13.5v1.5h1.5h15H69v-1.5V114h12v13.5V141H67.5h-15h-15h-15H9v-12h13.5H24v-1.5v-15V99\n\t\t\tH36 M37.5,97.5h-15v15v15h-15v15h15h15h15h15h15v-15v-15h-15v15h-15v-15h-15V97.5L37.5,97.5z"}))),r.a.createElement("g",{id:"g"},r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"97.5,97.5 97.5,82.5 82.5,82.5 82.5,97.5 67.5,97.5 52.5,97.5 37.5,97.5 37.5,112.5 52.5,112.5\n\t\t52.5,127.5 67.5,127.5 67.5,112.5 82.5,112.5 82.5,127.5 82.5,142.5 97.5,142.5 97.5,127.5 112.5,127.5 112.5,112.5 97.5,112.5\n\t\t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"127.5,82.5 127.5,97.5 112.5,97.5 112.5,112.5 127.5,112.5 127.5,127.5 142.5,127.5 142.5,112.5\n\t\t142.5,97.5 142.5,82.5 \t"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"37.5,67.5 22.5,67.5 22.5,82.5 7.5,82.5 7.5,97.5 7.5,112.5 7.5,127.5 22.5,127.5 22.5,112.5\n\t\t22.5,97.5 37.5,97.5 37.5,82.5 \t"})),r.a.createElement("g",{id:"gl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M96,84v13.5v15v1.5h1.5H111v12H97.5H96v1.5V141H84v-13.5v-15V111h-1.5h-15H66v1.5V126H54v-13.5V111h-1.5H39\n\t\t\tV99h13.5h15h15H84v-1.5V84H96 M97.5,82.5h-15v15h-15h-15h-15v15h15v15h15v-15h15v15v15h15v-15h15v-15h-15v-15V82.5L97.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M141,84v13.5v15V126h-12v-13.5V111h-1.5H114V99h13.5h1.5v-1.5V84H141 M142.5,82.5h-15v15h-15v15h15v15h15v-15\n\t\t\tv-15V82.5L142.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M36,69v13.5V96H22.5H21v1.5v15V126H9v-13.5v-15V84h13.5H24v-1.5V69H36 M37.5,67.5h-15v15h-15v15v15v15h15v-15\n\t\t\tv-15h15v-15V67.5L37.5,67.5z"}))),r.a.createElement("g",{id:"b"},r.a.createElement("rect",{x:"67.5",y:"82.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"52.5,67.5 37.5,67.5 37.5,82.5 37.5,97.5 52.5,97.5 52.5,82.5 67.5,82.5 67.5,67.5 \t"}),r.a.createElement("rect",{x:"127.5",y:"67.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"22.5,52.5 7.5,52.5 7.5,67.5 22.5,67.5 37.5,67.5 37.5,52.5 \t"}),r.a.createElement("rect",{x:"67.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"112.5,67.5 97.5,67.5 82.5,67.5 82.5,82.5 97.5,82.5 97.5,97.5 97.5,112.5 112.5,112.5 112.5,97.5\n\t\t127.5,97.5 127.5,82.5 112.5,82.5 \t"}),r.a.createElement("rect",{x:"82.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"112.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"37.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"127.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"22.5",y:"22.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),r.a.createElement("rect",{x:"67.5",y:"7.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"})),r.a.createElement("g",{id:"bl"},r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,84v12H69V84H81 M82.5,82.5h-15v15h15V82.5L82.5,82.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M66,69v12H52.5H51v1.5V96H39V82.5V69h13.5H66 M67.5,67.5h-15h-15v15v15h15v-15h15V67.5L67.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,69v12h-12V69H141 M142.5,67.5h-15v15h15V67.5L142.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,54v12H22.5H9V54h13.5H36 M37.5,52.5h-15h-15v15h15h15V52.5L37.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,54v12H69V54H81 M82.5,52.5h-15v15h15V52.5L82.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M111,69v13.5V84h1.5H126v12h-13.5H111v1.5V111H99V97.5v-15V81h-1.5H84V69h13.5H111 M112.5,67.5h-15h-15v15h15\n\t\t\tv15v15h15v-15h15v-15h-15V67.5L112.5,67.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M96,39v12H84V39H96 M97.5,37.5h-15v15h15V37.5L97.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M126,54v12h-12V54H126 M127.5,52.5h-15v15h15V52.5L127.5,52.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M51,39v12H39V39H51 M52.5,37.5h-15v15h15V37.5L52.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,39v12h-12V39H141 M142.5,37.5h-15v15h15V37.5L142.5,37.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,24v12H24V24H36 M37.5,22.5h-15v15h15V22.5L37.5,22.5z"})),r.a.createElement("g",null,r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,9v12H69V9H81 M82.5,7.5h-15v15h15V7.5L82.5,7.5z"}))))),i=n(22),s=n(20),l={queries:[],type:"heatmap",shape:"chronograf-v2",xColumn:null,yColumn:null,xDomain:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",colors:i.INFERNO,legendColorizeRows:s.f,legendOpacity:s.h,legendOrientationThreshold:s.l,binSize:10,note:"",showNoteWhenEmpty:!1,generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},c=n(3),u=n(46),d=n(35),m=n(23),p=n(67),h=n(174),f=n(56),g=n(71);const b=[{name:"Magma",colors:i.MAGMA},{name:"Inferno",colors:i.INFERNO},{name:"Viridis",colors:i.VIRIDIS},{name:"Plasma",colors:i.PLASMA}];var v=({properties:e,results:t,update:n})=>{const[o,i]=Object(a.useState)(c.ComponentStatus.Default),[s,l]=Object(a.useState)(e.binSize),v=Object(m.c)(t.table,e.xColumn),y=Object(m.d)(t.table,e.yColumn),x=t.table.columnKeys.filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n})),E=(e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:x,selectedOption:v||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==x.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Y Column"},r.a.createElement(c.SelectDropdown,{options:x,selectedOption:y||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==x.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Time Format"},r.a.createElement(c.SelectDropdown,{options:u.a.map((e=>e.text)),selectedOption:Object(u.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(h.a,{colorSchemes:b,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Bin Size"},r.a.createElement(c.Input,{status:o,value:s,type:c.InputType.Number,onChange:e=>{const t=Object(d.a)(e);l(t),isNaN(t)||t<5?i(c.ComponentStatus.Error):(i(c.ComponentStatus.Default),n({binSize:t}))},testID:"bin-size-input"}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),r.a.createElement(g.a,{axisName:"x",columnType:v,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.xDomain,onSetDomain:e=>{E("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(c.Form.Element,{label:"Y Axis Label"},r.a.createElement(c.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Prefix"},r.a.createElement(c.Input,{value:e.yPrefix,placeholder:"%, MPH, etc.",onChange:e=>{n({yPrefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Y Tick Suffix"},r.a.createElement(c.Input,{value:e.ySuffix,placeholder:"%, MPH, etc.",onChange:e=>{n({ySuffix:e.target.value})}})))),r.a.createElement(g.a,{axisName:"y",columnType:y,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(p.a,{domain:e.yDomain,onSetDomain:e=>{E("y",e)},label:"Y Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(f.a,{properties:e,results:t,update:n}))))},y=n(4),x=n(38),E=n(68),w=n(48),S=n(57),k=n(49),C=n(47),O=n(6),D=n(30),T=n(33),j=n(44);var I=({result:e,properties:t,timeRange:n})=>{const{theme:o,timeZone:l}=Object(a.useContext)(T.a),c=e.table.columnKeys,u=t.xColumn||["_time","_start","_stop"].filter((t=>e.table.columnKeys.includes(t)))[0]||e.table.columnKeys[0],d=t.yColumn||["_value"].filter((t=>e.table.columnKeys.includes(t)))[0]||e.table.columnKeys[0],m=Object(E.a)(t),p=Object(S.a)(t.legendOpacity),h=t.legendColorizeRows,f=t.legendOrientationThreshold,[g,b,v]=Object(k.a)(t.xDomain,e.table.getColumn(u,"number"),n),[I,N,R]=Object(k.b)(t.yDomain,e.table.getColumn(d,"number")),A=Object(y.d)(),F=Object(y.e)(j.a);if(!(u&&d&&c.includes(d)&&c.includes(u)))return r.a.createElement(x.a,{message:s.e});const _=t.colors&&t.colors.length?t.colors:D.a.map((e=>e.hex)),M=Object(w.a)(e.table.getColumnType(u),{prefix:t.xPrefix,suffix:t.xSuffix,timeZone:l,timeFormat:t.timeFormat}),L=Object(w.a)(e.table.getColumnType(d),{prefix:t.yPrefix,suffix:t.ySuffix,timeZone:l,timeFormat:t.timeFormat}),P="light"===o?O.M:O.L,$=Object.assign(Object.assign(Object.assign(Object.assign({},P),{table:e.table,xAxisLabel:t.xAxisLabel,yAxisLabel:t.yAxisLabel,xDomain:g,onSetXDomain:b,onResetXDomain:v,yDomain:I,onSetYDomain:N,onResetYDomain:R}),m),{legendOpacity:p,legendOrientationThreshold:f,legendColorizeRows:h,valueFormatters:{[u]:M,[d]:L},layers:[{type:"heatmap",x:u,y:d,colors:_,binSize:t.binSize}]});return F&&($.interactionHandlers={singleClick:()=>{A(Object(C.b)("Heatmap"))}}),r.a.createElement(i.Plot,{config:$})};t.default=e=>{e({type:"heatmap",name:"Heatmap",graphic:o,initial:l,component:I,options:v})}},285:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--histogram"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"5"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"24"}),r.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"13"}),r.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"30"}),r.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"52"}),r.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"21"}),r.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"32"}),r.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"31"}),r.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"31"}),r.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"10"}),r.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"32"}),r.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"16"}),r.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"16"}),r.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"12"}),r.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"10"}),r.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"5"})))),i=n(30),s=n(20),l={queries:[],type:"histogram",shape:"chronograf-v2",xColumn:"_value",xDomain:null,xAxisLabel:"",fillColumns:null,position:"stacked",binCount:30,colors:i.a,legendColorizeRows:s.f,legendOpacity:s.h,legendOrientationThreshold:s.l,note:"",showNoteWhenEmpty:!1},c=n(3),u=n(67),d=n(23),m=n(83),p=n(56),h=n(35);var f=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter((e=>!["_value","_time","table"].includes(e))),o=a.length?c.ComponentStatus.Default:c.ComponentStatus.Disabled,i=Object(d.c)(t.table,e.xColumn),s=t.table.columnKeys.filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}));let l=t.fluxGroupKeyUnion;e.fillColumns&&e.fillColumns.every((e=>a.includes(e)))&&(l=e.fillColumns);return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(c.Form.Element,{label:"X Column"},r.a.createElement(c.SelectDropdown,{options:s,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),r.a.createElement(c.Form.Element,{label:"Group By"},r.a.createElement(c.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find((t=>t===e));let a=l;a=t?l.filter((t=>t!==e)):[...l,e],n({fillColumns:a})},buttonStatus:o}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(c.Form.Element,{label:"Color Scheme"},r.a.createElement(m.a,{value:e.colors,onChange:e=>{n({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Positioning"},r.a.createElement(c.Dropdown,{button:(t,n)=>r.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(c.Dropdown.Menu,{onCollapse:t},r.a.createElement(c.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(c.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))})),r.a.createElement(c.Form.Element,{label:"Bins"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.binCount?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n({binCount:null}):n({binCount:30})},inputComponent:r.a.createElement(c.Input,{name:"binCount",value:e.binCount,placeholder:"Enter a number",type:c.InputType.Number,min:0,onChange:e=>{n({binCount:Object(h.a)(e)})}})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(c.Form.Element,{label:"X Axis Label"},r.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>n({xAxisLabel:e.target.value})})),r.a.createElement(u.a,{domain:e.xDomain,onSetDomain:e=>{((e,t)=>{let a;if(t){const[e,n]=t;a=[e,n]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})})("x",e)},label:"X Axis Domain"})),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(p.a,{properties:e,results:t,update:n}))))},g=n(4),b=n(22),v=n(38),y=n(57),x=n(49),E=n(48),w=n(33),S=n(47),k=n(6),C=n(44);var O=({result:e,properties:t})=>{const{theme:n,timeZone:o}=Object(a.useContext)(w.a),l=e.table.columnKeys,c=t.fillColumns||e.fluxGroupKeyUnion,u=Object(y.a)(t.legendOpacity),d=t.legendColorizeRows,m=t.legendOrientationThreshold,[p,h,f]=Object(x.a)(t.xDomain,e.table.getColumn(t.xColumn,"number")),O=Object(g.d)(),D=Object(g.e)(C.a);if(!(t.xColumn&&l.includes(t.xColumn)&&c.every((e=>l.includes(e)))))return r.a.createElement(v.a,{message:s.e});const T=t.colors&&t.colors.length?t.colors.map((e=>e.hex)):i.a.map((e=>e.hex)),j=Object(E.a)(e.table.getColumnType(t.xColumn),{timeZone:o}),I="light"===n?k.M:k.L,N=Object.assign(Object.assign({},I),{table:e.table,xAxisLabel:t.xAxisLabel,xDomain:p,onSetXDomain:h,onResetXDomain:f,valueFormatters:{[t.xColumn]:j},legendOpacity:u,legendOrientationThreshold:m,legendColorizeRows:d,layers:[{type:"histogram",x:t.xColumn,colors:T,fill:t.fillColumns||[],binCount:t.binCount,position:t.position}]});return D&&(N.interactionHandlers={singleClick:()=>{O(Object(S.b)("Histogram"))}}),r.a.createElement(b.Plot,{config:N})};t.default=e=>{e({type:"histogram",name:"Histogram",graphic:o,initial:l,component:O,options:f})}},286:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--line vis-graphic--line-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--line vis-graphic--line-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--fill vis-graphic--fill-b",width:"44",height:"34"}),r.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--fill vis-graphic--fill-b",width:"50",height:"33"}),r.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"33"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--line vis-graphic--line-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--line vis-graphic--line-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"10",height:"33"}),r.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"14",height:"33"}),r.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--fill vis-graphic--fill-c",width:"23",height:"33"}),r.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--fill vis-graphic--fill-c",width:"71",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--line vis-graphic--line-a",width:"13",height:"34"}),r.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"20",height:"33"}),r.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"56",height:"33"}),r.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"22",height:"33"}),r.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"32",height:"33"}),r.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--fill vis-graphic--fill-a",width:"13",height:"34"}))),i=n(22),s=n(27),l=n(20),c={type:"mosaic",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"last"}],aggregateWindow:{period:s.a,fillValues:s.c}}}],colors:i.NINETEEN_EIGHTY_FOUR,legendColorizeRows:l.f,legendOpacity:l.h,legendOrientationThreshold:l.l,note:"",showNoteWhenEmpty:!1,fillColumns:null,xColumn:null,xDomain:null,ySeriesColumns:[],yLabelColumns:[],yLabelColumnSeparator:"",yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},u=n(4),d=n(38),m=n(68),p=n(48),h=n(57),f=n(49),g=n(23),b=n(33),v=n(47),y=n(6),x=n(30),E=n(44);var w=({properties:e,result:t,timeRange:n})=>{const{theme:o,timeZone:s}=Object(a.useContext)(b.a),c=e.fillColumns||[],w=e.xColumn||Object(g.c)(t.table),S=e.ySeriesColumns||[],k=t.table.columnKeys,C=Object(m.a)(e),O=Object(h.a)(e.legendOpacity),D=e.legendColorizeRows,T=e.legendOrientationThreshold,[j,I,N]=Object(f.a)(e.xDomain,t.table.getColumn(w,"number"),n),[R,A,F]=Object(f.b)(e.yDomain,t.table.getColumn(S[0],"string")),_=Object(u.d)(),M=Object(u.e)(E.a);if(!(w&&k.includes(w)&&S.every((e=>k.includes(e)))&&0!==c.length&&c.every((e=>k.includes(e)))))return r.a.createElement(d.a,{message:l.e});const L=e.colors&&e.colors.length?e.colors:x.a.map((e=>e.hex)),P=Object(p.a)(t.table.getColumnType(w),{timeZone:s,timeFormat:e.timeFormat}),$="light"===o?y.M:y.L,B=Object.assign(Object.assign(Object.assign(Object.assign({},$),{table:t.table,xAxisLabel:e.xAxisLabel,yAxisLabel:e.yAxisLabel,xDomain:j,onSetXDomain:I,onResetXDomain:N,yDomain:R,onSetYDomain:A,onResetYDomain:F}),C),{legendOpacity:O,legendOrientationThreshold:T,legendColorizeRows:D,valueFormatters:{[w]:P},layers:[{type:"mosaic",x:w,y:S,yLabelColumns:e.yLabelColumns,yLabelColumnSeparator:e.yLabelColumnSeparator,colors:L,fill:c}]});return M&&(B.interactionHandlers={singleClick:()=>{_(Object(v.b)("Mosaic"))}}),r.a.createElement(i.Plot,{config:B})},S=n(3),k=n(83),C=n(56),O=n(71),D=n(46);var T=e=>{var t;const{properties:n,results:a,update:o}=e;let i=[];const s=a.table.columnKeys.filter((e=>"result"!==e&&"table"!==e&&"string"===a.table.getColumnType(e))),l=((null===(t=null==a?void 0:a.table)||void 0===t?void 0:t.columnKeys)||[]).filter((e=>"_time"===e));if(Array.isArray(n.fillColumns)&&n.fillColumns.every((e=>s.includes(e))))i=n.fillColumns;else for(const e of s)if(e.startsWith("_value")){i=[e];break}const c=Object(g.c)(a.table,n.xColumn),u=Object(g.f)(a.table,n.ySeriesColumns),d=Object(g.e)(n.yLabelColumns,u),m=n.colors.map((e=>({hex:e}))),p=(e,t,n)=>{const a=!!Array.isArray(t)&&t.find((e=>e===n));let r=t||[];return r=a?t.filter((e=>e!==n)):e.includes(n)?[...r,n]:r,r};return r.a.createElement(S.Grid,null,r.a.createElement(S.Grid.Row,null,r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(S.Form.Element,{label:"Fill Column"},r.a.createElement(S.SelectDropdown,{options:s,selectedOption:(null==i?void 0:i[0])||"Build a query before selecting...",onSelect:e=>{o({fillColumns:[e]})},testID:"dropdown-fill",buttonStatus:0==s.length?S.ComponentStatus.Disabled:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"X Column"},r.a.createElement(S.SelectDropdown,{options:l,selectedOption:c||"Build a query before selecting...",onSelect:e=>{o({xColumn:e})},testID:"dropdown-x",buttonStatus:0===l.length?S.ComponentStatus.Disabled:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"Y Columns"},r.a.createElement(S.MultiSelectDropdown,{options:s,selectedOptions:u,onSelect:e=>{const t=!!Array.isArray(u)&&u.find((t=>t===e));let n=u||[];n=t?u.filter((t=>t!==e)):[...n,e];const a=p(n,d,e);o({yLabelColumns:a,ySeriesColumns:n})},buttonStatus:S.ComponentStatus.Default})),r.a.createElement(S.Form.Element,{label:"Time Format"},r.a.createElement(S.SelectDropdown,{options:D.a.map((e=>e.text)),selectedOption:Object(D.b)(n.timeFormat),onSelect:e=>{o({timeFormat:e})}}))),r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(S.Form.Element,{label:"Color Scheme"},r.a.createElement(k.a,{value:m,onChange:e=>{o({colors:e.map((e=>e.hex))})}})),r.a.createElement("h5",{className:"view-options--header"},"X-Axis"),r.a.createElement(S.Form.Element,{label:"X Axis Label"},r.a.createElement(S.Input,{value:n.xAxisLabel,onChange:e=>o({xAxisLabel:e.target.value})})),r.a.createElement(O.a,{axisName:"x",columnType:c,label:"Generate X-Axis Tick Marks",properties:n,results:a,update:o}),r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(S.Form.Element,{label:"Y Axis Label"},r.a.createElement(S.Input,{value:n.yAxisLabel,onChange:e=>o({yAxisLabel:e.target.value})})),r.a.createElement(S.Form.Element,{label:"Y Label Separator"},r.a.createElement(S.Input,{value:n.yLabelColumnSeparator,onChange:e=>o({yLabelColumnSeparator:e.target.value})})),r.a.createElement(S.Form.Element,{label:"Y Labels"},r.a.createElement(S.MultiSelectDropdown,{options:u,selectedOptions:d,onSelect:e=>{o({yLabelColumns:p(u,d,e)})},buttonStatus:S.ComponentStatus.Default}))),r.a.createElement(S.Grid.Column,{widthXS:S.Columns.Twelve,widthMD:S.Columns.Six,widthLG:S.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(C.a,{properties:n,results:a,update:o}))))};t.default=e=>{e({type:"mosaic",name:"Mosaic",graphic:o,component:w,initial:c,options:T})}},287:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"SingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(27),s=n(39),l={type:"single-stat",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.c}}}],colors:s.g,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(20),d=n(35),m=n(84);var p=({properties:e,update:t})=>{var n;const o=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})},i=Object(a.useCallback)((n=>{t({colors:e.colors.map((e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:n===s.l?s.l:s.m}):e))})}),[t,e.colors]),l=(null===(n=e.colors.filter((e=>"scale"!==e.type))[0])||void 0===n?void 0:n.type)||"text";return r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Prefix"},r.a.createElement(c.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{t({prefix:e.target.value})}}))),r.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Suffix"},r.a.createElement(c.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{t({suffix:e.target.value})}}))))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Decimal Places"},r.a.createElement(c.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?o(null):o(2)},inputComponent:r.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{o(Object(d.a)(e))},value:e.decimalPlaces.digits,min:u.q,max:u.p,type:c.InputType.Number})}))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(m.a,{thresholds:e.colors.filter((e=>"scale"!==e.type)),onSetThresholds:e=>{t({colors:e})}})),r.a.createElement(c.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(c.SelectGroup,{shape:c.ButtonShape.StretchToFit},r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:l===s.l,onClick:i,value:s.l},"Background"),r.a.createElement(c.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:l===s.m,onClick:i,value:s.m},"Text"))))))},h=n(4),f=n(144),g=n(47),b=n(22),v=(n(264),n(44));var y=({properties:e,result:t})=>{const{prefix:n,suffix:a,colors:o,decimalPlaces:i}=e,s=Object(h.d)(),l=Object(h.e)(v.a),c=Object(b.getLatestValues)(t.table)[0],{bgColor:u,textColor:d}=Object(f.a)({colors:o,lastValue:c,cellType:"single-stat"}),m={table:t.table,showAxes:!1,layers:[{type:"single stat",prefix:n,suffix:a,decimalPlaces:i,textColor:d,textOpacity:100,backgroundColor:u||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}}]};return l&&(m.interactionHandlers={singleClick:()=>{s(Object(g.b)("Single Stat"))}}),r.a.createElement(b.Plot,{config:m})};t.default=e=>{e({type:"single-stat",name:"Single Stat",graphic:o,component:y,initial:l,options:p})}},288:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--line-plus-single-stat"},r.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"LineAndSingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},r.a.createElement("g",null,r.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,88.2 111.5,95.5 75,25 38.5,54.7 2,66.7 2,125 148,125"}),r.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,66.7 38.5,54.7 75,25 111.5,95.5 148,88.2"})),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),i=n(39),s=n(30),l=n(27),c=n(20),u={type:"line-plus-single-stat",shape:"chronograf-v2",xColumn:null,yColumn:null,position:"overlaid",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:l.a,fillValues:l.c}}}],legendColorizeRows:c.f,legendOpacity:c.h,legendOrientationThreshold:c.l,staticLegend:{heightRatio:c.v,opacity:c.h,orientationThreshold:c.l,show:c.x,widthRatio:c.z},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},colors:[...s.a,...i.g],prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",decimalPlaces:{isEnforced:!0,digits:2},generateXAxisTicks:[],generateYAxisTicks:[],xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null},d=n(3),m=n(67),p=n(35),h=n(46),f=n(23),g=n(83),b=n(71),v=n(173),y=n(84),x=n(56),E=n(129);const{BASE_2:w,BASE_10:S}=c.a;var k=({properties:e,results:t,update:n})=>{var o;const s=t.table.columnKeys.filter((e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n})),l=Object(f.c)(t.table,e.xColumn),u=Object(f.d)(t.table,e.yColumn),k=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},C=t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})},O=t=>{var a;"scale"===(null===(a=t[0])||void 0===a?void 0:a.type)?n({colors:[...e.colors.filter((e=>"scale"!==e.type)),...t]}):n({colors:[...e.colors.filter((e=>"scale"===e.type)),...t]})},D=Object(a.useCallback)((t=>{n({colors:e.colors.map((e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:t===i.l?i.l:i.m}):e))})}),[n,e.colors]),T=(null===(o=e.colors.filter((e=>"scale"!==e.type))[0])||void 0===o?void 0:o.type)||"text";return r.a.createElement(d.Grid,null,r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Data"),r.a.createElement(d.Form.Element,{label:"X Column"},r.a.createElement(d.SelectDropdown,{options:s,selectedOption:l||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==s.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Y Column"},r.a.createElement(d.SelectDropdown,{options:s,selectedOption:u||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==s.length?d.ComponentStatus.Disabled:d.ComponentStatus.Default})),r.a.createElement(d.Form.Element,{label:"Time Format"},r.a.createElement(d.SelectDropdown,{options:h.a.map((e=>e.text)),selectedOption:Object(h.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Options"),r.a.createElement(d.Form.Element,{label:"Line Colors"},r.a.createElement(g.a,{value:e.colors.filter((e=>"scale"===e.type)),onChange:O})),r.a.createElement(v.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),r.a.createElement("br",null),r.a.createElement(d.Form.Element,{label:"Hover Dimension"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),r.a.createElement(d.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X-Axis"),r.a.createElement(d.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y-Axis"),r.a.createElement(d.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X-Y Axis"))}))),r.a.createElement(d.Grid.Column,null,r.a.createElement("h5",{className:"view-options--header"},"X-Axis")),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement(b.a,{axisName:"x",columnType:l,label:"Generate X-Axis Tick Marks",properties:e,results:t,update:n})),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Y-Axis"),r.a.createElement(d.Form.Element,{label:"Y Axis Label"},r.a.createElement(d.Input,{value:e.axes.y.label,onChange:e=>{k("y",{label:e.target.value})}})),r.a.createElement(d.Form.Element,{label:"Y-Value Unit Prefix"},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{k("y",{base:e})}},"None"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:S,active:e.axes.y.base===S,titleText:"Format values using an International System of Units prefix",onClick:e=>{k("y",{base:e})}},"SI"),r.a.createElement(d.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:w,active:e.axes.y.base===w,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{k("y",{base:e})}},"Binary"))),r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Prefix"},r.a.createElement(d.Input,{value:e.axes.y.prefix,onChange:e=>{k("y",{prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Y Axis Suffix"},r.a.createElement(d.Input,{value:e.axes.y.suffix,onChange:e=>{k("y",{suffix:e.target.value})}})))),r.a.createElement(b.a,{axisName:"y",columnType:u,label:"Generate Y-Axis Tick Marks",properties:e,results:t,update:n}),r.a.createElement(m.a,{domain:Object(f.q)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),k("y",{bounds:t})},label:"Y Axis Domain"}),r.a.createElement(d.Form.Element,{label:"Positioning"},r.a.createElement(d.Dropdown,{button:(t,n)=>r.a.createElement(d.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>r.a.createElement(d.Dropdown.Menu,{onCollapse:t},r.a.createElement(d.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),r.a.createElement(d.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Grid.Row,null,r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Prefix"},r.a.createElement(d.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{n({prefix:e.target.value})}}))),r.a.createElement(d.Grid.Column,{widthSM:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Suffix"},r.a.createElement(d.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{n({suffix:e.target.value})}}))))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Decimal Places"},r.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:e=>{e===d.AutoInputMode.Auto?C(null):C(2)},inputComponent:r.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{C(Object(p.a)(e))},value:e.decimalPlaces.digits,min:c.q,max:c.p,type:d.InputType.Number})}))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},r.a.createElement(d.Form.Element,{label:"Colorized Thresholds"},r.a.createElement(y.a,{thresholds:e.colors.filter((e=>"scale"!==e.type)),onSetThresholds:O})),r.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},r.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:T===i.l,onClick:D,value:i.l},"Background"),r.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:T===i.m,onClick:D,value:i.m},"Text")))),r.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six,widthLG:d.Columns.Four},r.a.createElement("h5",{className:"view-options--header"},"Hover Legend"),r.a.createElement(x.a,{properties:e,results:t,update:n}),r.a.createElement("h5",{className:"view-options--header"},"Static Legend"),r.a.createElement(E.a,{properties:e,results:t,update:n}))))},C=n(22),O=n(44),D=n(38),T=n(68),j=n(48),I=n(57),N=n(130),R=n(49),A=n(144),F=n(33),_=n(6),M=n(47),L=n(4);var P=({properties:e,result:t,timeRange:n,annotations:o,cellID:i})=>{const{theme:l,timeZone:u}=Object(a.useContext)(F.a),d=Object(T.a)(e),m=Object(I.a)(e.legendOpacity),p=e.legendColorizeRows,h=e.legendHide,g=e.legendOrientationThreshold,b=Object(N.a)(e),v=Object(L.e)(O.a),y=Object(L.d)(),x=Object(a.useMemo)((()=>Object(f.p)(e.axes.x.bounds)),[e.axes.x.bounds]),E=Object(a.useMemo)((()=>Object(f.q)(e.axes.y.bounds)),[e.axes.y.bounds]),w=e.xColumn||Object(f.c)(t.table,"_time"),S=t.table.columnKeys.includes(e.yColumn)&&e.yColumn||Object(f.d)(t.table),k=t.table.columnKeys,P=w&&k.includes(w)&&S&&k.includes(S),$=Object(a.useMemo)((()=>{const t=e.colors.filter((e=>"scale"===e.type));return t&&t.length?t.map((e=>e.hex)):s.a.map((e=>e.hex))}),[e.colors]),B=Object(f.i)("line"),z=Object(a.useMemo)((()=>[...t.fluxGroupKeyUnion,"result"]),[t]),[q,H,V]=Object(R.a)(x,t.table.getColumn(w,"number"),n),U=Object(a.useMemo)((()=>{if("stacked"===e.position){const{lineData:n}=Object(C.lineTransform)(t.table,w,S,z,$,e.position),[a]=Object(C.createGroupIDColumn)(t.table,z);return Object(C.getDomainDataFromLines)(n,[...a],C.DomainLabel.Y)}return t.table.getColumn(S,"number")}),[t.table,w,S,z,$,e.position]),[W,G,K]=Object(R.b)(E,U),Y=Object(f.h)("stacked"===e.position?[...z,w,S,`_${C.STACKED_LINE_CUMULATIVE}`,`_${C.LINE_COUNT}`]:[...z,w,S],t.table),Z=Object(j.a)(t.table.getColumnType(w),{prefix:e.axes.x.prefix,suffix:e.axes.x.suffix,base:e.axes.x.base,timeZone:u,timeFormat:e.timeFormat}),Q=Object(j.a)(t.table.getColumnType(S),{prefix:e.axes.y.prefix,suffix:e.axes.y.suffix,base:e.axes.y.base,timeZone:u,timeFormat:e.timeFormat}),X="light"===l?_.M:_.L;if(!P)return r.a.createElement(D.a,{message:c.e});const J=Object(C.getLatestValues)(t.table)[0],{bgColor:ee,textColor:te}=Object(A.a)({colors:e.colors,lastValue:J,cellType:"single-stat"}),ne=Object.assign(Object.assign(Object.assign(Object.assign({},X),{table:t.table,xAxisLabel:e.axes.x.label,yAxisLabel:e.axes.y.label,xDomain:q,onSetXDomain:H,onResetXDomain:V,yDomain:W,onSetYDomain:G,onResetYDomain:K}),d),{legendColumns:Y,legendOpacity:m,legendOrientationThreshold:g,legendColorizeRows:p,legendHide:h,staticLegend:b,valueFormatters:{[w]:Z,[S]:Q},layers:[{type:"line",x:w,y:S,fill:z,interpolation:B,position:e.position,colors:$,shadeBelow:!!e.shadeBelow,shadeBelowOpacity:.08,hoverDimension:e.hoverDimension}]}),ae={type:"single stat",prefix:e.prefix,suffix:e.suffix,decimalPlaces:e.decimalPlaces,textColor:te,textOpacity:100,backgroundColor:ee||"",svgTextStyle:{fontSize:"100",fontWeight:"lighter",dominantBaseline:"middle",textAnchor:"middle",letterSpacing:"-0.05em"},svgTextAttributes:{"data-testid":"single-stat--text"}};return ne.layers.push(ae),Object(M.a)(ne,v,i,w,S,z,o,y,"singleStatWline"),r.a.createElement(C.Plot,{config:ne})};t.default=e=>{e({type:"line-plus-single-stat",name:"Graph + Single Stat",graphic:o,initial:u,component:P,options:k})}},289:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a);var o=()=>r.a.createElement("h5",null,"There is nothing to configure here"),i=n(198);var s=r.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},r.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),r.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),r.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"})));t.default=e=>{e({type:"simple-table",name:"Simple Table",graphic:s,initial:{type:"simple-table",showAll:!1},component:i.a,options:o})}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const a=e=>e.me,r=e=>e.me.quartzMe,o=e=>{var t,n;const{quartzMe:a}=e.me,r=null!==(t=null==a?void 0:a.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(n=null==a?void 0:a.accountType)&&void 0!==n?n:"free")&&!1===r}},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(180);const r=new class{constructor(){this.findKeysQueries=[],this.findValuesQueries=[],this.findKeysCache={},this.findValuesCache={},this.findBucketsCache={}}async findBuckets(e){this.cancelFindBuckets();const t=JSON.stringify(e),n=this.findBucketsCache[t];if(n)return Promise.resolve(n);const r=Object(a.a)(e);return r.promise.then((e=>{this.findBucketsCache[t]=e})).catch((()=>{})),r.promise}cancelFindBuckets(){this.findBucketsQuery&&this.findBucketsQuery.cancel()}async findKeys(e,t){this.cancelFindKeys(e);const n=JSON.stringify(t),r=this.findKeysCache[n];if(r)return Promise.resolve(r);const o=Object(a.b)(t);return this.findKeysQueries[e]=o,o.promise.then((e=>{this.findKeysCache[n]=e})).catch((()=>{})),o.promise}cancelFindKeys(e){this.findKeysQueries[e]&&this.findKeysQueries[e].cancel()}async findValues(e,t){this.cancelFindValues(e);const n=JSON.stringify(t),r=this.findValuesCache[n];if(r)return Promise.resolve(r);const o=Object(a.c)(t);return this.findValuesQueries[e]=o,o.promise.then((e=>{this.findValuesCache[n]=e})).catch((()=>{})),o.promise}cancelFindValues(e){this.findValuesQueries[e]&&this.findValuesQueries[e].cancel()}clearCache(){this.findBucketsCache={},this.findKeysCache={},this.findValuesCache={}}}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),o=n(65),i=n(24);const s={},l={results:s,setResult:(e,t)=>{},statuses:{},setStatuses:e=>{}},c=r.a.createContext(l),u=({children:e})=>{const{flow:t}=Object(a.useContext)(o.a),[n,l]=Object(a.useState)({}),[u,d]=Object(a.useState)(Object.assign({},s)),m=Object(a.useRef)([]),[p,h]=Object(a.useState)(0);Object(a.useEffect)((()=>{d(Object.assign({},s))}),[null==t?void 0:t.id]),Object(a.useEffect)((()=>{if(!m.current.length)return;let e=!1,t=!1;for(;m.current.length;){const[a,r,o]=m.current.pop();"status"===a&&(n[r]=o,e=!0),"result"===a&&(u[r]=o,t=!0)}t&&d(Object.assign({},u)),e&&l(Object.assign({},n)),h(p+1)}),[p]);const f={results:u,setResult:(e,t)=>{if(!Object(i.c)("fastFlows"))return u[e]=Object.assign({source:"",parsed:null},t),void d(Object.assign({},u));m.current.push(["result",e,t]),m.current.length>1||h(p+1)},statuses:n,setStatuses:e=>{Object(i.c)("fastFlows")?(Object.entries(e).forEach((([e,t])=>{m.current.push(["status",e,t])})),m.current.length>Object.keys(e).length||h(p+1)):l((t=>Object.assign(Object.assign({},t),e)))}};return r.a.createElement(c.Provider,{value:f},e)}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(125),r=n(5);const o=e=>e===r.RemoteDataState.NotStarted?a.c.Disabled:e===r.RemoteDataState.Loading?a.c.Loading:e===r.RemoteDataState.Error?a.c.Error:a.c.Default},304:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(3),s=n(15);let l=class extends r.Component{constructor(){super(...arguments),this.handleChange=e=>{const{onChangeSearchTerm:t}=this.props;t&&t(e.target.value)}}render(){const{searchTerm:e,searchPlaceholder:t,buttonSize:n,buttonColor:a,buttonStatus:r,buttonTestID:s,selectedOption:l,testID:c,className:u,style:d,menuTheme:m,menuTestID:p}=this.props;return o.a.createElement(i.Dropdown,{testID:c,className:u,style:d,button:(e,t)=>o.a.createElement(i.Dropdown.Button,{active:e,onClick:t,testID:s,color:a,size:n,status:r},r===i.ComponentStatus.Loading?"Loading...":l),menu:a=>o.a.createElement(i.Dropdown.Menu,{onCollapse:a,theme:m,testID:p},o.a.createElement("div",{className:"searchable-dropdown--input-container"},o.a.createElement(i.Input,{onChange:this.handleChange,value:e,placeholder:t,size:n,autoFocus:!0})),this.filteredMenuOptions)})}get filteredMenuOptions(){const{searchTerm:e,options:t,emptyText:n,selectedOption:a,onSelect:r}=this.props,s=t.filter((t=>`${t}`.toLocaleLowerCase().includes(e.toLocaleLowerCase())));return s.length?s.map((e=>o.a.createElement(i.Dropdown.Item,{key:e,value:e,selected:e===a,onClick:r,testID:`searchable-dropdown--item ${e}`},e))):o.a.createElement("div",{className:"searchable-dropdown--empty"},n)}};l.defaultProps={buttonSize:i.ComponentSize.Small,buttonColor:i.ComponentColor.Default,buttonStatus:i.ComponentStatus.Default,menuTheme:i.DropdownMenuTheme.Onyx,testID:"searchable-dropdown",buttonTestID:"searchable-dropdown--button",menuTestID:"searchable-dropdown--menu"},l=Object(a.a)([s.a],l),t.a=l},305:function(e,t,n){"use strict";var a=n(2),r=n.n(a);n(327);t.a=({count:e})=>{const t=e<=1?"":"s";return r.a.createElement("div",{className:"tag-selector-count",title:`${e} value${t} selected`},e)}},313:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(2),r=n.n(a),o=n(3),i=n(221),s=n(8),l=(n(218),n(6));let c=null;l.f&&(c=n(31).MeasurementSchema);const u=({onChangeSchemaType:e,readOnlySchemaType:t})=>{const[n,i]=Object(a.useState)("implicit"),l=t=>{e(t),i(t)},c=r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Toggle,{tabIndex:1,value:"implicit",id:"implicit-bucket-schema-choice",name:"implicit-bucket-schema-choice",className:"option",checked:"implicit"===n,onChange:l,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,testID:"implicit-bucket-schema-choice-ID"},r.a.createElement(o.InputLabel,{htmlFor:"implicit-bucket-schema-choice",active:"implicit"===n},"Implicit")),r.a.createElement(o.Toggle,{tabIndex:2,value:"explicit",id:"explicit-bucket-schema-choice",name:"explicit-bucket-schema-choice",testID:"explicit-bucket-schema-choice-ID",checked:"explicit"===n,className:"option",onChange:l,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary},r.a.createElement(o.InputLabel,{htmlFor:"explicit-bucket-schema-choice",active:"explicit"===n},"Explicit"))),u=r.a.createElement("span",{className:"value-text","data-testid":"bucket-readonly-schema-label"},": ",Object(s.capitalize)(t)),d=t?null:c,m=t?u:null;return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:"create-bucket-schema-type-toggle-box",className:"schema-section"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title-text"},"Bucket Schema Type ",m),r.a.createElement("div",{className:"subtext"},"By default, buckets have an implicit schema that conforms to your data. Use explicit schemas to enforce specific data types and columns. Bucket Schema type cannot be changed after creation."," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/organizations/buckets/bucket-schema/",target:"_blank",rel:"noopener noreferrer"}," ","Learn more"))),d)};var d=n(105),m=n(7),p=n(247),h=n(106),f=n(19),g=n.n(f);const b=({allowedExtensions:e,allowedTypes:t,handleFileUpload:n,setErrorState:i,alreadySetFileName:s,defaultText:l,preFileUpload:c,onCancel:u})=>{const[d,m]=Object(a.useState)(s),[p,h]=Object(a.useState)(!1),[f,b]=Object(a.useState)(null),[v,y]=Object(a.useState)(!1);const x=(e,t)=>{b(e),i(e,t)},E=(e,t)=>{const a=new FileReader;a.readAsText(e),a.onload=()=>{const r=e.name;y(!0),c&&c();try{n(a.result,t,r),m(r),x(!1)}catch(e){x(!0,e.message)}}},w=Object(a.useRef)(null),S=r.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:w,className:"drag-and-drop--input",accept:e,onChange:e=>{const t=e.currentTarget.files[0];if(!t)return;const n=t.name.split(".").pop();E(t,n)}}),k=null!=d?d:null!=l?l:"Add schema file",C=g()("dnd",{active:p,hasError:f}),O=g()("display-area",{active:p}),D=r.a.createElement(o.SquareButton,{icon:o.IconFont.Undo,onClick:()=>{m(null),b(!1),y(!1),u()},titleText:"cancel update",color:o.ComponentColor.Secondary,size:o.ComponentSize.ExtraSmall,testID:"dndContainer-cancel-update"}),T=v&&u?D:null;return r.a.createElement("div",{className:"dnd-container"},r.a.createElement("div",{id:"drop_zone",className:C,onDrop:e=>{const n=e.dataTransfer.files[0];if(!n)return;e.preventDefault(),e.stopPropagation();const a=n.type;if(t.includes(a)){E(n,"text/csv"===a?"csv":"json")}else{const e=(e=>{const t=e.length;if(1===t)return e[0];const n=()=>{const t=e.length-1,n=e[t];return e[t]=`or ${n}`,e};return 2===t?n().join(" "):n().join(", ")})(t);x(!0,`Disallowed file type${a?` (${a})`:""}, you can only upload files with the type of ${e}.`)}h(!1)},onDragOver:function(e){h(!0),e.preventDefault()},onDragLeave:function(e){h(!1),e.preventDefault()},onClick:()=>{w.current.click()},"data-testid":"dndContainer"},r.a.createElement("div",{"data-testid":"displayArea",className:O},k),S),T)};let v=null,y=null,x=null;l.f&&(y=n(31).MeasurementSchema,v=n(31).MeasurementSchemaList,x=n(31).MeasurementSchemaColumn);const E=["application/json","text/csv"],w=".json,.csv",S=({index:e,name:t,onAddName:n,onAddContents:i,onDelete:s,filename:l,showSchemaValidation:c})=>{const[u,d]=Object(a.useState)(t);let m={valid:!0,message:null};t&&(m=Object(p.d)(t));const[h,f]=Object(a.useState)(m),g=c&&!l,[v,y]=Object(a.useState)(g);let x=null;g&&(x="You must upload a file");const[S,k]=Object(a.useState)(x),C=r.a.createElement(o.DismissButton,{onClick:()=>s(e),size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Default}),O={placeholder:"Give your schema a name",onChange:t=>{const a=t.target.value,r=Object(p.d)(a);f(r),d(a),n(a,r.valid,e)},value:u,className:"schema-name-input",maxLength:48,size:o.ComponentSize.Small,type:o.InputType.Text},D=r.a.createElement(b,{key:`mini-dnd-${e}`,allowedExtensions:w,allowedTypes:E,handleFileUpload:(t,n,a)=>{const r=Object(p.c)(t,n);i(r,a,e)},setErrorState:(e,t)=>{y(e),e||(t=null),k(t)},alreadySetFileName:l}),T=v?r.a.createElement(o.FormElementError,{style:{wordBreak:"break-word"},message:S}):null;return r.a.createElement(o.Panel,{className:"measurement-schema-panel-container",key:`addMsp-${e}`},r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:`measurement-schema-readOnly-panel-${e}`,className:"measurement-schema-panel",key:`addMsp-column-${e}`},r.a.createElement("div",{className:"value-text"}," name"),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,className:"schema-row"},(()=>{var e;let t=o.ComponentStatus.Default;const n=!(null==h?void 0:h.valid)||c&&!u;n&&(t=o.ComponentStatus.Error),O.status=t;let a=null;if(n){const t=null!==(e=null==h?void 0:h.message)&&void 0!==e?e:"You must enter a name";a=r.a.createElement(o.FormElementError,{message:t})}return r.a.createElement("span",null,r.a.createElement(o.Input,Object.assign({},O))," ",a)})(),D),T,C))},k=({index:e,measurementSchema:t,onAddUpdate:n,toggleUpdate:i,downloadFormat:s="json"})=>{const[l,c]=Object(a.useState)(null),[u,d]=Object(a.useState)(!1),[f,v]=Object(a.useState)(!1),y=u?r.a.createElement(o.FormElementError,{style:{wordBreak:"break-word"},message:l}):null,x=g()("schema-row",{hasCancelBtn:f});return r.a.createElement(o.Panel,{className:"measurement-schema-panel-container"},r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:`measurement-schema-readOnly-panel-${e}`,className:"measurement-schema-panel",key:`romsp-${e}`},r.a.createElement("div",{"data-testid":`measurement-schema-name-${e}`,className:"value-text"},t.name),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,className:x},r.a.createElement(o.Button,{icon:o.IconFont.Download_New,color:o.ComponentColor.Secondary,text:"Download Schema",onClick:()=>{const{name:e}=t;let n=JSON.stringify(t.columns),a=".json";"csv"===s&&(n=Object(p.e)(t.columns),a=".csv"),Object(m.a)("bucket.download.schema.explicit"),Object(h.b)(n,e||"schema",a)},testID:"measurement-schema-download-button",className:"download-button"}),r.a.createElement(b,{key:`update-mini-dnd-${e}`,allowedExtensions:w,allowedTypes:E,handleFileUpload:(t,a)=>{const r=Object(p.c)(t,a);n(r,e)},setErrorState:(e,t)=>{d(e),e||(t=null),c(t)},defaultText:"Update schema file",preFileUpload:()=>{i(!0,e),v(!0)},onCancel:()=>{i(!1,e),d(!1),c(null),v(!1)}})),y))},C=({measurementSchemaList:e,onUpdateSchemas:t,onAddSchemas:n,showSchemaValidation:i})=>{var l;const[c,u]=Object(a.useState)([]),d=(null===(l=null==e?void 0:e.measurementSchemas)||void 0===l?void 0:l.map((e=>({currentSchema:e,hasUpdate:!1}))))||[],[m,p]=Object(a.useState)(d),[h,f]=Object(a.useState)("json"),g=e=>{t(e),p(e)},b=(e,t)=>{const n=m[t]||{};n.columns=e,n.hasUpdate=!0,n.valid=!0,m[t]=n,g(m)},v=(e,t)=>{const n=m[t]||{};e?(n.hasUpdate=!0,n.valid=!1):n.hasUpdate=!1,m[t]=n,g(m)},y=null==e?void 0:e.measurementSchemas;let x=null;if(y){const e=e=>{f(e)},t=y.map(((e,t)=>r.a.createElement(k,{key:`mss-ep-${t}`,measurementSchema:e,index:t,onAddUpdate:b,toggleUpdate:v,downloadFormat:h}))),n={marginRight:10},a=r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row},r.a.createElement(o.InputLabel,{style:n}," Download File Format: "),r.a.createElement(o.Toggle,{tabIndex:1,value:"json",id:"json-download-flavor-choice",name:"json-download-flavor-choice",className:"option",checked:"json"===h,onChange:e,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,testID:"json-download-flavor-choice"},r.a.createElement(o.InputLabel,{htmlFor:"json-download-flavor-choice",active:"json"===h},"json")),r.a.createElement(o.Toggle,{tabIndex:2,value:"csv",id:"csv-download-flavor-choice",name:"csv-download-flavor-choice",className:"option",checked:"csv"===h,onChange:e,type:o.InputToggleType.Radio,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Primary,testID:"csv-download-flavor-choice"},r.a.createElement(o.InputLabel,{htmlFor:"csv-download-flavor-choice",active:"csv"===h},"csv")));x=r.a.createElement(r.a.Fragment,null,a," ",t," ")}const E=e=>{u(e),n(e,!1)},w=r.a.createElement(o.Button,{onClick:()=>{const e=[...c,{valid:!1}];u(e),n(e,!0)},testID:"measurement-schema-add-file-button",text:"Add New Measurement Schema"}),C=(e="",t,n)=>{const a=c[n],r=Object(s.trim)(e);a.name=r,a.columns&&a.name&&t?a.valid=!0:a.valid=!1,a.validName=t,E(c)},O=(e,t,n)=>{const a=c[n];a.columns=e,a.filename=t,a.columns&&a.name&&a.validName&&(a.valid=!0),E(c)},D=e=>{c.splice(e,1),E([...c])},T=Object(a.useMemo)((()=>c.map(((e,t)=>r.a.createElement(S,{key:`${e.name}-${t}`,index:t,onAddName:C,onAddContents:O,onDelete:D,filename:e.filename,name:e.name,showSchemaValidation:i||!1})))),[c.length,i]);return r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,margin:o.ComponentSize.Large,alignItems:o.AlignItems.FlexStart,testID:"measurement-schema-section-parent",className:"measurement-section measurement"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title-text"},"Measurement Schema"),r.a.createElement("div",{className:"subtext"},"Measurement Schemas provide non-conforming validation for data in the bucket. once a measurement schema is saved you cannot delete or modify existing columns. You may only add new columns."," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/cloud/organizations/buckets/bucket-schema/",target:"_blank",rel:"noopener noreferrer"}," ","Learn more"))),x,w,T)};let O=null,D=null,T=null;l.f&&(T=n(31).MeasurementSchema,D=n(31).MeasurementSchemaCreateRequest,O=n(31).MeasurementSchemaList);class j extends a.PureComponent{constructor(){super(...arguments),this.state={showAdvanced:!1,schemaType:"implicit",newMeasurementSchemas:[],measurementSchemaUpdates:[]},this.onChangeSchemaTypeInternal=e=>{this.setState({schemaType:e}),this.props.onChangeSchemaType(e)},this.onAddSchemasInternal=(e,t)=>{this.props.onAddNewMeasurementSchemas(e,t),this.setState({newMeasurementSchemas:e})},this.onUpdateSchemasInternal=e=>{this.props.onUpdateMeasurementSchemas(e),this.setState({measurementSchemaUpdates:e})},this.handleNameValidation=e=>Object(d.e)(e)?"Only system bucket names can begin with _":e?0===e.trim().length||e.length<d.a?`Please enter a name with at least ${d.a} letters or numbers`:null:"This bucket needs a name"}render(){const{name:e,onSubmit:t,ruleType:n,buttonText:a,retentionSeconds:s,isEditing:c,onClose:d,onChangeInput:m,onChangeRuleType:p,onChangeRetentionRule:h,onClickRename:f,testID:g="bucket-form",schemaType:b,measurementSchemaList:v,showSchemaValidation:y}=this.props,{showAdvanced:x,schemaType:E}=this.state,w=c&&o.ComponentStatus.Disabled,S=r.a.createElement(C,{measurementSchemaList:v,key:"measurementSchemaSection",onAddSchemas:this.onAddSchemasInternal,showSchemaValidation:y,onUpdateSchemas:this.onUpdateSchemasInternal}),k=c&&"explicit"===b||"explicit"===E?S:null;return r.a.createElement(o.Form,{onSubmit:t,testID:g},r.a.createElement(o.Overlay.Body,null,r.a.createElement(o.Form.ValidationElement,{value:e,label:"Name",helpText:this.nameHelpText,validationFunc:this.handleNameValidation,required:!0},(t=>r.a.createElement(o.Input,{status:w||t,placeholder:"Give your bucket a name",name:"name",autoFocus:!0,value:e,onChange:m,testID:"bucket-form-name"}))),r.a.createElement(o.Form.Element,{label:"Delete Data"},r.a.createElement(i.c,{type:n,retentionSeconds:s,onChangeRuleType:p,onChangeRetentionRule:h})),(()=>{if(l.f){let e=r.a.createElement(u,{onChangeSchemaType:this.onChangeSchemaTypeInternal});c&&(e=r.a.createElement(u,{key:"schemaToggleSection",readOnlySchemaType:b}));const t=r.a.createElement(r.a.Fragment,null,e,k);return r.a.createElement(o.Accordion,{expanded:x,testID:"schemaBucketToggle"},r.a.createElement(o.Accordion.AccordionHeader,null,r.a.createElement("span",null,"Advanced Configuration (Optional)")),r.a.createElement(o.Accordion.AccordionBodyItem,{testID:"accordion--advanced-section"},r.a.createElement("div",null,t)))}})()),r.a.createElement(o.Overlay.Footer,null,r.a.createElement(o.Button,{text:"Cancel",color:o.ComponentColor.Tertiary,onClick:d,type:o.ButtonType.Button}),"Save Changes"===a&&r.a.createElement(o.Button,{text:"Rename",color:o.ComponentColor.Danger,onClick:f}),r.a.createElement(o.Button,{text:a,testID:"bucket-form-submit",color:this.submitButtonColor,status:this.submitButtonStatus,type:o.ButtonType.Submit})))}get nameHelpText(){return this.props.isEditing?"To rename bucket use the RENAME button below":""}get submitButtonColor(){const{buttonText:e}=this.props;return"Save Changes"===e?o.ComponentColor.Success:o.ComponentColor.Primary}get submitButtonStatus(){const{name:e}=this.props;return this.handleNameValidation(e)?o.ComponentStatus.Disabled:o.ComponentStatus.Default}}},327:function(e,t,n){var a=n(328);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},328:function(e,t,n){(t=n(16)(!1)).push([e.i,".tag-selector-count{flex:0 0 30px;height:30px;background-color:#07070e;border-radius:50%;text-align:center;line-height:30px;font-weight:900;user-select:none;color:#0098f0;font-size:13px}",""]),e.exports=t},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),r=n.n(a),o=n(4),i=n(190),s=n(137),l=n(10),c=n(6),u=n(13);const d=r.a.createContext({timeZone:"Local",theme:"dark",presentationMode:!1,navbarMode:"collapsed",flowsCTA:{alerts:!0,explorer:!0,tasks:!0},setTimeZone:e=>{},setTheme:e=>{},setPresentationMode:e=>{},setNavbarMode:e=>{},setFlowsCTA:e=>{}}),m=({children:e})=>{const{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h}=Object(o.e)((e=>({timeZone:Object(s.g)(e),theme:Object(s.f)(e),presentationMode:Object(s.b)(e),navbarMode:Object(s.e)(e),flowsCTA:Object(s.a)(e)}))),f=Object(o.d)(),g=Object(a.useCallback)((e=>{f(Object(i.i)(e))}),[f]),b=Object(a.useCallback)((e=>{f(Object(i.h)(e))}),[f]),v=Object(a.useCallback)((e=>{e?setTimeout((()=>{f(Object(i.d)()),f(Object(l.c)(Object(u.Qc)()))}),c.F):f(Object(i.b)())}),[f]),y=Object(a.useCallback)((e=>{f(Object(i.g)(e))}),[f]),x=Object(a.useCallback)((e=>{f(Object(i.f)(e))}),[f]);return r.a.createElement(d.Provider,{value:{timeZone:t,theme:n,presentationMode:m,navbarMode:p,flowsCTA:h,setTimeZone:g,setTheme:b,setPresentationMode:v,setNavbarMode:y,setFlowsCTA:x}},e)}},333:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return f}));var a=n(5),r=n(6),o=n(8);const i=["annotations","authorizations","buckets","checks","dashboards","dbrp","documents","labels","notificationRules","notificationEndpoints","orgs","secrets","tasks","telegrafs","users","variables","views"].concat(r.f?["flows","functions"]:["notebooks","scrapers","sources","remotes","replications"]);i.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())));const s=(e,t)=>{const n=((e,t)=>n=>{if("orgs"===n)return[{action:"read",resource:{type:n,id:e}}];if("users"===n)return[{action:"read",resource:{type:n,id:t}},{action:"write",resource:{type:n,id:t}}];if(!i.includes(n))throw new Error("Unexpected object: "+n);return[{action:"read",resource:{type:n,orgID:e}},{action:"write",resource:{type:n,orgID:e}}]})(e,t);return i.flatMap(n)},l=(e,t)=>e.map((e=>({action:t,resource:{type:"buckets",orgID:e.orgID,id:e.id}}))),c=(e,t)=>[{action:t,resource:{type:"buckets",orgID:e}}],u=(e,t)=>t.find((t=>t===e))?t.filter((t=>t!==e)):[...t,e];var d;!function(e){e.AllBuckets="All Buckets",e.Scoped="Scoped"}(d||(d={}));const m=e=>{const t=e.filter((e=>e!==a.ResourceType.Buckets&&e!==a.ResourceType.Telegrafs));t.sort(),t.unshift(a.ResourceType.Telegrafs),t.unshift(a.ResourceType.Buckets);const n=t.indexOf(a.ResourceType.Telegrafs);return[t.slice(0,n+1),t.slice(n+1)]},p=e=>{const t=e.reduce(((e,{action:t,resource:n})=>{const{type:r,id:o,orgID:i,name:s}=n;let l;return e.hasOwnProperty(r)?(l=Object.assign({},e[r]),!o||r!==a.ResourceType.Buckets&&r!==a.ResourceType.Telegrafs?l[t]=!0:l.sublevelPermissions.hasOwnProperty(o)?l.sublevelPermissions[o].permissions[t]=!0:l.sublevelPermissions[o]={id:o,orgID:i,name:s,permissions:{read:"read"===t,write:"write"===t}}):l=!o||r!==a.ResourceType.Buckets&&r!==a.ResourceType.Telegrafs?{read:"read"===t,write:"write"===t}:{read:!1,write:!1,sublevelPermissions:{[o]:{id:o,orgID:i,name:s,permissions:{read:"read"===t,write:"write"===t}}}},Object.assign(Object.assign({},e),{[r]:l})}),{});return Object.keys(t).forEach((e=>{const n=Object.assign({},t[e]);n.sublevelPermissions&&(n.read=Object.keys(n.sublevelPermissions).every((e=>!0===n.sublevelPermissions[e].permissions.read)),n.write=Object.keys(n.sublevelPermissions).every((e=>!0===n.sublevelPermissions[e].permissions.write)),t[e]=n)})),t},h=(e,t,n)=>{const a=[];return Object.keys(e).forEach((r=>{"otherResources"!==r&&(e[r].read&&("orgs"===r?a.push({action:"read",resource:{id:t,name:n,type:r}}):a.push({action:"read",resource:{orgID:t,type:r}})),e[r].write&&("orgs"===r?a.push({action:"write",resource:{id:t,name:n,type:r}}):a.push({action:"write",resource:{orgID:t,type:r}})),e[r].sublevelPermissions&&Object.keys(e[r].sublevelPermissions).forEach((t=>{e[r].sublevelPermissions[t].permissions.read&&!e[r].read&&a.push({action:"read",resource:{orgID:e[r].sublevelPermissions[t].orgID,type:r,id:t,name:e[r].sublevelPermissions[t].name}}),e[r].sublevelPermissions[t].permissions.write&&!e[r].write&&a.push({action:"write",resource:{orgID:e[r].sublevelPermissions[t].orgID,type:r,id:t,name:e[r].sublevelPermissions[t].name}})})))})),a},f=e=>{let t="";if(e.length>2){const n=[];e.forEach((e=>{n.push(e.action)}));const a=n.some((e=>"read"===e)),r=n.some((e=>"write"===e));a&&r?t+="Read Multiple Write Multiple":a?t+="Read Multiple":r&&(t+="Write Multiple")}else e.forEach((e=>{"orgs"===e.resource.type?t+=`${Object(o.capitalize)(e.action)} ${e.resource.type}  `:e.resource.name?t+=`${Object(o.capitalize)(e.action)} ${e.resource.type} ${e.resource.name} `:t+=`${Object(o.capitalize)(e.action)} ${e.resource.type} `}));return t.trim()}},334:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(105);class s extends a.PureComponent{render(){var e;return r.a.createElement(o.Dropdown,{testID:null!==(e=this.props.testID)&&void 0!==e?e:"bucket-dropdown",button:(e,t)=>r.a.createElement(o.Dropdown.Button,{testID:"bucket-dropdown--button",active:e,onClick:t,status:this.status},this.selectedBucketName),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},this.dropdownBuckets),style:this.props.style})}get selectedBucketName(){var e,t;const{selectedBucketID:n,buckets:a,emptyOriginal:r}=this.props;return this.isBucketsEmpty?"No buckets found":r?"Choose a bucket":null!==(t=null===(e=a.find((e=>e.id===n)))||void 0===e?void 0:e.name)&&void 0!==t?t:""}get status(){return this.isBucketsEmpty?o.ComponentStatus.Disabled:o.ComponentStatus.Default}get isBucketsEmpty(){const{buckets:e}=this.props;return!e||!e.length}get dropdownBuckets(){const{buckets:e,onSelectBucket:t,selectedBucketID:n}=this.props;if(this.isBucketsEmpty)return[];return e.filter((e=>!Object(i.e)(e.name))).map((e=>r.a.createElement(o.Dropdown.Item,{key:e.name,value:e,id:e.id,onClick:t,selected:e.id===n},e.name)))}}t.a=s},335:function(e,t,n){(t=n(16)(!1)).push([e.i,".dnd-container{display:flex;align-items:center}.dnd-container .dnd{border:2px dashed gray;border-radius:3px}.dnd-container .dnd.hasError{border-color:#dc4e58;color:#dc4e58}.dnd-container .dnd input[type=file].drag-and-drop--input{display:none}.dnd-container .dnd .display-area{min-width:150px;padding:10px;text-align:center}.dnd-container .dnd .display-area.active{color:#000}.dnd-container .dnd.active{background:#d3d3d3}.schema-section .option{margin-bottom:6px !important}.measurement-section .option:nth-child(3){margin-left:10px}.schema-section.measurement,.measurement-section.measurement{margin-top:15px}.schema-section .schema-name-input,.measurement-section .schema-name-input{margin-right:10px;width:205px !important}.schema-section .file-name-read-only,.measurement-section .file-name-read-only{width:100%;height:40px;font-size:small;padding-top:12px}.schema-section .add-schema-uploader.drag-and-drop,.measurement-section .add-schema-uploader.drag-and-drop{height:40px;border-color:#d3d3d3;width:155px}.schema-section .add-schema-uploader.drag-and-drop.has-file,.measurement-section .add-schema-uploader.drag-and-drop.has-file{border:none}.schema-section .add-schema-uploader.drag-and-drop .drag-and-drop--header,.measurement-section .add-schema-uploader.drag-and-drop .drag-and-drop--header{font-size:small;padding-top:12px;color:#d3d3d3}.schema-section .header,.measurement-section .header{margin-bottom:10px}.schema-section .header .subtext,.measurement-section .header .subtext{margin-top:6px;font-weight:300}.schema-section .title-text,.measurement-section .title-text{color:#b9b9c5;font-weight:500}.schema-section .value-text,.measurement-section .value-text{color:#fff;font-weight:500;margin-top:8px}.schema-section .measurement-schema-panel-container,.measurement-section .measurement-schema-panel-container{width:100%;padding-left:8px;border-radius:10px}.schema-section .measurement-schema-panel-container .measurement-schema-panel,.measurement-section .measurement-schema-panel-container .measurement-schema-panel{width:100%;margin-right:5px;margin-left:5px}.schema-section .measurement-schema-panel-container .measurement-schema-panel .download-button,.measurement-section .measurement-schema-panel-container .measurement-schema-panel .download-button{margin-right:9px}.schema-section .measurement-schema-panel-container .measurement-schema-panel .schema-row,.measurement-section .measurement-schema-panel-container .measurement-schema-panel .schema-row{justify-content:space-between;width:93%;margin-bottom:8px}.schema-section .measurement-schema-panel-container .measurement-schema-panel .schema-row.hasCancelBtn,.measurement-section .measurement-schema-panel-container .measurement-schema-panel .schema-row.hasCancelBtn{width:98%}",""]),e.exports=t},336:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(19),i=n.n(o),s=n(3);t.a=({text:e,onClick:t,color:n=s.ComponentColor.Primary,size:a=s.ComponentSize.Medium,testID:o="dashed-button"})=>{const l=i()("dashed-button",{[`dashed-button__${n}`]:n,[`dashed-button__${a}`]:a});return r.a.createElement("button",{className:l,onClick:t,type:"button","data-testid":o},e)}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>""===e?NaN:Number(e),r=e=>a(e.target.value)},352:function(e,t,n){var a=n(478);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},354:function(e,t,n){var a=n(491);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},355:function(e,t,n){var a=n(495);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},356:function(e,t,n){var a=n(498);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>new Set},358:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=String.fromCharCode,r=(String.fromCodePoint,/^\s*/g),o=/([A-Z])/g,i=(e,t)=>(e=>e.replace(r,""))(e.replace(o,(e=>`${t}${(e=>e.toLowerCase())(e)}`)));"undefined"!=typeof TextEncoder&&new TextEncoder;let s="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});s&&1===s.decode(new Uint8Array).length&&(s=null)},359:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var a=n(152),r=n(358),o=n(520),i=n(360);const s=void 0!==e&&e.release&&/node|io\.js/.test(e.release.name),l="undefined"!=typeof window&&!s;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let c;const u=[],d=()=>{if(void 0===c)if(s){c=a.c();const t=e.argv;let n=null;for(let e=0;e<t.length;e++){const a=t[e];"-"===a[0]?(null!==n&&c.set(n,""),n=a):null!==n?(c.set(n,a),n=null):u.push(a)}null!==n&&c.set(n,"")}else"object"==typeof location?(c=a.c(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");c.set(`--${r.a(t,"-")}`,n),c.set(`-${r.a(t,"-")}`,n)}}))):c=a.c();return c},m=t=>s?o.a(e.env[t.toUpperCase()]):o.a(i.b.getItem(t));(e=>{(e=>d().has(e))("--"+e)||m(e)})("production")}).call(this,n(126))},360:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));let a=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},r=!0;try{"undefined"!=typeof localStorage&&(a=localStorage,r=!1)}catch(e){}const o=a,i=e=>r||addEventListener("storage",e)},363:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t;return null===(t=e.overlays)||void 0===t?void 0:t.params}},369:function(e,t,n){"use strict";var a,r=n(2),o=n.n(r),i=n(4),s=n(3),l=n(13),c=n(291),u=n(12),d=n(10),m=n(36),p=n(18),h=n(135),f=n(293),g=n(140),b=n(7),v=n(64),y=n(9),x=n(92);!function(e){e.Create="create",e.Update="update"}(a||(a={}));const E={script:"",submit:()=>{},activeTab:a.Create,handleSetActiveTab:e=>{},selectedTask:void 0,handleSetTask:e=>{},taskName:"",handleSetTaskName:e=>{}},w=o.a.createContext(E),S=({type:e,children:t})=>{const n=Object(i.d)(),s=Object(i.e)(y.a),[p,E]=Object(r.useState)(a.Create),[S,k]=Object(r.useState)(void 0),[C,O]=Object(r.useState)(""),[D,T]=Object(r.useState)(""),{data:j,closeFn:I}=Object(r.useContext)(h.a),N=p===a.Create?D:null==S?void 0:S.name,R=C;Object(r.useEffect)((()=>{var e;const t=Object(f.t)(null!==(e=null==j?void 0:j.query)&&void 0!==e?e:""),n=Object(x.e)(t,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>(e[t.key.name]=t.value.location.source,e)),e),e}),{});N?n.name=`"${N||"Name this task"}"`:p===a.Create&&T((n.name||"").replace(/^"(.*)"$/,"$1")||"Name this Task");const r=Object.entries(n).map((([e,t])=>`${e}: ${t}`)).join(",\n"),o=Object(f.t)(`option task = {${r}}\n`);t.body.unshift(o.body[0]),O(Object(f.r)(t))}),[N,j.query]),Object(r.useEffect)((()=>{n(Object(g.j)())}),[n]);const A=Object(r.useCallback)((e=>{E(e)}),[]),F=Object(r.useCallback)((e=>{k(e)}),[]),_=Object(r.useCallback)((e=>{T(e)}),[]);return o.a.createElement(w.Provider,{value:{script:R,submit:async()=>{var t;if(p===a.Create?""!==D:null==S?void 0:S.name){if(p===a.Create){Object(b.a)("Export Task Completed",{exportType:"create",from:e});try{const e=await Object(u.postTask)({data:{orgID:s.id,flux:R}});if(201!==e.status)throw new Error(e.data.message);n(Object(d.c)(Object(l.pd)())),n(Object(m.g)())}catch(e){if((null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)===c.a)n(Object(d.c)(Object(l.cd)("tasks")));else{const t=Object(v.a)(e);n(Object(d.c)(Object(l.td)(t)))}}}else{Object(b.a)("Export Task Completed",{exportType:"update",from:e});try{const e=await Object(u.patchTask)({taskID:S.id,data:Object.assign(Object.assign({},S),{every:j.interval,offset:j.offset||"0s",flux:R})});if(200!==e.status)throw new Error(e.data.message);n(Object(d.c)(Object(l.Ad)()))}catch(e){const t=Object(v.a)(e);n(Object(d.c)(Object(l.zd)(t)))}}I()}},activeTab:p,handleSetActiveTab:A,selectedTask:S,handleSetTask:F,taskName:D,handleSetTaskName:_}},t)};var k=()=>{const{submit:e}=Object(r.useContext)(w),{closeFn:t}=Object(r.useContext)(h.a);return o.a.createElement(s.Form.Footer,null,o.a.createElement(s.Button,{text:"Cancel",onClick:t,color:s.ComponentColor.Tertiary,titleText:"Cancel",type:s.ButtonType.Button}),o.a.createElement(s.Button,{text:"Export Task",color:s.ComponentColor.Success,type:s.ButtonType.Submit,onClick:e,testID:"task-form-export"}))},C=n(11);var O=()=>{const{handleSetTask:e,selectedTask:t}=Object(r.useContext)(w),n=Object(i.e)(C.d).sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())));let a="Loading tasks...",l=o.a.createElement(s.Dropdown.ItemEmpty,null,o.a.createElement(s.TechnoSpinner,{strokeWidth:s.ComponentSize.Small,diameterPixels:32}));n.length&&(l=o.a.createElement(o.a.Fragment,null,n.map((n=>o.a.createElement(s.Dropdown.Item,{key:n.name,value:n,onClick:t=>e(t),selected:n.name===(null==t?void 0:t.name),title:n.name,wrapText:!0},n.name))))),(null==t?void 0:t.name)?(null==t?void 0:t.name)&&(a=t.name):a="Choose a task";return o.a.createElement(s.Dropdown,{button:(e,t)=>o.a.createElement(s.Dropdown.Button,{onClick:t,active:e,icon:s.IconFont.Calendar,size:s.ComponentSize.Medium},a),menu:e=>o.a.createElement(s.Dropdown.Menu,{onCollapse:e},l),style:{width:"100%"}})};const D=Object(r.lazy)((()=>Promise.all([n.e(2),n.e(7),n.e(11)]).then(n.bind(null,1046))));var T=()=>{const{script:e,selectedTask:t}=Object(r.useContext)(w);return Object(i.e)(C.j)?o.a.createElement(s.EmptyState,{size:s.ComponentSize.Medium},o.a.createElement(s.EmptyState.Text,null,"You haven’t created any Tasks yet")):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Nine},o.a.createElement(s.Form.Element,{label:"Name",required:!0,errorMessage:(null==t?void 0:t.name)?"":"Please choose a task"},o.a.createElement(O,null))),o.a.createElement(s.Grid.Column,null,o.a.createElement(s.Alert,{className:"flow-update-task--export-warning",icon:s.IconFont.AlertTriangle,color:s.ComponentColor.Warning},"Note: Changes made to an existing task cannot be undone"),o.a.createElement(s.Form.Element,{label:"Preview"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:o.a.createElement(s.TechnoSpinner,null)})},o.a.createElement(D,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const j=Object(r.lazy)((()=>Promise.all([n.e(2),n.e(7),n.e(11)]).then(n.bind(null,1046))));var I=()=>{const{script:e,taskName:t,handleSetTaskName:n}=Object(r.useContext)(w),[a,i]=Object(r.useState)("");return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Nine},o.a.createElement(s.Form.Element,{label:"Name",required:!0,errorMessage:a},o.a.createElement(s.Input,{name:"taskName",placeholder:"Name your task",onChange:e=>{const t=e.target.value;n(t),""===t.trim()?i("Cannot be empty"):i("")},value:t,testID:"task-form-name",status:a?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium}))),o.a.createElement(s.Grid.Column,null,o.a.createElement(s.Form.Element,{label:"Preview"},o.a.createElement(r.Suspense,{fallback:o.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:o.a.createElement(s.TechnoSpinner,null)})},o.a.createElement(j,{script:e,onChangeScript:()=>{},readOnly:!0,autogrow:!0})))))};const N=({text:e})=>{const{activeTab:t,handleSetActiveTab:n}=Object(r.useContext)(w),{closeFn:i}=Object(r.useContext)(h.a);return o.a.createElement(s.Overlay,{visible:!0},o.a.createElement(s.Overlay.Container,{maxWidth:700},o.a.createElement(s.Overlay.Header,{title:null!=e?e:"Export As Task",onDismiss:()=>{Object(b.a)("Export Task Overlay Closed"),i()},testID:"export-as-overlay--header"}),o.a.createElement(s.Overlay.Body,null,o.a.createElement(s.Tabs.Container,{orientation:s.Orientation.Horizontal},o.a.createElement(s.Tabs,{alignment:s.Alignment.Left,size:s.ComponentSize.Small},o.a.createElement(s.Tabs.Tab,{id:a.Create,text:"Create New",testID:"task--radio-button",onClick:()=>n(a.Create),active:t===a.Create}),o.a.createElement(s.Tabs.Tab,{id:a.Update,text:"Update Existing",testID:"variable-radio-button",onClick:()=>n(a.Update),active:t===a.Update})),o.a.createElement(s.Tabs.TabContents,null,o.a.createElement(s.Form,null,o.a.createElement(s.Grid,null,o.a.createElement(s.Grid.Row,null,t===a.Create?o.a.createElement(I,null):o.a.createElement(T,null),o.a.createElement(s.Grid.Column,{widthXS:s.Columns.Twelve},o.a.createElement(k,null))))))))))};var R=({text:e,type:t})=>o.a.createElement(S,{type:t},o.a.createElement(N,{text:e,type:t})),A=n(24);t.a=({text:e,type:t,generate:n,onCreate:a,disabled:f})=>{const{data:g,range:x}=Object(r.useContext)(p.a),{launch:E}=Object(r.useContext)(h.a),w=Object(i.d)(),S=Object(i.e)(y.a);return o.a.createElement(s.Button,{text:e,color:s.ComponentColor.Success,type:s.ButtonType.Submit,onClick:()=>{var r,i;const s=n?n():g.query;if(Object(A.c)("removeExportModal"))return Object(b.a)("Export Task Modal Skipped",{from:t}),(null===(r=null==g?void 0:g.task)||void 0===r?void 0:r.id)?Object(u.patchTask)({taskID:g.task.id,data:{status:"inactive"}}):(null!==(i=null==g?void 0:g.task)&&void 0!==i?i:[]).length&&Object(u.patchTask)({taskID:g.task[0].id,data:{status:"inactive"}}),void Object(u.postTask)({data:{orgID:S.id,flux:s}}).then((e=>{if(201!==e.status)throw new Error(e.data.message);w(Object(d.c)(Object(l.pd)())),w(Object(m.g)()),a&&a(e.data)})).catch((e=>{var t;if((null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)===c.a)w(Object(d.c)(Object(l.cd)("tasks")));else{const t=Object(v.a)(e);w(Object(d.c)(Object(l.td)(t)))}}));Object(b.a)("Export Task Clicked",{from:t}),E(o.a.createElement(R,{text:e,type:t}),{bucket:g.bucket,query:s,range:x})},status:f?s.ComponentStatus.Disabled:s.ComponentStatus.Default,testID:"task-form-save",icon:s.IconFont.Export_New,titleText:e})}},37:function(e,t,n){"use strict";n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"v",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"n",(function(){return x})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return D})),n.d(t,"u",(function(){return T})),n.d(t,"w",(function(){return j})),n.d(t,"p",(function(){return I})),n.d(t,"t",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return A}));var a=n(8),r=n(119),o=n(66),i=n(59),s=n(142),l=n(26),c=n(115);var u=n(406);const d=(e,t={})=>({type:"SET_ACTIVE_TIME_MACHINE",payload:{activeTimeMachineID:e,initialState:t}}),m=e=>({type:"SET_ACTIVE_TAB",payload:{activeTab:e}}),p=()=>({type:"TOGGLE_VIS_OPTIONS"}),h=e=>({type:"SET_VIEW_NAME",payload:{name:e}}),f=e=>({type:"SET_TIME_MACHINE_TIME_RANGE",timeRange:e}),g=e=>(t,n)=>{const i=n(),c=Object(u.a)(i),d=Object(l.c)(i);Object(a.isEqual)(e,i.ranges[c])||(t(Object(s.d)(c,e)),t(Object(o.g)())),"builder"===d.editMode&&t(Object(r.d)())},b=e=>({type:"SET_AUTO_REFRESH",payload:{autoRefresh:e}}),v=e=>({type:"SET_VIEW_TYPE",payload:{type:e}}),y=e=>({type:"SET_ACTIVE_QUERY_TEXT",payload:{text:e}}),x=e=>({type:"SET_IS_VIEWING_RAW_DATA",payload:{isViewingRawData:e}}),E=()=>({type:"EDIT_ACTIVE_QUERY_WITH_BUILDER"}),w=()=>e=>{e(E()),e(Object(o.g)())},S=()=>e=>{e({type:"RESET_QUERY_AND_EDIT_WITH_BUILDER"}),e(Object(o.g)())},k=()=>({type:"EDIT_ACTIVE_QUERY_AS_FLUX"}),C=e=>t=>{t((e=>({type:"SET_ACTIVE_QUERY_INDEX",payload:{activeQueryIndex:e}}))(e)),t(Object(r.b)())},O=()=>e=>{e({type:"ADD_QUERY"}),e(Object(r.b)())},D=e=>t=>{t((e=>({type:"REMOVE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(r.b)()),t(Object(o.g)())},T=e=>t=>{t((e=>({type:"TOGGLE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(o.g)())},j=e=>({type:"UPDATE_ACTIVE_QUERY_NAME",payload:{queryName:e}}),I=e=>({type:"SET_STATIC_LEGEND",payload:{staticLegend:e}}),N=e=>({type:"SET_VIEW_PROPERTIES",payload:{properties:e}}),R=()=>e=>{e(d("veo",{view:Object(c.a)("xy")}))},A=()=>(e,t)=>{const n=t(),{alertBuilder:r}=n,{builderConfig:o}=Object(l.c)(n);e(y(function(e,{statusMessageTemplate:t,tags:n,id:r,name:o,every:i,offset:s,type:l,staleTime:c,level:u,timeSince:d,thresholds:m}){const p=`data = from(bucket: "${e.buckets[0]}")`,h=e.tags.filter((e=>!!e.values[0])).map((e=>`  |> filter(fn: (r) => r.${e.key} == "${e.values[0]}")`)),f=`messageFn = (r) =>("${t}")`,g=["check = {",`  _check_id: "${r||""}",`,`  _check_name: "${o}",`,'  _type: "custom",',`  tags: {${n?n.filter((e=>e.key&&e.value)).map((e=>`${e.key}: "${e.value}"`)).join(","):""}},`,`  every: ${i}`,"}"],b=["option task = {",`  name: "${o}",`,`  every: ${i}, // expected to match check.every`,`  offset: ${s}`,"}"];if("deadman"===l){const e=["package main",'import "influxdata/influxdb/monitor"','import "experimental"','import "influxdata/influxdb/v1"'],t=[p,`  |> range(start: -${c})`,...h],n=`${u.toLowerCase()} = (r) => (r.dead)`,a=["data","  |> v1.fieldsAsCols()",`  |> monitor.deadman(t: experimental.subDuration(from: now(), d: ${d}))`,`  |> monitor.check(data: check, messageFn: messageFn,${u.toLowerCase()}:${u.toLowerCase()})`];return[e.join("\n"),g.join("\n"),b.join("\n"),n,f,t.join("\n"),a.join("\n")].join("\n\n")}if("threshold"===l){const t=["package main",'import "influxdata/influxdb/monitor"','import "influxdata/influxdb/v1"'],n="  |> range(start: -check.every)",r=`  |> aggregateWindow(every: check.every, fn: ${e.functions[0].name}, createEmpty: false)`,o=[p,n,...h,r],i=m.map((t=>{const n=e.tags.find((e=>"_field"===e.key)),r=Object(a.get)(n,"values[0]"),o=`${t.level.toLowerCase()} = (r) =>(r.${r}`;return"range"===t.type?t.within?`${o} > ${t.min}) and r.${r} < ${t.max})`:`${o} < ${t.min} and r.${r} > ${t.max})`:`${o} ${"greater"===t.type?">":"<"} ${t.value})`})),s=["data","  |> v1.fieldsAsCols()",`  |> monitor.check(data: check, messageFn: messageFn,${m.map((e=>` ${e.level.toLowerCase()}:${e.level.toLowerCase()}`))})`];return[t.join("\n"),g.join("\n"),b.join("\n"),i.join("\n"),f,o.join("\n"),s.join("\n")].join("\n\n")}}(o,r))),e(v("table")),e(Object(i.a)()),e(m("customCheckQuery"))}},370:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(4),s=n(36),l=n(34),c=n(43),u=n(6);var d=({onUpdateBucket:e,testID:t})=>{const n=Object(i.e)(c.p),d=Object(i.d)();Object(a.useEffect)((()=>{d(Object(s.b)())}),[d]);return r.a.createElement(o.Dropdown.Item,{title:"Click to create a bucket",onClick:()=>{u.f&&"exceeded"===n?d(Object(l.d)("asset-limit",{asset:"Buckets"},l.b)):d(Object(l.d)("create-bucket",{onUpdateBucket:e},l.b))},testID:t},"+ Create Bucket")},m=n(148);t.a=({selected:e,onSelect:t,testID:n="flow-bucket-selector",style:i={}})=>{const{buckets:s,loading:l}=Object(a.useContext)(m.a);let c="Loading buckets...";Object(a.useEffect)((()=>{l===o.RemoteDataState.Done&&e&&!s.find((t=>t.name===e.name))&&t(null)}),[s]);let u=r.a.createElement(o.Dropdown.ItemEmpty,null,r.a.createElement(o.TechnoSpinner,{strokeWidth:o.ComponentSize.Small,diameterPixels:32}));l===o.RemoteDataState.Done&&s.length&&(u=r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onUpdateBucket:t,testID:`${n}--create`}),r.a.createElement(o.Dropdown.Divider,null),s.map((a=>r.a.createElement(o.Dropdown.Item,{key:a.name,value:a,onClick:t,selected:a.name===(null==e?void 0:e.name),title:a.name,wrapText:!0,testID:`${n}--${a.name}`},a.name))))),l!==o.RemoteDataState.Done||(null==e?void 0:e.name)?l===o.RemoteDataState.Done&&(null==e?void 0:e.name)&&(c=e.name):c="Choose a bucket";return r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{onClick:t,active:e,icon:o.IconFont.BucketSolid,testID:n},c),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e},u),style:i})}},38:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=({message:e,testID:t})=>r.a.createElement("div",{className:"cell--view-empty","data-testid":t},r.a.createElement("h4",null,e))},383:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(384),s=n(75),l=n(51),c=n(4),u=n(114);class d extends a.PureComponent{constructor(e){super(e),this.dropdownRef=Object(a.createRef)(),this.handleApplyTimeRange=e=>{this.props.onSetTimeRange(e),this.handleHideDatePicker()},this.handleHideDatePicker=()=>{this.setState({isDatePickerOpen:!1})},this.handleClickCustomTimeRange=()=>{this.setState({isDatePickerOpen:!0})},this.handleClickDropdownItem=e=>{const{onSetTimeRange:t}=this.props;t(l.d.find((t=>t.label===e)))},this.state={isDatePickerOpen:!1}}render(){const e=this.timeRange,t=Object(s.d)(e,this.props.timeZone);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Popover,{appearance:o.Appearance.Outline,position:o.PopoverPosition.ToTheLeft,triggerRef:this.dropdownRef,visible:this.state.isDatePickerOpen,showEvent:o.PopoverInteraction.None,hideEvent:o.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(i.a,{timeRange:e,onSetTimeRange:this.handleApplyTimeRange,onClose:this.handleHideDatePicker,position:this.state.isDatePickerOpen?{position:"relative"}:void 0})}),r.a.createElement("div",{ref:this.dropdownRef},r.a.createElement(o.Dropdown,{style:{width:`${this.dropdownWidth}px`},testID:"timerange-dropdown",button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n,icon:o.IconFont.Clock_New},t),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,style:{width:`${this.dropdownWidth}px`}},r.a.createElement(o.Dropdown.Divider,{key:"Time Range",text:"Time Range",id:"Time Range"}),r.a.createElement(o.Dropdown.Item,{key:l.a,value:l.a,id:l.a,testID:"dropdown-item-customtimerange",selected:this.state.isDatePickerOpen,onClick:this.handleClickCustomTimeRange},l.a),l.d.map((({label:e})=>{const n=e.toLowerCase().replace(/\s/g,"");return r.a.createElement(o.Dropdown.Item,{key:e,value:e,id:e,testID:`dropdown-item-${n}`,selected:e===t,onClick:this.handleClickDropdownItem},e)})))})))}get dropdownWidth(){return"custom"===this.props.timeRange.type?282:this.props.width?this.props.width:158}get timeRange(){const{timeRange:e}=this.props,{isDatePickerOpen:t}=this.state;return t&&"custom"!==e.type||"duration"===e.type?Object(s.b)(e):e}}t.a=Object(c.c)((e=>({timeZone:Object(u.d)(e)})))(d)},384:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(194),i=n(91),s=n(5),l=n(3);class c extends a.PureComponent{constructor(e){super(e),this.handleSetTimeRange=()=>{const{onSetTimeRange:e}=this.props,{upper:t,lower:n}=this.state;e({lower:n,upper:t,type:"custom"})},this.handleSelectLower=e=>{this.setState({lower:e,validDateRange:this.isTimeRangeValid(e,this.state.upper)})},this.handleSelectUpper=e=>{this.setState({upper:e,validDateRange:this.isTimeRangeValid(this.state.lower,e)})},this.isTimeRangeValid=(e,t)=>new Date(e).getTime()<new Date(t).getTime(),this.handleInvalidInput=()=>{this.setState({validDateRange:!1})};const{timeRange:{lower:t,upper:n}}=e,a=this.isTimeRangeValid(t,n);this.state={lower:t,upper:n,validDateRange:a}}render(){const{onClose:e,singleDirection:t}=this.props,{upper:n,lower:a,validDateRange:c}=this.state;return r.a.createElement(i.a,{onClickOutside:e},r.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:this.stylePosition},r.a.createElement("button",{className:"range-picker--dismiss",onClick:e}),r.a.createElement("div",{className:"range-picker--date-pickers"},t!==s.TimeRangeDirection.Upper&&r.a.createElement(o.a,{dateTime:a,onSelectDate:this.handleSelectLower,onInvalidInput:this.handleInvalidInput,label:"Start",maxDate:n}),t!==s.TimeRangeDirection.Lower&&r.a.createElement(o.a,{dateTime:n,onSelectDate:this.handleSelectUpper,onInvalidInput:this.handleInvalidInput,label:"Stop",minDate:a})),r.a.createElement(l.Button,{className:"range-picker--submit",color:l.ComponentColor.Primary,size:l.ComponentSize.Small,onClick:this.handleSetTimeRange,text:"Apply Time Range",testID:"daterange--apply-btn",status:c?l.ComponentStatus.Default:l.ComponentStatus.Disabled})))}get stylePosition(){const{position:e}=this.props;if(!e)return{top:window.innerHeight/2+"px",left:window.innerWidth/2+"px",transform:"translate(-50%, -50%)"};return Object.entries(e).reduce(((e,[t,n])=>{const a=Object.assign({},e);return isNaN(+n)?a[t]=n:a[t]=`${n}px`,a}),{})}}t.a=c},385:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(221);const r=[{type:"expire",everySeconds:a.a}],o=(e,t)=>({name:"",retentionRules:e?r:[],ruleType:e?"expire":null,readableRetention:e?a.b:"forever",orgID:t,type:"user",schemaType:"implicit"}),i=(e,t)=>{switch(t.type){case"updateName":return Object.assign(Object.assign({},e),{name:t.payload});case"updateRuleType":return Object.assign(Object.assign({},e),{ruleType:t.payload});case"updateRetentionRules":return Object.assign(Object.assign({},e),{retentionRules:t.payload});case"updateReadableRetention":return Object.assign(Object.assign({},e),{readableRetention:t.payload});case"updateSchema":return Object.assign(Object.assign({},e),{schemaType:t.payload})}}},41:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(76);const r="This cell will display results from the previous cell after selecting Run.",o={},i="Notebook",s=`Untitled ${i}`,l="Books",c=`${i}s`,u=`https://docs.influxdata.com/influxdb/${a.a}/notebooks/create-notebook/`,d=n(477);d.keys().forEach((e=>{d(e).default((e=>{if(o.hasOwnProperty(e.type))throw new Error(`Pipe of type [${e.type}] has already been registered`);o[e.type]=Object.assign({},e)}))}))},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(66),l=n(10),c=n(26),u=n(7),d=n(13),m=n(102),p=n(9),h=n(5);class f extends a.PureComponent{constructor(){super(...arguments),this.state={timer:!1},this.handleClick=()=>{Object(u.a)("SubmitQueryButton click"),this.props.onSubmit()},this.handleCancelClick=()=>{this.props.onNotify&&this.props.onNotify(Object(d.Sc)()),this.props.cancelAllRunningQueries()}}componentDidUpdate(e){this.props.queryStatus!==e.queryStatus&&this.props.queryStatus===h.RemoteDataState.Loading&&(this.timer=setTimeout((()=>{this.setState({timer:!0}),delete this.timer}),2e3)),this.props.queryStatus!==e.queryStatus&&e.queryStatus===h.RemoteDataState.Loading&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.setState({timer:!1}))}componentWillUnmount(){clearTimeout(this.timer),delete this.timer,this.props.cancelAllRunningQueries()}render(){const{color:e,text:t,queryStatus:n,icon:a,testID:o,className:s}=this.props;return n===h.RemoteDataState.Loading&&this.state.timer?r.a.createElement(i.Button,{text:"Cancel",className:s,size:i.ComponentSize.Small,status:i.ComponentStatus.Default,onClick:this.handleCancelClick,color:i.ComponentColor.Danger,testID:o,style:{minWidth:"100px"}}):r.a.createElement(i.Button,{text:t,className:s,icon:a,size:i.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:null!=e?e:i.ComponentColor.Primary,testID:o,style:{minWidth:"100px"}})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props;return t?i.ComponentStatus.Disabled:e===h.RemoteDataState.Loading?i.ComponentStatus.Loading:i.ComponentStatus.Default}}f.defaultProps={text:"Submit",testID:"time-machine-submit-button"};const g={onSubmit:s.g,onNotify:l.c,cancelAllRunningQueries:s.a},b=Object(o.c)((e=>{const t=Object(c.d)(e).queryResults.status,n=Object(c.c)(e).text,a=""===n,r=Object(m.g)(e),o=Object(p.a)(e).id;return{queryID:Object(s.d)(n,r,o),submitButtonDisabled:a,queryStatus:t}}),g);t.b=b(f)},412:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(244),r=n(157),o=n(5),i=n(224),s=n(453),l=n(7);const c=()=>e=>{e(Object(r.i)(o.RemoteDataState.NotStarted,null))},u=e=>async t=>{try{const n=await Object(a.e)(e);t(Object(r.j)(n))}catch(e){console.error(e)}},d=(e,t)=>async n=>{try{const o=await Object(a.d)(t),i=Object(s.l)(o);n(Object(r.m)(e,i))}catch(t){"dashboard"===e?Object(l.a)("Community template README failed",{context:e}):Object(i.b)(t,{name:`The community template github readme fetch failed for ${e}`}),n(Object(r.m)(e,"###### We can't find the readme associated with this template"))}}},417:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(19),s=n.n(i),l=n(3),c=n(184),u=n(8);var d=e=>{const{searchTerm:t,funcs:n,children:a}=e,o=n.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),i=Object(u.groupBy)(o,"category");return 0===o.length?r.a.createElement(l.EmptyState,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.EmptyState.Text,null,"No functions match your search")):a(i)};var m=({description:e})=>r.a.createElement("article",{className:"flux-functions-toolbar--description"},r.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),r.a.createElement("span",null,e));class p extends a.PureComponent{render(){return r.a.createElement("article",null,r.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),r.a.createElement("div",{className:"flux-function-docs--snippet"},this.arguments))}get arguments(){const{argsList:e}=this.props;return e.length>0?e.map((e=>r.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},r.a.createElement("span",null,e.name,":"),r.a.createElement("span",null,e.type),r.a.createElement("div",null,e.desc)))):r.a.createElement("div",{className:"flux-function-docs--arguments"},"None")}}var h=p;var f=({example:e})=>r.a.createElement("article",null,r.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),r.a.createElement("div",{className:"flux-function-docs--snippet"},e));var g=({link:e})=>r.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",r.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e},"Flux Docs"),".");var b=({func:{desc:e,args:t,example:n,link:a,name:o}})=>r.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${o}`},r.a.createElement(l.DapperScrollbars,{autoHide:!1},r.a.createElement("div",{className:"flux-toolbar--popover"},r.a.createElement(m,{description:e}),r.a.createElement(h,{argsList:t}),r.a.createElement(f,{example:n}),r.a.createElement(g,{link:a}))));const v=({func:e,onClickFunction:t,testID:n})=>{const o=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,enableDefaultStyles:!1,position:l.PopoverPosition.ToTheLeft,triggerRef:o,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>r.a.createElement(b,{func:e})}),r.a.createElement("dd",{ref:o,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},r.a.createElement("code",null,e.name),r.a.createElement(l.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Primary})))};v.defaultProps={testID:"flux-function"};var y=v;var x=e=>{const{category:t,funcs:n,onClickFunction:a}=e;return r.a.createElement("dl",{className:"flux-toolbar--category"},r.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map((e=>r.a.createElement(y,{onClickFunction:a,key:`${e.name}_${e.desc}`,func:e,testID:e.name}))))};class E extends a.PureComponent{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.onClear=()=>{this.setState({searchTerm:""},this.handleSearch)},this.state={searchTerm:""},this.handleSearch=Object(u.debounce)(this.handleSearch,100)}render(){const{searchTerm:e}=this.state;return r.a.createElement("div",{className:"flux-toolbar--search"},r.a.createElement(l.Input,{type:l.InputType.Text,icon:l.IconFont.Search_New,placeholder:`Filter ${this.props.resourceName}...`,onChange:this.handleChange,value:e,testID:"flux-toolbar-search--input",onClear:this.onClear}))}}var w=E,S=n(42),k=n(76);var C=e=>{const[t,n]=Object(a.useState)(""),o=e=>{n(e)},i=Object(a.useCallback)((t=>{e.onInsertFluxFunction(t)}),[e.onInsertFluxFunction]);return Object(a.useMemo)((()=>r.a.createElement(S.a,null,r.a.createElement(w,{onSearch:o,resourceName:"Functions"}),r.a.createElement(l.DapperScrollbars,{className:"flux-toolbar--scroll-area"},r.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},r.a.createElement(d,{funcs:k.b,searchTerm:t},(e=>Object.entries(e).map((([e,t])=>r.a.createElement(x,{key:e,category:e,funcs:t,onClickFunction:i}))))))))),[t,i])},O=n(66),D=n(113),T=n(102),j=n(5);class I extends a.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{const{variableID:t,onSelectValue:n,onSelect:a,selectedValue:r}=this.props;r!==e&&n(t,e),a&&a()}}render(){const{selectedValue:e,values:t,name:n}=this.props,a=0===t.length?l.ComponentStatus.Disabled:l.ComponentStatus.Default,o=Math.floor(9.5*t.reduce((function(e,t){return e.length>t.length?e:t}),"").length),i=Math.max(140,o);return r.a.createElement(l.Dropdown,{style:{width:"140px"},className:"variable-dropdown--dropdown",testID:this.props.testID||`variable-dropdown--${n}`,button:(e,t)=>r.a.createElement(l.Dropdown.Button,{active:e,onClick:t,testID:"variable-dropdown--button",status:a},this.selectedText),menu:n=>r.a.createElement(l.Dropdown.Menu,{style:{width:`${i}px`},onCollapse:n,theme:l.DropdownMenuTheme.Amethyst},t.map((t=>r.a.createElement(l.Dropdown.Item,{key:t,id:t,value:t,onClick:this.handleSelect,selected:t===e,testID:"variable-dropdown--item",className:"variable-dropdown--item"},t))))})}get selectedText(){const{selectedValue:e,status:t}=this.props;return t===j.RemoteDataState.Loading?"Loading":e||"No Values"}}const N={onSelectValue:D.j};var R=Object(o.c)(((e,t)=>{const{variableID:n}=t,a=Object(T.j)(e,n),r=a.selected&&a.selected.length?a.selected[0]:null;return{status:a.status,values:Object(T.m)(a),selectedValue:r,name:a.name}}),N)(I);const A={execute:O.c};var F=Object(o.c)(null,A)((({variableID:e,execute:t})=>r.a.createElement("div",{className:"flux-toolbar--popover","data-testid":"flux-toolbar--variable-popover"},r.a.createElement(l.Form.Element,{label:"Value"},r.a.createElement(R,{variableID:e,onSelect:()=>{t()},testID:"variable--tooltip-dropdown"})))));var _=({variable:e,onClickVariable:t,testID:n="variable"})=>{const o=Object(a.useRef)(null),i=()=>{const n=Object(u.get)(e,"name","variableName");t(n)};return function(e){return!("system"===e.arguments.type||"constant"===e.arguments.type&&e.arguments.values.length<=1||"map"===e.arguments.type&&Object.keys(e.arguments.values).length<=1||"query"===e.arguments.type&&(!e.arguments.values.results||e.arguments.values.results.length<=1))}(e)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable",ref:o,"data-testid":`variable--${n}`},r.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),r.a.createElement(l.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:i,size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Success})),r.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheLeft,triggerRef:o,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,color:l.ComponentColor.Success,distanceFromTrigger:8,testID:"toolbar-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(F,{variableID:e.id})})):r.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable","data-testid":`variable--${n}`},r.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),r.a.createElement(l.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:i,size:l.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:l.ComponentColor.Success}))};var M=Object(o.c)((e=>{const t=Object(T.g)(e);return{variables:Object(T.n)(t)}}))((({variables:e,onClickVariable:t})=>{const n=Object(o.d)(),[i,s]=Object(a.useState)(""),c=e.filter((e=>e.name.includes(i)));Object(a.useEffect)((()=>{n(Object(D.g)())}),[n]);let u=r.a.createElement(l.EmptyState,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.EmptyState.Text,null,"No variables match your search"));return Boolean(c.length)&&(u=c.map((e=>r.a.createElement(_,{variable:e,key:e.id,onClickVariable:t,testID:e.name})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{onSearch:s,resourceName:"Variables"}),r.a.createElement(l.DapperScrollbars,{className:"flux-toolbar--scroll-area"},r.a.createElement("div",{className:"flux-toolbar--list"},u)))}));var L=({onClick:e,name:t,active:n,testID:a="toolbar-tab",id:o})=>{const i=s()("flux-toolbar--tab",{"flux-toolbar--tab__active":n});return r.a.createElement("div",{className:i,onClick:()=>{e(n?"none":o)},title:t,"data-testid":a},r.a.createElement("div",{className:"flux-toolbar--tab-label"},t))};var P=({activeQueryBuilderTab:e,onInsertFluxFunction:t,onInsertVariable:n})=>{const[o,i]=Object(a.useState)("functions"),s=e=>{i(e)};let l;"functions"===o&&(l=r.a.createElement(C,{onInsertFluxFunction:t})),"variables"===o&&(l=r.a.createElement(M,{onClickVariable:n}));const c="functions"===o||"variables"===o;return r.a.createElement("div",{className:"flux-toolbar"},c&&r.a.createElement("div",{className:"flux-toolbar--tab-contents","data-testid":`functions-toolbar-contents--${o}`},l),r.a.createElement("div",{className:"flux-toolbar--tabs"},r.a.createElement(L,{id:"functions",onClick:s,name:"Functions",active:"functions"===o,testID:"functions-toolbar-tab"}),"customCheckQuery"!==e&&r.a.createElement(L,{id:"variables",onClick:s,name:"Variables",active:"variables"===o})))},$=n(37),B=n(26);const z=Object(a.lazy)((()=>Promise.all([n.e(6),n.e(2),n.e(7),n.e(12)]).then(n.bind(null,1046)))),q={onSetActiveQueryText:$.j,onSubmitQueries:O.g};var H=Object(o.c)((e=>{const t=Object(B.c)(e).text,{activeTab:n,activeQueryIndex:a}=Object(B.d)(e);return{activeQueryText:t,activeTab:n,activeQueryIndex:a}}),q)((({activeQueryText:e,onSubmitQueries:t,onSetActiveQueryText:n,activeTab:o,activeQueryIndex:i})=>{const[s,c]=Object(a.useState)(null),u=e=>{if(!s)return null;const t=s.getPosition();s.executeEdits("",[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:`v.${e}`}]),n(s.getValue())},d=t=>{if(!s)return null;const n=s.getPosition(),a=(t=>{const n=e.split("\n");return(n[t]||n[n.length-1]).trim()?t+1:t})(n.lineNumber);let r=a;const[o]=s.getVisibleRanges();let i=a>o.endLineNumber;1===n.lineNumber&&1===n.column&&(i=!0,r=o.endLineNumber+1);let l="";l=i?`\n  |> ${t.example}`:`  |> ${t.example}\n`,(e=>{switch(e){case k.c.name:case k.d.name:return!0;default:return!1}})(t.name)&&(l=`\n${t.example}\n`);return{text:l,range:new window.monaco.Range(r,1,r,1)}},m=e=>{if(!s)return;const{text:t,range:a}=d(e),r=[{range:a,text:t}],o=((e,t)=>{const n=`import "${e}"`;return!(!e||t.includes(n))&&n})(e.package,s.getValue());o&&r.unshift({range:new window.monaco.Range(1,1,1,1),text:`${o}\n`}),s.executeEdits("",r),n(s.getValue())};return Object(a.useMemo)((()=>r.a.createElement("div",{className:"flux-editor"},r.a.createElement("div",{className:"flux-editor--left-panel"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(l.SpinnerContainer,{loading:l.RemoteDataState.Loading,spinnerComponent:r.a.createElement(l.TechnoSpinner,null)})},r.a.createElement(z,{script:e,onChangeScript:n,onSubmitScript:t,setEditorInstance:c,autofocus:!0}))),r.a.createElement("div",{className:"flux-editor--right-panel"},r.a.createElement(P,{activeQueryBuilderTab:o,onInsertFluxFunction:m,onInsertVariable:u})))),[s,i])})),V=n(106),U=n(122);class W extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{files:e}=this.props,t=Object(U.a)("YYYY-MM-DD HH:mm"),n=e.join("\n\n"),a=`${t.format(new Date).replace(/\s+/gi,"_")} InfluxDB Data`;Object(V.b)(n,a,".csv","text/csv")}}render(){return r.a.createElement(l.Button,{titleText:this.titleText,text:"CSV",icon:l.IconFont.Download_New,onClick:this.handleClick,status:this.buttonStatus})}get buttonStatus(){const{files:e}=this.props;return e?l.ComponentStatus.Default:l.ComponentStatus.Disabled}get titleText(){const{files:e}=this.props;return e?"Download query results as a .CSV file":"Create a query in order to download results as .CSV"}}var G=Object(o.c)((e=>{const{queryResults:{files:t}}=Object(B.d)(e);return{files:t}}))(W),K=n(177);class Y extends a.PureComponent{render(){const{onEditAsFlux:e,onEditWithBuilder:t,onResetAndEditWithBuilder:n}=this.props,{editMode:a,text:o,builderConfig:i}=this.props.activeQuery,s="builder"!==a;let c=r.a.createElement(l.Button,{text:"Script Editor",titleText:"Switch to Script Editor",onClick:e,testID:"switch-to-script-editor"});return s&&(c=r.a.createElement(l.Button,{text:"Query Builder",titleText:"Switch to Query Builder",onClick:t,testID:"switch-to-query-builder"})),s&&Object(K.c)(o,i)===K.a.Required&&(c=r.a.createElement(l.ConfirmationButton,{popoverColor:l.ComponentColor.Danger,popoverAppearance:l.Appearance.Outline,popoverStyle:{width:"400px"},confirmationLabel:"Switching to Query Builder mode will discard any changes you\n                have made using Flux. This cannot be recovered.",confirmationButtonText:"Switch to Builder",text:"Query Builder",onConfirm:n,testID:"switch-query-builder-confirm"})),c}}const Z={onEditWithBuilder:$.c,onResetAndEditWithBuilder:$.h,onEditAsFlux:$.b};var Q=Object(o.c)((e=>({activeQuery:Object(B.c)(e)})),Z)(Y),X=n(472),J=n(440);class ee extends a.PureComponent{constructor(){super(...arguments),this.autoRefresher=new J.a,this.handleChooseAutoRefresh=e=>{const{onSetAutoRefresh:t,autoRefresh:n}=this.props;t(0!==e?Object.assign(Object.assign({},n),{interval:e,status:j.AutoRefreshStatus.Active}):Object.assign(Object.assign({},n),{status:j.AutoRefreshStatus.Paused,interval:e}))},this.executeQueries=()=>{this.props.onExecuteQueries()}}componentDidMount(){const{autoRefresh:e}=this.props;e.status===j.AutoRefreshStatus.Active&&this.autoRefresher.poll(e),this.autoRefresher.subscribe(this.executeQueries)}componentDidUpdate(e){const{autoRefresh:t}=this.props;if(!Object(u.isEqual)(t,e.autoRefresh)){if(t.status===j.AutoRefreshStatus.Active)return void this.autoRefresher.poll(t);this.autoRefresher.stopPolling()}}componentWillUnmount(){this.autoRefresher.unsubscribe(this.executeQueries),this.autoRefresher.stopPolling()}render(){const{autoRefresh:e}=this.props;return r.a.createElement(X.a,{selected:e,onChoose:this.handleChooseAutoRefresh,onManualRefresh:this.executeQueries,showAutoRefresh:!1})}}const te={onExecuteQueries:O.c,onSetAutoRefresh:$.m};var ne=Object(o.c)((e=>{const{autoRefresh:t}=Object(B.d)(e);return{autoRefresh:t}}),te)(ee),ae=n(383),re=n(14),oe=n(304),ie=n(225),se=n(150),le=n(70),ce=n(15),ue=n(119),de=n(192);var me=class{constructor(){this.timers={}}call(e,t){const n=this.timers[e];n&&clearTimeout(n),this.timers[e]=setTimeout(e,t)}cancel(e){const t=this.timers[e];t&&clearTimeout(t)}cancelAll(){const e=Object.values(this.timers);for(const t of e)clearTimeout(t)}},pe=n(303),he=n(305);const fe=["_start","_stop","_time"];let ge=class extends a.PureComponent{constructor(){super(...arguments),this.debouncer=new me,this.handleSelectTag=e=>{const{index:t,onSelectTag:n}=this.props;n(t,e)},this.handleSelectValue=e=>{const{index:t,onSelectValue:n}=this.props;n(t,e)},this.handleRemoveTagSelector=()=>{const{index:e,onRemoveTagSelector:t}=this.props;t(e)},this.handleKeysSearch=e=>{const{onSetKeysSearchTerm:t,index:n}=this.props;t(n,e),this.debouncer.call(this.emitKeysSearch,500)},this.emitKeysSearch=()=>{const{index:e,onSearchKeys:t}=this.props;t(e)},this.handleValuesSearch=e=>{const{value:t}=e.target;this.doSearch(t)},this.clearSearch=()=>{this.doSearch("")},this.doSearch=e=>{const{onSetValuesSearchTerm:t,index:n}=this.props;t(n,e),this.debouncer.call(this.emitValuesSearch,500)},this.emitValuesSearch=()=>{const{index:e,onSearchValues:t}=this.props;t(e)},this.handleAggregateFunctionSelect=e=>{const{index:t,onSetBuilderAggregateFunctionType:n}=this.props;n(e,t)}}renderAggregateFunctionType(e){return"group"===e?"Group":"Filter"}render(){return r.a.createElement(le.a,null,this.header,this.body)}get header(){const{aggregateFunctionType:e,index:t,isInCheckOverlay:n}=this.props;return r.a.createElement(le.a.DropdownHeader,{options:["filter","group"],selectedOption:this.renderAggregateFunctionType(e),onDelete:0!==t&&this.handleRemoveTagSelector,onSelect:this.handleAggregateFunctionSelect,isInCheckOverlay:n})}get body(){const{aggregateFunctionType:e,index:t,keys:n,keysStatus:a,selectedKey:o,emptyText:i,valuesSearchTerm:s,keysSearchTerm:c}=this.props;if(a===j.RemoteDataState.NotStarted)return r.a.createElement(le.a.Empty,null,i);if(a===j.RemoteDataState.Error)return r.a.createElement(le.a.Empty,null,"Failed to load tag keys");if(a===j.RemoteDataState.Done&&!n.length)return r.a.createElement(le.a.Empty,{testID:"empty-tag-keys"},"No tag keys found ",r.a.createElement("small",null,"in the current time range"));const u="group"===e?"Search group column values":`Search ${o} tag values`;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Menu,{testID:`tag-selector--container ${t}`},"group"!==e&&r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,alignItems:l.AlignItems.Center,margin:l.ComponentSize.Small},r.a.createElement(oe.a,{searchTerm:c,emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:o,onSelect:this.handleSelectTag,buttonStatus:Object(pe.a)(a),onChangeSearchTerm:this.handleKeysSearch,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:n}),this.selectedCounter),r.a.createElement(l.Input,{value:s,placeholder:u,className:"tag-selector--search",onChange:this.handleValuesSearch,onClear:this.clearSearch})),this.values)}get values(){const{selectedKey:e,values:t,valuesStatus:n,selectedValues:a}=this.props;return n===j.RemoteDataState.Error?r.a.createElement(le.a.Empty,null,`Failed to load tag values for ${e}`):n===j.RemoteDataState.Loading||n===j.RemoteDataState.NotStarted?r.a.createElement(le.a.Empty,null,r.a.createElement(ie.a,{text:"Loading tag values"})):n!==j.RemoteDataState.Done||t.length?r.a.createElement(se.a,{items:t,selectedItems:a,onSelectItem:this.handleSelectValue,multiSelect:!this.props.isInCheckOverlay}):r.a.createElement(le.a.Empty,null,"No values found ",r.a.createElement("small",null,"in the current time range"))}get selectedCounter(){const{selectedValues:e}=this.props;if(e.length>0)return r.a.createElement(he.a,{count:e.length})}};ge=Object(re.a)([ce.a],ge);const be={onRemoveTagSelector:ue.e,onSearchKeys:ue.f,onSearchValues:ue.g,onSelectTag:ue.j,onSelectValue:ue.k,onSetBuilderAggregateFunctionType:de.e,onSetKeysSearchTerm:de.q,onSetValuesSearchTerm:de.r};var ve=Object(o.c)(((e,t)=>{const n=Object(B.d)(e).queryBuilder;let a=[],r="",o=j.RemoteDataState.NotStarted,i="",s=j.RemoteDataState.NotStarted,l=[];if(null==n?void 0:n.tags[null==t?void 0:t.index]){const e=n.tags[t.index];a=e.keys,r=e.keysSearchTerm,o=e.keysStatus,i=e.valuesSearchTerm,s=e.valuesStatus,l=e.values}const c=Object(B.c)(e).builderConfig.tags;let u="";const d=c[t.index-1];d&&d.key&&(u=`Select a ${d.key} value first`);const{key:m,values:p,aggregateFunctionType:h}=c[t.index];"group"===h&&(l=[...fe,...c.map((e=>e.key))]);return{aggregateFunctionType:h,emptyText:u,keys:a,keysStatus:o,selectedKey:m,values:l,valuesStatus:s,selectedValues:p,valuesSearchTerm:i,keysSearchTerm:r,isInCheckOverlay:Object(B.i)(e)}}),be)(ge);const ye={onSetAggregateFillValues:de.c};var xe=Object(o.c)((e=>{var t,n;const{builderConfig:a}=Object(B.c)(e);return{isInCheckOverlay:Object(B.i)(e),fillValues:null!==(n=null===(t=null==a?void 0:a.aggregateWindow)||void 0===t?void 0:t.fillValues)&&void 0!==n&&n}}),ye)((({fillValues:e,onSetAggregateFillValues:t,isInCheckOverlay:n})=>n?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Toggle,{id:"isFillValues",type:l.InputToggleType.Checkbox,checked:e,onChange:()=>{t(!e)},color:l.ComponentColor.Primary,size:l.ComponentSize.ExtraSmall}),r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(l.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))),Ee=n(143),we=n(27);const Se={onSetWindowPeriodSelectionMode:ue.m,onSelectAggregateWindow:ue.h};var ke=Object(o.c)((e=>{var t,n;const{builderConfig:a}=Object(B.c)(e),r=e.alertBuilder.every;return{period:null!==(n=null===(t=null==a?void 0:a.aggregateWindow)||void 0===t?void 0:t.period)&&void 0!==n?n:"",isInCheckOverlay:Object(B.i)(e),autoWindowPeriod:Object(B.n)(e),everyWindowPeriod:r}}),Se)((({period:e,autoWindowPeriod:t,everyWindowPeriod:n,onSetWindowPeriodSelectionMode:a,onSelectAggregateWindow:o,isInCheckOverlay:i})=>{const s=i||e===we.a;let c=e;e&&!s||(c=we.a,t&&(c=`${we.a} (${t})`,i&&(c=`${we.a} (${n})`)));const u=s?l.ComponentStatus.Disabled:l.ComponentStatus.Default;return i?r.a.createElement(Ee.a,{onSubmit:o,value:c,suggestions:we.d,submitInvalid:!1,status:u}):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.SelectGroup,{shape:l.ButtonShape.StretchToFit,size:l.ComponentSize.ExtraSmall},r.a.createElement(l.SelectGroup.Option,{name:"custom",id:"custom-window-period",testID:"custom-window-period",active:!s,value:"custom",onClick:a,titleText:"Custom"},"Custom"),r.a.createElement(l.SelectGroup.Option,{name:"auto",id:"auto-window-period",testID:"auto-window-period",active:s,value:"auto",onClick:a,titleText:"Auto"},"Auto")),r.a.createElement(Ee.a,{onSubmit:o,value:c,suggestions:we.d,submitInvalid:!1,status:u}))})),Ce=n(692);const Oe={onMultiSelectBuilderFunction:ue.c,onSingleSelectBuilderFunction:ue.n,onSetFunctions:de.p,onSetIsAutoFunction:Ce.b};var De=Object(o.c)((e=>{const t=Object(B.b)(e),{builderConfig:n}=Object(B.c)(e),{functions:a}=n;return{activeGraphType:t,isInCheckOverlay:Object(B.i)(e),savedFunctions:a.map((e=>e.name))}}),Oe)((({activeGraphType:e,isInCheckOverlay:t,onMultiSelectBuilderFunction:n,onSetFunctions:o,onSetIsAutoFunction:i,onSingleSelectBuilderFunction:s,savedFunctions:c})=>{const u=Object(we.f)(e).map((e=>e.name)),[d,m]=Object(a.useState)(!t&&1===c.length&&u.includes(c[0]));Object(a.useEffect)((()=>{d&&!1===u.includes(c[0])&&s(u[0])}),[u,d,s,c]);const p=d?u:we.e.map((e=>e.name)),h=e=>{m(e),i(e)},f=e=>{if("custom"===e)return void h(!1);const t=c.filter((e=>u.includes(e)));0===t.length?o([u[0]]):t.length>1?o([t[0]]):o(t),h(!0)},g=d?s:n;if(t)return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),r.a.createElement(se.a,{items:p,selectedItems:c,onSelectItem:s,multiSelect:!1}));const b=c.filter((e=>p.includes(e)));let v=c;return d&&(v=b.length?b:u),r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),r.a.createElement(le.a.Menu,{className:"aggregation-selector-menu"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.ExtraSmall,alignItems:l.AlignItems.Stretch},r.a.createElement(l.SelectGroup,{shape:l.ButtonShape.StretchToFit,size:l.ComponentSize.ExtraSmall},r.a.createElement(l.SelectGroup.Option,{name:"custom",id:"custom-function",testID:"custom-function",active:!d,value:"custom",onClick:f,titleText:"Custom"},"Custom"),r.a.createElement(l.SelectGroup.Option,{name:"auto",id:"auto-function",testID:"auto-function",active:d,value:"auto",onClick:f,titleText:"Auto"},"Auto")))),r.a.createElement(se.a,{items:p,selectedItems:v,onSelectItem:g,multiSelect:!d}))}));var Te=()=>r.a.createElement(le.a,{className:"aggregation-selector",testID:"aggregation-selector"},r.a.createElement(le.a.Header,{title:"Window Period",className:"aggregation-selector-header"}),r.a.createElement(le.a.Body,{scrollable:!1,addPadding:!1,className:"aggregation-selector-body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,stretchToFitWidth:!0,margin:l.ComponentSize.Medium},r.a.createElement(ke,null),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,stretchToFitWidth:!0,margin:l.ComponentSize.Small},r.a.createElement(xe,null)))),r.a.createElement(De,null));class je extends a.PureComponent{render(){const{onClick:e}=this.props;return r.a.createElement(l.SquareButton,{className:"query-builder--add-card-button",onClick:e,icon:l.IconFont.Plus_New})}}var Ie=n(313),Ne=n(105),Re=n(43),Ae=n(36),Fe=n(103),_e=n(385),Me=n(9);const Le={createBucket:Fe.c};var Pe=Object(o.c)((e=>({org:Object(Me.a)(e),isRetentionLimitEnforced:!!Object(Re.c)(e),limitStatus:Object(Re.p)(e)})),Le)((({org:e,createBucket:t,isRetentionLimitEnforced:n,limitStatus:i})=>{const s=Object(o.d)(),c=Object(a.useRef)(null),[u,d]=Object(a.useReducer)(_e.b,Object(_e.c)(n,e.id));Object(a.useEffect)((()=>{s(Object(Ae.b)())}),[s]);let m="Click to create a bucket",p=!1;"exceeded"===i&&(m="This account has the maximum number of buckets allowed",p=!0);const h=u.retentionRules.find((e=>"expire"===e.type)),f=h?h.everySeconds:3600,g=e=>{d("expire"===e?{type:"updateRetentionRules",payload:_e.a}:{type:"updateRetentionRules",payload:[]}),d({type:"updateRuleType",payload:e})},b=e=>{d({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})},v=e=>n=>{n.preventDefault(),t(u),e()},y=e=>{d({type:"updateSchema",payload:e})},x=e=>{const t=e.target.value;"name"===e.target.name&&d({type:"updateName",payload:t})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.List.Item,{className:"selector-list--item",testID:"selector-list add-bucket",disabled:p,title:m,ref:c,onClick:()=>{},wrapText:!1,size:l.ComponentSize.ExtraSmall},"+ Create Bucket"),r.a.createElement(l.Popover,{triggerRef:c,appearance:l.Appearance.Outline,color:l.ComponentColor.Primary,position:l.PopoverPosition.Above,showEvent:l.PopoverInteraction.Click,hideEvent:l.PopoverInteraction.Click,style:{maxWidth:Object(Ne.d)()},testID:"create-bucket-popover",contents:e=>r.a.createElement(Ie.a,{name:u.name,buttonText:"Create",isEditing:!1,ruleType:u.ruleType,onClose:e,onSubmit:v(e),onChangeInput:x,retentionSeconds:f,onChangeRuleType:g,onChangeRetentionRule:b,onChangeSchemaType:y})}))})),$e=n(11),Be=n(169);const ze=({list:e,selected:t,onSelect:n})=>e.length?r.a.createElement(se.a,{items:e,selectedItems:[t],onSelectItem:n,multiSelect:!1,testID:"buckets-list"},r.a.createElement(Pe,null)):r.a.createElement(le.a.Empty,null,"No buckets matched your search"),qe={onSelectBucket:ue.i};var He=Object(o.c)((e=>{const t=Object(Be.b)(e).map((e=>e.name||"")),n=Object($e.h)(e,j.ResourceType.Buckets);return{selectedBucket:Object(B.c)(e).builderConfig.buckets[0]||t[0],sortedBucketNames:t,bucketsStatus:n}}),qe)((({selectedBucket:e,sortedBucketNames:t,bucketsStatus:n,onSelectBucket:o})=>{const[i,s]=Object(a.useState)(""),c=t.filter((u=i,e=>e.toLocaleLowerCase().includes(u.toLocaleLowerCase())));var u;return n===j.RemoteDataState.Error?r.a.createElement(le.a.Empty,null,"Failed to load buckets"):n===j.RemoteDataState.Loading?r.a.createElement(le.a.Empty,null,r.a.createElement(ie.a,{text:"Loading buckets"})):n!==j.RemoteDataState.Done||t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Menu,null,r.a.createElement(l.Input,{value:i,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>s(e.target.value),onClear:()=>s("")})),r.a.createElement(ze,{list:c,selected:e,onSelect:e=>{o(e,!0)}})):r.a.createElement(le.a.Empty,null,"No buckets found")})),Ve=n(7);class Ue extends a.PureComponent{constructor(e){super(e),Object(Ve.a)("TimeMachineQueryBuilder load start")}componentDidMount(){this.props.onLoadBuckets()}render(){const{tagFiltersLength:e}=this.props;return r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(l.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(le.a,{testID:"bucket-selector"},r.a.createElement(le.a.Header,{title:"From"}),r.a.createElement(He,null)),e&&Object(u.range)(e).map((e=>r.a.createElement(ve,{key:e,index:e}))),this.addButton)),this.functionSelector))}get functionSelector(){const{checkType:e}=this.props;if("deadman"!==e)return r.a.createElement(Te,null)}get addButton(){const{moreTags:e,onAddTagSelector:t}=this.props;return e?r.a.createElement(je,{onClick:t,collapsible:!1}):null}}const We={onLoadBuckets:ue.b,onAddTagSelector:ue.a};var Ge=Object(o.c)((e=>{const t=Object(B.c)(e).builderConfig.tags.length,{queryBuilder:{tags:n}}=Object(B.d)(e),{alertBuilder:{type:a}}=e;if(!n.length)return{tagFiltersLength:t,moreTags:!1,checkType:a};const{keys:r,keysStatus:o}=n[n.length-1];return{tagFiltersLength:t,moreTags:!(0===r.length&&o===j.RemoteDataState.Done),checkType:a}}),We)(Ue),Ke=n(411);class Ye extends a.PureComponent{constructor(){super(...arguments),this.handleToggleIsViewingRawData=()=>{const{isViewingRawData:e,onSetIsViewingRawData:t}=this.props;t(!e)}}render(){const{giraffeResult:e,isInCheckOverlay:t,isViewingRawData:n}=this.props;return t&&"number"!==e.table.getColumnType("_value")&&!!e.table.length?null:r.a.createElement("div",{className:"view-raw-data-toggle"},r.a.createElement(l.InputLabel,null,"View Raw Data"),r.a.createElement(l.SlideToggle,{active:n,onChange:this.handleToggleIsViewingRawData,size:l.ComponentSize.ExtraSmall,testID:"raw-data--toggle"}))}}const Ze={onSetIsViewingRawData:$.n};var Qe=Object(o.c)((e=>{const{isViewingRawData:t}=Object(B.d)(e);return{giraffeResult:Object(B.m)(e),isInCheckOverlay:Object(B.i)(e),isViewingRawData:t}}),Ze)(Ye);class Xe extends a.PureComponent{constructor(){super(...arguments),this.state={newName:null},this.handleDoubleClick=()=>{this.props.isActive&&(this.props.onEdit(),this.setState({newName:this.props.name||""}))},this.handleChange=e=>{this.setState({newName:e.target.value})},this.handleEnterKey=e=>{switch(e.key){case"Enter":return this.handleUpdate();case"Escape":return this.props.onCancelEdit()}}}render(){const{queryIndex:e,name:t,isEditing:n,onCancelEdit:a}=this.props,o=t||`Query ${e+1}`;return n?r.a.createElement(l.Input,{type:l.InputType.Text,value:this.state.newName||"",onChange:this.handleChange,onBlur:a,onKeyUp:this.handleEnterKey,size:l.ComponentSize.ExtraSmall,autoFocus:!0,testID:"edit-query-name"}):r.a.createElement("div",{className:"query-tab--name",onDoubleClick:this.handleDoubleClick,title:o},o)}handleUpdate(){const{onUpdate:e,onCancelEdit:t}=this.props,{newName:n}=this.state;null!==n&&(e(n),t()),this.setState({newName:null})}}var Je=Xe;var et=Object(o.c)((e=>{const{status:t,fetchDuration:n}=Object(B.d)(e).queryResults;return{status:t,duration:n}}))((({duration:e,status:t})=>{const n=s()("query-tab--timer",{"query-tab--timer__visible":t===j.RemoteDataState.Done});return r.a.createElement("div",{className:n},`(${(e/1e3).toFixed(2)}s)`)}));class tt extends a.PureComponent{constructor(){super(...arguments),this.triggerRef=Object(a.createRef)(),this.state={isEditingName:!1},this.handleEditActiveQueryName=()=>{this.handleSetActive(),this.handleEditName()},this.handleUpdateName=e=>{this.props.onUpdateActiveQueryName(e)},this.handleSetActive=()=>{const{queryIndex:e,activeQueryIndex:t,onSetActiveQueryIndex:n}=this.props;e!==t&&n(e)},this.handleCancelEditName=()=>{this.setState({isEditingName:!1})},this.handleEditName=()=>{this.setState({isEditingName:!0})},this.handleRemove=()=>{const{queryIndex:e,onRemoveQuery:t}=this.props;t(e)},this.handleToggleView=e=>{const{queryIndex:t,onToggleQuery:n}=this.props;e.stopPropagation(),n(t)}}static getDerivedStateFromProps(e){return e.queryIndex!==e.activeQueryIndex?{isEditingName:!1}:null}render(){const{queryIndex:e,activeQueryIndex:t,query:n}=this.props,a=e===t,o=s()("query-tab",{"query-tab__active":e===t,"query-tab__hidden":n.hidden});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o,onClick:this.handleSetActive,ref:this.triggerRef},this.showHideButton,r.a.createElement(Je,{isActive:a,name:n.name,queryIndex:e,isEditing:this.state.isEditingName,onUpdate:this.handleUpdateName,onEdit:this.handleEditName,onCancelEdit:this.handleCancelEditName}),this.queriesTimer,this.removeButton),r.a.createElement(l.RightClick,{triggerRef:this.triggerRef,color:l.ComponentColor.Primary},r.a.createElement(l.RightClick.MenuItem,{onClick:this.handleEditActiveQueryName,testID:"right-click--edit-tab"},"Edit"),r.a.createElement(l.RightClick.MenuItem,{onClick:this.handleRemove,disabled:!this.isRemovable,testID:"right-click--remove-tab"},"Remove")))}get queriesTimer(){const{queryIndex:e,activeQueryIndex:t}=this.props;if(e===t)return r.a.createElement(et,null)}get removeButton(){return this.state.isEditingName||!this.isRemovable?null:r.a.createElement("div",{className:"query-tab--close",onClick:this.handleRemove},r.a.createElement(l.Icon,{glyph:l.IconFont.Remove_New}))}get showHideButton(){const{query:e}=this.props;if(this.state.isEditingName||!this.isRemovable&&!(null==e?void 0:e.hidden))return null;const t=e.hidden?l.IconFont.EyeClosed:l.IconFont.EyeOpen;return r.a.createElement("div",{className:"query-tab--hide",onClick:this.handleToggleView},r.a.createElement(l.Icon,{glyph:t}))}get isRemovable(){return this.props.queryCount>1}}const nt={onSetActiveQueryIndex:$.i,onRemoveQuery:$.g,onUpdateActiveQueryName:$.w,onToggleQuery:$.u};var at=Object(o.c)((e=>{const{activeQueryIndex:t,draftQueries:n}=Object(B.d)(e);return{activeQueryIndex:t,queryCount:n.length}}),nt)(tt);const rt={onAddQuery:$.a};var ot=Object(o.c)((e=>{const{draftQueries:t}=Object(B.d)(e);return{draftQueries:t,isInCheckOverlay:Object(B.i)(e)}}),rt)((({draftQueries:e,isInCheckOverlay:t,onAddQuery:n})=>r.a.createElement("div",{className:"time-machine-queries--tabs"},e.map(((e,t)=>r.a.createElement(at,{key:t,queryIndex:t,query:e}))),!t&&r.a.createElement(l.SquareButton,{className:"time-machine-queries--new",icon:l.IconFont.Plus_New,size:l.ComponentSize.Small,color:l.ComponentColor.Default,onClick:n}))));var it=()=>r.a.createElement(l.QuestionMarkTooltip,{testID:"editor-shortcuts",tooltipContents:r.a.createElement("div",{className:"editor-shortcuts"},r.a.createElement("h5",null,"Shortcuts"),r.a.createElement("dl",{className:"editor-shortcuts--body"},r.a.createElement("dt",null,"[Ctl or ⌘] + /:"),r.a.createElement("dd",null,"Toggle comment for line or lines"),r.a.createElement("dt",null,"[Ctl or ⌘] + [Enter]:"),r.a.createElement("dd",null,"Submit Script")))}),st=n(190),lt=n(114);class ct extends a.PureComponent{constructor(){super(...arguments),this.handleSetTimeRange=e=>{const{autoRefresh:t,location:{pathname:n},onEnableUpdatedTimeRangeInVEO:a,onSetAutoRefresh:r,onSetTimeRange:o,setTimeMachineTimeRange:i,match:{params:{cellID:s,dashboardID:l,orgID:c}}}=this.props;if(n===`orgs/${c}/dashboards/${l}/cell/${s}/edit`&&a(),o(e),i(e),"custom"!==e.type){if(t.status===j.AutoRefreshStatus.Disabled){if(0===t.interval)return void r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Paused}));r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Active}))}}else r(Object.assign(Object.assign({},t),{status:j.AutoRefreshStatus.Disabled}))}}render(){const{timeRange:e,isInCheckOverlay:t,activeQuery:n}=this.props;return r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement(ot,null),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small,className:"time-machine-queries--buttons"},"advanced"===n.editMode&&r.a.createElement(it,null),r.a.createElement(Qe,null),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null),r.a.createElement(ne,null),r.a.createElement(ae.a,{timeRange:e,onSetTimeRange:this.handleSetTimeRange}),r.a.createElement(Q,null)),r.a.createElement(Ke.b,null))),r.a.createElement("div",{className:"time-machine-queries--body"},this.queryEditor))}get queryEditor(){const{activeQuery:e}=this.props;return"builder"===e.editMode?r.a.createElement(Ge,null):"advanced"===e.editMode?r.a.createElement(H,null):null}}const ut={setTimeMachineTimeRange:$.q,onSetTimeRange:$.r,onEnableUpdatedTimeRangeInVEO:st.e,onSetAutoRefresh:$.m};var dt=Object(o.c)((e=>{const t=Object(lt.b)(e),{autoRefresh:n}=Object(B.d)(e);return{timeRange:t,activeQuery:Object(B.c)(e),autoRefresh:n,isInCheckOverlay:Object(B.i)(e)}}),ut)(Object(c.j)(ct)),mt=n(336);var pt=({tagSet:e,index:t,handleChangeTagRow:n,handleRemoveTagRow:a})=>{const o=a=>{n(t,Object.assign(Object.assign({},e),{[a.target.name]:a.target.value}))};return r.a.createElement(l.Panel,{testID:"tag-rule",className:"alert-builder--tag-row",style:{backgroundColor:"rgba(51,51,70, .3)"}},r.a.createElement(l.DismissButton,{onClick:()=>{a(t)},color:l.ComponentColor.Default}),r.a.createElement(l.Panel.Body,{size:l.ComponentSize.ExtraSmall},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small},r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.Input,{testID:"tag-rule-key--input",placeholder:"Tag",value:e.key,name:"key",onChange:o})),r.a.createElement(l.FlexBox.Child,{grow:0,basis:20},r.a.createElement(l.TextBlock,{backgroundColor:"#00000000",textColor:l.InfluxColors.Pool,text:"="})),r.a.createElement(l.FlexBox.Child,{grow:1},r.a.createElement(l.Input,{testID:"tag-rule-key--input",placeholder:"Value",value:e.value,name:"value",onChange:o})))))},ht=n(59);var ft=n(81);const gt={key:"",value:""},bt={onSelectCheckEvery:e=>t=>{t(Object(ht.i)(e)),t(Object(O.c)())},onSetOffset:ht.k,onRemoveTagSet:ht.d,onEditTagSetByIndex:ht.b};var vt=Object(o.c)((({alertBuilder:{tags:e,offset:t,every:n}})=>({tags:e||[],offset:t,every:n})),bt)((({tags:e,offset:t,every:n,onSelectCheckEvery:a,onSetOffset:o,onRemoveTagSet:i,onEditTagSetByIndex:s})=>r.a.createElement(le.a,{testID:"builder-meta",className:"alert-builder--card alert-builder--meta-card"},r.a.createElement(le.a.Header,{title:"Properties"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.Grid,null,r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthSM:6},r.a.createElement(l.Form.Element,{label:"Schedule Every"},r.a.createElement(Ee.a,{value:n,suggestions:we.d,onSubmit:a,testID:"schedule-check"}))),r.a.createElement(l.Grid.Column,{widthSM:6},r.a.createElement(l.Form.Element,{label:"Offset"},r.a.createElement(Ee.a,{value:t,suggestions:ft.b,onSubmit:o,testID:"offset-options"}))))),r.a.createElement(l.Form.Label,{label:"Tags"}),e.map(((e,t)=>r.a.createElement(pt,{key:t,index:t,tagSet:e,handleChangeTagRow:s,handleRemoveTagRow:i}))),r.a.createElement(mt.a,{text:"+ Tag",onClick:()=>s(e.length,gt),color:l.ComponentColor.Primary,size:l.ComponentSize.Small})))));const yt={onSetStatusMessageTemplate:ht.m};var xt=Object(o.c)((({alertBuilder:{statusMessageTemplate:e}})=>({statusMessageTemplate:e})),yt)((({statusMessageTemplate:e,onSetStatusMessageTemplate:t})=>r.a.createElement(le.a,{testID:"builder-message",className:"alert-builder--card alert-builder--message-card"},r.a.createElement(le.a.Header,{title:"Status Message Template"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.TextArea,{className:"alert-builder--message-template",autoFocus:!1,autocomplete:l.AutoComplete.Off,form:"",maxLength:500,minLength:5,name:"statusMessageTemplate",onChange:e=>{t(e.target.value)},readOnly:!1,required:!1,size:l.ComponentSize.Medium,spellCheck:!1,testID:"status-message-textarea",value:e,wrap:l.Wrap.Soft,placeholder:"This template what this Check will use to write status messages"}),r.a.createElement("div",{className:"alert-builder--message-help"},r.a.createElement("p",null,"You can use any columns from your query as well as the following:"),r.a.createElement("p",null,r.a.createElement("code",null,"${r._check_name}")," The name of this check"),r.a.createElement("p",null,r.a.createElement("code",null,"${r._level}")," Indicates the level of the check"),r.a.createElement("p",null,r.a.createElement("code",null,"${string(v: r.numericColumn)}")," Functions can be used"," ","as well"),r.a.createElement("p",null,"Need help? Check out the Status Message Template"," ",r.a.createElement("a",{href:`https://docs.influxdata.com/influxdb/${k.a}/monitor-alert/checks/create/#flux-only-interpolates-string-values`,target:"_blank",rel:"noreferrer"},"Documentation")))))));var Et=({threshold:e,children:t,removeLevel:n,changeThresholdType:a})=>{const o={"is above":"greater","is below":"lesser","is inside range":"range","is outside range":"range"},i=ft.l[e.level],s=(e=>"greater"==e.type?"is above":"lesser"==e.type?"is below":e.within?"is inside range":"is outside range")(e);return r.a.createElement(l.Panel,{backgroundColor:l.InfluxColors.Grey15,style:{backgroundColor:"rgba(51,51,70, .3)"},testID:"panel"},r.a.createElement(l.DismissButton,{color:l.ComponentColor.Default,onClick:n,testID:"dismiss-button",type:l.ButtonType.Button}),r.a.createElement(l.PanelBody,{testID:"panel--body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.Small,testID:"component-spacer"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"When value"}),r.a.createElement(l.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},r.a.createElement(l.SelectDropdown,{options:Object.keys(o),selectedOption:s,onSelect:e=>{a(o[e],"is inside range"===e)},testID:"select-option-dropdown"}))),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},t,r.a.createElement(l.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),r.a.createElement(l.TextBlock,{backgroundColor:i,testID:"threshold-level-text-block",text:e.level})))))},wt=n(35);var St=({threshold:e,changeValue:t,level:n})=>r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:e=>{t(Object(wt.a)(e))},name:"",type:l.InputType.Number,value:e.value,testID:`input-field-${n}`}));var kt=({threshold:e,changeRange:t})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:n=>{const a=Object(wt.a)(n);t(a,e.max)},name:"min",testID:"input-field",type:l.InputType.Number,value:e.min})),r.a.createElement(l.TextBlock,{testID:"text-block",text:"to"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.Input,{onChange:n=>{const a=Object(wt.a)(n);t(e.min,a)},disabledTitleText:"This input is disabled",name:"max",testID:"input-field",type:l.InputType.Number,value:e.max}))),Ct=n(202);const Ot={type:"greater"},Dt={onUpdateThreshold:ht.p,onRemoveThreshold:ht.e};var Tt=Object(o.c)((e=>({table:Object(B.m)(e).table})),Dt)((({level:e,table:t,threshold:n,onUpdateThreshold:o,onRemoveThreshold:i})=>{const[s,c]=Object(a.useState)([Object(u.get)(n,"value")||Object(u.get)(n,"min",0),Object(u.get)(n,"max",100)]),d=Object(u.get)(n,"value")||Object(u.get)(n,"min",s[0]),m=Object(u.get)(n,"max",s[1]);Object(a.useEffect)((()=>{c([d,m])}),[d,m]);const p=Object(Ct.a)(t.getColumn("_value","number"),[]),h=()=>{const t=p[0]||0,n=p[1]||40,a=Object.assign(Object.assign({},Ot),{value:(n-t)/2+t,level:e});o(a)};return n?r.a.createElement(Et,{threshold:n,removeLevel:()=>{i(e)},changeThresholdType:(e,t)=>{if("greater"===e||"lesser"===e){const t={type:e,level:n.level,value:s[0]};o(t)}if("range"===e){const a={type:e,level:n.level,min:s[0],max:s[1],within:t};o(a)}}},"range"===n.type?r.a.createElement(kt,{threshold:n,changeRange:(e,t)=>{const a=Object.assign(Object.assign({},n),{min:e,max:t});o(a)}}):r.a.createElement(St,{threshold:n,changeValue:e=>{const t=Object.assign(Object.assign({},n),{value:e});o(t)},level:e})):r.a.createElement(mt.a,{text:`+ ${e}`,color:ft.m[e],size:l.ComponentSize.Large,onClick:h,testID:`add-threshold-condition-${e}`})}));var jt=Object(o.c)((({alertBuilder:{thresholds:e}})=>{const t={};return e.forEach((e=>{t[e.level]=e})),{thresholds:t}}))((({thresholds:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{level:"CRIT",threshold:e.CRIT}),r.a.createElement(Tt,{level:"WARN",threshold:e.WARN}),r.a.createElement(Tt,{level:"INFO",threshold:e.INFO}),r.a.createElement(Tt,{level:"OK",threshold:e.OK}))));const It=[{display:"CRIT",hex:l.InfluxColors.Fire,value:"CRIT"},{display:"INFO",hex:l.InfluxColors.Ocean,value:"INFO"},{display:"WARN",hex:l.InfluxColors.Thunder,value:"WARN"},{display:"OK",hex:l.InfluxColors.Viridian,value:"OK"}];var Nt=({selectedLevel:e,onClickLevel:t})=>{const n=It.find((t=>t.value===e));if(!n)throw new Error("Unknown level type provided to <CheckLevelsDropdown/>");const a=It.map((({value:e,display:n,hex:a})=>r.a.createElement(l.Dropdown.Item,{key:e,id:e,value:e,onClick:()=>t(e),testID:`check-levels--dropdown-item ${e}`},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:a}}),r.a.createElement("div",{className:"color-dropdown--name"},n)))));return r.a.createElement(l.Dropdown,{button:(e,t)=>r.a.createElement(l.Dropdown.Button,{color:l.ComponentColor.Default,active:e,onClick:t,testID:"check-levels--dropdown--button"},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:n.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},n.value))),menu:e=>r.a.createElement(l.Dropdown.Menu,{theme:l.DropdownMenuTheme.Onyx,onCollapse:e},a),testID:"check-levels--dropdown"})};const Rt={onSetStaleTime:ht.l,onSetTimeSince:ht.n,onSetLevel:ht.j};var At=Object(o.c)((({alertBuilder:{staleTime:e,timeSince:t,level:n}})=>({staleTime:e,timeSince:t,level:n})),Rt)((({staleTime:e,timeSince:t,level:n,onSetStaleTime:a,onSetTimeSince:o,onSetLevel:i})=>r.a.createElement(l.Panel,{backgroundColor:l.InfluxColors.Grey15,testID:"panel"},r.a.createElement(l.PanelBody,{testID:"panel--body"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,margin:l.ComponentSize.Small,testID:"component-spacer"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"When values are not reporting"}))),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer",alignItems:l.AlignItems.Center},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"for"}),r.a.createElement(Ee.a,{suggestions:ft.b,onSubmit:o,value:t,showDivider:!1,testID:"duration-input--for"}),r.a.createElement(l.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),r.a.createElement(Nt,{selectedLevel:n,onClickLevel:i})),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement(l.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),r.a.createElement(l.FlexBox.Child,{testID:"component-spacer--flex-child"},r.a.createElement(Ee.a,{suggestions:ft.b,onSubmit:a,value:e,showDivider:!1,testID:"duration-input--stop"}))))))));var Ft=Object(o.c)((({alertBuilder:{type:e}})=>({checkType:e})),null)((({checkType:e})=>{let t,n;if("deadman"===e)t="Deadman",n=r.a.createElement(At,null);else{if("threshold"!==e)throw new Error("Incorrect check type provided to <CheckConditionsCard/>");t="Thresholds",n=r.a.createElement(jt,null)}return r.a.createElement(le.a,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},r.a.createElement(le.a.Header,{title:t}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,margin:l.ComponentSize.Medium},n)))})),_t=n(22);var Mt=Object(o.c)((e=>({endpoints:Object($e.a)(e,j.ResourceType.NotificationEndpoints)})))((({rule:e,endpoints:t})=>{const n=t.find((t=>t.id===e.endpointID));return r.a.createElement(l.ResourceCard,{key:`rule-id--${e.id}`,testID:"rule-card"},r.a.createElement(l.ResourceCard.Name,{name:e.name}),r.a.createElement(l.ResourceCard.Description,{description:e.description}),r.a.createElement(l.ResourceCard.Meta,null,r.a.createElement(r.a.Fragment,null,`Checks every: ${e.every}`),r.a.createElement(r.a.Fragment,null,`Sends notifications to: ${n.name}`)))})),Lt=n(245),Pt=n(12);var $t=Object(o.c)((e=>{const{alertBuilder:{tags:t}}=e,{id:n}=Object(Me.a)(e),{queryResults:{files:a}}=Object(B.d)(e);return{tags:t,orgID:n,queryResults:a}}))((({orgID:e,tags:t,queryResults:n})=>{const[{matchingRules:o,status:i},s]=Object(a.useState)({matchingRules:[],status:l.RemoteDataState.NotStarted});let c;return Object(a.useEffect)((()=>{s({matchingRules:o,status:l.RemoteDataState.Loading}),(async()=>{const a=t.filter((e=>e.key&&e.value)).map((e=>[e.key,e.value])),r=[];if(n){const e=n.join("\n\n"),t=Object(_t.fromFlux)(e).table;Object(_t.fromFlux)(e).fluxGroupKeyUnion.filter((e=>"_start"!==e&&"_stop"!==e)).forEach((e=>{Object(u.uniq)(t.getColumn(e,"string")).forEach((t=>{r.push([e,t])}))}))}const o=[...a,...r].map((e=>["tag",`${e[0].trim()}:${e[1].trim()}`])),i=await Object(Pt.getNotificationRules)({query:[["orgID",e],...o]});if(200!==i.status)return void s({matchingRules:[],status:l.RemoteDataState.Error});const c=i.data.notificationRules.map((e=>Object(Lt.h)(e)));s({matchingRules:c,status:l.RemoteDataState.Done})})()}),[t,n]),c=i===l.RemoteDataState.NotStarted||i===l.RemoteDataState.Loading?r.a.createElement(l.SpinnerContainer,{spinnerComponent:r.a.createElement(l.TechnoSpinner,null),loading:i}):o.length?r.a.createElement(r.a.Fragment,null,o.map((e=>r.a.createElement(Mt,{key:e.id,rule:e})))):r.a.createElement(l.EmptyState,{size:l.ComponentSize.Small,className:"alert-builder--card__empty"},r.a.createElement(l.EmptyState.Text,null,"Notification Rules configured to act on tag sets matching this Alert Check will show up here"),r.a.createElement(l.EmptyState.Text,null,"Looks like no notification rules match the tag set defined in this Alert Check")),r.a.createElement(le.a,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},r.a.createElement(le.a.Header,{title:"Matching Notification Rules"}),r.a.createElement(le.a.Body,{addPadding:!0,autoHideScrollbars:!0},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Stretch,margin:l.ComponentSize.Medium},c)))})),Bt=n(24);var zt=()=>r.a.createElement("div",{className:"alert-builder","data-testid":"query-builder"},r.a.createElement(vt,null),r.a.createElement(xt,null),r.a.createElement(Ft,null),Object(Bt.c)("matchingNotificationRules")&&r.a.createElement($t,null));const qt={onLoadCustomCheckQueryState:$.e};var Ht=Object(o.c)(null,qt)((({onLoadCustomCheckQueryState:e})=>r.a.createElement(l.Button,{text:"Customize Check Query",titleText:"Switch to Script Editor",onClick:()=>{e()},testID:"switch-to-custom-check"})));var Vt=()=>r.a.createElement(l.Button,{titleText:"Learn more about alerting",text:"Help",onClick:()=>{window.open(`https://docs.influxdata.com/influxdb/${k.a}/monitor-alert/checks/create/#configure-the-check`).focus()}});var Ut=()=>r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement("div",{className:"time-machine--editor-title"},"Configure a Check"),r.a.createElement("div",{className:"time-machine-queries--buttons"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small},Object(Bt.c)("customCheckQuery")&&r.a.createElement(Ht,null),r.a.createElement(Qe,null),r.a.createElement(Vt,null)))),r.a.createElement("div",{className:"time-machine-queries--body"},r.a.createElement(zt,null))),Wt=n(107),Gt=n(208),Kt=n(198);var Yt=Object(o.c)((e=>{const t=Object(B.d)(e),{isViewingRawData:n,view:{properties:a},queryResults:{status:r,errorMessage:o,isInitialFetch:i,files:s}}=t,l=Object(lt.c)(e),c=Object(B.m)(e),u=Object(B.o)(e),d=Object(B.p)(e),m=Object(B.q)(e),p=Object(B.h)(e),h=Object(B.l)(e),f=Object(B.f)(e),g=Object(B.a)(e);return{loading:r,errorMessage:o,isInitialFetch:i,files:s,viewProperties:a,isViewingRawData:n,giraffeResult:c,xColumn:u,yColumn:d,ySeriesColumns:m,fillColumns:p,symbolColumns:h,timeRange:Object(B.e)(l,a.queries),annotations:f,cellID:g}}))(Object(a.memo)((({loading:e,errorMessage:t,timeRange:n,isInitialFetch:a,isViewingRawData:o,files:i,viewProperties:l,giraffeResult:c,xColumn:u,yColumn:d,ySeriesColumns:m,fillColumns:p,symbolColumns:h,annotations:f,cellID:g})=>{var b;const{type:v}=l;let y=Object.assign(Object.assign({},l),{xColumn:u,[""+("mosaic"===v?"ySeriesColumns":"yColumn")]:"mosaic"===v?m:d,fillColumns:p,symbolColumns:h});const x={type:"simple-table",showAll:!0};o&&(y={type:"simple-table",showAll:!0});const E=e===j.RemoteDataState.NotStarted||!l.queries.length,w=s()("time-machine--view",{"time-machine--view__empty":E});if((o||"check"===v&&"number"!==c.table.getColumnType("_value")&&!!c.table.length)&&i&&(null==i?void 0:i.length)){const[n]=i.flatMap(_t.fromFlux);return r.a.createElement("div",{className:w},r.a.createElement(S.a,null,r.a.createElement(Gt.b,{loading:e,errorMessage:t,errorFormat:Gt.a.Scroll,hasResults:!!(null===(b=null==n?void 0:n.table)||void 0===b?void 0:b.length),isInitialFetch:a},r.a.createElement(Kt.a,{result:n,properties:x}))))}return r.a.createElement("div",{className:w},r.a.createElement(Wt.b,{loading:e,error:t,isInitial:a,properties:y,result:c,timeRange:n,annotations:f,cellID:g}))}),((e,t)=>Object(u.isEqual)(e,t))));var Zt=()=>{const{view:e}=Object(o.e)(B.d),t=Object(o.e)(B.m),n=Object(o.d)(),i=Object(a.useCallback)((t=>{n(Object($.t)(Object.assign(Object.assign({},e.properties),t)))}),[n,e.properties]);return r.a.createElement("div",{className:"view-options--wrap"},r.a.createElement(l.DapperScrollbars,{autoHide:!1,style:{width:"100%",height:"100%"}},r.a.createElement(Wt.c,{properties:e.properties,results:t,update:i})))};class Qt extends a.PureComponent{constructor(){super(...arguments),this.state={didClick:!1},this.handleClick=()=>{this.props.onExecuteCheckQuery(),this.setState({didClick:!0})}}componentDidUpdate(e){e.queryStatus===j.RemoteDataState.Loading&&this.props.queryStatus===j.RemoteDataState.Done&&this.setState({didClick:!1})}render(){return r.a.createElement(l.Button,{text:"Execute check query and view statuses",size:l.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:l.ComponentColor.Primary,testID:"time-machine-check-query-run-button"})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props,{didClick:n}=this.state;return t?l.ComponentStatus.Disabled:e===j.RemoteDataState.Loading&&n?l.ComponentStatus.Loading:l.ComponentStatus.Default}}const Xt={onExecuteCheckQuery:O.b};var Jt=Object(o.c)((e=>({submitButtonDisabled:""===Object(B.c)(e).text,queryStatus:Object(B.d)(e).queryResults.status})),Xt)(Qt);var en=()=>r.a.createElement("div",{className:"time-machine-queries"},r.a.createElement("div",{className:"time-machine-queries--controls"},r.a.createElement(ot,null),r.a.createElement("div",{className:"time-machine-queries--buttons"},r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexEnd,margin:l.ComponentSize.Small},r.a.createElement(Qe,null),r.a.createElement(Jt,null)))),r.a.createElement("div",{className:"time-machine-queries--body"},r.a.createElement(H,null)));t.a=Object(o.c)((e=>{const{activeTab:t,isViewingVisOptions:n}=Object(B.d)(e);return{activeTab:t,isViewingVisOptions:n}}))((({activeTab:e,isViewingVisOptions:t})=>{const[n,o]=Object(a.useState)([.4]),i=s()("time-machine",{"time-machine--split":t});let c=null;return"alerting"===e?c=r.a.createElement(Ut,null):"queries"===e?c=r.a.createElement(dt,null):"customCheckQuery"===e&&(c=r.a.createElement(en,null)),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Zt,null),r.a.createElement("div",{className:i},r.a.createElement(l.DraggableResizer,{handleOrientation:l.Orientation.Horizontal,handlePositions:n,onChangePositions:o},r.a.createElement(l.DraggableResizer.Panel,null,r.a.createElement("div",{className:"time-machine--top"},r.a.createElement(Yt,null))),r.a.createElement(l.DraggableResizer.Panel,null,r.a.createElement(S.a,null,r.a.createElement("div",{className:"time-machine--bottom","data-testid":"time-machine--bottom"},r.a.createElement("div",{className:"time-machine--bottom-contents"},c)))))))}))},427:function(e,t,n){e.exports=n.p+"0.73ba69aef2.worker.js"},428:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(3),s=n(11),l=n(159),c=n(7);t.a=({onDismiss:e,onSubmit:t})=>{const n=Object(o.e)(s.c),u=e=>{if(!e)return null;if(""===e.trim())return"Key is required";return n.map((e=>e.id)).includes(e)?"Key is already in use":null},[d,m]=Object(a.useState)({id:"",value:"",status:i.RemoteDataState.NotStarted}),p=Object(o.d)(),h=({target:e})=>{const{name:t,value:n}=e;m((e=>Object.assign(Object.assign({},e),{[t]:n})))},f=()=>{e&&e()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Overlay.Body,null,r.a.createElement(i.Alert,{className:"alert",icon:i.IconFont.AlertTriangle,color:i.ComponentColor.Warning},"Make sure you know your secret value! You will be able to reference the secret in queries by key but you will not be able to see the value again."),r.a.createElement(i.Form.ValidationElement,{label:"Key",required:!0,validationFunc:u,value:d.id},(e=>r.a.createElement(i.Input,{autoFocus:!0,testID:"input--secret-name",name:"id",titleText:"This is how you will reference your secret in Flux",value:d.id,status:e,onChange:h}))),r.a.createElement(i.Form.Label,{label:"Value"}),r.a.createElement(i.Input,{placeholder:"your_secret_value",onChange:h,required:!0,name:"value",testID:"input--secret-value",titleText:"This is the value that will be injected by the server when your secret is in use",value:d.value})),r.a.createElement(i.Overlay.Footer,null,r.a.createElement(i.Button,{text:"Cancel",color:i.ComponentColor.Tertiary,onClick:f}),r.a.createElement(i.Button,{text:"Add Secret",testID:"variable-form-save",onClick:()=>{try{Object(c.a)("New Secret Created"),p(Object(l.c)(d)),t&&t(d.id)}finally{f()}},color:i.ComponentColor.Success,status:(null===(g=null==d?void 0:d.id)||void 0===g?void 0:g.length)>0&&(null===(b=null==d?void 0:d.value)||void 0===b?void 0:b.length)>0&&null===u(null==d?void 0:d.id)?i.ComponentStatus.Default:i.ComponentStatus.Disabled})));var g,b}},429:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return m}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const r=new Headers(n.headers),o=r.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);r.append("Authorization",`Basic ${e}`)}const i=n.data&&o.includes("json")?JSON.stringify(n.data):n.data,s=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,s,{method:e,body:i,credentials:"same-origin",signal:a.signal,headers:r}),d=await fetch(`${l}${c}`,u),{status:m,headers:p}=d,h=p.get("Content-Type")||"";let f;return f=h.includes("json")?await d.json():h.includes("octet-stream")?await d.blob():await d.text(),this.responseHandler(m,p,f)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new a(((e,t,n)=>({url:e,query:t,init:n})),((e,t,n)=>({status:e,headers:t,data:n}))),o=r.request.bind(r),i=(r.setRequestHandler.bind(r),r.setResponseHandler.bind(r),(e,t={})=>o("GET","/api/v2private/notebooks",e,t)),s=(e,t={})=>o("POST","/api/v2private/notebooks",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),l=(e,t={})=>o("PATCH",`/api/v2private/notebooks/${e.id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),c=(e,t={})=>o("DELETE",`/api/v2private/notebooks/${e.id}`,e,t),u=(e,t={})=>o("GET","/api/v2private/notebooks/share",e,t),d=(e,t={})=>o("POST","/api/v2private/notebooks/share",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),m=(e,t={})=>o("DELETE",`/api/v2private/notebooks/share/${e.id}`,e,t)},439:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(19),i=n.n(o),s=n(3),l=n(91);t.a=({onRename:e,onClickOutside:t,name:n,placeholder:o,maxLength:c})=>{const[u,d]=Object(a.useState)(!1),[m,p]=Object(a.useState)(n);Object(a.useEffect)((()=>(p(n),function(){d(!1)})),[n]);const h=n=>{e(m),t&&t(n)},f=()=>{d(!1)},g=e=>{p(e.target.value)},b=t=>{"Enter"===t.key&&(e(m),d(!1)),"Escape"===t.key&&(d(!1),p(n))},v=e=>{e.currentTarget.select()},y=n===o||""===n,x=i()("renamable-page-title",{untitled:y});return u?r.a.createElement(l.a,{onClickOutside:h},r.a.createElement("div",{className:x,"data-testid":"renamable-page-title"},r.a.createElement(s.Input,{maxLength:c,autoFocus:!0,spellCheck:!1,placeholder:o,onBlur:f,onFocus:v,onChange:g,onKeyDown:b,className:"renamable-page-title--input",value:m,testID:"renamable-page-title--input"}))):r.a.createElement("div",{className:x,onClick:()=>{d(!0)}},r.a.createElement(s.Page.Title,{title:m||o}),r.a.createElement(s.Icon,{glyph:s.IconFont.Pencil,className:"renamable-page-title--icon"}))}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(8);const a=e=>e.annotations.enableAnnotationsMode},440:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));class a{constructor(){this.subscribers=[],this.refresh=(e=!1,t)=>{e&&t&&t(),this.subscribers.forEach((e=>e()))}}subscribe(e){this.subscribers=[...this.subscribers,e]}unsubscribe(e){this.subscribers=this.subscribers.filter((t=>t!==e))}poll(e,t){this.clearInterval(),this.intervalID=setInterval((()=>{this.refresh(!0,t)}),e.interval)}stopPolling(){this.clearInterval()}clearInterval(){this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null)}}const r=new a},456:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={},r=n(507);r.keys().forEach((e=>{r(e).default((e=>{a[e.type]=e}))}))},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(72);const r=[{text:a.a},{text:"YYYY-MM-DD hh:mm:ss a ZZ"},{text:"DD/MM/YYYY HH:mm:ss.sss"},{text:"DD/MM/YYYY hh:mm:ss.sss a"},{text:"MM/DD/YYYY HH:mm:ss.sss"},{text:"MM/DD/YYYY hh:mm:ss.sss a"},{text:"YYYY/MM/DD HH:mm:ss"},{text:"YYYY/MM/DD hh:mm:ss a"},{text:"HH:mm"},{text:"hh:mm a"},{text:"HH:mm:ss"},{text:"hh:mm:ss a"},{text:"HH:mm:ss ZZ"},{text:"hh:mm:ss a ZZ"},{text:"HH:mm:ss.sss"},{text:"hh:mm:ss.sss a"},{text:"MMMM D, YYYY HH:mm:ss"},{text:"MMMM D, YYYY hh:mm:ss a"},{text:"dddd, MMMM D, YYYY HH:mm:ss"},{text:"dddd, MMMM D, YYYY hh:mm:ss a"}],o=e=>r.find((t=>t.text===e))?e:a.a},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var a=n(207),r=n(34),o=n(7),i=n(10),s=n(13),l=n(64),c=n(22);const u=(e,t,n="xyplot")=>async r=>{const{summary:c,startTime:u,endTime:d,type:m}=r,p="point"===m?u:d;try{await e(Object(a.d)([{summary:c,stream:t,startTime:new Date(u).getTime(),endTime:new Date(p).getTime()}])),Object(o.a)(`${n}.annotations.create_${m}_annotation.create`)}catch(t){e(Object(i.c)(Object(s.Z)(Object(l.a)(t)))),Object(o.a)(`${n}.annotations.create_${m}_annotation.failure`)}},d=(e,t,n="xyplot")=>{const a=u(e,t,n);return i=>{var s;Object(o.a)(`${n}.annotations.create_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:null!==(s=null==i?void 0:i.clampedValueX)&&void 0!==s?s:i.valueX,eventPrefix:n,cellID:t},(()=>{Object(r.b)()})))}},m=(e,t)=>(e.startTime===e.endTime?1:0)-(t.startTime===t.endTime?1:0),p=(e,t,n,a,i,s,l,u="xyplot")=>{var d;const p=(i&&null!==(d=i[e])&&void 0!==d?d:[]).sort(m).map((e=>Object.assign(Object.assign({},e),{color:c.InfluxColors.Honeydew}))),h=((e,t,n,a="xyplot")=>i=>{const s=n[e].find((e=>e.id===i));s&&(Object(o.a)(`${a}.annotations.edit_annotation.show_overlay`),t(Object(r.d)("edit-annotation",{clickedAnnotation:Object.assign(Object.assign({},s),{stream:e,eventPrefix:a}),cellID:e},(()=>{Object(r.b)()}))))})(e,l,i,u);if(s&&p.length){return{type:"annotation",x:t,y:n,fill:a,handleAnnotationClick:h,annotations:p.map((e=>({id:e.id,title:e.summary,description:"",color:e.color,startValue:new Date(e.startTime).getTime(),stopValue:new Date(e.endTime).getTime(),dimension:"x",pin:"start"})))}}return null},h=(e,t,n,a,i,s,l,c,m="xyplot")=>{t&&n&&(e.interactionHandlers={singleShiftClick:d(c,n,m)},e.interactionHandlers.onXBrush=((e,t,n="xyplot")=>{const a=u(e,t,n);return(i,s)=>{Object(o.a)(`${n}.annotations.create_range_annotation.show_overlay`),e(Object(r.d)("add-annotation",{createAnnotation:a,startTime:i,endTime:s,range:!0,eventPrefix:n,cellID:t},(()=>{Object(r.b)()})))}})(c,n,m));const h=p(n,a,i,s,l,t,c,m);h&&e.layers.push(h)},f=e=>Object(i.c)(Object(s.t)(e))},472:function(e,t,n){"use strict";var a,r=n(14),o=n(2),i=n.n(o),s=n(19),l=n.n(s),c=n(3);!function(e){e.Option="option",e.Header="header"}(a||(a={}));var u=[{id:"auto-refresh-header",milliseconds:1,label:"Refresh",type:a.Header},{id:"auto-refresh-paused",milliseconds:0,label:"Paused",type:a.Option},{id:"auto-refresh-5s",milliseconds:5e3,label:"5s",type:a.Option},{id:"auto-refresh-10s",milliseconds:1e4,label:"10s",type:a.Option},{id:"auto-refresh-15s",milliseconds:15e3,label:"15s",type:a.Option},{id:"auto-refresh-30s",milliseconds:3e4,label:"30s",type:a.Option},{id:"auto-refresh-60s",milliseconds:6e4,label:"60s",type:a.Option}],d=n(5),m=n(15);let p=class extends o.Component{constructor(e){super(e),this.handleDropdownChange=e=>{this.props.onChoose(e.milliseconds)},this.state={isOpen:!1}}render(){return this.props.showAutoRefresh?i.a.createElement("div",{className:this.className},i.a.createElement(c.Dropdown,{style:{width:`${this.dropdownWidthPixels}px`},button:(e,t)=>i.a.createElement(c.Dropdown.Button,{active:e,onClick:t,status:this.dropdownStatus,icon:this.dropdownIcon,testID:"autorefresh-dropdown--button"},this.selectedOptionLabel),menu:e=>i.a.createElement(c.Dropdown.Menu,{onCollapse:e,style:{width:"84px"}},u.map((e=>e.type===a.Header?i.a.createElement(c.Dropdown.Divider,{key:e.id,id:e.id,text:e.label}):i.a.createElement(c.Dropdown.Item,{key:e.id,id:e.id,testID:e.id,value:e,selected:e.id===this.selectedOptionID,onClick:this.handleDropdownChange},e.label))))}),this.manualRefreshButton):i.a.createElement("div",{className:this.className},this.manualRefreshButton)}get dropdownStatus(){return this.isDisabled?c.ComponentStatus.Disabled:c.ComponentStatus.Default}get isDisabled(){const{selected:e}=this.props;return e.status===d.AutoRefreshStatus.Disabled}get isPaused(){const{selected:e}=this.props;return e.status===d.AutoRefreshStatus.Paused||this.isDisabled}get className(){return l()("autorefresh-dropdown",{paused:this.isPaused})}get dropdownIcon(){return this.isPaused?c.IconFont.Pause:c.IconFont.Refresh_New}get dropdownWidthPixels(){return this.isPaused?50:84}get selectedOptionID(){const{selected:e}=this.props;return u.find((t=>t.milliseconds===e.interval)).id}get selectedOptionLabel(){const{selected:e}=this.props;return u.find((t=>t.milliseconds===e.interval)).label}get manualRefreshButton(){const{onManualRefresh:e}=this.props;if(e)return i.a.createElement(c.SquareButton,{icon:c.IconFont.Refresh_New,onClick:e,className:`autorefresh-dropdown--pause ${this.props.customClass}`,testID:"autorefresh-dropdown-refresh"})}};p.defaultProps={showAutoRefresh:!0,selected:{interval:0,status:"paused"}},p=Object(r.a)([m.a,Object(r.b)("design:paramtypes",[Object])],p);t.a=p},477:function(e,t,n){var a={"./Columns/index.tsx":574,"./Downsample/index.ts":575,"./Markdown/index.ts":571,"./MetricSelector/index.ts":554,"./Missing/index.ts":588,"./Notification/index.ts":568,"./QueryBuilder/index.ts":563,"./RawFluxEditor/index.ts":570,"./Region/index.ts":576,"./RemoteCSV/index.ts":589,"./Schedule/index.ts":572,"./Spotify/index.ts":573,"./Table/index.ts":590,"./Time/index.ts":591,"./ToBucket/index.ts":577,"./Visualization/index.ts":578,"./Youtube/index.ts":592};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=477},478:function(e,t,n){(t=n(16)(!1)).push([e.i,'.flow-columns{width:100%;display:grid;grid-template-columns:repeat(6, minmax(100px, 1fr));grid-gap:4px;height:auto;background-color:#07070e;padding:4px}.flow-columns--column{display:flex;padding:16px;background:#1a1a2a;border-radius:4px;align-items:center}.flow-columns--toggle{flex:0;margin-right:12px}.flow-columns--text{font-size:14px;font-family:"Rubik",Helvetica,Arial,Tahoma,Verdana,sans-serif;font-weight:500}.flow-columns--input{flex:1 1;font-size:14px;font-weight:500;user-select:none;color:#d5d5dd;height:40px;position:relative}.flow-columns--input input{background-color:transparent;border:2px solid #1a1a2a;color:#d5d5dd;font-size:14px;font-family:"Rubik",Helvetica,Arial,Tahoma,Verdana,sans-serif;font-weight:500;transition:color .25s ease,background-color .25s ease,border-color .25s ease,box-shadow .25s ease;outline:none;width:100%;height:40px;border-radius:2px}.flow-columns--input input:hover{border-color:#333346}.flow-columns--input input:hover,.flow-columns--input input:focus{color:#fff}.flow-columns--input input:focus{background-color:rgba(241,241,243,.15);border-color:rgba(0,152,240,.75);box-shadow:none}.flow-columns--input:hover .flow-panel--title-icon{opacity:1}.column-card--content{box-shadow:none;height:45px}.column-card--content>div{flex-direction:row;align-items:center;justify-content:flex-start;width:100%}.column-card--name>span{color:#d3d3d3;font-size:14px}.column-card--name{flex:1}.column-card--vistoggle{flex:0;margin-right:12px}',""]),e.exports=t},479:function(e,t,n){var a=n(480);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(46),r=n(6),o=n(72),i=n(22);const s=(e,{prefix:t,suffix:n,base:s,timeZone:l,trimZeros:c=!0,timeFormat:u=o.a,format:d}={})=>{if("number"===e&&"2"===s)return Object(i.binaryPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.K,format:d});if("number"===e&&"10"===s)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.K,trimZeros:c,format:d});if("number"===e&&""===s)return Object(i.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.K,trimZeros:c,format:!0});if("time"===e){const e={timeZone:"Local"===l?void 0:l,format:Object(a.b)(u)};return e.format.includes("HH")&&(e.hour12=!1),Object(i.timeFormatter)(e)}return null}},480:function(e,t,n){(t=n(16)(!1)).push([e.i,".downsample-panel{display:flex;margin:0 -8px;padding-bottom:16px}.downsample-panel .duration-input{width:200px;margin-bottom:8px}.downsample-panel .downsample-panel--left{padding:0 8px}.downsample-panel .downsample-panel--right{padding:0 8px}",""]),e.exports=t},482:function(e,t,n){var a=n(483);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},483:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-panel--markdown{font-size:14px;line-height:16px;padding:8px;border-radius:1px;transition:border-color .25s ease}.flow-panel--body .markdown-editor--monaco{position:relative}.flow-panel--body .markdown-editor--monaco .react-monaco-editor-container{min-height:100px}.flow-panel--markdown__placeholder.markdown-format{color:#68687b;font-style:italic}",""]),e.exports=t},484:function(e,t,n){var a=n(485);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},485:function(e,t,n){(t=n(16)(!1)).push([e.i,'.data-source{display:flex;height:100%;flex-direction:column}.data-source--controls{display:flex;align-items:flex-start;margin-bottom:8px;flex-wrap:wrap;flex:0 0 0}.data-source--search{flex:0 0 0}.data-source--bucket{flex:1 0 0;order:1}.data-source--aggregate{order:2}.data-source--filters{order:3;flex:1 0 100%;margin-top:4px;display:flex;align-items:center}.data-source--filters-label{height:40px;line-height:40px;font-weight:500;margin:0;margin-right:8px}.data-source--filter{margin:2px}.data-source--filter>.cf-label--name{max-width:50vw;overflow:hidden;text-overflow:ellipsis}.data-source--filters-list{display:flex;flex-wrap:wrap;flex:1 0 0}.data-source--block{display:block;flex-direction:column;align-items:stretch;width:100%}.data-source--block-results{display:flex;align-items:stretch;flex:1 1 0}.data-source--block-results .cf-dapper-scrollbars{height:100% !important}.data-source--block-title{font-size:14px;user-select:none;font-weight:500;padding-bottom:8px;margin-bottom:8px;color:#b9b9c5;border-bottom:2px solid #1a1a2a;text-transform:capitalize}.data-source--list__empty{display:flex;align-items:center;justify-content:center;user-select:none;color:#68687b;height:304px}.data-source--list__no-results{color:#68687b;justify-content:center;background-color:#07070e;border-radius:2px}.data-source--list__no-results>*{margin:4px}.selectors--item-value{transition:color .25s ease;font-family:"IBMPlexMono",monospace}.selectors--item-name{margin:0 8px}.selectors--item-type{font-size:.75em;text-transform:uppercase;opacity:.666}.selectors--item__measurement{color:hotpink}.cf-list-item:hover .selectors--item__measurement{color:#ffb6c1}.selectors--item__field{color:#6495ed}.cf-list-item:hover .selectors--item__field{color:#87cefa}.selectors--item__tag{color:#32cd32}.cf-list-item:hover .selectors--item__tag{color:#7cfc00}.data-source--agg-info{font-size:13px;padding:8px;user-select:none;color:#b9b9c5;cursor:default}.data-source--agg-info>p{margin:0}.data-source--agg-info .cf-icon{display:inline-block;margin-right:4px;line-height:1em}@media screen and (min-width: 1200px){.data-source--controls{flex-wrap:nowrap}.data-source--bucket{flex:initial}.data-source--filters-label{margin-left:8px}.data-source--aggregate{order:3}.data-source--filters{order:2;flex:1 0 100px;margin-top:0;margin-right:4px}}',""]),e.exports=t},486:function(e,t,n){var a=n(487);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},487:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-error{margin-top:4px;display:flex;flex-direction:row;align-items:stretch;width:100%;border:2px solid #07070e;background-color:#07070e;border-radius:2px 0 0 2px}.flow-error--header{color:#d5d5dd;width:47px;flex:0 0 47px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding:8px 0}.flow-error--vis-toggle{align-items:center;justify-content:center;display:flex;font-size:1.5em;transition:color .25s ease;width:30px;height:30px;position:relative;color:#ff8564}.flow-error--vis-toggle:before{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.flow-error--body{position:relative;flex:1 0 0;padding:8px 0}.flow-error--body h1{color:#d5d5dd;user-select:none;font-weight:500;font-size:12px;margin:0;padding:0}.flow-error--body p{margin:0}",""]),e.exports=t},488:function(e,t,n){var a=n(489);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},489:function(e,t,n){(t=n(16)(!1)).push([e.i,".threshold-trash-icon--block{margin-left:8px}.threshold-trash-icon--block :hover{cursor:pointer}.threshold-add-icon--block:hover{cursor:pointer}",""]),e.exports=t},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(2),r=n(108),o=n(23),i=n(26);const s=(e=[],t)=>{const n=Object(o.g)(e);if(null===t)return n;if(n&&n.length>=2){const e=Object(i.k)(t),a=Object(i.g)(t);return[Math.min(e,n[0]),Math.max(a,n[1])]}return n},l=(e,t,n=null)=>{const o=Object(a.useMemo)((()=>e||s(t,n)),[e,t]),[i,l]=Object(r.a)(o);return[i,l,()=>l(o)]},c=e=>"number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e),u=(e,t,n=null)=>{const l=Object(a.useMemo)((()=>!Array.isArray(e)||e.every((e=>null===e))?s(t,n):e.includes(null)?((e=[],t,n)=>{const a=Object(o.g)(e);if(Array.isArray(a)&&a.length>=2){const e=Object(i.k)(t),r=Object(i.g)(t);return[c(n[0])?n[0]:Math.min(e,a[0]),c(n[1])?n[1]:Math.max(r,a[1])]}return a})(t,n,e):e),[e,t]),[u,d]=Object(r.a)(l);return[u,d,()=>d(l)]}},490:function(e,t,n){var a={"./AWS/index.ts":579,"./HTTP/index.ts":580,"./Mailgun/index.ts":581,"./Mailjet/index.ts":582,"./PagerDuty/index.ts":583,"./SendGrid/index.ts":584,"./Slack/index.ts":585,"./Telegram/index.ts":586,"./Zenoss/index.ts":587};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=490},491:function(e,t,n){(t=n(16)(!1)).push([e.i,".flows-endpoints--dropdown{background:#181820;height:100%}.slack-endpoint-details--flex{display:flex;flex-direction:column;padding:8px;justify-content:space-between;height:100%}.slack-endpoint-details--flex .cf-color-picker--swatches{display:none}.slack-endpoint-details--flex .cf-color-picker--form>button{display:none}.slack-endpoint-details--flex .cf-color-picker--form .cf-status-indicator{display:none}.slack-endpoint-details--flex .cf-color-picker--input{margin-right:0px}.slack-endpoint-details--flex .cf-color-picker--selected{top:19px}.slack-endpoint-details--flex .cf-color-picker--form .cf-input-field{height:38px;font-size:14px}.form-element--authorization{width:100%}.form-element--authorization .cf-select-group{display:flex;justify-content:space-around;width:50%}.endpoint-details--element{height:100%}.endpoint-details--element .cf-form--label{margin-bottom:8px}.http-endpoint--flex{padding:8px}.endpoint-dropdown--element{flex:1;max-width:14%}",""]),e.exports=t},492:function(e,t,n){var a=n(493);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},493:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-panel--body .query-builder{border:2px solid #07070e;background-color:#07070e;border-radius:2px;padding:2px;position:relative;height:100%;width:100%}",""]),e.exports=t},494:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-sidebar .flux-toolbar{flex-direction:column}.flow-nonsidebar{position:absolute;top:0;right:0;bottom:0;width:300px}.flow-nonsidebar .flux-toolbar{flex-direction:column;background-color:#1a1a2a}.flow-panel--body .flux-editor--monaco{height:100%;position:static}",""]),e.exports=t},495:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-panel-region--header h5{margin-bottom:0}.flow-panel-region--header p{margin-top:0;color:#9e9ead}",""]),e.exports=t},496:function(e,t,n){var a=n(497);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},497:function(e,t,n){(t=n(16)(!1)).push([e.i,".remote-csv-card{display:flex}.remote-csv--dropdown{flex:0 0 300px;margin-right:8px}.remote-csv-url-input{flex:4;width:100%}",""]),e.exports=t},498:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-panel-schedule--header h5{margin-bottom:0}.flow-panel-schedule--header p{margin-top:0;color:#9e9ead}.flow-update-task--export-warning{margin:8px 0}.flow-update-task--export-warning>.cf-panel--body{padding:8px 16px}.flow-task-history h1{font-size:18px;margin-bottom:8px}.flow-task-history.inactive h1{color:#828294}.flow-task-history.inactive .toggle label{color:#828294}.flow-task-history .interaction{margin-bottom:32px;display:flex}.flow-task-history .toggle{flex:1 1;padding-top:2px}.flow-task-history .toggle label{margin-left:8px;vertical-align:sub}.flow-task-history .run{margin-bottom:16px}.flow-task-history .run label{font-weight:500;display:inline-block;width:64px}.flow-task-history .run .run--buttons{margin-top:4px;display:flex;gap:4px}.flow-task-history .run .run--buttons .cf-button{flex:1 1;width:100%}.flow-task-history .run .run--row.success span{font-weight:500;color:#2fa74d}.flow-task-history .run .run--row.failed span{font-weight:500;color:#dc4e58}.flow-task-run--log .time{white-space:nowrap}.flow-task-run--log .message pre{white-space:normal}",""]),e.exports=t},499:function(e,t,n){var a=n(500);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},50:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(19),s=n.n(i),l=n(184),c=n(3),u=n(77),d=n(29);t.a=({size:e=c.ComponentSize.Small,className:t,buttonText:n="Upgrade Now",metric:a})=>{const i=Object(o.e)(d.c),m=s()("upgrade-payg--button",{[`${t}`]:t}),p=Object(l.f)();return r.a.createElement(u.a,null,i&&r.a.createElement(c.Button,{icon:c.IconFont.CrownSolid_New,className:m,size:e,shape:c.ButtonShape.Default,onClick:()=>{a&&a(),p.push("/checkout")},text:n,style:{background:"linear-gradient(45deg, rgb(52, 187, 85) 0%, rgb(0, 163, 255) 100%)"},testID:"cloud-upgrade--button"}))}},500:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-spotify{text-align:center}.flow-spotify--editor{width:600px;margin:0 auto;text-align:right}",""]),e.exports=t},501:function(e,t,n){var a=n(502);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},502:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-panel-time--header h5{margin-bottom:0}.flow-panel-time--header p{margin-top:0;color:#9e9ead}",""]),e.exports=t},503:function(e,t,n){var a=n(504);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},504:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-visualization{background-color:#07070e;border-radius:2px;display:flex;align-items:stretch;height:100%}.flow-visualization--view{width:100%;border-radius:1px;background-color:#07070e;padding:12px}.flow-visualization--view .empty-graph-error{height:200px}.flow-sidebar--submenu .view-options{padding:0;padding-right:15px}.flow-visualization--export-warning{margin:8px 0}.flow-visualization--export-warning>.cf-panel--body{padding:8px 16px}",""]),e.exports=t},505:function(e,t,n){var a=n(506);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},506:function(e,t,n){(t=n(16)(!1)).push([e.i,".flow-youtube{text-align:center;height:100%}.flow-youtube--editor{width:600px;margin:0 auto;padding-bottom:40px;text-align:right}",""]),e.exports=t},507:function(e,t,n){var a={"./blank.ts":508,"./bucket.ts":509,"./dashboard.ts":510,"./default.ts":511,"./downsample.ts":512,"./flow.ts":513,"./flux.ts":514,"./intro.ts":515,"./notification.ts":516,"./share.ts":517,"./task.ts":518,"./tools.ts":519};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=507},508:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6);t.default=e=>e({type:"blank",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[]}})})},509:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6),o=n(41);t.default=e=>e({type:"bucket",init:e=>Promise.resolve({name:`Explore the ${e} bucket`,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign(Object.assign({type:"queryBuilder",title:"Build a Query",visible:!0},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{buckets:[{name:e,type:"user"}]}),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial)))]}})})},510:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6);t.default=e=>e({type:"dashboard",init:e=>fetch(`/api/v2/dashboards/${e}`).then((e=>e.json())).then((e=>Promise.all(e.cells.map((e=>fetch(e.links.view).then((e=>e.json())).then((t=>{if("markdown"===t.properties.type)return[{title:"Note",visible:!0,type:"markdown",text:t.properties.note,mode:"preview",layout:{x:e.x,y:e.y,w:e.w,h:e.h}}];const n=t.properties.queries;return delete t.properties.queries,[{activeQuery:0,queries:n,type:"rawFluxEditor",title:`${t.name} - Query`,visible:!0},{title:t.name,visible:!0,type:"visualization",properties:t.properties,layout:{x:e.x,y:e.y,w:e.w,h:e.h}}]}))))).then((t=>({name:e.name,spec:{readOnly:!0,range:a.b,refresh:r.b,pipes:t.reduce(((e,t)=>e.concat(t)),[])}})))))})},511:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6),o=n(41);t.default=e=>e({type:"default",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial)))]}})})},512:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"downsample"})},513:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"id",init:e=>fetch(`/api/v2private/notebooks/${e}`).then((e=>e.json()))})},514:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6);t.default=e=>e({type:"flux",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"}]}})})},515:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6);t.default=e=>e({type:"intro",init:()=>Promise.resolve({name:"Welcome to Notebooks",spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{title:"Welcome",visible:!0,type:"youtube",uri:"Rs16uhxK0h8"}]}})})},516:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6),o=n(41);t.default=e=>e({type:"notification",init:()=>Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[Object.assign({title:"Build a Query",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(o.c.queryBuilder.initial))),{title:"Validate the Data",visible:!0,type:"table"},Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(o.c.visualization.initial))),Object.assign({type:"notification",visible:!0,title:"New Alert"},JSON.parse(JSON.stringify(o.c.notification.initial)))]}})})},517:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"share",init:e=>fetch(`/api/share/${e}`).then((e=>e.json())).then((e=>(delete e.id,e.spec.pipes.forEach((e=>delete e.id)),e)))})},518:function(e,t,n){"use strict";n.r(t);var a=n(51),r=n(6),o=n(293),i=n(92);t.default=e=>e({type:"task",init:e=>e?fetch(`/api/v2/tasks/${e}`).then((e=>e.json())).then((t=>{const n=Object(o.t)(t.flux),s=Object(i.e)(n,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reverse().reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{});return{name:t.name,spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{activeQuery:0,queries:[{text:Object(o.r)(n),editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}],type:"rawFluxEditor",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule as a Task",visible:!0,interval:s.every||s.cron.replace(/(^")|("$)/g,""),offset:s.offset,task:{id:e,name:t.name,flux:t.flux}}]}}})):Promise.resolve({spec:{readOnly:!1,range:a.b,refresh:r.b,pipes:[{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],type:"queryBuilder",title:"Query to Run",visible:!0},{title:"Validate the Data",visible:!0,type:"table"},{type:"schedule",title:"Schedule as a Task",visible:!0}]}})})},519:function(e,t,n){"use strict";n.r(t),t.default=e=>e({type:"tools",init:(e,t)=>fetch(`https://influxdb.aws.influxdata.io/api/v2private/notebooks/${e}`,{method:"GET",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip",Authorization:`Token ${t}`}}).then((e=>e.json())).then((e=>(delete e.id,delete e.orgID,e.spec.pipes.unshift({type:"region",region:"https://influxdb.aws.influxdata.io",token:t,source:"custom",visible:!0,title:"Tools Cluster"}),e)))})},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>void 0===e?null:e},521:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(525),r=n(209),o=n(156),i=n(153),s=n(522),l=n(523),c=n(524),u=n(527),d=n(268),m=n(94),p=n(526);const h=[];h[0]=(e,t,n,a,r)=>{o.n(e,0);const i=s.b(t,e,n.doc,n);a&&i===s.a&&!n.synced&&(n.synced=!0)},h[3]=(e,t,n,a,r)=>{o.n(e,1),o.o(e,c.c(n.awareness,Array.from(n.awareness.getStates().keys())))},h[1]=(e,t,n,a,r)=>{c.b(n.awareness,i.l(t),n)},h[2]=(e,t,n,a,r)=>{l.a(t,n.doc,f)};const f=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),g=(e,t,n)=>{const a=i.e(t),r=o.e(),s=i.k(a),l=e.messageHandlers[s];return l?l(r,a,e,n,s):console.error("Unable to compute message"),r},b=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=r.a();const a=g(e,new Uint8Array(n.data),!0);o.f(a)>1&&t.send(o.g(a))},t.onclose=()=>{e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,c.d(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(b,m.g(1200*m.e(e.wsUnsuccessfulReconnects+1),2500),e)},t.onopen=()=>{e.wsLastMessageReceived=r.a(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=o.e();if(o.n(n,0),s.c(n,e.doc),t.send(o.g(n)),null!==e.awareness.getLocalState()){const n=o.e();o.n(n,1),o.o(n,c.c(e.awareness,[e.doc.clientID])),t.send(o.g(n))}},e.emit("status",[{status:"connecting"}])}},v=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux((()=>{a.a(e.bcChannel,t)}))};class y extends d.a{constructor(t,n,i,{connect:l=!0,awareness:d=new c.a(i),params:m={},WebSocketPolyfill:f=WebSocket,resyncInterval:b=-1}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);const y=p.a(m);this.bcChannel=t+"/"+n,this.url=t+"/"+n+(0===y.length?"":"?"+y),this.roomname=n,this.doc=i,this._WS=f,this.awareness=d,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=h.slice(),this.mux=u.a(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=l,this._resyncInterval=0,b>0&&(this._resyncInterval=setInterval((()=>{if(this.ws){const e=o.e();o.n(e,0),s.c(e,i),this.ws.send(o.g(e))}}),b)),this._bcSubscriber=e=>{this.mux((()=>{const t=g(this,new Uint8Array(e),!1);o.f(t)>1&&a.a(this.bcChannel,o.g(t))}))},this._updateHandler=(e,t)=>{if(t!==this){const t=o.e();o.n(t,0),s.e(t,e),v(this,o.g(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},a)=>{const r=e.concat(t).concat(n),i=o.e();o.n(i,1),o.o(i,c.c(d,r)),v(this,o.g(i))},this._beforeUnloadHandler=()=>{c.d(this.awareness,[i.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.on("exit",(()=>this._beforeUnloadHandler)),d.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&3e4<r.a()-this.wsLastMessageReceived&&this.ws.close()}),3e3),l&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.off("exit",(()=>this._beforeUnloadHandler)),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(a.b(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux((()=>{const e=o.e();o.n(e,0),s.c(e,this.doc),a.a(this.bcChannel,o.g(e));const t=o.e();o.n(t,0),s.d(t,this.doc),a.a(this.bcChannel,o.g(t));const n=o.e();o.n(n,3),a.a(this.bcChannel,o.g(n));const r=o.e();o.n(r,1),o.o(r,c.c(this.awareness,[this.doc.clientID])),a.a(this.bcChannel,o.g(r))}))}disconnectBc(){const e=o.e();o.n(e,1),o.o(e,c.c(this.awareness,[this.doc.clientID],new Map)),v(this,o.g(e)),this.bcconnected&&(a.c(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(b(this),this.connectBc())}}}).call(this,n(126))},522:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(156),r=n(153),o=n(176);const i=1,s=(e,t)=>{a.n(e,0);const n=o.d(t);a.o(e,n)},l=(e,t,n)=>{a.n(e,i),a.o(e,o.c(t,n))},c=(e,t,n)=>{try{o.b(t,r.l(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},u=(e,t)=>{a.n(e,2),a.o(e,t)},d=c,m=(e,t,n,a)=>{const o=r.k(e);switch(o){case 0:((e,t,n)=>{l(t,n,r.l(e))})(e,t,n);break;case i:c(e,n,a);break;case 2:d(e,n,a);break;default:throw new Error("Unknown message type")}return o}},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(156);var a=n(153);const r=(e,t,n)=>{if(0===a.k(e))n(t,a.j(e))}},524:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(156),r=n(153),o=n(209),i=n(94),s=n(268),l=n(205);const c=3e4;class u extends s.a{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval((()=>{const e=o.a();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach(((n,a)=>{a!==this.clientID&&c<=e-n.lastUpdated&&this.states.has(a)&&t.push(a)})),t.length>0&&d(this,t,"timeout")}),i.c(3e3)),e.on("destroy",(()=>{this.destroy()})),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),a=void 0===n?0:n.clock+1,r=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:a,lastUpdated:o.a()});const i=[],s=[],c=[],u=[];null===e?u.push(t):null==r?null!=e&&i.push(t):(s.push(t),l.b(r,e)||c.push(t)),(i.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:i,updated:c,removed:u},"local"]),this.emit("update",[{added:i,updated:s,removed:u},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const d=(e,t,n)=>{const a=[];for(let n=0;n<t.length;n++){const r=t[n];if(e.states.has(r)){if(e.states.delete(r),r===e.clientID){const t=e.meta.get(r);e.meta.set(r,{clock:t.clock+1,lastUpdated:o.a()})}a.push(r)}}a.length>0&&(e.emit("change",[{added:[],updated:[],removed:a},n]),e.emit("update",[{added:[],updated:[],removed:a},n]))},m=(e,t,n=e.states)=>{const r=t.length,o=a.e();a.n(o,r);for(let i=0;i<r;i++){const r=t[i],s=n.get(r)||null,l=e.meta.get(r).clock;a.n(o,r),a.n(o,l),a.m(o,JSON.stringify(s))}return a.g(o)},p=(e,t,n)=>{const a=r.e(t),i=o.a(),s=[],c=[],u=[],d=[],m=r.k(a);for(let t=0;t<m;t++){const t=r.k(a);let n=r.k(a);const o=JSON.parse(r.j(a)),m=e.meta.get(t),p=e.states.get(t),h=void 0===m?0:m.clock;(h<n||h===n&&null===o&&e.states.has(t))&&(null===o?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,o),e.meta.set(t,{clock:n,lastUpdated:i}),void 0===m&&null!==o?s.push(t):void 0!==m&&null===o?d.push(t):null!==o&&(l.b(o,p)||u.push(t),c.push(t)))}(s.length>0||u.length>0||d.length>0)&&e.emit("change",[{added:s,updated:u,removed:d},n]),(s.length>0||c.length>0||d.length>0)&&e.emit("update",[{added:s,updated:c,removed:d},n])}},525:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(152),r=n(203),o=n(360);const i=new Map;const s="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,o.a((t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:r.d(t.newValue||"")})))}postMessage(e){o.b.setItem(this.room,r.e(r.b(e)))}}:BroadcastChannel,l=e=>a.e(i,e,(()=>{const t=new Set,n=new s(e);return n.onmessage=e=>t.forEach((t=>t(e.data))),{bc:n,subs:t}})),c=(e,t)=>l(e).subs.add(t),u=(e,t)=>l(e).subs.delete(t),d=(e,t)=>{const n=l(e);n.bc.postMessage(t),n.subs.forEach((e=>e(t)))}},526:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(270);const r=e=>a.d(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&")},527:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}}},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(251);const r=[a.c,a.d,a.e],o=(e,t,n)=>{if((t||"").match(/^\s*$/))return{error:"Variable name cannot be empty"};if(!t.match(/^[A-Za-z_]+\w*$/))return{error:"Variable name must start with a letter or underscore, and contain only numbers, letters, and underscores."};const a=t.toLocaleLowerCase(),o=r.find((e=>e.toLocaleLowerCase()===a));if(o)return{error:(i=o,`Variable name is reserved: ${i}`)};var i;return(null==e?void 0:e.find((e=>n?e.id!==n&&e.name.toLocaleLowerCase()===a:e.name.toLocaleLowerCase()===a)))?{error:"Variable name must be unique"}:{error:null}}},543:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),r=n.n(a),o=n(3),i=n(658),s=n(145),l=n(106);class c extends a.PureComponent{constructor(){super(...arguments),this.doNothing=()=>{},this.handleExport=()=>{var e,t,n;const{resource:a,resourceName:r,onDismissOverlay:o}=this.props,i=(null===(n=null===(t=null===(e=null==a?void 0:a.content)||void 0===e?void 0:e.data)||void 0===t?void 0:t.attributes)||void 0===n?void 0:n.name)||r;Object(l.b)(JSON.stringify(a,null,1),i,".json"),o()}}render(){const{isVisible:e,resourceName:t,onDismissOverlay:n,status:a}=this.props;return r.a.createElement(o.Overlay,{visible:e},r.a.createElement(o.Overlay.Container,{maxWidth:800},r.a.createElement(o.Form,{onSubmit:this.handleExport},r.a.createElement(o.Overlay.Header,{title:`Export ${t}`,onDismiss:n}),r.a.createElement(o.Overlay.Body,null,r.a.createElement(o.SpinnerContainer,{loading:a,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)},this.overlayBody)),r.a.createElement(o.Overlay.Footer,null,this.downloadButton,this.copyButton))))}get overlayBody(){return r.a.createElement("div",{className:"export-overlay--text-area","data-testid":"export-overlay--text-area"},r.a.createElement(i.Controlled,{autoFocus:!1,autoCursor:!0,value:this.resourceText,options:{tabIndex:1,mode:"json",readonly:!0,lineNumbers:!0,autoRefresh:!0,theme:"time-machine",completeSingle:!1},onBeforeChange:this.doNothing,onTouchStart:this.doNothing}))}get resourceText(){return JSON.stringify(this.props.resource,null,2)}get copyButton(){return r.a.createElement(s.a,{text:this.resourceText,onCopy:this.props.onCopy,size:o.ComponentSize.Small})}get downloadButton(){return r.a.createElement(o.Button,{text:"Download JSON",onClick:this.handleExport,color:o.ComponentColor.Primary})}}c.defaultProps={isVisible:!0}},554:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(148),i=n(79),s=n(18),l=n(65),c=n(180),u=n(5);const d={loading:u.RemoteDataState.NotStarted,measurements:[],fields:[],tags:[],searchTerm:"",setSearchTerm:e=>{}},m=r.a.createContext(d),p=r.a.memo((({children:e})=>{var t,n,o,d;const{data:p}=Object(a.useContext)(s.a),{flow:h}=Object(a.useContext)(l.a),{query:f,getPanelQueries:g}=Object(a.useContext)(i.a),[b,v]=Object(a.useState)(""),[y,x]=Object(a.useState)({}),[E,w]=Object(a.useState)(u.RemoteDataState.NotStarted),S=Object(c.d)(null==h?void 0:h.range);Object(a.useEffect)((()=>{var e,t;if(!(null==p?void 0:p.bucket))return;w(u.RemoteDataState.Loading);const n=null!==(t=null===(e=g(p.id))||void 0===e?void 0:e.scope)&&void 0!==t?t:{},a=`from(bucket: "${p.bucket.name}")\n|> range(${S})\n|> first()\n|> drop(columns: ["_value"])\n|> group()`;f(a,n).then((e=>{const t=(e=>{var t,n;let a,r;const o=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const i=e.table,s=i.length,l=null===(t=i.columns._measurement)||void 0===t?void 0:t.data,c=null===(n=i.columns._field)||void 0===n?void 0:n.data,u=i.columnKeys.filter((e=>o.reduce(((t,n)=>t&&!n.test(e)),!0))),d=u.length,m={};for(a=0;a<s;a++)for(m.hasOwnProperty(l[a])||(m[l[a]]={fields:new Set,tags:{}}),m[l[a]].fields.add(c[a]),r=0;r<d;r++)i.columns[u[r]].data[a]&&(m[l[a]].tags.hasOwnProperty(u[r])||(m[l[a]].tags[u[r]]=new Set),m[l[a]].tags[u[r]].add(i.columns[u[r]].data[a]));return Object.entries(m).forEach((([e,t])=>{m[e].fields=Array.from(t.fields)})),m})(e.parsed);x(t),w(u.RemoteDataState.Done)})).catch((e=>{console.error("error: ",e),w(u.RemoteDataState.Error),x({})}))}),[null===(t=null==p?void 0:p.bucket)||void 0===t?void 0:t.name,S]);const k=Object(a.useMemo)((()=>((e,t,n)=>{const{measurements:a,fields:r,tags:o}=Object.entries(e||{}).map((([e,a])=>({measurement:e,fields:a.fields.filter((e=>!!t.field&&e===t.field||!t.field&&e.toLowerCase().includes(n.toLowerCase()))),tags:Object.entries(a.tags).filter((([e,t])=>!n||Array.from(t).some((t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase()))))).map((([e,t])=>n?[e,Array.from(t).filter((t=>`${(""+e).toLowerCase()} = ${(""+t).toLowerCase()}`.includes(n.toLowerCase())))]:[e,t]))}))).filter((e=>t.measurement?e.measurement===t.measurement:t.field?e.fields.length:!n||`measurement = ${e.measurement.toLowerCase()}`.includes(n.toLowerCase())||e.fields.length||e.tags.length)).reduce(((e,t)=>(`measurement = ${t.measurement.toLowerCase()}`.includes(n.toLowerCase())&&(e.measurements[t.measurement]=!0),t.fields.reduce(((e,t)=>(e[t]=!0,e)),e.fields),t.tags.reduce(((e,[t,n])=>(e[""+t]||(e[""+t]=new Set),Array.from(n).forEach((n=>e[""+t].add(""+n))),e)),e.tags),e)),{measurements:{},fields:{},tags:{}});return{measurements:Object.keys(a),fields:Object.keys(r),tags:Object.entries(o).map((([e,t])=>({[e]:Array.from(t)})))}})(y,p,b)),[p,y,b]);return r.a.createElement(m.Provider,{value:{loading:E,measurements:null!==(n=null==k?void 0:k.measurements)&&void 0!==n?n:[],fields:null!==(o=null==k?void 0:k.fields)&&void 0!==o?o:[],tags:null!==(d=null==k?void 0:k.tags)&&void 0!==d?d:[],searchTerm:b,setSearchTerm:v}},e)}));var h=n(370),f=n(3),g=n(7);var b=({measurements:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),{setSearchTerm:o}=Object(a.useContext)(m),i=null==t?void 0:t.measurement,l=Object(a.useCallback)((e=>{let t=e;t===i?(Object(g.a)("metric_selector_add_filter"),Object(g.a)("Deselecting Measurement in Flow Query Builder"),t=""):(o(""),Object(g.a)("metric_selector_remove_filter"),Object(g.a)("Selecting Measurement in Flow Query Builder",{measurement:e})),n({measurement:t})}),[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))).map((e=>r.a.createElement(f.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`measurement-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__measurement"},e),r.a.createElement("div",{className:"selectors--item-name"},"measurement")))))};var v=({fields:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),{setSearchTerm:o}=Object(a.useContext)(m),i=null==t?void 0:t.field,l=Object(a.useCallback)((e=>{let t=e;t===i?(Object(g.a)("metric_selector_add_filter"),Object(g.a)("Deselecting Field in Flow Query Builder"),t=""):(o(""),Object(g.a)("metric_selector_remove_filter"),Object(g.a)("Selecting Field in Flow Query Builder",{field:e})),n({field:t})}),[n,i]);return r.a.createElement(r.a.Fragment,null,e.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))).map((e=>r.a.createElement(f.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===i,title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`field-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__field"},e),r.a.createElement("div",{className:"selectors--item-name"},"field")))))};var y=({tags:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),o=null==t?void 0:t.tags,i="Selecting Tag in Flow Query Builder",l="Deselecting Tag in Flow Query Builder",c=Object(a.useCallback)(((e,t)=>{var a;let r=[];r=o[e]?o[e]&&o[e].includes(t)?o[e].filter((e=>e!==t)):[...o[e],t]:[t];const s=Object.assign(Object.assign({},o),{[e]:r});r.length<(null===(a=o[e])||void 0===a?void 0:a.length)?(Object(g.a)("metric_selector_add_filter"),Object(g.a)(l,{type:"multi-select",tags:JSON.stringify(s)})):(Object(g.a)("metric_selector_remove_filter"),Object(g.a)(i,{type:"multi-select",tags:JSON.stringify(s)})),n({tags:s})}),[n]),u=Object(a.useCallback)(((e,t,a)=>{var r;if(e.metaKey||e.ctrlKey)return void c(t,a);let s=[a],u={[t]:s};(null===(r=o[t])||void 0===r?void 0:r.includes(a))&&(s=[],u[t]=s),t in o&&0===s.length?(Object(g.a)(l,{type:"single-select"}),u={}):Object(g.a)(i,{type:"single-select",tags:JSON.stringify(u)}),n({tags:u})}),[n]),d=e.reduce(((e,t)=>{const n=Object.entries(t).reduce(((e,t)=>{const n=t[0],a=t[1].map((e=>{var t;return r.a.createElement(f.List.Item,{key:`${n}::${e}`,value:e,onClick:(e,t)=>{u(t,n,e)},selected:null===(t=o[n])||void 0===t?void 0:t.includes(e),title:e,gradient:f.Gradients.GundamPilot,wrapText:!0,testID:`tag-selector ${e}`},r.a.createElement(f.List.Indicator,{type:"dot"}),r.a.createElement("div",{className:"selectors--item-value selectors--item__tag"},`${n} = ${e}`),r.a.createElement("div",{className:"selectors--item-name"},"tag"))}));return e.concat(a)}),[]);return e.concat(n)}),[]);return r.a.createElement(r.a.Fragment,null,d)};var x=()=>{const{fields:e,measurements:t,tags:n,searchTerm:o}=Object(a.useContext)(m),i=!e.length&&!t.length&&!n.length;let s=r.a.createElement(f.List,{className:"data-source--list",backgroundColor:f.InfluxColors.Grey5},r.a.createElement(b,{measurements:t}),r.a.createElement(v,{fields:e}),r.a.createElement(y,{tags:n}));return i&&o?s=r.a.createElement(f.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("p",null,`No fields, measurements, or tags match "${o}"`)):i&&!o&&(s=r.a.createElement(f.EmptyState,{className:"data-source--list__no-results"},r.a.createElement("h5",null,"No tags found in the selected time range"),r.a.createElement("p",null,"Try selecting a different time range"))),r.a.createElement("div",{className:"data-source--block-results"},s)};var E=()=>{const{data:e}=Object(a.useContext)(s.a),{loading:t}=Object(a.useContext)(m);return e.bucket?t===f.RemoteDataState.NotStarted||t===f.RemoteDataState.Loading?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement(f.TechnoSpinner,{strokeWidth:f.ComponentSize.Small,diameterPixels:32})):t===f.RemoteDataState.Error?r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Could not fetch schema")):t===f.RemoteDataState.Done?r.a.createElement(x,null):null:r.a.createElement("div",{className:"data-source--list__empty"},r.a.createElement("p",null,"Select a bucket first"))};const w=(e,t)=>{if(!e)return null;switch(t){case"measurement":return{id:e,name:`measurement = ${e}`,properties:{color:"hotpink",description:""},type:t};case"field":return{id:e,name:`field = ${e}`,properties:{color:"lightskyblue",description:""},type:t};case"tags":{const n=Object.keys(e);if(n){const a=[];return n.filter((t=>!!e[t])).forEach((n=>{const r=e[n].map((e=>({id:e,name:`${n} = ${e}`,properties:{color:"limegreen",description:""},type:t})));a.push(...r)})),a}return null}default:return null}};var S=()=>{const{data:e,update:t}=Object(a.useContext)(s.a);return r.a.createElement("div",{className:"data-source--filters"},r.a.createElement("p",{className:"data-source--filters-label"},"Filters:"),r.a.createElement("div",{className:"data-source--filters-list"},(()=>{const n=w(e.measurement,"measurement");let a=[];n&&(a=a.concat(n));const o=w(e.field,"field");o&&(a=a.concat(o));const i=w(e.tags,"tags");return i&&(a=a.concat(i)),a.length?a.map((n=>{const a=Object.assign({},n);return r.a.createElement(f.Label,{className:"data-source--filter",id:a.id,key:a.name,name:a.name,color:a.properties.color,description:a.properties.description,onDelete:()=>((n,a)=>{if(Object(g.a)("Deleting the Filter Label in Flow Query Builder",{type:n}),"tags"===n){const[n,r]=a.split(" = "),o=(null==e?void 0:e.tags)||{};t({tags:Object.entries(o).reduce(((e,[t,a])=>t!==n?(e[t]=a,e):(e[t]=a.filter((e=>e!==r)),e[t].length||delete e[t],e)),{})})}else t({[n]:""})})(a.type,a.name)})})):r.a.createElement("span",null)})()))};var k=()=>{const{searchTerm:e,setSearchTerm:t}=Object(a.useContext)(m);return r.a.createElement(f.Input,{className:"data-source--search",icon:f.IconFont.Search_New,size:f.ComponentSize.Medium,value:e,placeholder:"Filter data by measurement, field, or tag ...",onChange:e=>{return n=e.target.value,void t(n);var n}})},C=n(41);var O=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a);return r.a.createElement(o.b,null,r.a.createElement(p,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(h.a,{selected:t.bucket,onSelect:e=>{var a;(null==e?void 0:e.id)!==(null===(a=t.bucket)||void 0===a?void 0:a.id)&&(Object(g.a)("Updated Bucket",{context:"metric selector"}),n(Object.assign({bucket:e},C.c.metricSelector.initial)))},style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(S,null)),r.a.createElement(k,null),r.a.createElement(E,null)))))};var D=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(p,null,r.a.createElement(e,null,r.a.createElement("div",{className:"data-source"},r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(f.Dropdown,{button:(e,n)=>{var a,o;return r.a.createElement(f.Dropdown.Button,{onClick:n,active:e,icon:f.IconFont.BucketSolid,status:f.ComponentStatus.Disabled},null!==(o=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==o?o:"No Bucket Selected")},menu:e=>r.a.createElement(f.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}})),r.a.createElement(S,null)))))},T=(n(484),n(27));t.default=e=>{e({type:"metricSelector",family:"inputs",priority:1,component:O,readOnlyComponent:D,button:"Metric Selector",disabled:!0,initial:{field:"",measurement:"",tags:{},aggregateFunction:T.e[0]},source:e=>{var t;const{bucket:n,field:a,measurement:r,tags:o}=e;if(!n)return"";if(!(a||r||Object.values(o).length))return"";let i=`from(bucket: "${n.name}") |> range(start: v.timeRangeStart, stop: v.timeRangeStop)`;return r&&(i+=` |> filter(fn: (r) => r["_measurement"] == "${r}")`),a&&(i+=` |> filter(fn: (r) => r["_field"] == "${a}")`),o&&(null===(t=Object.keys(o))||void 0===t?void 0:t.length)>0&&Object.keys(o).filter((e=>!!o[e])).forEach((e=>{const t=o[e];1===t.length?i+=` |> filter(fn: (r) => r["${e}"] == "${t[0]}")`:t.forEach(((n,a)=>{0===a&&(i+=` |> filter(fn: (r) => r["${e}"] == "${n}"`),t.length-1===a?i+=` or r["${e}"] == "${n}")`:i+=` or r["${e}"] == "${n}"`}))})),i}})}},56:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(35),i=n(3),s=n(171),l=n(20),c=n(7);n(172);const u="visualization.customize.hoverLegend",d=({properties:e,handlers:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:o=l.h,legendOrientationThreshold:c=l.l,legendHide:d=l.g}=e,{handleSetHoverLegendHide:m,handleSetOrientation:p,handleSetOpacity:h,handleSetColorization:f}=t,g=!d,[b,v]=Object(a.useState)(g),y=e=>{v(e===l.o.SHOW),m(e===l.o.HIDE)};return r.a.createElement(i.Form.Element,{label:"Display Hover Legend",className:"legend-options"},r.a.createElement(i.Grid,null,r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit,testID:"hover-legend-toggle"},r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-hide",id:"radio_hover_legend_hide",titleText:"Hide",active:d,onClick:y,value:l.o.HIDE},"Hide"),r.a.createElement(i.SelectGroup.Option,{name:"hover-legend-show",id:"radio_hover_legend_show",titleText:"Show",active:!d,onClick:y,value:l.o.SHOW},"Show")))),b&&r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,className:"legend-options--show"},r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:c,parentName:"hover-legend",handleSetOrientation:p,testID:"hover-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:o,handleSetOpacity:h,testID:"hover-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:n,handleSetColorization:f,testID:"hover-legend-colorize-rows-toggle"})))))};t.a=({properties:e,update:t})=>{const{legendColorizeRows:n=l.f,legendOpacity:a=l.h,legendOrientationThreshold:i=l.l}=e,m=e=>{let n;n="number"!=typeof e||e!=e||e>0?l.m:l.n,t({legendOrientationThreshold:n})},p=n=>{const a=Object(o.a)(n);isNaN(a)||a<l.j?(t({legendOpacity:l.i}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:l.i})):(t({legendOpacity:a}),Object(c.a)(`${u}.opacity`,{type:e.type,opacity:a}))},h=()=>{t({legendColorizeRows:!n}),Object(c.a)(`${u}.colorizeRows.${!n}`,{type:e.type})};return"xy"===e.type||"line-plus-single-stat"===e.type||"band"===e.type?r.a.createElement(d,{properties:e,handlers:{handleSetHoverLegendHide:n=>{t({legendHide:n});const a=n?l.o.HIDE:l.o.SHOW;Object(c.a)(`${u}.${a}`,{type:e.type})},handleSetOrientation:m,handleSetOpacity:p,handleSetColorization:h}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,{eventName:`${u}.orientation`,graphType:e.type,legendOrientation:i,parentName:"hover-legend",handleSetOrientation:m,testID:"hover-legend-orientation-toggle"}),r.a.createElement(s.b,{legendOpacity:a,handleSetOpacity:p,testID:"hover-legend-opacity-slider"}),r.a.createElement(s.a,{legendColorizeRows:n,handleSetColorization:h,testID:"hover-legend-colorize-rows-toggle"}))}},563:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(148),s=n(18),l=n(79),c=n(180),u=n(5);const d=()=>({keys:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},values:{selected:[],results:[],loading:u.RemoteDataState.NotStarted},aggregateFunctionType:"filter"}),m={cards:[d()],add:()=>{},remove:e=>{},update:(e,t)=>{},loadKeys:(e,t)=>{},loadValues:(e,t)=>{}},p=Object(a.createContext)(m),h=e=>({key:(e.keys.selected||[])[0],values:(e.values.selected||[]).slice(0),aggregateFunctionType:e.aggregateFunctionType}),f=({children:e})=>{const{id:t,data:n,range:o,update:m}=Object(a.useContext)(s.a),{query:f,getPanelQueries:g}=Object(a.useContext)(l.a),{buckets:b}=Object(a.useContext)(i.a),[v,y]=Object(a.useState)(Array(n.tags.length).fill({keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}));Object(a.useEffect)((()=>{if("string"==typeof n.buckets[0]){const e=b.find((e=>e.name===n.buckets[0]));return e?void m({buckets:[e]}):void m({buckets:[{type:"user",name:n.buckets[0]}]})}if(n.tags.length)return;const e=d();e.keys.selected=["_measurement"],m({tags:[e].map(h)}),y([{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}])}),[n.buckets]);const x=Object(a.useMemo)((()=>n.tags.map(((e,t)=>((e,t)=>{var n,a,r,o;const i=d();return i.keys.selected=[e.key],i.keys.results=null!==(n=null==t?void 0:t.keys)&&void 0!==n?n:[],i.keys.loading=null!==(a=null==t?void 0:t.loadingKeys)&&void 0!==a?a:u.RemoteDataState.NotStarted,i.values.selected=[...e.values],i.values.results=null!==(r=null==t?void 0:t.values)&&void 0!==r?r:[],i.values.loading=null!==(o=null==t?void 0:t.loadingValues)&&void 0!==o?o:u.RemoteDataState.NotStarted,i.aggregateFunctionType=e.aggregateFunctionType,i})(e,v[t])))),[n.tags,v]),E=Object(a.useCallback)((()=>{x.push(d()),y([...v,{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}]),m({tags:x.map(h)})}),[x]),w=Object(a.useCallback)(((e,a)=>{if(!n.buckets[0]||"string"==typeof n.buckets[0]||!x[e])return;if(!v[e])return;if(v[e].loadingKeys===u.RemoteDataState.Loading)return;v.splice(e,1,Object.assign(Object.assign({},v[e]),{loadingKeys:u.RemoteDataState.Loading})),y([...v]);const r=x.filter((e=>e.keys.selected[0]&&e.values.selected.length)).map((e=>`(${e.values.selected.map((t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`)).join(" or ")})`)),i=r.length?r.join(" and "):"true",s=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",l=x.slice(0,e).map((e=>`r._value != "${e.keys.selected[0]}"`)),d=l.length?`\n  |> filter(fn: (r) => ${l.join(" and ")})`:"",{scope:p}=g(t);let b;b="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,f(`${b}\n              |> range(${Object(c.d)(o)})\n              |> filter(fn: (r) => ${i})\n              |> keys()\n              |> keep(columns: ["_value"])\n              |> distinct()${s}${d}\n              |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n              |> sort()\n              |> limit(n: 200)`,p).then((e=>{var t,n;return null!==(n=null===(t=Object.values(e.parsed.table.columns).filter((e=>"_value"===e.name&&"string"===e.type))[0])||void 0===t?void 0:t.data)&&void 0!==n?n:[]})).then((t=>{x[e].keys.selected[0]?t.includes(x[e].keys.selected[0])||t.unshift(x[e].keys.selected[0]):(0===e&&t.includes("_measurement")?x[e].keys.selected=["_measurement"]:x[e].keys.selected=[t[0]],m({tags:x.map(h)})),v.splice(e,1,{keys:t,values:[],loadingKeys:u.RemoteDataState.Done,loadingValues:u.RemoteDataState.NotStarted}),y([...v])})).catch((e=>{console.error(e)}))}),[n.buckets,x]),S=Object(a.useCallback)(((e,a)=>{if(v[e].loadingValues===u.RemoteDataState.Loading)return;v.splice(e,1,Object.assign(Object.assign({},v[e]),{loadingValues:u.RemoteDataState.Loading})),y([...v]);const r=x.slice(0,e).filter((e=>e.keys.selected[0]&&e.values.selected.length)).map((e=>`(${e.values.selected.map((t=>`r["${e.keys.selected[0]}"] == "${t.replace(/\\/g,"\\\\")}"`)).join(" or ")})`)),i=r.length?r.join(" and "):"true",s=a?`\n  |> filter(fn: (r) => r._value =~ /(?i:${a})/)`:"",{scope:l}=g(t);let d;d="sample"===n.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${n.buckets[0].id}")`:`from(bucket: "${n.buckets[0].name}")`,f(`${d}\n              |> range(${Object(c.d)(o)})\n              |> filter(fn: (r) => ${i})\n              |> keep(columns: ["${x[e].keys.selected[0]}"])\n              |> group()\n              |> distinct(column: "${x[e].keys.selected[0]}")${s}\n              |> limit(n: 200)\n              |> sort()`,l).then((e=>{var t,n;return null!==(n=null===(t=Object.values(e.parsed.table.columns).filter((e=>"_value"===e.name&&"string"===e.type))[0])||void 0===t?void 0:t.data)&&void 0!==n?n:[]})).then((t=>{v.splice(e,1,Object.assign(Object.assign({},v[e]),{values:t,loadingValues:u.RemoteDataState.Done})),y([...v])})).catch((e=>{console.error(e)}))}),[n.buckets,x]);return r.a.createElement(p.Provider,{value:{cards:x,add:E,remove:e=>{0===e||e>x.length||(x.splice(e,1),v.splice(e,1),y(v.map(((t,n)=>n<e?t:{keys:[],values:[],loadingKeys:u.RemoteDataState.NotStarted,loadingValues:u.RemoteDataState.NotStarted}))),m({tags:x.map(h)}))},update:(e,t)=>{var a,r,o;if(e<0||e>n.tags.length)return;const i=Object.assign(Object.assign(Object.assign({},x[e]),t),{keys:Object.assign(Object.assign({},x[e].keys),t.keys||{}),values:Object.assign(Object.assign({},x[e].values),t.values||{})});(null===(a=i.keys)||void 0===a?void 0:a.selected[0])!==(null===(o=null===(r=x[e])||void 0===r?void 0:r.keys)||void 0===o?void 0:o.selected[0])&&(v.splice(e,1,Object.assign(Object.assign({},v[e]),{values:[],loadingValues:u.RemoteDataState.NotStarted})),y([...v])),x[e]=Object.assign(Object.assign({},x[e]),i),m({tags:x.map(h)})},loadKeys:w,loadValues:S}},e)};var g=()=>{const{cards:e,add:t}=Object(a.useContext)(p),n=Object(a.useCallback)((()=>{t()}),[t]);if(!e.length)return null;const{keys:i}=e[e.length-1];return 0===i.results.length&&i.loading===u.RemoteDataState.Done?null:r.a.createElement(o.SquareButton,{className:"query-builder--add-card-button",onClick:n,icon:o.IconFont.Plus_New})},b=n(70);var v=()=>{const{data:e,update:t}=Object(a.useContext)(s.a),{loading:n,buckets:l,addBucket:c}=Object(a.useContext)(i.a),[d,m]=Object(a.useState)(""),[p,h]=Object(a.useState)(null);Object(a.useEffect)((()=>{const t=e.buckets.filter((e=>!!e));!p&&t.length&&h(t[0].name)}),[p,e.buckets]),Object(a.useEffect)((()=>{const t=new Set(l.map((e=>e.name)));e.buckets.filter((e=>!t.has(e.name))).forEach((e=>{c({name:e.name,type:e.type})}))}),[l,e.buckets]);const f=n=>{let a;n?n!==p?(e.buckets=[l.find((e=>e.name===n))],a=n):(e.buckets=[],a=null):e.buckets=[],e.tags=[],t(e),n&&h(a)};if(n===u.RemoteDataState.Done&&!l.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Empty,null,"No buckets found"));const g=l.filter((e=>!d.length||e.name.toLocaleLowerCase().includes(d.toLocaleLowerCase())));if(!g.length)return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:d,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>m(e.target.value)})),r.a.createElement(b.a.Empty,null,"No buckets matched your search"));const v=g.reduce(((e,t)=>(e[t.type].push(t),e)),{user:[],system:[],sample:[]}),y=e=>{const t=p===e.name,n=t?"Click to remove this filter":`Click to filter by ${e.name}`;return r.a.createElement(o.List.Item,{className:"selector-list--item",testID:`selector-list ${e.name}`,key:e.name,value:e.name,onClick:f,title:n,selected:t,size:o.ComponentSize.ExtraSmall,gradient:o.Gradients.GundamPilot,wrapText:!1},e.name)};return r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:d,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>m(e.target.value),onClear:()=>m("")})),r.a.createElement(o.List,{autoHideScrollbars:!0,testID:"buckets-list",style:{flex:"1 0 0"},scrollToSelected:!0},v.user.length&&r.a.createElement(o.List.Divider,{key:"userHeader",text:"user",size:o.ComponentSize.ExtraSmall}),v.user.map(y),v.system.length&&r.a.createElement(o.List.Divider,{key:"systemHeader",text:"system",size:o.ComponentSize.ExtraSmall}),v.system.map(y),v.sample.length&&r.a.createElement(o.List.Divider,{key:"sampleHeader",text:"sample",size:o.ComponentSize.ExtraSmall}),v.sample.map(y)))},y=n(303),x=n(304),E=n(305),w=n(225),S=n(150);const k=[],C=(e,t)=>{k[e]&&clearTimeout(k[e]),k[e]=setTimeout((()=>{t(),delete k[e]}),500)},O=({idx:e})=>{var t,n,i,l;const{cards:c,add:d,update:m,remove:h,loadKeys:f,loadValues:g}=Object(a.useContext)(p),{data:v}=Object(a.useContext)(s.a),k=c[e],[O,D]=Object(a.useState)([]),[T,j]=Object(a.useState)([]),I=Object(a.useMemo)((()=>{var e,t,n;const a=new Set(null===(e=null==k?void 0:k.values)||void 0===e?void 0:e.results);return[...null===(n=null===(t=null==k?void 0:k.values)||void 0===t?void 0:t.selected)||void 0===n?void 0:n.filter((e=>!a.has(e))),...Array.from(a)]}),[null===(t=null==k?void 0:k.values)||void 0===t?void 0:t.selected,null===(n=null==k?void 0:k.values)||void 0===n?void 0:n.results]),N=0!==e&&(()=>{h(e)}),R=t=>{m(e,{aggregateFunctionType:t.toLowerCase()})},A=Object(a.useCallback)((t=>{O[e]=t,D([...O]),C(e,(()=>{f(e,t)}))}),[f,k.keys,e]),F=t=>{T[e]=t,j([...T]),C(e,(()=>{g(e,t)}))},_=t=>{const n=[...k.values.selected],a=n.indexOf(t);if(-1===a?n.push(t):n.splice(a,1),m(e,{values:Object.assign(Object.assign({},k.values),{selected:n})}),-1===a&&1===n.length&&e===c.length-1)d();else for(let t=e+1;t<c.length;t++)f(t)};if(Object(a.useEffect)((()=>{v.buckets[0]&&k.keys.loading===u.RemoteDataState.NotStarted&&f(e)}),[v.buckets,k.keys.loading]),Object(a.useEffect)((()=>{k.keys.loading===u.RemoteDataState.Done&&k.values.loading!==u.RemoteDataState.Done&&g(e)}),[k.keys.loading,k.values.loading]),k.keys.loading===u.RemoteDataState.NotStarted){let t="Select a value first";return 0===e&&(t="Select a bucket first"),r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,t))}if(k.keys.loading===u.RemoteDataState.Error)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,null,"Failed to load tag keys"));if(k.keys.loading===u.RemoteDataState.Done&&!k.keys.results.length)return r.a.createElement(b.a,null,r.a.createElement(b.a.Empty,{testID:"empty-tag-keys"},"No tag keys found ",r.a.createElement("small",null,"in the current time range")));let M;return M=k.values.loading===u.RemoteDataState.Error?r.a.createElement(b.a.Empty,null,`Failed to load tag values for ${k.keys.selected[0]}`):k.values.loading===u.RemoteDataState.Loading||k.values.loading===u.RemoteDataState.NotStarted?r.a.createElement(b.a.Empty,null,r.a.createElement(w.a,{text:"Loading tag values"})):k.values.loading!==u.RemoteDataState.Done||I.length?r.a.createElement(S.a,{items:I,selectedItems:k.values.selected,onSelectItem:_,multiSelect:!0}):r.a.createElement(b.a.Empty,null,"No values found ",r.a.createElement("small",null,"in the current time range")),"group"===k.aggregateFunctionType?r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map((e=>e.toUpperCase())),selectedOption:k.aggregateFunctionType.toUpperCase(),onDelete:N,onSelect:R}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Input,{value:T[e]||"",placeholder:`Search ${k.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{F(e.target.value)},onClear:()=>F("")})),M):r.a.createElement(b.a,null,r.a.createElement(b.a.DropdownHeader,{options:["filter","group"].map((e=>e.toUpperCase())),selectedOption:k.aggregateFunctionType.toUpperCase(),onDelete:N,onSelect:R}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Small},r.a.createElement(x.a,{searchTerm:O[e]||"",emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:k.keys.selected[0],onSelect:t=>{m(e,{keys:Object.assign(Object.assign({},k.keys),{selected:[t]})})},buttonStatus:Object(y.a)(k.keys.loading),onChangeSearchTerm:A,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:k.keys.results}),!!(null===(l=null===(i=null==k?void 0:k.values)||void 0===i?void 0:i.selected)||void 0===l?void 0:l.length)&&r.a.createElement(E.a,{count:k.values.selected.length})),r.a.createElement(o.Input,{value:T[e]||"",placeholder:`Search ${k.keys.selected[0]} tag values`,className:"tag-selector--search",onChange:e=>{F(e.target.value)},onClear:()=>F("")})),M)};var D=()=>{const{cards:e}=Object(a.useContext)(p);return e.length?r.a.createElement(r.a.Fragment,null,e.map(((e,t)=>r.a.createElement(O,{key:t,idx:t})))):null};var T=({Context:e})=>r.a.createElement(i.b,null,r.a.createElement(f,null,r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(o.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(v,null),r.a.createElement(D,null),r.a.createElement(g,null))))))));var j=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},r.a.createElement("div",{className:"query-builder--cards"},r.a.createElement(o.DapperScrollbars,{noScrollY:!0},r.a.createElement("div",{className:"builder-card--list"},r.a.createElement(b.a,{testID:"bucket-selector"},r.a.createElement(b.a.Header,{title:"From"}),r.a.createElement(b.a.Menu,null,r.a.createElement(o.Dropdown,{button:(e,n)=>{var a,i,s;return r.a.createElement(o.Dropdown.Button,{onClick:n,active:e,icon:o.IconFont.BucketSolid,status:o.ComponentStatus.Disabled},(null===(a=null==t?void 0:t.buckets)||void 0===a?void 0:a.length)&&(null===(s=null===(i=null==t?void 0:t.buckets)||void 0===i?void 0:i[0])||void 0===s?void 0:s.name)?t.buckets[0].name:"No Bucket Selected")},menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))),t.tags.map((e=>r.a.createElement(b.a,{key:e.key},r.a.createElement(b.a.Header,{title:e.aggregateFunctionType.toUpperCase()}),r.a.createElement(o.Dropdown,{button:(t,n)=>r.a.createElement(o.Dropdown.Button,{onClick:n,active:t,icon:"filter"===e.aggregateFunctionType?o.IconFont.FunnelSolid:o.IconFont.Link,status:o.ComponentStatus.Disabled},e.key),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}}),r.a.createElement(S.a,{items:e.values,selectedItems:e.values,onSelectItem:()=>{},multiSelect:!0})))))))))};n(492),t.default=e=>{e({type:"queryBuilder",family:"inputs",priority:1,component:T,featureFlag:"flow-panel--query-builder",button:"Query Builder",initial:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}]},readOnlyComponent:j,source:e=>{if(!e.buckets[0]||!e.tags.reduce(((e,t)=>e.concat(t.values)),[]).length)return"";const t=e.tags.map((e=>{if(!e.key)return"";if("filter"===e.aggregateFunctionType){if(!e.values.length)return"";return`\n  |> filter(fn: (r) => ${e.values.map((t=>`r["${e.key}"] == "${t.replace(/\\/g,"\\\\")}"`)).join(" or ")})`}if("group"===e.aggregateFunctionType){const t=e.values.map((e=>`"${e}"`));return t.length?`\n  |> group(columns: [${t.join(", ")}])`:"\n  |> group()"}return""})).join("");let n;return n="sample"===e.buckets[0].type?`import "influxdata/influxdb/sample"\nsample.data(set: "${e.buckets[0].id}")`:`from(bucket: "${e.buckets[0].name}")`,`${n} |> range(start: v.timeRangeStart, stop: v.timeRangeStop)${t}`}})}},568:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(293),s=n(3),l=n(18),c=n(79),u=n(92);const d=({expression:e,onClickFunction:t,testID:n})=>r.a.createElement("dd",{"data-testid":n,className:"flux-toolbar--list-item flux-toolbar--function"},r.a.createElement("code",null,e),r.a.createElement(s.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:s.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:s.ComponentColor.Primary}));d.defaultProps={testID:"alert-expression"};var m=d;var p,h=({parsed:e,onSelect:t})=>{const[n,o]=Object(a.useState)(""),i=Object(a.useCallback)((e=>{o(e.target.value)}),[n,o]),l=Object(a.useMemo)((()=>((e,t)=>{var n,a;const r=[/^_start$/,/^_stop$/,/^_time$/,/^_value/,/^_measurement$/,/^_field$/,/^table$/,/^result$/];if(!e)return;const o=e.table,i=null===(n=o.columns._field)||void 0===n?void 0:n.data,s=o.columnKeys.filter((e=>r.reduce(((t,n)=>t&&!n.test(e)),!0))),l=["_start","_stop","_measurement"],c={fields:new Set(null==i?void 0:i.filter((e=>e.toLowerCase().includes(t.toLowerCase())))),tags:new Set(null==s?void 0:s.filter((e=>o.columns[e].data.filter((e=>e))&&e.toLowerCase().includes(t.toLowerCase())))),columns:null===(a=o.columnKeys)||void 0===a?void 0:a.filter((e=>l.includes(e)&&e.toLowerCase().includes(t.toLowerCase()))),system:["_check_id","_check_name","_level","_notebook_link","_source_measurement","_type"].filter((e=>e.toLowerCase().includes(t.toLowerCase())))},u={};return Object.keys(c).forEach((e=>{(c[e].length||c[e].size)&&(u[e]=Array.from(c[e]))})),u})(e,n)),[e,n]);let c;return c=Object.keys(l).length?r.a.createElement(r.a.Fragment,null,Object.keys(l).sort(((e,t)=>((e,t)=>{const n=["measurements","fields","tags","columns","system"];return n.indexOf(e)-n.indexOf(t)})(e,t))).map((e=>{return r.a.createElement("dl",{className:"flux-toolbar--category",key:e},r.a.createElement("dt",{className:"flux-toolbar--heading"},(n=e).charAt(0).toUpperCase()+n.slice(1)),l[e].map((n=>r.a.createElement(m,{onClickFunction:t,key:`${e}-${n}`,testID:`${e}-${n}`,expression:n}))));var n}))):r.a.createElement(s.EmptyState,{size:s.ComponentSize.ExtraSmall},r.a.createElement(s.EmptyState.Text,null,"No expressions match your search")),r.a.createElement("div",{className:"flux-toolbar"},r.a.createElement("div",{className:"flux-toolbar--search"},r.a.createElement(s.Input,{type:s.InputType.Text,icon:s.IconFont.Search_New,placeholder:"Filter Expressions...",onChange:i,value:n,testID:"flux-toolbar-search--input"})),r.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},c))},f=n(143),g=n(81),b=(n(488),n(7));!function(e){e.Value="value",e.Range="range",e.Deadman="deadman"}(p||(p={}));const v="missing-for-longer-than",y={greater:{name:"greater than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] > ${e.value})`},"greater-equal":{name:"greater than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] >= ${e.value})`},less:{name:"less than",format:p.Value,condition:e=>`(r) => (r["${e.field}"] < ${e.value})`},"less-equal":{name:"less than or equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] <= ${e.value})`},equal:{name:"equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] == ${e.value})`},"not-equal":{name:"not equal to",format:p.Value,condition:e=>`(r) => (r["${e.field}"] != ${e.value})`},between:{name:"between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] > ${e.min} and r["${e.field}"] < ${e.max})`},"not-between":{name:"not between",format:p.Range,condition:e=>`(r) => (r["${e.field}"] < ${e.min} or r["${e.field}"] > ${e.max})`},[v]:{name:"missing for longer than",format:p.Deadman,condition:e=>'(r) => (r["dead"])'}};var x=({readOnly:e})=>{var t;const{data:n,update:o,results:i}=Object(a.useContext)(l.a),c=Array.from(new Set(null===(t=i.parsed.table.columns._field)||void 0===t?void 0:t.data)),u=Object(a.useMemo)((()=>{var e;return null!==(e=null==n?void 0:n.thresholds)&&void 0!==e?e:[]}),[null==n?void 0:n.thresholds]),d=Object(a.useCallback)(((e,t)=>{if(!y[e])return;Object(b.a)("Changed Notification Threshold",{type:e});const n=u.find(((e,n)=>t===n));if(!n)return;n.type=e,n.field=n.field||"_value";let a=u;y[e].format===p.Range?(n.min=0,n.max=100):y[e].format===p.Deadman?a=[{type:v,deadmanCheckValue:"5s",deadmanStopValue:"90s",field:n.field||"_value"}]:n.value=20,o({thresholds:a})}),[u,o]),m=Object(a.useCallback)(((e,t)=>{Object(b.a)("Changed Notification Threshold Column");const n=u.find(((e,n)=>t===n));n&&(n.field=e),o({thresholds:u})}),[u,o]),h=Object(a.useCallback)(((t,n)=>{const a=Object.entries(y).filter((([e])=>!(n>0&&e===v))).map((([a,o])=>r.a.createElement(s.Dropdown.Item,{key:a,value:a,onClick:e=>d(e,n),selected:a===(null==t?void 0:t.type),title:o.name,disabled:!!e},null==o?void 0:o.name)));return r.a.createElement(s.Dropdown,{menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>{var o;return r.a.createElement(s.Dropdown.Button,{onClick:a,active:n,size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default},(null===(o=y[null==t?void 0:t.type])||void 0===o?void 0:o.name)||"Select a function")}})}),[d]),x=Object(a.useCallback)(((t,n)=>{const a=c.map((a=>r.a.createElement(s.Dropdown.Item,{key:a,value:a,onClick:e=>m(e,n),selected:a===(null==t?void 0:t.field),title:a,disabled:!!e},a)));return r.a.createElement(s.Dropdown,{menu:e=>r.a.createElement(s.Dropdown.Menu,{onCollapse:e},a),button:(n,a)=>r.a.createElement(s.Dropdown.Button,{onClick:a,active:n,size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default},(null==t?void 0:t.field)||"Select a numeric field")})}),[c,m]),E=e=>{o({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanCheckValue:e,type:v})]})},w=e=>{o({thresholds:[Object.assign(Object.assign({},u[0]),{deadmanStopValue:e,type:v})]})},S=(t,n)=>{var a,i,l;return(null==t?void 0:t.type)===v?r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(f.a,{suggestions:g.b,onSubmit:E,value:null!==(a=t.deadmanCheckValue)&&void 0!==a?a:"5s",showDivider:!1})),r.a.createElement(s.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),r.a.createElement(s.FlexBox.Child,{testID:"component-spacer--flex-child",grow:1},r.a.createElement(f.a,{suggestions:g.b,onSubmit:w,value:null!==(i=t.deadmanStopValue)&&void 0!==i?i:"90s",showDivider:!1}))):(null===(l=y[null==t?void 0:t.type])||void 0===l?void 0:l.format)===p.Range?r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"min",value:t.min,onChange:e=>((e,t)=>{const n=u.find(((e,n)=>t===n));n&&(n.min=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default})),r.a.createElement(s.TextBlock,{testID:"is-value-text-block",text:"to"}),r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"max",value:t.max,onChange:e=>((e,t)=>{const n=u.find(((e,n)=>t===n));n&&(n.max=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default}))):r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0},r.a.createElement(s.FlexBox.Child,{grow:1},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"value",value:t.value,onChange:e=>((e,t)=>{Object(b.a)("Alert Panel (Notebooks) - Threshold Value Entered");const n=u.find(((e,n)=>t===n));n&&(n.value=e.target.value),o({thresholds:u})})(e,n),size:s.ComponentSize.Medium,status:e?s.ComponentStatus.Disabled:s.ComponentStatus.Default})))};return r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Column,margin:s.ComponentSize.Small,testID:"component-spacer",style:{padding:"24px 0"}},u.map(((t,n)=>r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Medium,stretchToFitWidth:!0,testID:"component-spacer",key:`${t.type}_${n}`},r.a.createElement(s.TextBlock,{testID:"when-value-text-block",text:0===n?"When":"And",style:{minWidth:56,textAlign:"center"}}),r.a.createElement(s.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},x(t,n)),r.a.createElement(s.TextBlock,{testID:"is-value-text-block",text:"is"}),r.a.createElement(s.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},h(t,n)),r.a.createElement(s.FlexBox.Child,{grow:3,testID:"component-spacer--flex-child"},S(t,n)),r.a.createElement(s.FlexBox.Child,{grow:4,testID:"component-spacer--flex-child"},0===n||e?null:r.a.createElement("div",{className:"threshold-trash-icon--block",onClick:()=>(e=>{const t=u.slice();t.splice(e,1),o({thresholds:t})})(n)},r.a.createElement(s.Icon,{glyph:s.IconFont.Trash_New})))))),u[0].type!==v&&!e&&r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Row,margin:s.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},r.a.createElement("div",{className:"threshold-add-icon--block",onClick:()=>{Object(b.a)("Alert Panel (Notebooks) - New Threshold Added"),o({thresholds:[...u,{type:"greater",value:0}]})}},r.a.createElement(s.TextBlock,{testID:"add-value-text-block",text:"+",style:{fontWeight:400,fontSize:25,textAlign:"center",minWidth:56}}))))},E=n(82),w=n(369),S=n(88),k=n(5),C=n(10),O=n(13),D=n(24),T=n(159),j=n(11),I=(n(354),n(41)),N=n(428);const R=Object(a.lazy)((()=>Promise.all([n.e(2),n.e(20)]).then(n.bind(null,2571))));var A=({Context:e})=>{var t,n,d,m,p;const f=Object(o.d)(),{id:g,data:A,update:F,results:_,loading:M}=Object(a.useContext)(l.a),{query:L,simplify:P,getPanelQueries:$}=Object(a.useContext)(c.a),{hideSub:B,id:z,show:q,showSub:H}=Object(a.useContext)(S.a),[V,U]=Object(a.useState)(k.RemoteDataState.NotStarted),[W,G]=Object(a.useState)(null);let K="",Y="";Object(a.useEffect)((()=>{f(Object(T.b)())}),[]);const Z=Object(o.e)(j.c);A.interval?A.interval!==(null===(t=A.interval.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===t?void 0:t.join(""))&&(K="Invalid Time"):K="Required",A.offset&&A.offset!==(null===(n=A.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))&&(Y="Invalid Time");const Q=Object(a.useMemo)((()=>M===k.RemoteDataState.Loading?"Loading":M===k.RemoteDataState.NotStarted?I.g:"No Data Returned"),[M]),X=null===(d=$(g))||void 0===d?void 0:d.source,J=Object(a.useMemo)((()=>!!Object.keys(Object(u.e)(Object(i.t)(P(X)),(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{})).length),[X]),ee=((null===(p=null===(m=null==_?void 0:_.parsed)||void 0===m?void 0:m.table)||void 0===p?void 0:p.columnKeys)||[]).filter((e=>{if("result"===e||"table"===e)return!1;const t=_.parsed.table.getColumnType(e);return"time"===t||"number"===t})),te=e=>{F({message:e})},ne=Object(a.useCallback)((e=>{if(!W)return;const t=W.getPosition(),n=[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:` \${r.${e}} `}];W.executeEdits("",n),te(W.getValue()),Object(b.a)("Injecting Expression into Alert Message")}),[W]),ae=Object(a.useMemo)((()=>{if(J)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))}),[J]),re=Object.keys(E.a).filter((e=>!E.a[e].featureFlag||Object(D.c)(E.a[e].featureFlag))).sort(((e,t)=>E.b.indexOf(e)-E.b.indexOf(t))).map((e=>r.a.createElement(s.Dropdown.Item,{key:e,id:e,testID:`dropdown-item--${e}`,onClick:()=>{return t=e,Object(b.a)("Changed Notification Endpoint",{which:t}),void F({endpoint:t,endpointData:E.a[t].data});var t},selected:A.endpoint===e},E.a[e].name))),oe=Object(a.useCallback)((()=>{var e,t;const n=Object(i.t)(P(X)),[a]=A.thresholds,r=Object(u.e)(n,(e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{});r.timeRangeStart=`-${null==a?void 0:a.deadmanStopValue}`;const o=Object(u.e)(n,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{}),s=y[v].condition(a),l=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=E.a[A.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${g}",\n\t_check_name: "Notebook Generated Deadman Check",\n\t_type: "deadman",\n\ttags: {},\n}\n\nnotification = {\n\t_notification_rule_id: "${g}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${g}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.r)(n)}\ntrigger = ${s}\nmessageFn = (r) => ("${A.message}")\n\n${null===(t=E.a[A.endpoint])||void 0===t?void 0:t.generateQuery(A.endpointData)}\n|> monitor["deadman"](t: experimental["subDuration"](from: now(), d: ${a.deadmanCheckValue}))`,c=Object(i.t)(l);if(o.name||(o.name=`"Notebook Deadman Task for ${g}"`),A.interval&&(o.every=A.interval),A.offset&&(o.offset=A.offset),Object.keys(r).length){const e=Object.entries(r).map((([e,t])=>`${e}: ${t}`)).join(",\n"),t=Object(i.t)(`option v = {${e}}\n`);c.body.unshift(t.body[0])}const d=Object.entries(o).map((([e,t])=>`${e}: ${t}`)).join(",\n"),m=Object(i.t)(`option task = {${d}}\n`);return c.body.unshift(m.body[0]),Object(i.r)(c)}),[g,X,A.every,A.offset,A.endpointData,A.endpoint,A.thresholds,A.message]),ie=Object(a.useCallback)((()=>{var e,t;if(A.thresholds[0].type===v)return oe();const n=Object(i.t)(P(X)),a=Object(u.e)(n,(e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{}),r=Object(u.e)(n,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{}),o=A.thresholds.map((e=>y[e.type].condition(e))).join(" and "),s=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/monitor"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=E.a[A.endpoint])||void 0===e?void 0:e.generateImports()}\n\ncheck = {\n\t_check_id: "${g}",\n\t_check_name: "Notebook Generated Check",\n\t_type: "custom",\n\ttags: {},\n}\nnotification = {\n\t_notification_rule_id: "${g}",\n\t_notification_rule_name: "Notebook Generated Rule",\n\t_notification_endpoint_id: "${g}",\n\t_notification_endpoint_name: "Notebook Generated Endpoint",\n}\n\ntask_data = ${Object(i.r)(n)}\ntrigger = ${o}\nmessageFn = (r) => ("${A.message}")\n\n${null===(t=E.a[A.endpoint])||void 0===t?void 0:t.generateQuery(A.endpointData)}`,l=Object(i.t)(s);if(r.name||(r.name=`"Notebook Task for ${g}"`),A.interval&&(r.every=A.interval),A.offset&&(r.offset=A.offset),Object.keys(a).length){const e=Object.entries(a).map((([e,t])=>`${e}: ${t}`)).join(",\n"),t=Object(i.t)(`option v = {${e}}\n`);l.body.unshift(t.body[0])}const c=Object.entries(r).map((([e,t])=>`${e}: ${t}`)).join(",\n"),d=Object(i.t)(`option task = {${c}}\n`);return l.body.unshift(d.body[0]),Object(i.r)(l)}),[g,X,A.every,A.offset,A.endpointData,A.endpoint,A.thresholds,A.message]);return M===k.RemoteDataState.NotStarted||M===k.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},Q))),ae):ee.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(x,null),r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Check Every",required:!0,errorMessage:K,style:{paddingBottom:"4px"}},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:A.interval,onChange:e=>{F({interval:e.target.value})},status:K?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Query Offset",required:!0,errorMessage:Y},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:A.offset,onChange:e=>{F({offset:e.target.value})},status:Y?s.ComponentStatus.Error:s.ComponentStatus.Default,size:s.ComponentSize.Medium})))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,null,r.a.createElement(s.Form.Element,{label:"Notification",required:!0},r.a.createElement(s.Panel,{backgroundColor:s.InfluxColors.Grey15},r.a.createElement(s.Panel.Body,null,r.a.createElement(s.FlexBox,{justifyContent:s.JustifyContent.FlexEnd,alignItems:s.AlignItems.FlexEnd,margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(s.Button,{text:"${exp}",onClick:()=>{z===g?B():(Object(b.a)("Opening the Expressions Sidebar"),q(g),H(r.a.createElement(h,{parsed:null==_?void 0:_.parsed,onSelect:ne})))},color:s.ComponentColor.Secondary,testID:"notification-exp-button",status:W?s.ComponentStatus.Default:s.ComponentStatus.Loading})),r.a.createElement(s.FlexBox.Child,{grow:0,shrink:0},r.a.createElement(s.Button,{text:"Test Alert",status:V===k.RemoteDataState.Loading?s.ComponentStatus.Loading:s.ComponentStatus.Default,onClick:async()=>{var e,t;Object(b.a)("Alert Panel (Notebooks) - Test Alert Clicked");const n=`\nimport "strings"\nimport "regexp"\nimport "influxdata/influxdb/schema"\nimport "influxdata/influxdb/secrets"\nimport "experimental"\n${null===(e=E.a[A.endpoint])||void 0===e?void 0:e.generateTestImports()}\n\n${null===(t=E.a[A.endpoint])||void 0===t?void 0:t.generateTestQuery(A.endpointData)}`;try{U(k.RemoteDataState.Loading),await L(n),U(k.RemoteDataState.Done),f(Object(C.c)(Object(O.Hd)(A.endpoint)))}catch(e){U(k.RemoteDataState.Error),f(Object(C.c)(Object(O.Gd)(A.endpoint)))}},color:s.ComponentColor.Primary}))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(s.Dropdown.Menu,{className:"flows-endpoints--dropdown",maxHeight:500},re)),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(E.a[A.endpoint].component,{createSecret:e=>{z!==g&&(q(g),H(r.a.createElement(N.a,{onDismiss:B,onSubmit:e})))},secrets:Z.sort(((e,t)=>e.id.localeCompare(t.id)))}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.SpinnerContainer,{loading:k.RemoteDataState.Loading,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)})},r.a.createElement(R,{text:A.message,onChangeText:te,setEditorInstance:G}))))))))))),r.a.createElement(s.Panel.Footer,{justifyContent:s.JustifyContent.FlexEnd},r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium},r.a.createElement(w.a,{generate:ie,text:"Export Alert Task",type:"alert"})))),ae):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))),ae)};const F=Object(a.lazy)((()=>Promise.all([n.e(2),n.e(20)]).then(n.bind(null,2571))));var _=({Context:e})=>{var t,n;const{data:o,results:i,loading:c}=Object(a.useContext)(l.a),u=Object(a.useMemo)((()=>c===k.RemoteDataState.Loading?"Loading":c===k.RemoteDataState.NotStarted?I.g:"No Data Returned"),[c]),d=((null===(n=null===(t=null==i?void 0:i.parsed)||void 0===t?void 0:t.table)||void 0===n?void 0:n.columnKeys)||[]).filter((e=>{if("result"===e||"table"===e)return!1;const t=i.parsed.table.getColumnType(e);return"time"===t||"number"===t}));return c===k.RemoteDataState.NotStarted||c===k.RemoteDataState.Loading?r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},u)))):d.length?r.a.createElement(e,null,r.a.createElement("div",{className:"notification"},r.a.createElement(x,{readOnly:!0}),r.a.createElement(s.FlexBox,{margin:s.ComponentSize.Medium,style:{padding:"24px 0"}},r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Check Every",required:!0,style:{paddingBottom:"4px"}},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:o.interval,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium}))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Query Offset",required:!0},r.a.createElement(s.Input,{name:"interval",type:s.InputType.Text,placeholder:"ex: 3h30s",value:o.offset,status:s.ComponentStatus.Disabled,size:s.ComponentSize.Medium})))),r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.FlexBox.Child,null,r.a.createElement(s.Form.Element,{label:"Notification",required:!0},r.a.createElement(s.Panel,{backgroundColor:s.InfluxColors.Grey15},r.a.createElement(s.Panel.Body,null,r.a.createElement(s.FlexBox,{alignItems:s.AlignItems.Stretch,margin:s.ComponentSize.Medium},r.a.createElement(s.Form.Element,{required:!0,label:"Endpoint",className:"endpoint-dropdown--element"},r.a.createElement(s.Dropdown.Menu,{className:"flows-endpoints--dropdown"},r.a.createElement(s.Dropdown.Item,{selected:!0},E.a[o.endpoint].name))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Details",className:"endpoint-details--element"},r.a.createElement(E.a[o.endpoint].readOnlyComponent))),r.a.createElement(s.FlexBox.Child,{grow:1,shrink:1},r.a.createElement(s.Form.Element,{label:"Message Format",required:!0},r.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"notification-message--monaco-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.SpinnerContainer,{loading:k.RemoteDataState.Loading,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)})},r.a.createElement(F,{text:o.message,onChangeText:()=>{},readOnly:!0}))))))))))))):r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(s.Icon,{glyph:s.IconFont.Bell,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},"This cell requires a numeric column. Check your source query"))))};t.default=e=>{e({type:"notification",family:"output",priority:1,component:A,readOnlyComponent:_,featureFlag:"flow-panel--notification",button:"Alert",initial:{interval:"10m",offset:"0s",thresholds:[{type:"greater",value:0}],message:"${strings.title(v: r._type)} for ${r._source_measurement} triggered at ${time(v: r._source_timestamp)}!",endpoint:"slack",endpointData:{url:"https://hooks.slack.com/services/X/X/X"}},visual:(e,t)=>t})}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(20);const o=e=>Object(a.useMemo)((()=>e<r.j||e!=e?r.h:e),[e])},570:function(e,t,n){"use strict";n.r(t);var a=n(293),r=n(92),o=n(2),i=n.n(o),s=n(3),l=n(18),c=n(88),u=n(76);const d=({func:e})=>{let t=i.a.createElement("div",{className:"flux-function-docs--arguments"},"None");return e.args.length>0&&(t=i.a.createElement(i.a.Fragment,null,e.args.map((e=>i.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},i.a.createElement("span",null,e.name,":"),i.a.createElement("span",null,e.type),i.a.createElement("div",null,e.desc)))))),i.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${e.name}`},i.a.createElement(s.DapperScrollbars,{autoHide:!1},i.a.createElement("div",{className:"flux-toolbar--popover"},i.a.createElement("article",{className:"flux-functions-toolbar--description"},i.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),i.a.createElement("span",null,e.desc)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),i.a.createElement("div",{className:"flux-function-docs--snippet"},t)),i.a.createElement("article",null,i.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),i.a.createElement("div",{className:"flux-function-docs--snippet"},e.example)),i.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",i.a.createElement("a",{target:"_blank",rel:"noreferrer",href:e.link},"Flux Docs"),"."))))},m=({func:e,onClickFunction:t,testID:n})=>{const a=Object(o.createRef)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Popover,{appearance:s.Appearance.Outline,enableDefaultStyles:!1,position:s.PopoverPosition.ToTheLeft,triggerRef:a,showEvent:s.PopoverInteraction.Hover,hideEvent:s.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>i.a.createElement(d,{func:e})}),i.a.createElement("dd",{ref:a,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},i.a.createElement("code",null,e.name),i.a.createElement(s.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:s.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:s.ComponentColor.Primary})))};m.defaultProps={testID:"flux-function"};var p=m,h=n(116);var f=({onSelect:e})=>{const[t,n]=Object(o.useState)(""),a=Object(o.useCallback)((e=>{n(e)}),[t,n]),r=Object(o.useMemo)((()=>u.b.filter((e=>!t.length||e.name.toLowerCase().includes(t.toLowerCase()))).reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{})),[t]);return Object(o.useMemo)((()=>{let n;return n=Object.keys(r).length?Object.entries(r).map((([t,n])=>i.a.createElement("dl",{className:"flux-toolbar--category",key:t},i.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map((t=>i.a.createElement(p,{onClickFunction:e,key:`${t.name}_${t.desc}`,func:t,testID:t.name})))))):i.a.createElement(s.EmptyState,{size:s.ComponentSize.ExtraSmall},i.a.createElement(s.EmptyState.Text,null,"No functions match your search")),i.a.createElement("div",{className:"flux-toolbar"},i.a.createElement("div",{className:"flux-toolbar--search"},i.a.createElement(h.a,{placeholderText:"Filter Functions...",onSearch:a,searchTerm:t,testID:"flux-toolbar-search--input"})),i.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},n))}),[t,e])},g=(n(255),n(7));const b=Object(o.lazy)((()=>Promise.all([n.e(2),n.e(7),n.e(11)]).then(n.bind(null,1046))));var v=({Context:e})=>{const{id:t,data:n,update:a}=Object(o.useContext)(l.a),{hideSub:r,id:u,show:d,showSub:m}=Object(o.useContext)(c.a),[p,h]=Object(o.useState)(null),{queries:v,activeQuery:y}=n,x=v[y],E=Object(o.useCallback)((e=>{const t=v.slice();t[y]=Object.assign(Object.assign({},v[y]),{text:e}),a({queries:t})}),[a,v,y]),w=Object(o.useCallback)((e=>{if(!p)return;const t=p.getPosition(),n=x.text.split("\n");let a=t.lineNumber,r="";(n[a]||n[n.length-1]).trim()&&(a=t.lineNumber+1);const[o]=p.getVisibleRanges();let i=a>o.endLineNumber;1===t.lineNumber&&1===t.column&&(i=!0,a=o.endLineNumber+1),r=i?`\n  |> ${e.example}`:`  |> ${e.example}\n`,"from"!==e.name&&"union"!==e.name||(r=`\n${e.example}\n`);const s=[{range:new window.monaco.Range(a,1,a,1),text:r}];e.package&&!p.getModel().getValue().includes(`import "${e.package}"`)&&s.unshift({range:new window.monaco.Range(1,1,1,1),text:`import "${e.package}"\n`}),p.executeEdits("",s),E(p.getValue())}),[p,x.text]),S=i.a.createElement(s.Button,{text:"Functions",icon:s.IconFont.Function,onClick:()=>{u===t?(Object(g.a)("Flux Panel (Notebooks) - Toggle Functions - Off"),r()):(Object(g.a)("Flux Panel (Notebooks) - Toggle Functions - On"),d(t),m(i.a.createElement(f,{onSelect:w})))},color:s.ComponentColor.Default,titleText:"Function Reference",className:"flows-config-function-button"});return i.a.createElement(e,{controls:S},i.a.createElement(o.Suspense,{fallback:i.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:i.a.createElement(s.TechnoSpinner,null)})},i.a.createElement(b,{script:x.text,onChangeScript:E,onSubmitScript:()=>{},setEditorInstance:h,wrapLines:"on",autogrow:!0})))};const y=Object(o.lazy)((()=>Promise.all([n.e(2),n.e(7),n.e(11)]).then(n.bind(null,1046))));var x=({Context:e})=>{const{data:t}=Object(o.useContext)(l.a),{queries:n,activeQuery:a}=t,r=n[a];return i.a.createElement(e,null,i.a.createElement(o.Suspense,{fallback:i.a.createElement(s.SpinnerContainer,{loading:s.RemoteDataState.Loading,spinnerComponent:i.a.createElement(s.TechnoSpinner,null)})},i.a.createElement(y,{script:r.text,onChangeScript:()=>{},onSubmitScript:()=>{},autogrow:!0,readOnly:!0,wrapLines:"on"})))};t.default=e=>{e({type:"rawFluxEditor",family:"inputs",priority:0,component:v,readOnlyComponent:x,featureFlag:"flow-panel--raw-flux",button:"Flux Script",initial:{activeQuery:0,queries:[{text:"// Uncomment the following line to continue building from the previous cell\n// __PREVIOUS_RESULT__\n",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}]},source:(e,t)=>{try{const n=Object(a.t)(t),o=Object(a.t)(e.queries[e.activeQuery].text),i=n.body.map((e=>e.location.source)).join("\n");return o.body.length?(o.imports=Object.values(n.imports.concat(o.imports).reduce(((e,t)=>(e[t.path.value]=t,e)),{})),Object(r.c)(o,(e=>!!Object.keys(e.comments||{}).length)).forEach((e=>{delete e.comments})),Object(r.c)(o,(e=>"Identifier"===e.type&&"__PREVIOUS_RESULT__"===e.name)).forEach((e=>{e.name=i})),Object(a.r)(o)):""}catch(e){return}}})}},571:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(19),s=n.n(i),l=n(18);var c=()=>{const{data:e,update:t}=Object(a.useContext)(l.a);return r.a.createElement(o.SelectGroup,null,r.a.createElement(o.SelectGroup.Option,{active:"edit"===e.mode,onClick:()=>t({mode:"edit"}),value:"edit",id:"edit"},"Edit"),r.a.createElement(o.SelectGroup.Option,{active:"preview"===e.mode,onClick:()=>t({mode:"preview"}),value:"preview",id:"preview"},"Preview"))},u=n(117),d=n(65);const m=Object(a.lazy)((()=>Promise.all([n.e(2),n.e(19)]).then(n.bind(null,2570))));var p=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(l.a),{flow:i}=Object(a.useContext)(d.a);let p=r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(m,{script:t.text,onChangeScript:e=>{n({text:e})},autogrow:!0}));if(i.readOnly||"preview"===t.mode){const e=s()("flow-panel--markdown markdown-format");p=r.a.createElement("div",{className:e},r.a.createElement(u.a,{text:t.text}))}const h=r.a.createElement(c,null);return r.a.createElement(e,{controls:h},p)};var h=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-panel--markdown markdown-format"},r.a.createElement(u.a,{text:t.text})))};n(482),t.default=e=>{e({type:"markdown",family:"passThrough",component:p,readOnlyComponent:h,featureFlag:"flow-panel--markdown",button:"Note",initial:()=>({text:"",mode:"edit"})})}},572:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(293),s=n(369),l=n(18),c=n(79),u=n(88),d=n(31),m=n(42),p=n(122),h=n(135),f=n(7);const g=(e,t)=>{let n="seconds";const a=Date.parse(e),r=Date.parse(t);if(isNaN(r)||isNaN(a))return"";let o=(r-a)/1e3;return o>60&&(o=Math.round(o/60),n="minutes"),`${o} ${n}`},b=({taskID:e,runID:t})=>{const{closeFn:n}=Object(a.useContext)(h.a),[i,s]=Object(a.useState)([]),l=Object(p.a)("YYYY-MM-DD HH:mm:ss");Object(a.useEffect)((()=>{Object(d.getTasksRunsLogs)({taskID:e,runID:t}).then((e=>{if(200!==e.status)throw new Error(e.data.message);s(e.data.events)}))}),[e,t]);const c=i.map(((e,t)=>r.a.createElement(o.IndexList.Row,{key:`run-log--${t}`,className:"flow-task-run--log"},r.a.createElement(o.IndexList.Cell,null,r.a.createElement("span",{className:"time"},l.format(new Date(e.time)))),r.a.createElement(o.IndexList.Cell,null,r.a.createElement("span",{className:"message"},r.a.createElement("pre",null,e.message))))));return r.a.createElement(o.Overlay,{visible:!0},r.a.createElement(o.Overlay.Container,null,r.a.createElement(o.Overlay.Header,{title:"Task Run Log",onDismiss:()=>{Object(f.a)("Task Run Log Overlay Closed"),n()}}),r.a.createElement(o.Overlay.Body,null,r.a.createElement(o.DapperScrollbars,{autoSizeHeight:!0,style:{maxHeight:"700px"}},r.a.createElement(o.IndexList,null,r.a.createElement(o.IndexList.Header,null,r.a.createElement(o.IndexList.HeaderCell,{columnName:"Time",width:"auto"}),r.a.createElement(o.IndexList.HeaderCell,{columnName:"Message",width:"auto"})),r.a.createElement(o.IndexList.Body,{emptyState:r.a.createElement(r.a.Fragment,null),columnCount:2},c))))))},v=({task:e,run:t})=>{const{launch:n}=Object(a.useContext)(h.a),i=Object(a.useRef)(),[s,l]=Object(a.useState)({}),c=Object(p.a)("YYYY-MM-DD HH:mm:ss"),u=Object.assign(Object.assign({},t),s);Object(a.useEffect)((()=>{if("success"!==t.status&&"failed"!==t.status&&!i.current)return i.current=setInterval((()=>{Object(d.getTasksRun)({taskID:e.id,runID:t.id}).then((e=>{200===e.status&&(l(e.data),"success"!==e.data.status&&"failed"!==e.data.status||!i.current||clearInterval(i.current))}))}),3e3),()=>{i.current&&clearInterval(i.current)}}),[]);return r.a.createElement("div",{className:"run"},r.a.createElement("div",{className:`run--row ${u.status}`},r.a.createElement("label",null,"status"),r.a.createElement("span",null,u.status)),r.a.createElement("div",{className:"run--row"},r.a.createElement("label",null,"started"),r.a.createElement("span",null,(e=>{try{return c.format(new Date(e))}catch(e){return null}})(u.scheduledFor))),r.a.createElement("div",{className:"run--row"},r.a.createElement("label",null,"waited"),r.a.createElement("span",null,g(u.scheduledFor,u.startedAt))),r.a.createElement("div",{className:"run--row"},r.a.createElement("label",null,"duration"),r.a.createElement("span",null,g(u.startedAt,u.finishedAt))),r.a.createElement("div",{className:"run--buttons"},r.a.createElement(o.Button,{key:`logs-${t.id}`,size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Default,text:"View Logs",onClick:()=>{n(r.a.createElement(b,{taskID:e.id,runID:t.id}),{})}})))},y=({task:e})=>{const[t,n]=Object(a.useState)([]),[i,s]=Object(a.useState)("inactive");Object(a.useEffect)((()=>{e.id&&(Object(d.getTasksRuns)({taskID:e.id}).then((e=>{if(200!==e.status)throw new Error(e.data.message);n(e.data.runs)})),Object(d.getTask)({taskID:e.id}).then((e=>{if(200!==e.status)throw new Error(e.data.message);s(e.data.status)})))}),[e.id]);const l=t.map((t=>r.a.createElement(v,{key:`run-id--${t.id}`,task:e,run:t})));return r.a.createElement("div",{className:`flow-task-history ${i}`},r.a.createElement("h1",null,e.name),r.a.createElement("div",{className:"interaction"},r.a.createElement("div",{className:"toggle"},r.a.createElement(o.SlideToggle,{active:"active"===i,size:o.ComponentSize.ExtraSmall,onChange:()=>{const t="active"===i?"inactive":"active";s(t),Object(d.patchTask)({taskID:e.id,data:{status:t}})},testID:"task-card--slide-toggle"}),r.a.createElement("label",null,i)),r.a.createElement(o.Button,{size:o.ComponentSize.ExtraSmall,color:o.ComponentColor.Default,text:"Run Manually",onClick:()=>{Object(d.postTasksRun)({taskID:e.id}).then((e=>{if(201!==e.status)throw new Error(e.data.message);n([e.data,...t])}))}})),r.a.createElement("div",null,l.length?l:r.a.createElement(o.EmptyState,{size:o.ComponentSize.Large},r.a.createElement(o.EmptyState.Text,null,"Looks like this Task doesn't have any ",r.a.createElement("b",null,"Runs")))))};var x=({tasks:e})=>r.a.createElement(m.a,null,e.map((e=>r.a.createElement(y,{key:e.id,task:e})))),E=n(92),w=n(24);n(356);const S=e=>{const t=(e,t,n)=>-1===e.search(/[^\d-,\/*]/)&&e.split(",").every((e=>{if(e.trim().endsWith("/"))return!1;const a=e.split("/");if(a.length>2)return!1;const[r,o]=a,i=r.split("-");if(void 0!==o&&(!/^\d+$/.test(o)||parseInt(o)<=0))return!1;if(i.length>2)return!1;if(1===i.length)return"*"===i[0]||/^\d+$/.test(i[0])&&t<=parseInt(i[0])&&parseInt(i[0])<=n;if(!/^\d+$/.test(i[0])||!/^\d+$/.test(i[1]))return!1;const s=parseInt(i[0]),l=parseInt(i[1]);return!isNaN(s)&&!isNaN(l)&&s<=l&&t<=s&&s<=n&&t<=l&&l<=n})),n=e.trim().split(/\s+/);return!(n.length<5||n.length>6)&&(5===n.length&&n.unshift("*"),[t(n[0],0,59),t(n[1],0,59),t(n[2],0,23),t(n[3],1,31),t((a=n[4],a.toLowerCase().replace(/[a-z]{3}/g,(e=>({jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}[e]||e)))),1,12),t((e=>e.toLowerCase().replace(/[a-z]{3}/g,(e=>({sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"}[e]||e))))(n[5]),0,7)].reduce(((e,t)=>e&&t),!0));var a};var k=({Context:e})=>{var t,n,d,m,p,h,f,g;const{id:b,data:v,update:y}=Object(a.useContext)(l.a),{simplify:k,getPanelQueries:C}=Object(a.useContext)(c.a),{register:O}=Object(a.useContext)(u.a);let D="",T="";""===(null==v?void 0:v.interval)?D="Required":v.interval===(null===(n=null===(t=v.interval)||void 0===t?void 0:t.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===n?void 0:n.join(""))||S(v.interval)||(D="Invalid Time"),v.offset&&v.offset!==(null===(d=v.offset.match(/(?:(\d+(y|mo|s|m|w|h){1}))/g))||void 0===d?void 0:d.join(""))&&(T="Invalid Time");const j=null!==(p=null===(m=C(b))||void 0===m?void 0:m.source)&&void 0!==p?p:"",I=Object(a.useMemo)((()=>!!Object.keys(Object(E.e)(Object(i.t)(k(j)),(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{})).length),[j]),N=Object(a.useMemo)((()=>{const e=Object(i.t)(k(j)),t=Object(E.e)(e,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{});t.name||(t.name=`"Notebook Task for ${b}"`),v.interval&&!D&&(S(v.interval)?t.cron=`"${v.interval}"`:t.every=v.interval),v.offset&&!T&&(t.offset=v.offset);const n=Object.entries(t).map((([e,t])=>`${e}: ${t}`)).join(",\n"),a=Object(i.t)(`option task = {${n}}\n`);return e.body.unshift(a.body[0]),Object(i.r)(e)}),[j,v.interval,v.offset]);let R;(null===(h=v.task)||void 0===h?void 0:h.id)?R=v.task:(null===(f=v.task)||void 0===f?void 0:f.length)&&(R=v.task[0]);const A=null!==(g=N!==(null==R?void 0:R.flux))&&void 0!==g?g:"",F=Object(a.useMemo)((()=>{if(I)return r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"The task option is reserved"),r.a.createElement("p",null,"This panel will take precedence over any task configuration and overwrite the option. Remove it from your source query to remove this message")))}),[I]),_=Object(a.useCallback)((()=>N),[N]);Object(a.useEffect)((()=>{b&&v.task&&O(b,[{title:"Task",actions:[{title:"View Run History",menu:r.a.createElement(x,{tasks:(v.task.id,v.task)})}]}])}),[b,v.task]);const M=r.a.createElement(s.a,{generate:_,onCreate:e=>{var t;const n=(((null===(t=v.task)||void 0===t?void 0:t.id)?[v.task]:v.task)||[]).slice(0);n.unshift({id:e.id,name:e.name,flux:e.flux}),y({task:n})},text:Object(w.c)("removeExportModal")?"Export Task":"Export as Task",disabled:!(A&&!D&&!T&&(null==v?void 0:v.interval)),type:"task"});return r.a.createElement(e,{persistentControls:M},r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,{basis:200,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Every",helpText:r.a.createElement(r.a.Fragment,null,"Supports"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/flux/v0.x/data-types/basic/duration/#duration-syntax",target:"_blank"},"flux durations")," ","and"," ",r.a.createElement("a",{href:"https://crontab.guru",target:"_blank"},"cron intervals")),required:!0,errorMessage:D},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 3h30s",value:v.interval,onChange:e=>{y({interval:e.target.value})},status:D?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Offset",helpText:r.a.createElement(r.a.Fragment,null,"Supports"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/flux/v0.x/data-types/basic/duration/#duration-syntax",target:"_blank"},"flux durations")),required:!1,errorMessage:T},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 20m",value:v.offset,onChange:e=>{y({offset:e.target.value})},status:T?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium})))),F)};var C=({Context:e})=>{const{data:t}=Object(a.useContext)(l.a);return r.a.createElement(e,null,r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,{basis:168,grow:0,shrink:0,className:"flow-panel-schedule--header"},r.a.createElement("h5",null,"Run this on a schedule"),r.a.createElement("p",null,"Must be exported as a task")),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Every",required:!0},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,value:t.interval,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Offset",required:!1},r.a.createElement(o.Input,{name:"interval",type:o.InputType.Text,placeholder:"ex: 20m",value:t.offset,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium})))))};t.default=e=>{e({type:"schedule",family:"output",priority:1,component:k,readOnlyComponent:C,featureFlag:"flow-panel--schedule",button:"Task"})}},573:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(18);var i=({visible:e})=>{const{data:t}=Object(a.useContext)(o.a),n=t.uri.split(":");return Object(a.useMemo)((()=>e&&r.a.createElement("iframe",{src:`https://open.spotify.com/embed/${n[1]}/${n[2]}`,width:"600",height:"80",frameBorder:"0",allow:"encrypted-media"})),[e,n[1],n[2]])},s=n(3);var l=({visible:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a);return e?r.a.createElement("div",{className:"flow-spotify--editor"},r.a.createElement("label",null,"Spotify URI"),r.a.createElement(s.Input,{value:t.uri,onChange:e=>{n({uri:e.target.value})}})):null},c=n(88);var u=({Context:e})=>{const{id:t,data:n}=Object(a.useContext)(o.a),{register:s}=Object(a.useContext)(c.a),[u,d]=Object(a.useState)(!1),m=()=>{d(!u)};Object(a.useEffect)((()=>{t&&s(t,[{title:"Controls",actions:[{title:"Edit Spotify URI",action:m}]}])}),[t,m]);const p=u||!n.uri;return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-spotify"},r.a.createElement(l,{visible:p}),r.a.createElement(i,{visible:!p})))};n(499),t.default=e=>{e({type:"spotify",family:"test",priority:-1,featureFlag:"flow-panel--spotify",button:"Music",component:u,initial:{uri:"spotify:track:55A8N3HXzIecctUSvru3Ch"}})}},574:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(18),i=n(3),s=n(5),l=(n(352),n(41));var c=({Context:e})=>{const{update:t,data:n,results:c,loading:u}=Object(a.useContext)(o.a),d=(e,a)=>{if((n.mappings||{})[e]&&a.name===e&&!0===a.visible)return delete n.mappings[e],void t({mappings:Object.assign({},n.mappings)});(n.mappings||{})[e]&&n.mappings[e].name===a.name&&n.mappings[e].visible===a.visible||(n.mappings||(n.mappings={}),n.mappings[e]=a,t({mappings:Object.assign({},n.mappings)}))};if(!c.parsed||!c.parsed.table){let t=l.g;return u===s.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const m=Object.entries(n.mappings||{}).reduce(((e,[t,n])=>(e[t]&&(e[t]=n),e)),Object.keys(c.parsed.table.columns).reduce(((e,t)=>(e[t]={name:t,visible:!0},e)),{})),p=Object.entries(m).map((([e,t])=>r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{d(e,Object.assign(Object.assign({},t),{visible:!t.visible}))},active:t.visible}),r.a.createElement("div",{className:"flow-columns--input"},r.a.createElement("input",{type:"text",value:t.name,onChange:n=>{d(e,Object.assign(Object.assign({},t),{name:n.target.value}))},placeholder:"Column Name",autoComplete:"off",autoCorrect:"off",spellCheck:!1}),r.a.createElement(i.Icon,{glyph:i.IconFont.Pencil,className:"flow-panel--title-icon"})))));return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},p))};var u=({Context:e})=>{const{data:t,loading:n,results:c}=Object(a.useContext)(o.a);if(!c.parsed||!c.parsed.table){let t=l.g;return n===s.RemoteDataState.Loading&&(t="Loading"),r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer"},r.a.createElement("div",{className:"panel-resizer--header"},r.a.createElement(i.Icon,{glyph:i.IconFont.Layers,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},t))))}const u=Object.entries(t.mappings||{}).reduce(((e,[t,n])=>(e[t]&&(e[t]=n),e)),Object.keys(c.parsed.table.columns).reduce(((e,t)=>(e[t]={name:t,visible:!0},e)),{})),d=Object.entries(u).map((([e,t])=>{var n;return r.a.createElement("div",{className:"flow-columns--column",key:e},r.a.createElement(i.SlideToggle,{className:"flow-columns--toggle",onChange:()=>{},active:t.visible,disabled:!0}),r.a.createElement("p",{className:"flow-columns--text"},null!==(n=t.name)&&void 0!==n?n:"Column Name"))}));return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-columns"},d))};t.default=e=>{e({type:"columnEditor",family:"transform",component:c,button:"Column Editor",initial:{mappings:{}},readOnlyComponent:u,visual:(e,t)=>`${t} |> limit(n: 100)`,source:(e,t)=>{if(!Object.values(e.mappings).length)return t;const n=Object.entries(e.mappings).reduce(((e,[t,n])=>n.visible?(e.renamed.push(`"${t}": "${n.name}"`),e):(e.dropped.push(`"${t}"`),e)),{renamed:[],dropped:[]}),a=t.split("|>");let r=a[0];return a.slice(1).map((e=>{-1===e.indexOf("yield")?r+=`|>${e}`:(n.renamed.length&&(r+=`|> rename(columns: {${n.renamed.join(", ")}})\n`),n.dropped.length&&(r+=`|> drop(columns: [${n.dropped.join(", ")}])\n`),r+=`|> ${e}`)})),r}})}},575:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(27),s=n(18),l=n(143);const c=i.e.map((e=>e.name));var u=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),u=Object(a.useMemo)((()=>t.functions&&t.functions.length?t.functions.map((e=>e.name)):[{name:"mean"}].map((e=>e.name))),[t.functions]),d=Object(a.useCallback)((e=>{const t=u.map((e=>({name:e})));let a=!1,r=t.findIndex((t=>t.name===e));for(;-1!==r;)a=!0,t.splice(r,1),r=t.findIndex((t=>t.name===e));a||t.push({name:e}),t.length||t.push({name:"mean"}),n({functions:t})}),[u,n]);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(o.MultiSelectDropdown,{emptyText:"Select",style:{width:"250px"},options:c,selectedOptions:u,onSelect:d,buttonColor:o.ComponentColor.Secondary,buttonIcon:o.IconFont.BarChart_New})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(l.a,{onSubmit:e=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{period:e})})},placeholder:"ex: 3h30s",value:t.aggregateWindow.period,suggestions:i.d,submitInvalid:!1,status:o.ComponentStatus.Default}),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(o.Toggle,{id:"isFillValues",type:o.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{n({aggregateWindow:Object.assign(Object.assign({},t.aggregateWindow),{fillValues:!t.aggregateWindow.fillValues})})},color:o.ComponentColor.Primary,size:o.ComponentSize.ExtraSmall}),r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(o.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};var d=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"downsample-panel"},r.a.createElement("div",{className:"downsample-panel--left"},r.a.createElement("h5",null,"Apply aggregate"),r.a.createElement(o.Dropdown,{button:(e,n)=>r.a.createElement(o.Dropdown.Button,{onClick:n,active:e,icon:o.IconFont.BarChart_New,color:o.ComponentColor.Secondary,status:o.ComponentStatus.Disabled},t.functions.map((e=>e.name)).join(", ")),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e}),style:{width:"250px"}})),r.a.createElement("div",{className:"downsample-panel--right"},r.a.createElement("h5",null,"Every Window Period"),r.a.createElement(o.Input,{name:"period",type:o.InputType.Text,placeholder:"ex: 3h30s",value:t.aggregateWindow.period,status:o.ComponentStatus.Disabled,size:o.ComponentSize.Medium}),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,margin:o.ComponentSize.ExtraSmall,stretchToFitWidth:!0},r.a.createElement(o.Toggle,{id:"isFillValues",type:o.InputToggleType.Checkbox,checked:t.aggregateWindow.fillValues,onChange:()=>{},color:o.ComponentColor.Primary,size:o.ComponentSize.ExtraSmall}),r.a.createElement(o.FlexBox.Child,{grow:1},r.a.createElement(o.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),r.a.createElement(o.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}})))))};n(479),t.default=e=>{e({type:"downsample",family:"transform",component:u,readOnlyComponent:d,featureFlag:"flow-panel--downsample",button:"Downsample",initial:{functions:[{name:"mean"}],aggregateWindow:{period:"",fillValues:!1}},source:(e,t)=>e.aggregateWindow.period&&e.functions.length?t+e.functions.map((t=>{const n=t&&i.e.find((e=>e.name===t.name));if(!n)return"";const a=e.aggregateWindow.period;return n.flux("auto"!==a&&a?a:"v.windowPeriod",e.aggregateWindow.fillValues)})).join(""):t})}},576:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(636),s=n(18),l=n(9),c=n(3);n(355);const u=[{label:"US West (Oregon)",group:"Amazon Web Services",value:"https://us-west-2-1.aws.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Amazon Web Services",value:"https://us-east-1-1.aws.cloud2.influxdata.com"},{label:"Europe West (Frankfurt)",group:"Amazon Web Services",value:"https://eu-central-1-1.aws.cloud2.influxdata.com"},{label:"US Central (Iowa)",group:"Google Cloud Platform",value:"https://us-central1-1.gcp.cloud2.influxdata.com"},{label:"Europe West (Belgium)",group:"Google Cloud Platform",value:"https://europe-west1-1.gcp.cloud2.influxdata.com"},{label:"US East (Virginia)",group:"Microsoft Azure",value:"https://eastus-1.azure.cloud2.influxdata.com"},{label:"Europe West (Amsterdam)",group:"Microsoft Azure",value:"https://westeurope-1.azure.cloud2.influxdata.com"},{label:"Tools Cluster",group:"Development",flag:"local-dev",value:"https://influxdb.aws.influxdata.io"},{label:"Local Kind Cluster",group:"Development",flag:"local-dev",value:"https://twodotoh.a.influxcloud.dev.local"},{label:"Current Region",value:"self"},{label:"Self Hosted",value:"self-hosted"}];var d=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(s.a),d=Object(o.e)(l.a),[m,p]=Object(a.useState)(!1),h=Object(o.e)(i.a),f=e=>{"self-hosted"===e.value?n({source:"custom",region:"https://localhost:8086"}):"self"===e.value?n({source:"self",region:window.location.origin}):n({source:"static",region:e.value})},[g,b]=Object(a.useMemo)((()=>{const e=JSON.parse(JSON.stringify(u)).reduce(((e,n)=>n.flag&&!h[n.flag]?e:(n.value===t.region&&(e.selected=n),n.group?(e[n.group]||(e[n.group]={label:n.group,options:[]}),e[n.group].options.push(n),delete n.group,e):(e["no-group"].push(n),e))),{"no-group":[]}),a=Object.entries(e).reduce(((e,[t,n])=>"selected"===t?e:"no-group"===t?e.concat(n):(e.push(n),e)),[]);return"custom"===t.source?[a,u[u.length-1]]:"self"===t.source?[a,u[u.length-2]]:e.selected?[a,e.selected]:(n({source:"self",region:window.location.origin}),t.source="self",t.region=window.location.origin,[a,u[u.length-2]])}),[t.source,t.region,h]);return Object(a.useEffect)((()=>{t.region!==window.location.origin?t.region&&t.token&&fetch(`${t.region}/api/v2/orgs`,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9",Authorization:`Token ${t.token}`},body:null,method:"GET",mode:"cors"}).then((e=>{200===e.status?(m&&p(!1),e.json().then((e=>{(e.orgs||[]).length&&n({org:e.orgs[0].id})}))):p(!0)})):n({org:d.id})}),[t.region,t.token]),r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},b.label),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e},g.reduce(((e,n)=>{if(!n.options){const a="self"===t.source&&"self"===n.value||"custom"===t.source&&"custom"===n.value||t.region===n.value;return e.push(r.a.createElement(c.Dropdown.Item,{value:n.value,key:n.value,onClick:()=>f(n),selected:a},n.label)),e}return e.push(r.a.createElement(c.Dropdown.Divider,{key:n.label,text:n.label})),e.concat(n.options.map((e=>{const n="self"===t.source&&"self"===e.value||"custom"===t.source&&"custom"===e.value||t.region===e.value;return r.a.createElement(c.Dropdown.Item,{value:e.value,key:e.value,onClick:()=>f(e),selected:n},e.label)})))}),[]))}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,onChange:e=>n({region:e.target.value}),size:c.ComponentSize.Medium,status:"custom"!==t.source?c.ComponentStatus.Disabled:c.ComponentStatus.Default}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Text,value:t.token,size:c.ComponentSize.Medium,onChange:e=>n({token:e.target.value})})))),!!m&&r.a.createElement("div",{className:"region-panel--eror"},"could not validate token against region"))};var m=({Context:e})=>{const{data:t}=Object(a.useContext)(s.a),n=u.filter((e=>e.value===t.region))[0].label;return r.a.createElement(e,null,r.a.createElement(c.FlexBox,{margin:c.ComponentSize.Medium},r.a.createElement(c.FlexBox.Child,{basis:234,grow:0,shrink:0,className:"flow-panel-region--header"},r.a.createElement("h5",null,"Query another InfluxDB instance"),r.a.createElement("p",null,"All following panels will use this source")),r.a.createElement(c.FlexBox.Child,{grow:0,shrink:0,basis:250,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Region",required:!0},r.a.createElement(c.Dropdown,{testID:"region-panel--dropdown",button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,status:c.ComponentStatus.Disabled,onClick:t,color:c.ComponentColor.Primary,testID:"region-panel--dropdown-button"},n),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e})}))),r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"URL",required:!0},r.a.createElement(c.Input,{placeholder:"data source url",type:c.InputType.Text,value:t.region,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled}))),t.region!==window.location.origin&&r.a.createElement(c.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(c.Form.Element,{label:"Token",required:!0},r.a.createElement(c.Input,{placeholder:"authorization token",type:c.InputType.Password,value:t.token,size:c.ComponentSize.Medium,status:c.ComponentStatus.Disabled})))))};t.default=e=>{e({type:"region",family:"inputs",component:d,featureFlag:"flow-panel--remote",button:"Remote Database",description:"Queries a remote region using a token",initial:{type:"static",region:"",token:"",org:""},readOnlyComponent:m,scope:(e,t)=>Object.assign(Object.assign({},t),{region:e.region,token:e.token,org:e.org})})}},577:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(148),i=n(18),s=n(370),l=n(7);const c=()=>{const{data:e,update:t}=Object(a.useContext)(i.a);return r.a.createElement("div",{className:"data-source--controls"},r.a.createElement(s.a,{selected:e.bucket,onSelect:e=>{Object(l.a)("Updated Bucket",{context:"to bucket"}),t({bucket:e})},style:{width:"250px",flex:"0 0 250px"}}))};var u=({Context:e})=>r.a.createElement(o.b,null,r.a.createElement(e,null,r.a.createElement(c,null))),d=n(3);var m=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"data-source--controls"},r.a.createElement("div",{className:"data-source--bucket"},r.a.createElement(d.Dropdown,{button:(e,n)=>{var a,o;return r.a.createElement(d.Dropdown.Button,{onClick:n,active:e,icon:d.IconFont.BucketSolid,status:d.ComponentStatus.Disabled},null!==(o=null===(a=null==t?void 0:t.bucket)||void 0===a?void 0:a.name)&&void 0!==o?o:"No Bucket Selected")},menu:e=>r.a.createElement(d.Dropdown.Menu,{onCollapse:e}),style:{width:"250px",flex:"0 0 250px"}}))))};t.default=e=>{e({type:"toBucket",family:"output",priority:0,component:u,readOnlyComponent:m,featureFlag:"flow-panel--to-bucket",button:"Output to Bucket",output:(e,t)=>{var n;return(null==e?void 0:e.bucket)?`${t} |> to(bucket: "${null===(n=e.bucket)||void 0===n?void 0:n.name.trim()}")`:t}})}},578:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(75),s=n(107),l=n(7),c=n(88),u=n(18);const d=()=>{const{data:e,update:t,results:n}=Object(a.useContext)(u.a),o=Object(a.useCallback)((n=>{t({properties:Object.assign(Object.assign({},e.properties),n)})}),[e.properties,t]);return r.a.createElement(s.c,{properties:e.properties,results:n.parsed,update:o})};var m=()=>{const{id:e,data:t,range:n,update:m,results:p}=Object(a.useContext)(u.a),{hideSub:h,id:f,show:g,showSub:b}=Object(a.useContext)(c.a),v=e=>{Object(l.a)("notebook_change_visualization_type",{viewType:e}),m({properties:s.a[e].initial})};Object(a.useEffect)((()=>{let e;"custom"===n.type?e=Object(i.g)(Math.round((Date.parse(n.upper)-Date.parse(n.lower))/360)):"selectable-duration"===n.type&&(e=Object(i.g)(n.windowPeriod)),e&&e!==t.period&&m({period:e})}),[n,m,t.period]);const y=p.parsed&&Object.entries(p.parsed).length,x=r.a.createElement(o.Button,{text:"Configure",icon:o.IconFont.CogSolid_New,onClick:()=>{e===f?h():(g(e),b(r.a.createElement(u.b,{id:e},r.a.createElement(d,null))))},status:y?o.ComponentStatus.Default:o.ComponentStatus.Disabled,color:o.ComponentColor.Default,titleText:y?"Configure Visualization":"No data to visualize yet",className:"flows-config-visualization-button"});return"simple-table"===t.properties.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px",minWidth:"150px"}},"Limited to most recent 100 results per series"),r.a.createElement(s.d,{viewType:t.properties.type,onUpdateType:v}),x):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,{viewType:t.properties.type,onUpdateType:v}),x)},p=n(5),h=n(79),f=n(106),g=n(41),b=n(24);var v=({Context:e})=>{var t,i;const{id:d,data:v,range:y,loading:x,results:E}=Object(a.useContext)(u.a),{basic:w,getPanelQueries:S}=Object(a.useContext)(h.a),{register:k}=Object(a.useContext)(c.a),C=!!((null===(t=null==E?void 0:E.parsed)||void 0===t?void 0:t.table)||[]).length,O=(null===(i=S(d))||void 0===i?void 0:i.source)||"",D=()=>{Object(l.a)("CSV Download Initiated"),w(O).promise.then((e=>{"SUCCESS"===e.type&&Object(f.b)(e.csv,"influx.data",".csv","text/csv")}))},T=Object(a.useMemo)((()=>x===p.RemoteDataState.Loading?"Loading":x===p.RemoteDataState.NotStarted?g.g:"No Data Returned"),[x]);return Object(a.useEffect)((()=>{d&&k(d,[{title:"Visualization",actions:[{title:"Download as CSV",disable:!C,action:D},{title:"Download As Image",action:()=>(e=>{const t=document.getElementById(e);n.e(16).then(n.t.bind(null,2443,7)).then((e=>e.default(t).then((e=>{Object(f.a)(e.toDataURL(),"visualization.png")}))))})(d),disable:!Object(b.c)("pdfImageDownload")},{title:"Download As PDF",action:()=>(e=>{const t=document.getElementById(e);n.e(16).then(n.t.bind(null,2443,7)).then((e=>e.default(t).then((e=>{n.e(76).then(n.bind(null,2572)).then((t=>{const n=new t.default({orientation:"l",unit:"pt",format:[e.width,e.height]});n.addImage(e.toDataURL("image/png"),"PNG",0,0,e.width,e.height),n.save("visualization.pdf")}))}))))})(d),disable:!Object(b.c)("pdfImageDownload")}]}])}),[d,v.properties,E.parsed,y]),E.error?r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--error"},E.error))):C?r.a.createElement(e,{controls:r.a.createElement(m,null),resizes:!0},r.a.createElement("div",{className:"flow-visualization",id:d},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(s.b,{loading:x,properties:v.properties,result:E.parsed,timeRange:y})))):r.a.createElement(e,{controls:r.a.createElement(m,null)},r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:d},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.BarChart_New,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},T))))},y=(n(503),n(293)),x=n(92);t.default=e=>{e({type:"visualization",family:"passThrough",component:v,button:"Graph",initial:{properties:s.a.xy.initial},visual:(e,t)=>{if(!t)return"";try{if(!(Object(b.c)("fastFlows")?Object(x.d)(t):Object(y.t)(t)).body.length)return""}catch(e){return""}return"simple-table"===e.properties.type?`${t} |> limit(n: 100)`:"single-stat"===e.properties.type||"gauge"===e.properties.type?`${t} |> last()`:t}})}},579:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(18),l=n(149);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,value:n.endpointData.url,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{url:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Email",required:!0},o.a.createElement(i.Input,{name:"email",testID:"input--email",type:i.InputType.Email,value:n.endpointData.email,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{email:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,alignItems:i.AlignItems.FlexStart},o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Authorization Access Key",required:!0},o.a.createElement(l.a,{selected:n.endpointData.accessKey,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{accessKey:e})})},testID:"accessKey"})),o.a.createElement(i.Form.Element,{label:"Authorization Algorithm",required:!0},o.a.createElement(l.a,{selected:n.endpointData.authAlgo,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{authAlgo:e})})},testID:"authAlgo"})),o.a.createElement(i.Form.Element,{label:"Authorization Credential Scope",required:!0},o.a.createElement(l.a,{selected:n.endpointData.credScope,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{credScope:e})})},testID:"credScope"}))),o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Authorization Signed Headers",required:!0},o.a.createElement(l.a,{selected:n.endpointData.signedHeaders,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{signedHeaders:e})})},testID:"signedHeaders"})),o.a.createElement(i.Form.Element,{label:"Authorization Calculated Signature",required:!0},o.a.createElement(l.a,{selected:n.endpointData.calcSignature,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{calcSignature:e})})},testID:"calcSignature"})))))};var u=()=>{const{data:e}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Authorization Access Key",required:!0},o.a.createElement(i.Input,{name:"accessKey",type:i.InputType.Password,value:e.endpointData.accessKey,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Authorization Algorithm",required:!0},o.a.createElement(i.Input,{name:"authAlgo",type:i.InputType.Password,value:e.endpointData.authAlgo,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Authorization Credential Scope",required:!0},o.a.createElement(i.Input,{name:"credScope",type:i.InputType.Password,value:e.endpointData.credScope,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Authorization Signed Headers",required:!0},o.a.createElement(i.Input,{name:"signedHeaders",type:i.InputType.Password,value:e.endpointData.signedHeaders,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Authorization Calculated Signature",required:!0},o.a.createElement(i.Input,{name:"calcSignature",type:i.InputType.Password,value:e.endpointData.calcSignature,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Email",required:!0},o.a.createElement(i.Input,{name:"email",type:i.InputType.Email,value:e.endpointData.email,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"aws",name:"AWS SES Email",data:{url:"https://email.your-aws-region.amazonaws.com/sendemail/v2/email/outbound-emails",authAlgo:"",accessKey:"",credScope:"",signedHeaders:"",calcSignature:"",email:""},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: ((r) => {\n        authAlgo = secrets.get(key: "${e.authAlgo}")\n        accessKey = secrets.get(key: "${e.accessKey}")\n        credScope = secrets.get(key: "${e.credScope}")\n        signedHeaders = secrets.get(key: "${e.signedHeaders}")\n        calcSignature = secrets.get(key: "${e.calcSignature}")\n        http.post(\n            url: "${e.url}",\n            headers: {\n              "Content-type": "application/json",\n              "Authorization": "\${authAlgo} Credential=\${accessKey}/\${credScope},SignedHeaders=\${signedHeaders},Signature=\${calcSignature}"\n            },\n            data: bytes(v: "{\n              \\"Content\\": {\n                \\"Simple\\": {\n                  \\"Body\\": {\n                    \\"Text\\": {\n                      \\"Charset\\": \\"UTF-8\\",\n                      \\"Data\\": \\"\${ r._message }\\"\n                    }\n                  },\n                  \\"Subject\\": {\n                    \\"Charset\\": \\"UTF-8\\",\n                    \\"Data\\": \\"InfluxDB Alert\\"\n                  }\n                }\n              },\n              \\"Destination\\": {\n                \\"ToAddresses\\": [\n                  \\"${e.email}\\"\n                ]\n              }\n            }"))\n    })\n  )`,generateTestQuery:e=>`\n    authAlgo = secrets.get(key: "${e.authAlgo}")\n    accessKey = secrets.get(key: "${e.accessKey}")\n    credScope = secrets.get(key: "${e.credScope}")\n    signedHeaders = secrets.get(key: "${e.signedHeaders}")\n    calcSignature = secrets.get(key: "${e.calcSignature}")\n    http.post(\n      url: "${e.url}",\n      headers: {\n        "Content-type": "application/json",\n        "Authorization": "\${authAlgo} Credential=\${accessKey}/\${credScope},SignedHeaders=\${signedHeaders},Signature=\${calcSignature}"\n      },\n      data: bytes(v: "{\n        \\"Content\\": {\n          \\"Simple\\": {\n            \\"Body\\": {\n              \\"Text\\": {\n                \\"Charset\\": \\"UTF-8\\",\n                \\"Data\\": \\"${a.c}\\"\n              }\n            },\n            \\"Subject\\": {\n              \\"Charset\\": \\"UTF-8\\",\n              \\"Data\\": \\"InfluxDB Alert\\"\n            }\n          }\n        },\n        \\"Destination\\": {\n          \\"ToAddresses\\": [\n            \\"${e.email}\\"\n          ]\n        }\n      }"))\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},580:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(18);var l=()=>{const{data:e,update:t}=Object(r.useContext)(s.a),n=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},a=e=>{n("auth",e)},l=e=>{n("username",e.target.value)},c=e=>{n("password",e.target.value)},u=e=>{n("token",e.target.value)};let d;return"basic"===e.endpointData.auth?d=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Form.Element,{label:"Username"},o.a.createElement(i.Input,{name:"username",testID:"input--username",type:i.InputType.Text,value:e.endpointData.username,onChange:l,size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Password"},o.a.createElement(i.Input,{name:"password",testID:"input--password",type:i.InputType.Text,value:e.endpointData.password,onChange:c,size:i.ComponentSize.Medium}))):"bearer"===e.endpointData.auth&&(d=o.a.createElement(i.Form.Element,{label:"Token"},o.a.createElement(i.Input,{name:"token",testID:"input--token",type:i.InputType.Text,value:e.endpointData.token,onChange:u,size:i.ComponentSize.Medium}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Endpoint URL"},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,onChange:e=>{n("url",e.target.value)},size:i.ComponentSize.Medium}))),o.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},o.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},o.a.createElement(i.SelectGroup,null,o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",testID:"option--none",value:"none",active:"none"===e.endpointData.auth,onClick:a},"None"),o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",testID:"option--basic",value:"basic",active:"basic"===e.endpointData.auth,onClick:a},"Basic"),o.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",testID:"option--bearer",value:"bearer",active:"bearer"===e.endpointData.auth,onClick:a},"Bearer"))))),d)};var c=()=>{const{data:e}=Object(r.useContext)(s.a);let t;return"basic"===e.endpointData.auth?t=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Form.Element,{label:"Username"},o.a.createElement(i.Input,{name:"username",type:i.InputType.Text,value:e.endpointData.username,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Password"},o.a.createElement(i.Input,{name:"password",type:i.InputType.Text,value:e.endpointData.password,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))):"bearer"===e.endpointData.auth&&(t=o.a.createElement(i.Form.Element,{label:"Token"},o.a.createElement(i.Input,{name:"token",type:i.InputType.Text,value:e.endpointData.token,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Medium,className:"http-endpoint--flex",direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch},o.a.createElement(i.FlexBox.Child,{grow:1,shrink:1},o.a.createElement(i.Form.Element,{label:"Endpoint URL"},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://www.example.com/endpoint",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}))),o.a.createElement(i.FlexBox.Child,{grow:0,shrink:0},o.a.createElement(i.Form.Element,{label:"Authorization",className:"form-element--authorization"},o.a.createElement(i.SelectGroup,null,o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"none",onClick:()=>{},active:"none"===e.endpointData.auth,disabled:!0},"None"),o.a.createElement(i.SelectGroup.Option,{id:"none",name:"auth",value:"basic",onClick:()=>{},active:"basic"===e.endpointData.auth,disabled:!0},"Basic"),o.a.createElement(i.SelectGroup.Option,{id:"bearer",name:"auth",value:"bearer",onClick:()=>{},active:"bearer"===e.endpointData.auth,disabled:!0},"Bearer"))))),t)};t.default=e=>{e({type:"http",name:"HTTP Post",data:{auth:"none",url:"https://www.example.com/endpoint"},component:l,readOnlyComponent:c,generateImports:()=>["http","json"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","http","json"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce(((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e)),[]).join(", ");return`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      body = {r with _version: 1}\n      return {headers: {${n}}, data: json["encode"](v: body)}\n  }))`},generateTestQuery:e=>{const t=[['"Content-Type"','"application/json"']];"basic"===e.auth&&t.push(["Authorization",`http.basicAuth(u:"${e.username}", p:"${e.password}")`]),"bearer"===e.auth&&t.push(["Authorization",`"Bearer ${e.token}"`]);const n=t.reduce(((e,t)=>(e.push(`${t[0]}: ${t[1]}`),e)),[]).join(", ");return`http["endpoint"](url: "${e.url}")(mapFn: (r) => {\n      return {headers: {${n}}, data: json["encode"](v: "${a.c}")}\n  })\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`}})}},581:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(149),l=n(18);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Domain",required:!0},o.a.createElement(i.Input,{name:"domain",testID:"input--domain",type:i.InputType.Text,value:n.endpointData.domain,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{domain:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Email",required:!0},o.a.createElement(i.Input,{name:"email",testID:"input--email",type:i.InputType.Email,value:n.endpointData.email,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{email:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(s.a,{selected:n.endpointData.apiKey,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{apiKey:e})})},testID:"apiKey"})))};var u=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Domain",required:!0},o.a.createElement(i.Input,{name:"domain",type:i.InputType.Text,value:e.endpointData.domain,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(i.Input,{name:"apiKey",type:i.InputType.Password,value:e.endpointData.apiKey,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Email",required:!0},o.a.createElement(i.Input,{name:"email",type:i.InputType.Email,value:e.endpointData.email,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"mailgun",name:"Mailgun Email",data:{domain:"",apiKey:"",email:""},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: ((r) => {\n        apiKey = secrets.get(key: "${e.apiKey}")\n        http.post(\n            url: "https://api.mailgun.net/v3/${e.domain}/messages",\n            headers: {\n              "Content-type": "application/json",\n              "Authorization": "Basic api:\${apiKey}"\n            },\n            data: bytes(v: "{\n              \\"from\\": \\"Username mailgun@${e.domain}\\",\n              \\"to\\": \\"${e.email}\\",\n              \\"subject\\": \\"InfluxDB Alert\\",\n              \\"text\\": \\"\${ r._message }\\"\n            }"))\n    })\n  )`,generateTestQuery:e=>`\n    apiKey = secrets.get(key: "{data.apiKey}")\n    http.post(\n        url: "https://api.mailgun.net/v3/${e.domain}/messages",\n        headers: {\n          "Content-type": "application/json",\n          "Authorization": "Basic api:\${apiKey}"\n        },\n        data: bytes(v: "{\n          "from": "Username mailgun@${e.domain}",\n          "to": "${e.email}",\n          "subject": "InfluxDB Alert",\n          "text": "${a.c}"\n        }"))\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},582:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(149),l=n(18);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"To Email",required:!0},o.a.createElement(i.Input,{name:"email",testID:"input--email",type:i.InputType.Email,value:n.endpointData.email,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{email:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"From Email",required:!0},o.a.createElement(i.Input,{name:"fromEmail",testID:"input--fromEmail",type:i.InputType.Text,value:n.endpointData.fromEmail,size:i.ComponentSize.Medium,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{fromEmail:e.target.value})})}})),o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(s.a,{selected:n.endpointData.apiKey,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{apiKey:e})})},testID:"apiKey"})),o.a.createElement(i.Form.Element,{label:"API Secret",required:!0},o.a.createElement(s.a,{selected:n.endpointData.apiSecret,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{apiSecret:e})})},testID:"apiSecret"})))};var u=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(i.Input,{name:"apiKey",type:i.InputType.Password,value:e.endpointData.apiKey,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"API Secret",required:!0},o.a.createElement(i.Input,{name:"apiSecret",type:i.InputType.Password,value:e.endpointData.apiSecret,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"To Email",required:!0},o.a.createElement(i.Input,{name:"email",type:i.InputType.Email,value:e.endpointData.email,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"From Email",required:!0},o.a.createElement(i.Input,{name:"fromEmail",type:i.InputType.Text,placeholder:"alerts@influxdata.com",value:e.endpointData.fromEmail,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"mailjet",name:"Mailjet Email",data:{url:"https://api.mailjet.com/v3.1/send",apiKey:"",apiSecret:"",email:"",fromEmail:"alerts@influxdata.com"},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: ((r) => {\n        apiKey = secrets.get(key: "${e.apiKey}")\n        apiSecret = secrets.get(key: "${e.apiSecret}")\n        http.post(\n            url: "${e.url}",\n            headers: {\n              "Content-type": "application/json",\n              "Authorization": "Basic \${apiKey}:\${apiSecret}"\n            },\n            data: bytes(v: "{\n              \\"Messages\\": [{\n                \\"From\\": {\n                  \\"Email\\": \\"${e.fromEmail}\\"\n                },\n                \\"To\\": [{\n                  \\"Email\\": \\"${e.email}\\"\n                }],\n                \\"Subject\\": \\"InfluxDB Alert\\",\n                \\"TextPart\\": \\"\${ r._message }\\"\n              }]\n            }"))\n    })\n  )`,generateTestQuery:e=>`\n    apiKey = secrets.get(key: "${e.apiKey}")\n    apiSecrets = secrets.get(key: "${e.apiSecret}")\n    http.post(\n      url: "${e.url}",\n      headers: {\n        "Content-type": "application/json",\n        "Authorization": "Basic \${apiKey}:\${apiSecret}"\n      },\n      data: bytes(v: "{\n        \\"Messages\\": [{\n          \\"From\\": {\n            \\"Email\\": \\"${e.fromEmail}\\"\n          },\n          \\"To\\": [{\n            \\"Email\\": \\"${e.email}\\"\n          }],\n          \\"Subject\\": \\"InfluxDB Alert\\",\n          \\"TextPart\\": \\"${a.c}\\"\n        }]\n      }"))\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},583:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(4),s=n(3),l=n(18),c=n(9);var u=()=>{const{data:e,update:t}=Object(r.useContext)(l.a),n=Object(i.e)(c.a),a=(n,a)=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{[n]:a})})},u=`${window.location.origin}/org/${n.id}/alert-history`;return o.a.createElement(s.FlexBox,{className:"http-endpoint--flex",direction:s.FlexDirection.Column},o.a.createElement(s.Form.Element,{label:"Client URL"},o.a.createElement(s.Input,{name:"url",testID:"input--url",type:s.InputType.Text,placeholder:u,value:e.endpointData.url,onChange:e=>{a("url",e.target.value)},size:s.ComponentSize.Medium})),o.a.createElement(s.Form.Element,{label:"Routing Key"},o.a.createElement(s.Input,{name:"key",testID:"input--key",type:s.InputType.Password,value:e.endpointData.key,onChange:e=>{a("key",e.target.value)},size:s.ComponentSize.Medium})))};var d=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement(s.FlexBox,{className:"http-endpoint--flex",direction:s.FlexDirection.Column},o.a.createElement(s.Form.Element,{label:"Client URL"},o.a.createElement(s.Input,{name:"url",type:s.InputType.Text,value:e.endpointData.url,size:s.ComponentSize.Medium,status:s.ComponentStatus.Disabled})),o.a.createElement(s.Form.Element,{label:"Routing Key"},o.a.createElement(s.Input,{name:"key",type:s.InputType.Password,value:e.endpointData.key,size:s.ComponentSize.Medium,status:s.ComponentStatus.Disabled})))};t.default=e=>{e({type:"pagerduty",name:"PagerDuty",data:{url:"",key:"",level:"warning"},component:u,readOnlyComponent:d,generateTestImports:()=>["array","pagerduty","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateImports:()=>["pagerduty","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n  |> set(key: "_notebook_link", value: "${window.location.href}")  \n  |> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n    crit: trigger,\n\t)\n\t|> monitor["notify"](data: notification, endpoint: pagerduty["endpoint"]()(mapFn: (r) => ({\n        routingKey: "${e.key}",\n        client: "influxdata",\n        clientURL: "${e.url}",\n        class: r._check_name,\n        group: r["_source_measurement"],\n        severity: pagerduty["severityFromLevel"](level: "${e.level}"),\n        eventAction: pagerduty["actionFromLevel"](level: "${e.level}"),\n        source: notification["_notification_rule_name"],\n        summary: r["_message"],\n        timestamp: time(v: r["_source_timestamp"]),\n  })))`,generateTestQuery:e=>`pagerduty["endpoint"]()(mapFn: (r) => ({\n      routingKey: "${e.key}",\n      client: "influxdata",\n      clientURL: "${e.url}",\n      class: r._check_name,\n      group: r["_source_measurement"],\n      severity: "critical",\n      eventAction: "trigger",\n      source: "Notebook Generated Test Notification",\n      summary: "${a.c}",\n      timestamp: time(v: r["_source_timestamp"])\n}))\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")\n`})}},584:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(149),l=n(18);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"To Email",required:!0},o.a.createElement(i.Input,{name:"email",testID:"input--email",type:i.InputType.Email,value:n.endpointData.email,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{email:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"From Email",required:!0},o.a.createElement(i.Input,{name:"fromEmail",testID:"input--fromEmail",type:i.InputType.Text,value:n.endpointData.fromEmail,size:i.ComponentSize.Medium,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{fromEmail:e.target.value})})}})),o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(s.a,{selected:n.endpointData.apiKey,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{apiKey:e})})},testID:"apiKey"})))};var u=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"API Key",required:!0},o.a.createElement(i.Input,{name:"apiKey",type:i.InputType.Password,value:e.endpointData.apiKey,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"To Email",required:!0},o.a.createElement(i.Input,{name:"toEmail",type:i.InputType.Email,value:e.endpointData.email,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"From Email"},o.a.createElement(i.Input,{name:"fromEmail",type:i.InputType.Email,value:e.endpointData.fromEmail,placeholder:"alerts@influxdata.com",size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"sendgrid",name:"SendGrid Email",data:{url:"https://api.sendgrid.com/v3/mail/send",apiKey:"",email:"",fromEmail:"alerts@influxdata.com"},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","http","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: ((r) => {\n        apiKey = secrets.get(key: "${e.apiKey}")\n        http.post(\n            url: "${e.url}",\n            headers: {\n              "Content-type": "application/json",\n              "Authorization": "Bearer \${apiKey}"\n            },\n            data: bytes(v: "{\n              \\"personalizations\\": [\n                {\n                  \\"to\\": [\n                    {\n                      \\"email\\": \\"${e.email}\\"\n                    }\n                  ]\n                }\n              ],\n              \\"from\\": {\n                \\"email\\": \\"${e.fromEmail} \\"\n              },\n              \\"subject\\": \\"InfluxDB Alert\\",\n              \\"content\\": [\n                {\n                  \\"type\\": \\"text/plain\\",\n                  \\"value\\": \\"\${ r._message }\\"\n                }\n              ]\n            }"))\n    })\n  )`,generateTestQuery:e=>`\n    apiKey = secrets.get(key: "${e.apiKey}")\n    http.post(\n      url: "${e.url}",\n      headers: {\n        "Content-type": "application/json",\n        "Authorization": "Bearer \${apiKey}"\n      },\n      data: bytes(v: "{\n        \\"personalizations\\": [\n          {\n            \\"to\\": [\n              {\n                \\"email\\": \\"${e.email}\\"\n              }\n            ]\n          }\n        ],\n        \\"from\\": {\n          \\"email\\": \\"${e.fromEmail} \\"\n        },\n        \\"subject\\": \\"InfluxDB Alert\\",\n        \\"content\\": [\n          {\n            \\"type\\": \\"text/plain\\",\n            \\"value\\": \\"${a.c}\\"\n          }\n        ]\n      }"))\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},585:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(18);var l=()=>{const{data:e,update:t}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{url:n.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},o.a.createElement(i.Input,{name:"channel",testID:"input--channel",type:i.InputType.Text,value:e.endpointData.channel,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{channel:n.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Message Color"},o.a.createElement(i.ColorPicker,{color:e.endpointData.color,onChange:n=>{t({endpointData:Object.assign(Object.assign({},e.endpointData),{color:n})})}})))};var c=()=>{const{data:e}=Object(r.useContext)(s.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"Incoming Webhook URL",required:!0},o.a.createElement(i.Input,{name:"url",type:i.InputType.Text,placeholder:"ex: https://hooks.slack.com/services/X/X/X",value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Slack Channel",required:!0},o.a.createElement(i.Input,{name:"channel",type:i.InputType.Text,value:e.endpointData.channel,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Message Color"},"(",o.a.createElement(i.Input,{name:"color",type:i.InputType.Text,value:e.endpointData.color,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled}),")"))};t.default=e=>{e({type:"slack",name:"Slack",data:{url:"https://hooks.slack.com/services/X/X/X",channel:"",color:"#34BB55"},component:l,readOnlyComponent:c,generateImports:()=>["slack"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","slack"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: slack["endpoint"](url: "${e.url}")(mapFn: (r) => ({\n      channel: "${e.channel||""}",\n      text: "\${ r._message }",\n      color: "${e.color||"#34BB55"}"\n    }))\n  )`,generateTestQuery:e=>`\n  slack.message(\n    url: "${e.url}",\n    channel: "${e.channel||""}",\n    text: "${a.c}",\n    color: "${e.color||"#34BB55"}"\n  )\n\n  array.from(rows: [{value: 0}])\n\t|> yield(name: "ignore")`})}},586:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(149),l=n(18);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,value:n.endpointData.url,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{url:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Channel",required:!0},o.a.createElement(i.Input,{name:"channel",testID:"input--channel",type:i.InputType.Text,value:n.endpointData.channel,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{channel:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Token",required:!0},o.a.createElement(s.a,{selected:n.endpointData.token,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{token:e})})},testID:"token"})),o.a.createElement(i.Form.Element,{label:"Parse Mode"},o.a.createElement(i.Input,{name:"parseMode",testID:"input--parseMode",type:i.InputType.Email,value:n.endpointData.parseMode,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{parseMode:e.target.value})})},size:i.ComponentSize.Medium})))};var u=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Channel",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--channel",type:i.InputType.Text,value:e.endpointData.channel,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Token",required:!0},o.a.createElement(i.Input,{name:"token",testID:"input--token",type:i.InputType.Password,value:e.endpointData.token,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Parse Mode"},o.a.createElement(i.Input,{name:"parseMode",testID:"input--parseMode",type:i.InputType.Email,value:e.endpointData.parseMode,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"telegram",name:"Telegram",data:{url:"https://api.telegram.org/bot",channel:"",token:"",parseMode:"MarkdownV2"},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["contrib/sranka/telegram","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","contrib/sranka/telegram","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: telegram["endpoint"](\n      url: "${e.url}",\n      token: secrets.get(key: "${e.token}"),\n      parseMode: "${e.parseMode}"\n      )(\n        mapFn: (r) => ({\n          channel: "${e.channel}",\n          text: "\${ r._message }"\n    }))\n  )`,generateTestQuery:e=>`\n    telegram.endpoint(\n      url: "${e.url}",\n      token: secrets.get(key: "${e.token}"),\n      parseMode: "${e.parseMode}",\n      channel: "${e.channel}",\n      text: "${a.c}"\n    )\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},587:function(e,t,n){"use strict";n.r(t);var a=n(82),r=n(2),o=n.n(r),i=n(3),s=n(149),l=n(18);var c=({createSecret:e,secrets:t})=>{const{data:n,update:a}=Object(r.useContext)(l.a),c=["Critical","Warning","Info","Clear"],u=e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{severity:e})})};return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,value:n.endpointData.url,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{url:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Username",required:!0},o.a.createElement(s.a,{selected:n.endpointData.username,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{username:e})})},testID:"username"})),o.a.createElement(i.Form.Element,{label:"Password",required:!0},o.a.createElement(s.a,{selected:n.endpointData.password,secrets:t,onCreate:e,onSelect:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{password:e})})},testID:"password"})),o.a.createElement(i.Form.Element,{label:"Severity",required:!0},o.a.createElement(i.Dropdown,{testID:"dropdown--severity",style:{width:"180px"},button:(e,t)=>o.a.createElement(i.Dropdown.Button,{active:e,onClick:t,icon:i.IconFont.Bell,color:i.ComponentColor.Default,testID:"dropdown-button--severity"},""!==n.endpointData.severity?n.endpointData.severity:"Choose a severity"),menu:e=>o.a.createElement(i.Dropdown.Menu,{onCollapse:e},c.map((e=>o.a.createElement(i.Dropdown.Item,{testID:`dropdown-item--${e}`,id:e,key:e,value:e,onClick:u},e))))})),o.a.createElement(i.Form.Element,{label:"Action"},o.a.createElement(i.Input,{name:"action",testID:"input--action",type:i.InputType.Email,value:n.endpointData.action,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{action:e.target.value})})},size:i.ComponentSize.Medium})),o.a.createElement(i.Form.Element,{label:"Method"},o.a.createElement(i.Input,{name:"method",testID:"input--method",type:i.InputType.Email,value:n.endpointData.method,onChange:e=>{a({endpointData:Object.assign(Object.assign({},n.endpointData),{method:e.target.value})})},size:i.ComponentSize.Medium})))};var u=()=>{const{data:e}=Object(r.useContext)(l.a);return o.a.createElement("div",{className:"slack-endpoint-details--flex"},o.a.createElement(i.Form.Element,{label:"URL",required:!0},o.a.createElement(i.Input,{name:"url",testID:"input--url",type:i.InputType.Text,value:e.endpointData.url,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Username",required:!0},o.a.createElement(i.Input,{name:"usename",testID:"input--username",type:i.InputType.Email,value:e.endpointData.username,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Password",required:!0},o.a.createElement(i.Input,{name:"password",testID:"input--password",type:i.InputType.Email,value:e.endpointData.password,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Action"},o.a.createElement(i.Input,{name:"action",testID:"input--action",type:i.InputType.Email,value:e.endpointData.action,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})),o.a.createElement(i.Form.Element,{label:"Method"},o.a.createElement(i.Input,{name:"method",testID:"input--method",type:i.InputType.Email,value:e.endpointData.method,size:i.ComponentSize.Medium,status:i.ComponentStatus.Disabled})))};t.default=e=>{e({type:"zenoss",name:"Zenoss",data:{url:"https://example.zenoss.io:8080/zport/dmd/evconsole_router",username:"",password:"",action:"",method:"",severity:""},featureFlag:"notebooksNewEndpoints",component:c,readOnlyComponent:u,generateImports:()=>["contrib/bonitoo-io/zenoss","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateTestImports:()=>["array","contrib/bonitoo-io/zenoss","influxdata/influxdb/secrets"].map((e=>`import "${e}"`)).join("\n"),generateQuery:e=>`task_data\n\t|> schema["fieldsAsCols"]()\n      |> set(key: "_notebook_link", value: "${window.location.href}")\n\t|> monitor["check"](\n\t\tdata: check,\n\t\tmessageFn: messageFn,\n\t\tcrit: trigger,\n\t)\n\t|> monitor["notify"](\n    data: notification,\n    endpoint: zenoss["endpoint"](\n      url: "${e.url}",\n      username: secrets.get(key: "${e.username}"),\n      password: secrets.get(key: "${e.password}"),\n      action: "${e.action}",\n      method: "${e.method}",\n      )(\n        mapFn: (r) => ({\n          message: "\${ r._message }",\n          severity: "${e.severity}",\n    }))\n  )`,generateTestQuery:e=>`\n    telegram.endpoint(\n      url: "${e.url}",\n      username: secrets.get(key: "${e.username}"),\n      password: secrets.get(key: "${e.password}"),\n      action: "${e.action}",\n      method: "${e.method}",\n      message: "${a.c}",\n      severity: "${e.severity}",\n    )\n\n    array.from(rows: [{value: 0}])\n        |> yield(name: "ignore")`})}},588:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(18);var s=({Context:e})=>{const{data:t}=Object(a.useContext)(i.a);return r.a.createElement(e,null,r.a.createElement("div",{className:"flow-error"},r.a.createElement("div",{className:"flow-error--header"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"flow-error--vis-toggle"})),r.a.createElement("div",{className:"flow-error--body"},r.a.createElement("h1",null,"Missing definition for ",r.a.createElement("span",null,t.type)),r.a.createElement("p",null,"The UI doesn't know how to display this panel. Delete this panel to remove this message"))))};n(486),t.default=e=>{e({type:"missing",family:"system",priority:1,component:s,initial:{}})}},589:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(7),i=n(3),s=n(18),l=n(79);const c={airSensor:"Sample Air Sensor Data",noaa:"NOAA National Buoy Data Center (NDBC)",usgs:"USGS Earthquake Data"};var u=({Context:e})=>{const[t,n]=Object(a.useState)({}),{data:u,update:d}=Object(a.useContext)(s.a),{query:m}=Object(a.useContext)(l.a),{csvType:p,url:h}=u;return Object(a.useEffect)((()=>{m('import "influxdata/influxdb/sample"\n     sample.list()').then((e=>{const t=[...e.parsed.table.columns.name.data,"Custom"],a=e.parsed.table.columns.url.data;n(t.reduce(((e,t,n)=>(c[t]&&(e[t]={url:a[n],label:c[t],name:t}),"Custom"===t&&(e[t]={url:"",label:"Custom",name:"Custom"}),e)),{}))}))}),[]),r.a.createElement(e,null,r.a.createElement("div",{className:"remote-csv-container","data-testid":"csvimporturl"},r.a.createElement("div",{className:"remote-csv-card"},r.a.createElement(i.Dropdown,{testID:"remote-csv--dropdown",className:"remote-csv--dropdown",style:{width:"220px"},button:(e,t)=>r.a.createElement(i.Dropdown.Button,{active:e,onClick:t,color:i.ComponentColor.Primary,testID:"dropdown-button--remote-csv"},p.length?p:"Import Sample CSV"),menu:e=>r.a.createElement(i.Dropdown.Menu,{onCollapse:e},Object.values(t).map((e=>r.a.createElement(i.Dropdown.Item,{testID:`remote-csv--dropdown-item-${e.label}`,id:e.label,key:e.label,value:e.label,onClick:()=>((e,t,n)=>{Object(o.a)("Remote CSV Panel (Notebooks)- Selected Option: "+n),d({csvType:e,url:null!=t?t:"",sampleName:n})})(e.label,e.url,e.name),selected:e.label===p},e.label))))}),r.a.createElement("div",{"data-testid":"csvimporturl",className:"remote-csv-url-input"},r.a.createElement(i.Input,{type:i.InputType.Text,value:h,onChange:e=>{d({url:e.target.value})},status:p.length&&"Custom"!==p?i.ComponentStatus.Disabled:i.ComponentStatus.Default})))))};n(496),t.default=e=>{e({type:"remoteCSV",family:"inputs",priority:1,component:u,featureFlag:"flowPanelRemoteCsv",button:"Remote CSV",initial:{csvType:"",url:"",sampleName:""},source:e=>{var t;if(!(null===(t=e.url)||void 0===t?void 0:t.length))return"";return`${"Custom"===e.sampleName?`import "experimental/csv"\n      data = csv.from(url: "${e.url}")`:`import "influxdata/influxdb/sample"\n      data = sample.data(\n        set: "${e.sampleName}"\n      )`}\n      csvRange = data\n          |> keep(columns: ["_time"])\n          |> group()\n          |> reduce(\n              fn: (r, accumulator) => ({\n                  min: if r._time < accumulator.min then r._time else accumulator.min,\n                  max: if r._time > accumulator.max then r._time else accumulator.max,\n              }),\n              identity: {min: now(), max: time(v: 0)},\n          )\n          |> findRecord(fn: (key) => true, idx: 0)\n\n      data\n          |> range(start: csvRange.min, stop: csvRange.max)`}})}},59:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"o",(function(){return y}));const a=()=>({type:"RESET_ALERT_BUILDER"}),r=e=>({type:"INIT_ALERT_BUILDER",payload:{type:e}}),o=()=>({type:"CONVERT_CHECK_TO_CUSTOM"}),i=e=>({type:"SET_ALERT_BUILDER_CHECK",payload:{check:e}}),s=e=>({type:"SET_ALERT_BUILDER_STATUS",payload:{status:e}}),l=e=>({type:"SET_ALERT_BUILDER_EVERY",payload:{every:e}}),c=e=>({type:"SET_ALERT_BUILDER_OFFSET",payload:{offset:e}}),u=e=>({type:"SET_ALERT_BUILDER_STALETIME",payload:{staleTime:e}}),d=e=>({type:"SET_ALERT_BUILDER_TIMESINCE",payload:{timeSince:e}}),m=e=>({type:"SET_ALERT_BUILDER_LEVEL",payload:{level:e}}),p=e=>({type:"SET_ALERT_BUILDER_MESSAGE_TEMPLATE",payload:{statusMessageTemplate:e}}),h=(e,t)=>({type:"EDIT_ALERT_BUILDER_TAGSET",payload:{index:e,tagSet:t}}),f=e=>({type:"REMOVE_ALERT_BUILDER_TAGSET",payload:{index:e}}),g=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLD",payload:{threshold:e}}),b=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLDS",payload:{thresholds:e}}),v=e=>({type:"REMOVE_ALERT_BUILDER_THRESHOLD",payload:{level:e}}),y=e=>({type:"UPDATE_ALERT_BUILDER_NAME",payload:{name:e}})},590:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(107),s=n(5),l=n(18),c=n(79),u=n(88),d=n(7),m=n(106),p=n(41);var h=({Context:e})=>{var t,n;const{id:h,data:f,range:g,loading:b,results:v}=Object(a.useContext)(l.a),{basic:y,getPanelQueries:x}=Object(a.useContext)(c.a),{register:E}=Object(a.useContext)(u.a),w=!!((null===(t=null==v?void 0:v.parsed)||void 0===t?void 0:t.table)||[]).length,S=(null===(n=x(h))||void 0===n?void 0:n.source)||"",k=()=>{Object(d.a)("CSV Download Initiated"),y(S).promise.then((e=>{"SUCCESS"===e.type&&Object(m.b)(e.csv,"influx.data",".csv","text/csv")}))},C=Object(a.useMemo)((()=>b===s.RemoteDataState.Loading?"Loading":b===s.RemoteDataState.NotStarted?p.g:"No Data Returned"),[b]);if(Object(a.useEffect)((()=>{h&&E(h,[{title:"Table",actions:[{title:"Download as CSV",disable:!w,action:k}]}])}),[h,f.properties,v.parsed,g]),v.error)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible panel-resizer--error-state"},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.AlertTriangle,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--error"},v.error)));if(!w)return r.a.createElement(e,null,r.a.createElement("div",{className:"panel-resizer panel-resizer__visible",id:h},r.a.createElement("div",{className:"panel-resizer--header panel-resizer--header__multiple-controls"},r.a.createElement(o.Icon,{glyph:o.IconFont.BarChart,className:"panel-resizer--vis-toggle"})),r.a.createElement("div",{className:"panel-resizer--body"},r.a.createElement("div",{className:"panel-resizer--empty"},C))));const O=r.a.createElement("label",{style:{alignSelf:"center",marginRight:"12px"}},"Limited to most recent 100 results per series");return r.a.createElement(e,{resizes:!0,controls:O},r.a.createElement("div",{className:"flow-visualization",id:h},r.a.createElement("div",{className:"flow-visualization--view"},r.a.createElement(i.b,{loading:b,properties:{type:"simple-table",showAll:!1},result:v.parsed,timeRange:g}))))},f=n(293),g=n(92),b=n(24);t.default=e=>{e({type:"table",family:"passThrough",priority:3,component:h,button:"Table",initial:{properties:i.a["simple-table"].initial},visual:(e,t)=>{if(!t)return"";try{if(!(Object(b.c)("fastFlows")?Object(g.d)(t):Object(f.t)(t)).body.length)return""}catch(e){return""}return`${t} |> limit(n: 100)`}})}},591:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(18);n(501);var s=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(i.a);let s="",l="";t.start?/^-(?:(\d+(y|mo|s|m|w|h){1}))+$/g.test(t.start)||/^((?:(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}:\d{2}(?:\.\d+)?))(Z|[\+-]\d{2}:\d{2})?)$/g.test(t.start)||(s="Invalid Time"):s="Required",t.stop?/^now\(\)$/g.test(t.stop)||/^-(?:(\d+(y|mo|s|m|w|h){1}))+$/g.test(t.stop)||/^((?:(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}:\d{2}(?:\.\d+)?))(Z|[\+-]\d{2}:\d{2})?)$/g.test(t.stop)||(l="Invalid Time"):l="Required";return r.a.createElement(e,null,r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Medium},r.a.createElement(o.FlexBox.Child,{basis:200,grow:0,shrink:0,className:"flow-panel-time--header"},r.a.createElement("h5",null,"Set a time frame"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",href:"https://docs.influxdata.com/flux/v0.x/spec/lexical-elements/#duration-literals"},"durations")," ","and"," ",r.a.createElement("a",{target:"_blank",href:"https://docs.influxdata.com/flux/v0.x/spec/lexical-elements/#date-and-time-literals"},"dates")," ","are valid")),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"Start",required:!0,errorMessage:s},r.a.createElement(o.Input,{name:"start",type:o.InputType.Text,placeholder:"ex: -1h00s",value:t.start,onChange:e=>{n({start:e.target.value})},status:s?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium}))),r.a.createElement(o.FlexBox.Child,{grow:1,shrink:1,style:{alignSelf:"start"}},r.a.createElement(o.Form.Element,{label:"End",required:!0,errorMessage:l},r.a.createElement(o.Input,{name:"end",type:o.InputType.Text,placeholder:"ex: now()",value:t.stop,onChange:e=>{n({stop:e.target.value})},status:l?o.ComponentStatus.Error:o.ComponentStatus.Default,size:o.ComponentSize.Medium})))))};t.default=e=>{e({type:"time",family:"inputs",featureFlag:"flow-panel--time",button:"Time Range",component:s,initial:{start:"-1h",stop:"now()"},scope:(e,t)=>Object.assign(Object.assign({},t),{vars:Object.assign(Object.assign({},t.vars||{}),{timeRangeStart:e.start,timeRangeStop:e.stop})})})}},592:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(3),i=n(18),s=n(88);var l=({Context:e})=>{const{id:t,data:n,update:l}=Object(a.useContext)(i.a),{register:c}=Object(a.useContext)(s.a),[u,d]=Object(a.useState)(!1),m=Object(a.useCallback)((()=>{d(!u)}),[d,u]);Object(a.useEffect)((()=>{t&&c(t,[{title:"Controls",actions:[{title:"Edit Youtube ID",action:m}]}])}),[t,m]);const p=u||!n.uri;return r.a.createElement(e,{resizes:!0},r.a.createElement("div",{className:"flow-youtube"},p&&r.a.createElement("div",{className:"flow-youtube--editor"},r.a.createElement("label",null,"Youtube Video ID"),r.a.createElement(o.Input,{value:n.uri,onChange:e=>{l({uri:e.target.value})}})),!p&&r.a.createElement("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n.uri}?autoplay=1`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))};n(505),t.default=e=>{e({type:"youtube",family:"test",priority:-1,featureFlag:"flow-panel--youtube",button:"Youtube",component:l,initial:{uri:"nBHkIWAJitg"}})}},593:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(3),s=n(15);let l=class extends r.PureComponent{render(){return o.a.createElement(i.Form,{onSubmit:this.props.onConfirm},o.a.createElement(i.Overlay.Body,null,o.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},o.a.createElement(i.Alert,{color:i.ComponentColor.Danger,icon:i.IconFont.AlertTriangle},"Bad things could happen if you don't read this!"),o.a.createElement(i.Form.Element,{label:""},o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,this.props.message),o.a.createElement("ul",null,this.props.effectedItems.map((e=>o.a.createElement("li",{key:e},e)))))))),o.a.createElement(i.Overlay.Footer,null,o.a.createElement(i.Button,{color:i.ComponentColor.Danger,text:this.props.confirmButtonText,type:i.ButtonType.Submit,testID:"danger-confirmation--button"})))}};l=Object(a.a)([s.a],l);var c=l;let u=class extends r.PureComponent{constructor(){super(...arguments),this.state={isConfirmed:!1},this.handleCloseOverlay=()=>{this.props.onClose()},this.handleConfirm=()=>{this.setState({isConfirmed:!0})}}render(){return o.a.createElement(i.Overlay.Container,{maxWidth:400},o.a.createElement(i.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleCloseOverlay}),this.overlayContents)}get overlayTitle(){const{title:e}=this.props;return this.state.isConfirmed?e:"Are you sure?"}get overlayContents(){const{message:e,effectedItems:t,confirmButtonText:n}=this.props;return this.state.isConfirmed?this.props.children:o.a.createElement(c,{onConfirm:this.handleConfirm,message:e,effectedItems:t,confirmButtonText:n})}};u=Object(a.a)([s.a],u);t.a=u},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t.replace(/\s\(clone\s(\d)+\)/g,"").replace(/\)/,""),a=e.filter((e=>e.includes(n))).reduce(((e,t)=>{if(t.match(/\(clone(\s|\d)+\)/)){const a=t.replace(n,"").replace(/\(clone/,"").replace(/\)/,""),r=Number(a);return r>=e?r:e}return e}),0);if(a){const e=a+1;return`${t.replace(/\(clone\s(\d)+\)/,"").trim()} (clone ${e})`}return`${t.trim()} (clone 1)`}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(2),r=n.n(a),o=n(181),i=n(73),s=n(41),l=n(24),c=n(176),u=n(521);const d={name:s.a,flow:null,add:e=>"",updateData:(e,t)=>{},updateMeta:(e,t)=>{},updateOther:e=>{},remove:e=>{},populate:e=>null},m=r.a.createContext(d);let p=0;const h=({children:e})=>{const{flows:t,update:n,currentID:d}=Object(a.useContext)(o.a),[h,f]=Object(a.useState)(),g=Object(a.useRef)(),b=Object(a.useRef)(new c.a);Object(a.useEffect)((()=>{d&&f(t[d])}),[t,d]);const v=Object(a.useCallback)((e=>{var t;if(!e||!b.current)return;const{flowUpdateData:n}=null===(t=b.current.getMap("flowUpdateData"))||void 0===t?void 0:t.toJSON();!n&&h&&b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(h))}),[h]);Object(a.useEffect)((()=>{const e=b.current;Object(l.c)("sharedFlowEditing")&&d&&(g.current=new u.a(`wss://${window.location.host}/api/workbench`,d,e),g.current.on("sync",v));const t=()=>{const{flowUpdateData:t}=e.getMap("flowUpdateData").toJSON(),n=Object(o.c)(null==t?void 0:t.data);f(n)};return e.on("update",t),()=>{Object(l.c)("sharedFlowEditing")&&g.current&&g.current.disconnect(),e.off("update",t)}}),[d]);const y=Object(a.useCallback)(((e,a)=>{var r;if(Object(l.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(h));(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.byID[e])&&(t.data.byID[e]=Object.assign(Object.assign({},t.data.byID[e]||{}),a),b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(t)))}else{if(Object(l.c)("ephemeralNotebook")&&!h.id)return h.data.byID[e]=Object.assign(Object.assign({},h.data.byID[e]||{}),a),void f(Object.assign({},h));t[d].data.byID[e]=Object.assign(Object.assign({},t[d].data.byID[e]||{}),a),n(d,{data:Object.assign({},t[d].data)})}}),[n,t,d,h]),x=Object(a.useCallback)(((e,a)=>{var r;if(Object(l.c)("sharedFlowEditing")){if(null===(r=null==h?void 0:h.meta)||void 0===r?void 0:r.byID[e]){const t=JSON.parse(JSON.stringify(h));t.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t.meta.byID[e]||{}),a),b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(t))}}else{if(Object(l.c)("ephemeralNotebook")&&!h.id)return h.meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},h.meta.byID[e]||{}),a),void f(Object.assign({},h));t[d].meta.byID[e]=Object.assign(Object.assign({title:"",visible:!0},t[d].meta.byID[e]||{}),a),n(d,{meta:Object.assign({},t[d].meta)})}}),[n,t,d,h]),E=Object(a.useCallback)((e=>{if(Object(l.c)("sharedFlowEditing")){if(h){const t=JSON.parse(JSON.stringify(h));for(const n in e)t[n]=e[n];b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(t))}}else if(!Object(l.c)("ephemeralNotebook")||h.id)t[d]=Object.assign(Object.assign({},t[d]),e),n(d,Object.assign({},t[d]));else{for(const t in e)h[t]=e[t];f(Object.assign({},h))}}),[n,t,d,h]);return r.a.createElement(m.Provider,{value:{name:name,flow:h,add:(e,n)=>{const a=`local_${Object(i.v4)()}`,r=e.title||`${s.c[e.type].button||"Panel"} ${++p}`;if(delete e.title,e.id=a,Object(l.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(h));return t.data.byID[a]=e,t.meta.byID[a]={title:r,visible:!0},void 0!==n?(t.data.allIDs.splice(n+1,0,a),t.meta.allIDs.splice(n+1,0,a)):(t.data.allIDs.push(a),t.meta.allIDs.push(a)),void b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(t))}return Object(l.c)("ephemeralNotebook")&&!h.id?(h.data.byID[a]=e,h.meta.byID[a]={title:r,visible:!0},void 0!==n?(h.data.allIDs.splice(n+1,0,a),h.meta.allIDs.splice(n+1,0,a)):(h.data.allIDs.push(a),h.meta.allIDs.push(a)),void f(Object.assign({},h))):(t[d].data.byID[a]=e,t[d].meta.byID[a]={title:r,visible:!0},void 0!==n?(t[d].data.allIDs.splice(n+1,0,a),t[d].meta.allIDs.splice(n+1,0,a)):(t[d].data.allIDs.push(a),t[d].meta.allIDs.push(a)),y(a,{}),x(a,{}),a)},updateData:y,updateMeta:x,updateOther:E,remove:e=>{if(Object(l.c)("sharedFlowEditing")){const t=JSON.parse(JSON.stringify(h));return t.meta.allIDs=t.meta.allIDs.filter((t=>t!==e)),t.data.allIDs=t.data.allIDs.filter((t=>t!==e)),delete t.data.byID[e],delete t.meta.byID[e],void b.current.getMap("flowUpdateData").set("flowUpdateData",Object(o.d)(t))}if(Object(l.c)("ephemeralNotebook")&&!h.id)return h.meta.allIDs=h.meta.allIDs.filter((t=>t!==e)),h.data.allIDs=h.data.allIDs.filter((t=>t!==e)),delete h.data.byID[e],delete h.meta.byID[e],void f(Object.assign({},h));t[d].meta.allIDs=t[d].meta.allIDs.filter((t=>t!==e)),t[d].data.allIDs=t[d].data.allIDs.filter((t=>t!==e)),delete t[d].data.byID[e],delete t[d].meta.byID[e],y(e,{}),x(e,{})},populate:f}},e)};t.c=({children:e})=>r.a.createElement(o.b,null,r.a.createElement(h,null,e))},656:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(3),s=n(15);const l=Object(r.lazy)((()=>Promise.all([n.e(6),n.e(2),n.e(75)]).then(n.bind(null,886))));let c=class extends r.PureComponent{render(){const{config:e,onChangeConfig:t}=this.props;return o.a.createElement(r.Suspense,{fallback:o.a.createElement(i.SpinnerContainer,{loading:i.RemoteDataState.Loading,spinnerComponent:o.a.createElement(i.TechnoSpinner,null)})},o.a.createElement(l,{script:e,onChangeScript:t,readOnly:!1}))}};c=Object(a.a)([s.a],c),t.a=c},657:function(e,t,n){(function(t){var n=function(){var e=!0,n=!1,a={},r=function(){"use strict";var e,t,n,a,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:e,text:n}},i=function(a){return a&&a!==t&&o("Expected '"+a+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},s=function(){var e,n="";for("-"===t&&(n="-",i("-"));t>="0"&&t<="9";)n+=t,i();if("."===t)for(n+=".";i()&&t>="0"&&t<="9";)n+=t;if("e"===t||"E"===t)for(n+=t,i(),"-"!==t&&"+"!==t||(n+=t,i());t>="0"&&t<="9";)n+=t,i();if(e=+n,isFinite(e))return e;o("Bad number")},l=function(){var e,n,a,s="";if('"'===t)for(;i();){if('"'===t)return i(),s;if("\\"===t)if(i(),"u"===t){for(a=0,n=0;n<4&&(e=parseInt(i(),16),isFinite(e));n+=1)a=16*a+e;s+=String.fromCharCode(a)}else{if("string"!=typeof r[t])break;s+=r[t]}else s+=t}o("Bad string")},c=function(){for(;t&&t<=" ";)i()};return a=function(){switch(c(),t){case"{":return function(){var e,n={};if("{"===t){if(i("{"),c(),"}"===t)return i("}"),n;for(;t;){if(e=l(),c(),i(":"),Object.hasOwnProperty.call(n,e)&&o("Duplicate key '"+e+"'"),n[e]=a(),c(),"}"===t)return i("}"),n;i(","),c()}}o("Bad object")}();case"[":return function(){var e=[];if("["===t){if(i("["),c(),"]"===t)return i("]"),e;for(;t;){if(e.push(a()),c(),"]"===t)return i("]"),e;i(","),c()}}o("Bad array")}();case'"':return l();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null}o("Unexpected '"+t+"'")}()}},function(r,i){var s;return n=r,e=0,t=" ",s=a(),c(),t&&o("Syntax error"),"function"==typeof i?function e(t,n){var a,r,o=t[n];if(o&&"object"==typeof o)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(void 0!==(r=e(o,a))?o[a]=r:delete o[a]);return i.call(t,n,o)}({"":s},""):s}}();var o,i,s=(o={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,a,r,o,i){var s=o.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:case 19:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],a=[null],r=[],o=this.table,i="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}r.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m,p,h,f,g,b,v,y,x,E,w={};;){if(h=n[n.length-1],this.defaultActions[h]?f=this.defaultActions[h]:(null==m&&(m=d()),f=o[h]&&o[h][m]),void 0===f||!f.length||!f[0]){if(!c){for(b in x=[],o[h])this.terminals_[b]&&b>2&&x.push("'"+this.terminals_[b]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+this.terminals_[m]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:u,expected:x})}if(3==c){if(1==m)throw new Error(S||"Parsing halted.");l=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,m=d()}for(;!(2..toString()in o[h]);){if(0==h)throw new Error(S||"Parsing halted.");E=1,n.length=n.length-2*E,a.length=a.length-E,r.length=r.length-E,h=n[n.length-1]}p=m,m=2,f=o[h=n[n.length-1]]&&o[h][2],c=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+m);switch(f[0]){case 1:n.push(m),a.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),m=null,p?(m=p,p=null):(l=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(v=this.productions_[f[1]][1],w.$=a[a.length-v],w._$={first_line:r[r.length-(v||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(v||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(w,i,l,s,this.yy,f[1],a,r)))return g;v&&(n=n.slice(0,-1*v*2),a=a.slice(0,-1*v),r=r.slice(0,-1*v)),n.push(this.productions_[f[1]][0]),a.push(w.$),r.push(w._$),y=o[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,a,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length&&(!(n=this._input.match(this.rules[o[i]]))||t&&!(n[0].length>t[0].length)||(t=n,a=i,this.options.flex));i++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}(),o.lexer=i,o),l=s.parse;return s.parse=function(t){var n=l.call(s,t),a=void 0===r?e("./doug-json-parse"):r;try{a(t)}catch(e){if(/Duplicate key|Bad string|Unexpected/.test(e.message)){var o=t.substring(0,e.at).split("\n"),i=o.length,c=o[i-1].length-1;throw this.parseError(e.message,{line:i,col:c,message:e.message.replace(/./,(function(e){return e.toLowerCase()}))}),SyntaxError(e.message+" on line "+i)}}return n},void 0!==a&&(a.parser=s,a.parse=function(){return s.parse.apply(s,arguments)},a.main=function(n){if(!n[1])throw new Error("Usage: "+n[0]+" FILE");if(void 0!==t)var r=e("fs").readFileSync(e("path").join(t.cwd(),n[1]),"utf8");else r=e("file").path(e("file").cwd()).join(n[1]).read({charset:"utf-8"});return a.parser.parse(r)},e.main===n&&a.main(void 0!==t?t.argv.slice(1):e("system").args)),a}();e.exports&&(e.exports=n)}).call(this,n(126))},658:function(e,t,n){"use strict";(function(e){var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(2),c="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;c||(s=n(757));var u=function(){function e(){}return e.equals=function(e,t){var n=this,a=Object.keys,r=void 0===e?"undefined":o(e),i=void 0===t?"undefined":o(t);return e&&t&&"object"===r&&r===i?a(e).length===a(t).length&&a(e).every((function(a){return n.equals(e[a],t[a])})):e===t},e}(),d=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var a=this.editor.getDoc();n&&this.editor.focus(),t?a.setCursor(e):a.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,e.autoFocus||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,e.autoFocus||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e){t.props.onCut(t.editor,event)}));break;case"onDblClick":t.editor.on("dblclick",(function(e){t.props.onDblClick(t.editor,event)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e){t.props.onDragLeave(t.editor,event)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e){t.props.onDragStart(t.editor,event)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,a,r){t.props.onGutterClick(t.editor,n,a,r)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e){t.props.onMouseDown(t.editor,event)}));break;case"onPaste":t.editor.on("paste",(function(e){t.props.onPaste(t.editor,event)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e){t.props.onTouchStart(t.editor,event)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,a){t.props.onViewportChange(t.editor,n,a)}))}}))},e}(),m=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=r({},s.defaults,this.editor.options,e.options||{});Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(a){e.options.hasOwnProperty(a)&&t.editor.getOption(a)!==n[a]&&(t.editor.setOption(a,n[a]),t.mirror.setOption(a,n[a]))})),this.hydrated||(this.mounted&&this.deferred?this.resolveChange():this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.lastLine(),n=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e||"",{line:0,ch:0},{line:t,ch:n}),this.mirror.setValue(e),this.editor.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(){this.emulating=!0,"undo"===this.deferred.origin?this.editor.undo():"redo"===this.deferred.origin?this.editor.redo():this.editor.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){return"undo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentWillMount=function(){c||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;c||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new d(this.editor,this.props),this.mirror=s((function(){})),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var a=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,a)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!c){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.appliedNext||(this.shared.applyNext(this.props,e,t),this.appliedNext=!0),this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){return!c},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.Controlled=m;var p=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=r({},s.defaults,this.editor.options,e.options||{});if(Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(a){e.options.hasOwnProperty(a)&&t.editor.getOption(a)!==n[a]&&t.editor.setOption(a,n[a])})),!this.hydrated){var a=this.editor.lastLine(),o=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e.value||"",{line:0,ch:0},{line:a,ch:o})}this.hydrated=!0},t.prototype.componentWillMount=function(){c||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;c||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new d(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(this.detached&&!1===e.detach&&(this.detached=!1,this.props.editorDidAttach&&this.props.editorDidAttach(this.editor)),this.detached||!0!==e.detach||(this.detached=!0,this.props.editorDidDetach&&this.props.editorDidDetach(this.editor)),!c&&!this.detached){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.applied||(this.shared.apply(this.props),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return c&&(n=!1),this.detached&&(n=!1),n},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.UnControlled=p}).call(this,n(163))},659:function(e,t,n){(t=n(16)(!1)).push([e.i,'.main-flexbox-child{width:100%}.flex-box-label{text-align:"start";margin:5px 0px}.flexbox-child-label-read{align-items:"left";margin-left:20px}.flexbox-child-label-write{align-items:"left";margin-left:20px}.input-label-read{margin-left:15px}.input-label-write{margin-right:50px}.resource-accordion-body{padding-top:10px;padding-bottom:10px;font-weight:bold}.resource-accordion-error{justify-content:center;color:gray}',""]),e.exports=t},660:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n.n(a),o=(n(238),n(3));const i=e=>{const{resourceName:t}=e;return r.a.createElement(o.Accordion.AccordionHeader,null,r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Small,justifyContent:o.JustifyContent.SpaceBetween,direction:o.FlexDirection.Row,stretchToFitWidth:!0,alignItems:o.AlignItems.Center,style:{textAlign:"start"}},r.a.createElement(o.FlexBox.Child,{basis:40,grow:8},r.a.createElement(o.InputLabel,{size:o.ComponentSize.Medium},t))))}},661:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n.n(a),o=(n(238),n(3));const i=e=>{const{resourceName:t,disabled:n,permissions:a}=e,i=t=>{const{onToggleAll:n}=e;n(t,"read")},s=t=>{const{onToggleAll:n}=e;n(t,"write")},l=e=>{e.stopPropagation()},c={marginRight:"10px"},u={marginRight:"0px"},d=(t,d)=>r.a.createElement(o.FlexBox,{margin:o.ComponentSize.Small,justifyContent:o.JustifyContent.SpaceBetween,direction:o.FlexDirection.Row,stretchToFitWidth:!0,alignItems:o.AlignItems.Center},r.a.createElement(o.FlexBox.Child,{basis:40,grow:8},r.a.createElement(o.InputLabel,{size:o.ComponentSize.Small},`All ${d||e.resourceName}`)),r.a.createElement(o.FlexBox.Child,{grow:1,onClick:l},r.a.createElement(o.Toggle,{id:d||e.resourceName,type:o.InputToggleType.Checkbox,onChange:i,size:o.ComponentSize.ExtraSmall,checked:t?t.perm.read:a.read,value:t?t.name:e.resourceName,style:c,tabIndex:0,disabled:n})),r.a.createElement(o.FlexBox.Child,{grow:1,onClick:l},r.a.createElement(o.Toggle,{id:d?d+1:e.resourceName+1,type:o.InputToggleType.Checkbox,onChange:s,size:o.ComponentSize.ExtraSmall,checked:t?t.perm.write:a.write,value:t?t.name:e.resourceName,style:u,tabIndex:0,disabled:n})));return r.a.createElement(r.a.Fragment,null,"All Resources"===t?0!==a.length?Object.keys(a).map((e=>{const t=a[e].name,n=t.charAt(0).toUpperCase()+t.slice(1);return r.a.createElement(o.Accordion.AccordionBodyItem,{key:e,className:"resource-accordion-body"},d(a[e],n))})):r.a.createElement(o.Accordion.AccordionBodyItem,{className:"resource-accordion-error"},`No ${t.replace("All ","")} match your search term`):r.a.createElement(o.Accordion.AccordionBodyItem,{className:"resource-accordion-body"},d()))}},67:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(108);const s=({initialMin:e,initialMax:t,onSetMinMax:n})=>{const[a,s]=Object(i.a)(e),[l,c]=Object(i.a)(t),u=()=>{let r=parseFloat(a),o=parseFloat(l);isNaN(r)&&(r=null),isNaN(o)&&(o=null),e===a&&t===l||n([r,o])},d=e=>{"Enter"===e.key&&u()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Min"},r.a.createElement(o.Input,{value:a,onChange:e=>s(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--min"}))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Max"},r.a.createElement(o.Input,{value:l,onChange:e=>c(e.target.value),onBlur:u,onKeyPress:d,testID:"auto-domain--max"}))))},l=e=>null===e?"":String(e);t.a=({domain:e,onSetDomain:t,label:n="Set Domain"})=>{const[i,c]=Object(a.useState)(!!e),u=Array.isArray(e)?l(e[0]):"",d=Array.isArray(e)?l(e[1]):"";return r.a.createElement(o.Form.Element,{label:n,className:"auto-domain-input"},r.a.createElement(o.Grid,null,r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Twelve},r.a.createElement(o.SelectGroup,{shape:o.ButtonShape.StretchToFit},r.a.createElement(o.SelectGroup.Option,{name:"auto-domain",id:"radio_auto",titleText:"Auto",active:!i,onClick:()=>{c(!1),t(null)},value:"Auto"},"Auto"),r.a.createElement(o.SelectGroup.Option,{name:"auto-domain",id:"radio_custom",titleText:"Custom",active:i,onClick:()=>{c(!0)},value:"Custom"},"Custom")))),i&&r.a.createElement(o.Grid.Row,{className:"auto-domain-input--custom"},r.a.createElement(s,{initialMin:u,initialMax:d,onSetMinMax:t}))))}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=e=>Object(a.useMemo)((()=>{const{generateXAxisTicks:t,generateYAxisTicks:n}=e,a={xTotalTicks:null,xTickStart:null,xTickStep:null,yTotalTicks:null,yTickStart:null,yTickStep:null};return Array.isArray(t)&&t.forEach((t=>a[t]=e[t])),Array.isArray(n)&&n.forEach((t=>a[t]=e[t])),a}),[e])},681:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(14),s=n(8),l=n(4),c=n(15),u=n(639),d=n.n(u);const m=e=>e.trim().replace(/(^")|("$)/g,""),p=e=>1===Object.keys(e).length?"":"s";var h=n(10),f=n(13);let g=class extends a.PureComponent{constructor(){var e;super(...arguments),this.state={templateValuesString:(e=this.props.values,Object.entries(e).map((([e,t])=>`${e},"${t}"`)).join("\n"))},this.handleBlur=()=>{const{onChange:e}=this.props,{templateValuesString:t}=this.state;e(this.constructValuesFromString(t))},this.handleChange=e=>{const t=e.target.value;this.setState({templateValuesString:t})}}render(){const{onSelectDefault:e}=this.props,{templateValuesString:t}=this.state,{entries:n}=this;return r.a.createElement(o.Form.Element,{label:"Comma Separated Key-Value Pairs Per Line"},r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.TextArea,{value:t,onChange:this.handleChange,onBlur:this.handleBlur,testID:"map-variable-textarea"}))),r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement("p",null,"Mapping contains ",r.a.createElement("strong",null,n.length)," key-value pair",p(n))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Select A Default"},r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:t,testID:"map-variable-dropdown--button"},this.defaultID),menu:t=>r.a.createElement(o.Dropdown.Menu,{onCollapse:t},n.map((t=>r.a.createElement(o.Dropdown.Item,{key:t.key,id:t.key,value:t.key,onClick:e,selected:t.key===this.defaultID},r.a.createElement("strong",null,t.key)," ",r.a.createElement(o.Icon,{glyph:o.IconFont.CaretRight})," ",t.value))))})))))}get defaultID(){const{selected:e}=this.props,{entries:t}=this,n=Object(s.get)(t,"0.key","Enter values above");return Object(s.get)(e,"0",n)}get entries(){const{values:e}=this.props;return e?Object.entries(e).map((([e,t])=>({key:e,value:t}))):[]}constructValuesFromString(e){const{notify:t}=this.props,{errors:n,values:a}=(e=>{let t=[];const n=Object(s.trimEnd)(e,"\n"),a=d.a.parse(n),r=Object(s.get)(a,"data",[[]]);if(0===r.length)return{values:{},errors:t};const o=new Set,i={};for(const e of r)if(2===e.length||3===e.length&&""===e[2]){const t=m(e[0]),n=m(e[1]);o.has(t)||""===t||(i[t]=n,o.add(t))}else t=[...t,e[0]];return{values:i,errors:t}})(e);return n.length>0&&t(Object(f.hc)()),{values:a,errors:n}}};g=Object(i.a)([c.a],g);const b={notify:h.c};var v=Object(l.c)(null,b)(g);let y=class extends a.PureComponent{constructor(){super(...arguments),this.state={csv:this.props.values.map((e=>`"${e}"`)).join(",\n ")},this.handleBlur=()=>{const{onChange:e}=this.props,{csv:t}=this.state;e(this.getUniqueValuesFromCSV(t))},this.handleChange=e=>{const t=e.target.value;this.setState({csv:t})}}render(){const{onSelectDefault:e,values:t}=this.props,{csv:n}=this.state;return r.a.createElement(o.Form.Element,{label:"Comma Separated Values"},r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,null,r.a.createElement(o.TextArea,{value:n,onChange:this.handleChange,onBlur:this.handleBlur,testID:"csv-variable-textarea"}))),r.a.createElement(o.Grid.Row,null,r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement("p",null,"CSV contains ",r.a.createElement("strong",null,t.length)," value",p(t))),r.a.createElement(o.Grid.Column,{widthXS:o.Columns.Six},r.a.createElement(o.Form.Element,{label:"Select A Default"},r.a.createElement(o.SelectDropdown,{options:t,selectedOption:this.defaultID,onSelect:e,testID:"csv-value-select-dropdown"})))))}get defaultID(){const{selected:e,values:t}=this.props,n=Object(s.get)(t,"0","Enter values above");return Object(s.get)(e,"0",n)}getUniqueValuesFromCSV(e){const t=d.a.parse(e),n=Object(s.get)(t,"data",[[]]),a=new Set;for(const e of n)for(const t of e){const e=m(t);""!==e&&a.add(e)}return[...a]}};y=Object(i.a)([c.a],y);var x=y;const E=Object(a.lazy)((()=>Promise.all([n.e(6),n.e(2),n.e(7),n.e(12)]).then(n.bind(null,1046))));class w extends a.PureComponent{constructor(){super(...arguments),this.handleChangeCSV=e=>{const{onChange:t}=this.props;t({args:{type:"constant",values:e},isValid:e.length>0})},this.handleChangeQuery=e=>{const{onChange:t}=this.props;t({args:{type:"query",values:{language:"flux",query:e}},isValid:!e.match(/^\s*$/)})},this.handleChangeMap=e=>{const{onChange:t}=this.props;t({args:{type:"map",values:e.values},isValid:0===e.errors.length&&Object.keys(e.values).length>0})}}render(){const{args:e,onSelectMapDefault:t,selected:n}=this.props;switch(e.type){case"query":return r.a.createElement(o.Form.Element,{label:"Script"},r.a.createElement("div",{className:"overlay-flux-editor"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(o.SpinnerContainer,{loading:o.RemoteDataState.Loading,spinnerComponent:r.a.createElement(o.TechnoSpinner,null)})},r.a.createElement(E,{script:e.values.query,onChangeScript:this.handleChangeQuery,autofocus:!0}))));case"map":return r.a.createElement(v,{onChange:this.handleChangeMap,values:e.values,onSelectDefault:t,selected:n});case"constant":return r.a.createElement(x,{onChange:this.handleChangeCSV,values:e.values,onSelectDefault:t,selected:n})}}}t.a=w},684:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(439),s=n(3);var l=({setActiveTab:e,activeTab:t})=>{const n=n=>()=>{t!==n&&e(n)};return r.a.createElement(s.SelectGroup,{shape:s.ButtonShape.StretchToFit,style:{width:"376px"}},r.a.createElement(s.SelectGroup.Option,{name:"query-mode",key:"queries",id:"queries",titleText:"queries",value:"queries",active:"queries"===t,onClick:n("queries")},"1. Define Query"),r.a.createElement(s.SelectGroup.Option,{name:"query-mode",key:"alerting",id:"alerting",testID:"checkeo--header alerting-tab",titleText:"alerting",value:"alerting",active:"alerting"===t,onClick:n("alerting")},"2. Configure Check"))};var c=({onSave:e,status:t,className:n,checkType:o,singleField:i,singleAggregateFunc:l,oneOrMoreThresholds:c})=>{const d=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Popover,{triggerRef:d,visible:t!==s.ComponentStatus.Default,position:s.PopoverPosition.Below,enableDefaultStyles:!1,showEvent:s.PopoverInteraction.None,hideEvent:s.PopoverInteraction.None,color:s.ComponentColor.Secondary,appearance:s.Appearance.Outline,forceToTop:!0,contents:()=>r.a.createElement("div",{className:"query-checklist--popover"},r.a.createElement("p",null,`To create a ${o} check, you must select:`),r.a.createElement("ul",{className:"query-checklist--list"},r.a.createElement(u,{text:"One field",selected:i}),"threshold"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{text:"One aggregate function",selected:l}),r.a.createElement(u,{text:"One or more thresholds",selected:c}))))}),r.a.createElement(s.SquareButton,{ref:d,className:n,icon:s.IconFont.Checkmark_New,color:s.ComponentColor.Success,size:s.ComponentSize.Small,status:t,onClick:e,testID:"save-cell--button"}))};const u=({selected:e,text:t})=>{const n=e?"query-checklist--item valid":"query-checklist--item error",a=e?s.IconFont.Checkmark_New:s.IconFont.Remove_New;return r.a.createElement("li",{className:n},r.a.createElement(s.Icon,{glyph:a}),t)};var d=n(26),m=n(177),p=n(37),h=n(81),f=n(5);const g="veo-header--save-cell-button",b={setActiveTab:p.k},v=Object(o.c)((e=>{const{activeTab:t,draftQueries:n}=Object(d.d)(e),{alertBuilder:{type:a,thresholds:r}}=e;return{activeTab:t,draftQueries:n,checkType:a,thresholds:r}}),b);t.a=v((({name:e,onSetName:t,onCancel:n,onSave:o,setActiveTab:u,activeTab:d,draftQueries:p,checkType:b,thresholds:v})=>{const[y,x]=Object(a.useState)(f.RemoteDataState.NotStarted),E=()=>{y!==f.RemoteDataState.Loading&&(x(f.RemoteDataState.Loading),o(),x(f.RemoteDataState.NotStarted))},{singleField:w,singleAggregateFunc:S}=Object(m.f)(p),k="threshold"===b&&v&&!!v.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Page.Header,{fullWidth:!0},r.a.createElement(i.a,{name:e,onRename:t,placeholder:h.d,maxLength:h.a,onClickOutside:e=>{e.target.classList.contains(g)&&E()}})),r.a.createElement(s.Page.ControlBar,{fullWidth:!0},r.a.createElement(s.Page.ControlBarLeft,null,"customCheckQuery"!==d&&r.a.createElement(l,{activeTab:d,draftQueries:p,setActiveTab:u})),r.a.createElement(s.Page.ControlBarRight,null,r.a.createElement(s.SquareButton,{icon:s.IconFont.Remove_New,onClick:n,size:s.ComponentSize.Small}),r.a.createElement(c,{status:Object(m.d)(p,b,v)?y==f.RemoteDataState.Loading?s.ComponentStatus.Loading:s.ComponentStatus.Default:s.ComponentStatus.Disabled,onSave:E,className:g,checkType:b,singleField:w,singleAggregateFunc:S,oneOrMoreThresholds:k}))))}))},685:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(184),i=n(3),s=n(19),l=n.n(s);let c=0;class u extends a.PureComponent{constructor(e){super(e),this.handleWindowDragOver=e=>{e.preventDefault()},this.handleSubmit=()=>{const{handleSubmit:e}=this.props,{uploadContent:t}=this.state;e(t)},this.handleFileClick=e=>{const t=e.currentTarget.files[0];if(!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},(()=>this.submitOnUpload()))}},this.handleFileDrop=e=>{const t=e.dataTransfer.files[0];if(this.setState({dragClass:"drag-none"}),!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},(()=>this.submitOnDrop()))}},this.handleFileOpen=()=>{const{uploadContent:e}=this.state;""===e&&this.fileInput.click()},this.handleCancelFile=()=>{const{onCancel:e}=this.props;this.setState({uploadContent:""}),this.fileInput.value="",e&&e()},this.handleDragEnter=e=>{c+=1,e.preventDefault(),this.setState({dragClass:"drag-over"})},this.handleDragLeave=e=>{c-=1,e.preventDefault(),0===c&&this.setState({dragClass:"drag-none"})},this.state={inputContent:null,uploadContent:"",fileName:"",dragClass:"drag-none"}}componentDidMount(){window.addEventListener("dragover",this.handleWindowDragOver),window.addEventListener("drop",this.handleFileDrop),window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave)}componentWillUnmount(){window.removeEventListener("dragover",this.handleWindowDragOver),window.removeEventListener("drop",this.handleFileDrop),window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave)}render(){return r.a.createElement("div",{className:this.containerClass},r.a.createElement("div",{className:this.dragAreaClass,onClick:this.handleFileOpen},this.dragAreaHeader,r.a.createElement("div",{className:this.infoClass}),r.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:e=>this.fileInput=e,className:"drag-and-drop--input",accept:this.fileTypesToAccept,onChange:this.handleFileClick}),this.buttons))}get fileTypesToAccept(){const{fileTypesToAccept:e}=this.props;return e||"*"}get containerClass(){const{dragClass:e}=this.state,{compact:t,className:n}=this.props;return l()("drag-and-drop",{compact:t,[e]:!0,[n]:n})}get infoClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--graphic",{success:e})}get dragAreaClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--form",{active:!e})}get dragAreaHeader(){const{uploadContent:e,fileName:t}=this.state;return e?r.a.createElement("div",{className:"drag-and-drop--header selected"},t):r.a.createElement("div",{className:"drag-and-drop--header empty"},"Drop a file here or click to upload")}get buttons(){const{uploadContent:e}=this.state,{submitText:t,submitOnDrop:n}=this.props;return e?n?r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(i.Button,{color:i.ComponentColor.Tertiary,text:"Cancel",size:i.ComponentSize.Medium,type:i.ButtonType.Button,onClick:this.handleCancelFile})):r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(i.Button,{color:i.ComponentColor.Primary,text:t,size:i.ComponentSize.Medium,type:i.ButtonType.Submit,onClick:this.handleSubmit}),r.a.createElement(i.Button,{color:i.ComponentColor.Tertiary,text:"Cancel",size:i.ComponentSize.Medium,type:i.ButtonType.Submit,onClick:this.handleCancelFile})):null}submitOnDrop(){const{submitOnDrop:e}=this.props;e&&this.handleSubmit()}submitOnUpload(){const{submitOnUpload:e}=this.props;e&&this.handleSubmit()}}u.defaultProps={submitText:"Write this File",submitOnDrop:!1,submitOnUpload:!1,compact:!1,className:""};var d,m=u;!function(e){e.Upload="upload",e.Paste="paste"}(d||(d={}));class p extends a.PureComponent{constructor(){super(...arguments),this.state={selectedImportOption:d.Upload,importContent:""},this.handleChangeTextArea=e=>{const{updateStatus:t=(()=>{})}=this.props,n=e.target.value;this.handleSetImportContent(n),t(i.ComponentStatus.Default)},this.submit=()=>{const{importContent:e}=this.state,{onSubmit:t,match:{params:{orgID:n}}}=this.props;t(e,n),this.clearImportContent()},this.clearImportContent=()=>{this.setState(((e,t)=>{const{status:n=i.ComponentStatus.Default}=t;return n===i.ComponentStatus.Error?Object.assign({},e):{importContent:""}}))},this.onDismiss=()=>{const{onDismissOverlay:e}=this.props;this.clearImportContent(),e()},this.handleSetImportOption=e=>{this.clearImportContent(),this.setState({selectedImportOption:e})},this.handleSetImportContent=e=>{this.setState({importContent:e})}}render(){const{resourceName:e}=this.props,{selectedImportOption:t}=this.state;return r.a.createElement(i.Overlay,{visible:!0,testID:"task-import--overlay"},r.a.createElement(i.Overlay.Container,{maxWidth:800},r.a.createElement(i.Form,{onSubmit:this.submit},r.a.createElement(i.Overlay.Header,{title:`Import ${e}`,onDismiss:this.onDismiss}),r.a.createElement(i.Overlay.Body,null,r.a.createElement("div",{className:"import--options"},r.a.createElement(i.SelectGroup,null,r.a.createElement(i.SelectGroup.Option,{name:"import-mode",id:d.Upload,active:t===d.Upload,value:d.Upload,onClick:this.handleSetImportOption,titleText:"Upload"},"Upload File"),r.a.createElement(i.SelectGroup.Option,{name:"import-mode",id:d.Paste,active:t===d.Paste,value:d.Paste,onClick:this.handleSetImportOption,titleText:"Paste",testID:"select-group--paste-json-button"},"Paste JSON"))),this.importBody),r.a.createElement(i.Overlay.Footer,null,this.submitButton))))}get importBody(){const{selectedImportOption:e,importContent:t}=this.state,{status:n=i.ComponentStatus.Default}=this.props;return e===d.Upload?r.a.createElement(m,{submitText:"Upload",handleSubmit:this.handleSetImportContent,submitOnDrop:!0,submitOnUpload:!0,onCancel:this.clearImportContent}):e===d.Paste?r.a.createElement(i.TextArea,{status:n,value:t,onChange:this.handleChangeTextArea,testID:"import-overlay--textarea"}):void 0}get submitButton(){const{resourceName:e}=this.props,{selectedImportOption:t,importContent:n}=this.state,a=t===d.Paste||t===d.Upload&&n?i.ComponentStatus.Default:i.ComponentStatus.Disabled;return r.a.createElement(i.Button,{text:`Import JSON as ${e}`,testID:`submit-button ${e}`,color:i.ComponentColor.Primary,status:a,type:i.ButtonType.Submit})}}p.defaultProps={isVisible:!0};t.a=Object(o.j)(p)},687:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n(2),o=n.n(r),i=(n(238),n(3));!function(e){e.Read="read",e.Write="write"}(a||(a={}));var s=n(5);const l=e=>{const{resourceName:t,permissions:n,onToggle:r,title:l,disabled:c}=e;let u;if(t===s.ResourceType.Buckets){const e=[],t=[];n.forEach((n=>{"_monitoring"===n.name||"_tasks"===n.name?e.push(n):t.push(n)})),u=[...t,...e]}else u=[...n];const d=e=>{r(t,e,a.Read)},m=e=>{r(t,e,a.Write)};return o.a.createElement(o.a.Fragment,null,l?o.a.createElement(i.Accordion.AccordionBodyItem,{className:"resource-accordion-body"},l):null,n?0!==u.length?Object.keys(u).map((e=>{return o.a.createElement(i.Accordion.AccordionBodyItem,{key:u[e].id,className:"resource-accordion-body"},(t=u[e],o.a.createElement(i.FlexBox,{margin:i.ComponentSize.Small,justifyContent:i.JustifyContent.SpaceBetween,direction:i.FlexDirection.Row,stretchToFitWidth:!0,alignItems:i.AlignItems.Center,style:{textAlign:"start"}},o.a.createElement(i.FlexBox.Child,{basis:40,grow:8},o.a.createElement(i.InputLabel,{size:i.ComponentSize.Small},t.name)),o.a.createElement(i.FlexBox.Child,{grow:1},o.a.createElement(i.Toggle,{id:t.id,value:t.id,type:i.InputToggleType.Checkbox,onChange:d,size:i.ComponentSize.ExtraSmall,checked:t.permissions.read,style:{marginRight:"10px"},tabIndex:0,disabled:c})),o.a.createElement(i.FlexBox.Child,{grow:1},o.a.createElement(i.Toggle,{id:t.id+1,value:t.id,type:i.InputToggleType.Checkbox,onChange:m,size:i.ComponentSize.ExtraSmall,checked:t.permissions.write,style:{marginRight:"10px"},tabIndex:0,disabled:c})))));var t})):o.a.createElement(i.Accordion.AccordionBodyItem,{className:"resource-accordion-error"},`No ${t} match your search term`):null)}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),o=n(19),i=n.n(o);class s extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--header",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--draggable",onDragStart:e},r.a.createElement("div",{className:"builder-card--hamburger"}),r.a.createElement("h2",{className:"builder-card--title"},t)):r.a.createElement("h2",{className:"builder-card--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}s.defaultProps={testID:"builder-card--header"};var l=n(3);const c=()=>{};class u extends a.PureComponent{render(){const{children:e,isInCheckOverlay:t,options:n,onSelect:a,selectedOption:o,testID:i}=this.props;return r.a.createElement("div",{className:"builder-card--header","data-testid":i},t?r.a.createElement(l.Dropdown,{button:()=>r.a.createElement(l.Dropdown.Button,{status:l.ComponentStatus.Disabled,onClick:()=>{}},o),menu:()=>null,testID:"disabled--filter-dropdown"}):r.a.createElement(l.SelectDropdown,{options:n,selectedOption:o,testID:"select-option-dropdown",onSelect:a||c}),e,this.deleteButton)}get deleteButton(){const{onDelete:e}=this.props;if(e)return r.a.createElement("div",{className:"builder-card--delete",onClick:e})}}u.defaultProps={testID:"builder-card--header"};class d extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=i()("builder-card--menu",{[`${n}`]:n});return r.a.createElement("div",{className:a,"data-testid":e},t)}}d.defaultProps={testID:"builder-card--menu"};class m extends a.PureComponent{render(){const{scrollable:e,testID:t,autoHideScrollbars:n,style:a,className:o}=this.props;if(e){const e=Object.assign({maxWidth:"100%",maxHeight:"100%"},a);return r.a.createElement(l.DapperScrollbars,{className:"builder-card--body",style:e,testID:t,autoHide:n},this.children)}const s=i()("builder-card--body",{[`${o}`]:o});return r.a.createElement("div",{className:s,"data-testid":t,style:a},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?r.a.createElement("div",{className:"builder-card--contents"},t):t}}m.defaultProps={scrollable:!0,addPadding:!0,testID:"builder-card--body",autoHideScrollbars:!1};class p extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return r.a.createElement("div",{className:"builder-card--body builder-card--empty","data-testid":e},t)}}p.defaultProps={testID:"builder-card--empty"};class h extends a.PureComponent{render(){const{children:e,testID:t,className:n,widthPixels:a}=this.props,o=i()("builder-card",{[`${n}`]:n}),s={flex:`0 0 ${a}px`};return r.a.createElement("div",{className:o,"data-testid":t,style:s},e)}}h.Header=s,h.DropdownHeader=u,h.Menu=d,h.Body=m,h.Empty=p,h.defaultProps={testID:"builder-card",widthPixels:228}},703:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s}));const a=(e,t,n)=>({type:"SET_AUTO_REFRESH_INTERVAL",payload:{dashboardID:e,milliseconds:t,label:n}}),r=(e,t)=>({type:"SET_AUTO_REFRESH_STATUS",payload:{dashboardID:e,status:t}}),o=(e,t)=>({type:"SET_AUTO_REFRESH_DURATION",duration:t,dashboardID:e}),i=e=>({type:"RESET_DASHBOARD_AUTO_REFRESH",dashboardID:e}),s=(e,t)=>({type:"SET_INACTIVITY_TIMEOUT",dashboardID:e,inactivityTimeout:t})},71:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(35),i=n(3),s=n(20);const l=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:c,label:u,placeholder:d,update:m,elementStylingClass:p}=e,[h,f]=Object(a.useState)(c==c?c:""),[g,b]=Object(a.useState)(i.ComponentStatus.Default),v=e=>{f(e.target.value),b(i.ComponentStatus.Default)},y=()=>{const e=Object(o.b)(h);let a=`${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`;"Total"===a?a+=s.B:a=`${s.A}${a}`;const r=`${t.toLowerCase()}${a}`,c=Array.isArray(l)?l.filter((e=>e!==r)):[];e==e?m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:[...c,r]}):(m({[r]:e,[`generate${t.toUpperCase()}AxisTicks`]:c}),""!==h&&b(i.ComponentStatus.Error))};return r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.Form.Element,{label:u,className:p},r.a.createElement(i.Input,{placeholder:d,onChange:v,onFocus:v,onBlur:()=>y(),onKeyPress:e=>{"Enter"===e.key&&y()},value:h,status:g})))};var c=n(108),u=n(194),d=n(91);const m=e=>{const{axisName:t,tickPropertyName:n,tickOptions:l,initialTickOptionValue:m,dateFormatPlaceholder:p="RFC3339",update:h}=e,[f,g]=Object(c.a)(m==m?m:""),[b,v]=Object(a.useState)(i.ComponentStatus.Default),[y,x]=Object(a.useState)(!1),[E,w]=Object(a.useState)(!0),S=Object(a.createRef)(),k=e=>{const a=Object(o.b)(void 0===e?f:e),r=`${s.A}${n.slice(0,1).toUpperCase()}${n.slice(1).toLowerCase()}`,c=`${t.toLowerCase()}${r}`,u=Array.isArray(l)?l.filter((e=>e!==c)):[];Number.isNaN(a)?""!==f&&v(i.ComponentStatus.Error):u.push(c),h({[c]:a,[`generate${t.toUpperCase()}AxisTicks`]:u})},C=e=>{g(e.target.value),v(i.ComponentStatus.Default)},O=()=>{const e=new Date(f);return Number.isNaN(e.valueOf())?(new Date).toISOString():e.toISOString()},D=()=>{g(""),k("")},T=()=>x(!1),j=e=>{const t=new Date(e).valueOf();g(t==t?String(t):""),v(i.ComponentStatus.Default),k(t)},I=()=>{E&&T()},N=()=>w(!0),R=()=>w(!1),A=y?{position:"relative"}:{top:window.innerHeight/2+"px",left:window.innerWidth/2+"px",transform:"translate(-50%, -50%)"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Start Tick Marks At"},r.a.createElement(i.Input,{placeholder:p,onChange:C,onFocus:C,onBlur:()=>k(),onKeyPress:e=>{"Enter"===e.key&&k()},value:f,status:b}))),r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Six},r.a.createElement(i.Form.Element,{label:"Date Picker"},r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.ToTheLeft,triggerRef:S,visible:y,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>r.a.createElement(d.a,{onClickOutside:I},r.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:Object.assign({},A)},r.a.createElement("button",{className:"range-picker--dismiss",onClick:T}),r.a.createElement("div",{className:"range-picker--date-pickers"},r.a.createElement(u.a,{dateTime:O(),onSelectDate:j,label:"Start Tick Marks At"})),r.a.createElement(i.Button,{color:i.ComponentColor.Danger,onClick:D,size:i.ComponentSize.Small,text:"Reset"})))}),y?r.a.createElement(i.Button,{ref:S,color:i.ComponentColor.Danger,onClick:T,onMouseEnter:R,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}):r.a.createElement(i.Button,{ref:S,color:i.ComponentColor.Primary,onClick:()=>{y?T():x(!0)},onMouseEnter:R,onMouseLeave:N,size:i.ComponentSize.Small,icon:i.IconFont.Calendar}))))};t.a=({axisName:e,columnType:t,label:n="Tick Generator",properties:o,update:s})=>{const c=o[`generate${e.toUpperCase()}AxisTicks`]||[],{hasTotalTicks:u,hasTickStart:d,hasTickStep:p}=c.reduce(((t,n)=>(n===`${e.toLowerCase()}TotalTicks`&&(t.hasTotalTicks=!0),n===`${e.toLowerCase()}TickStart`&&(t.hasTickStart=!0),n===`${e.toLowerCase()}TickStep`&&(t.hasTickStep=!0),t)),{hasTotalTicks:!1,hasTickStart:!1,hasTickStep:!1}),h=u?o[`${e}TotalTicks`]:"",f=d?o[`${e}TickStart`]:"",g=p?o[`${e}TickStep`]:"",[b,v]=Object(a.useState)(c.reduce(((t,n)=>((e=>[`generate${e.toUpperCase()}AxisTicks`,`${e.toLowerCase()}TotalTicks`,`${e.toLowerCase()}TickStart`,`${e.toLowerCase()}TickStep`])(e).forEach((e=>{e===n&&(t+=1)})),t)),0)>0);let y;return b&&(y="_time"===t?r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:s,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(m,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:f,update:s}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:g,label:"Tick Mark Interval",placeholder:"milliseconds",update:s})):r.a.createElement(i.Grid.Row,{className:"tick-generator-input--custom"},r.a.createElement(l,{axisName:e,tickPropertyName:"total",tickOptions:c,initialTickOptionValue:h,label:"Total Tick Marks",update:s,elementStylingClass:"value-tick-input--custom"}),r.a.createElement(l,{axisName:e,tickPropertyName:"start",tickOptions:c,initialTickOptionValue:f,label:"Start Tick Marks At",update:s}),r.a.createElement(l,{axisName:e,tickPropertyName:"step",tickOptions:c,initialTickOptionValue:g,label:"Tick Mark Interval",update:s}))),r.a.createElement(i.Form.Element,{label:n,className:"tick-generator-input"},r.a.createElement(i.Grid.Row,null,r.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve},r.a.createElement(i.SelectGroup,{shape:i.ButtonShape.StretchToFit},r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_auto",titleText:"Auto",active:!b,onClick:()=>{v(!1),s({[`generate${e.toUpperCase()}AxisTicks`]:[]})},value:"Auto"},"Auto"),r.a.createElement(i.SelectGroup.Option,{name:"tick-generator",id:"radio_custom",titleText:"Custom",active:b,onClick:()=>{v(!0)},value:"Custom"},"Custom")))),y)}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a="YYYY-MM-DD HH:mm:ss",r="STRICT_ISO8061_TIME_FORMAT"},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s}));const a=100,r=100,o=100,i=100,s=500},756:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(2),r=n.n(a),o=n(4),i=n(313),s=n(103),l=n(6),c=n(385),u=n(7),d=n(9),m=n(43),p=n(363),h=n(247);let f=null,g=null;l.f&&(f=n(31).MeasurementSchema,g=n(31).MeasurementSchemaCreateRequest);const b=e=>{const{onClose:t,testID:n="create-bucket-form"}=e,f=Object(o.e)(d.a),g=Object(o.e)((e=>!!l.f&&Object(m.q)(e))),b=Object(o.e)(p.a),v=Object(o.d)(),[y,x]=Object(a.useReducer)(c.b,Object(c.c)(g,f.id)),[E,w]=Object(a.useState)(null),[S,k]=Object(a.useState)(!1),C=y.retentionRules.find((e=>"expire"===e.type)),O=C?C.everySeconds:3600,D=e=>{(null==b?void 0:b.onUpdateBucket)&&b.onUpdateBucket(e)};return r.a.createElement(i.a,{name:y.name,buttonText:"Create",isEditing:!1,ruleType:y.ruleType,onClose:t,onSubmit:e=>{if(e.preventDefault(),(()=>{if("implicit"===y.schemaType)return!0;return Object(h.a)(E)||(k(!0),!1)})()){let e=[];"explicit"===y.schemaType&&E&&(e=E.map((e=>({columns:e.columns,name:e.name})))),Object(u.a)("bucket.creation");for(let t=0;t<e.length;t++)Object(u.a)("bucket.schema.explicit.creation.uploadSchema");v(Object(s.d)(y,D,e)),t()}},onChangeInput:e=>{const t=e.target.value;"name"===e.target.name&&x({type:"updateName",payload:t})},retentionSeconds:O,onChangeRuleType:e=>{x("expire"===e?{type:"updateRetentionRules",payload:c.a}:{type:"updateRetentionRules",payload:[]}),x({type:"updateRuleType",payload:e})},onChangeRetentionRule:e=>{x({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})},testID:n,onChangeSchemaType:e=>{x({type:"updateSchema",payload:e})},onAddNewMeasurementSchemas:(e,t)=>{w(e),t&&k(!1)},showSchemaValidation:S})}},757:function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),a=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),i=a||r||o,s=i&&(a?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),m=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),f=m&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),b=f||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=f||/Mac/.test(t),y=/\bCrOS\b/.test(e),x=/win/i.test(t),E=d&&e.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(d=!1,l=!0);var w=v&&(c||d&&(null==E||E<12.11)),S=n||i&&s>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,O=function(e,t){var n=e.className,a=k(t).exec(n);if(a){var r=n.slice(a.index+a[0].length);e.className=n.slice(0,a.index)+(r?a[1]+r:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return D(e).appendChild(t)}function j(e,t,n,a){var r=document.createElement(e);if(n&&(r.className=n),a&&(r.style.cssText=a),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function I(e,t,n,a){var r=j(e,t,n,a);return r.setAttribute("role","presentation"),r}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function F(e,t){for(var n=e.split(" "),a=0;a<n.length;a++)n[a]&&!k(n[a]).test(t)&&(t+=" "+n[a]);return t}C=document.createRange?function(e,t,n,a){var r=document.createRange();return r.setEnd(a||e,n),r.setStart(e,t),r}:function(e,t,n){var a=document.body.createTextRange();try{a.moveToElementText(e.parentNode)}catch(e){return a}return a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a};var _=function(e){e.select()};function M(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var a in t||(t={}),e)!e.hasOwnProperty(a)||!1===n&&t.hasOwnProperty(a)||(t[a]=e[a]);return t}function P(e,t,n,a,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=a||0,i=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return i+(t-o);i+=s-o,i+=n-i%n,o=s+1}}f?_=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:i&&(_=function(e){try{e.select()}catch(e){}});var $=function(){this.id=null,this.f=null,this.time=0,this.handler=M(this.onTimeout,this)};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}$.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},$.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var z=50,q={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},V={origin:"*mouse"},U={origin:"+move"};function W(e,t,n){for(var a=0,r=0;;){var o=e.indexOf("\t",a);-1==o&&(o=e.length);var i=o-a;if(o==e.length||r+i>=t)return a+Math.min(i,t-r);if(r+=o-a,a=o+1,(r+=n-r%n)>=t)return a}}var G=[""];function K(e){for(;G.length<=e;)G.push(Y(G)+" ");return G[e]}function Y(e){return e[e.length-1]}function Z(e,t){for(var n=[],a=0;a<e.length;a++)n[a]=t(e[a],a);return n}function Q(e,t,n){for(var a=0,r=n(t);a<e.length&&n(e[a])<=r;)a++;e.splice(a,0,t)}function X(){}function J(e,t){var n;return Object.create?n=Object.create(e):(X.prototype=e,n=new X),t&&L(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function ae(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&re.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var a=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=a<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+a}}function le(e,t,n,a){if(!e)return a(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var i=e[o];(i.from<n&&i.to>t||t==n&&i.to==t)&&(a(Math.max(i.from,t),Math.min(i.to,n),1==i.level?"rtl":"ltr",o),r=!0)}r||a(t,n,"ltr")}var ce=null;function ue(e,t,n){var a;ce=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?a=r:ce=r),o.from==t&&(o.from!=o.to&&"before"!=n?a=r:ce=r)}return null!=a?a:ce}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,i=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!a.test(e))return!1;for(var u=e.length,d=[],m=0;m<u;++m)d.push(n(e.charCodeAt(m)));for(var p=0,h=c;p<u;++p){var f=d[p];"m"==f?d[p]=h:h=f}for(var g=0,b=c;g<u;++g){var v=d[g];"1"==v&&"r"==b?d[g]="n":o.test(v)&&(b=v,"r"==v&&(d[g]="R"))}for(var y=1,x=d[0];y<u-1;++y){var E=d[y];"+"==E&&"1"==x&&"1"==d[y+1]?d[y]="1":","!=E||x!=d[y+1]||"1"!=x&&"n"!=x||(d[y]=x),x=E}for(var w=0;w<u;++w){var S=d[w];if(","==S)d[w]="N";else if("%"==S){var k=void 0;for(k=w+1;k<u&&"%"==d[k];++k);for(var C=w&&"!"==d[w-1]||k<u&&"1"==d[k]?"1":"N",O=w;O<k;++O)d[O]=C;w=k-1}}for(var D=0,T=c;D<u;++D){var j=d[D];"L"==T&&"1"==j?d[D]="L":o.test(j)&&(T=j)}for(var I=0;I<u;++I)if(r.test(d[I])){var N=void 0;for(N=I+1;N<u&&r.test(d[N]);++N);for(var R="L"==(I?d[I-1]:c),A=R==("L"==(N<u?d[N]:c))?R?"L":"R":c,F=I;F<N;++F)d[F]=A;I=N-1}for(var _,M=[],L=0;L<u;)if(i.test(d[L])){var P=L;for(++L;L<u&&i.test(d[L]);++L);M.push(new l(0,P,L))}else{var $=L,B=M.length,z="rtl"==t?1:0;for(++L;L<u&&"L"!=d[L];++L);for(var q=$;q<L;)if(s.test(d[q])){$<q&&(M.splice(B,0,new l(1,$,q)),B+=z);var H=q;for(++q;q<L&&s.test(d[q]);++q);M.splice(B,0,new l(2,H,q)),B+=z,$=q}else++q;$<L&&M.splice(B,0,new l(1,$,L))}return"ltr"==t&&(1==M[0].level&&(_=e.match(/^\s+/))&&(M[0].from=_[0].length,M.unshift(new l(0,0,_[0].length))),1==Y(M).level&&(_=e.match(/\s+$/))&&(Y(M).to-=_[0].length,M.push(new l(0,u-_[0].length,u)))),"rtl"==t?M.reverse():M}}();function me(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var pe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var a=e._handlers||(e._handlers={});a[t]=(a[t]||pe).concat(n)}};function fe(e,t){return e._handlers&&e._handlers[t]||pe}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var a=e._handlers,r=a&&a[t];if(r){var o=B(r,n);o>-1&&(a[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function be(e,t){var n=fe(e,t);if(n.length)for(var a=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,a)}function ve(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),be(e,n||t.type,e,t),ke(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),a=0;a<t.length;++a)-1==B(n,t[a])&&n.push(t[a])}function xe(e,t){return fe(e,t).length>0}function Ee(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function we(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ke(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ce(e){we(e),Se(e)}function Oe(e){return e.target||e.srcElement}function De(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var Te,je,Ie=function(){if(i&&s<9)return!1;var e=j("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==Te){var t=j("span","​");T(e,j("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Te=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&s<8))}var n=Te?j("span","​"):j("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Re(e){if(null!=je)return je;var t=T(e,document.createTextNode("AخA")),n=C(t,0,1).getBoundingClientRect(),a=C(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(je=a.right-n.right<3)}var Ae,Fe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],a=e.length;t<=a;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),i=o.indexOf("\r");-1!=i?(n.push(o.slice(0,i)),t+=i+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},_e=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Me="oncopy"in(Ae=j("div"))||(Ae.setAttribute("oncopy","return;"),"function"==typeof Ae.oncopy),Le=null;function Pe(e){if(null!=Le)return Le;var t=T(e,j("span","x")),n=t.getBoundingClientRect(),a=C(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-a.left)>1}var $e={},Be={};function ze(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),$e[e]=t}function qe(e,t){Be[e]=t}function He(e){if("string"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&"string"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=He(t);var n=$e[t.name];if(!n)return Ve(e,"text/plain");var a=n(e,t);if(Ue.hasOwnProperty(t.name)){var r=Ue[t.name];for(var o in r)r.hasOwnProperty(o)&&(a.hasOwnProperty(o)&&(a["_"+o]=a[o]),a[o]=r[o])}if(a.name=t.name,t.helperType&&(a.helperType=t.helperType),t.modeProps)for(var i in t.modeProps)a[i]=t.modeProps[i];return a}var Ue={};function We(e,t){L(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var a in t){var r=t[a];r instanceof Array&&(r=r.concat([])),n[a]=r}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Ze=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var a=0;;++a){var r=n.children[a],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function Xe(e,t,n){var a=[],r=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),a.push(o),++r})),a}function Je(e,t,n){var a=[];return e.iter(t,n,(function(e){a.push(e.text)})),a}function et(e,t){var n=t-e.height;if(n)for(var a=e;a;a=a.parent)a.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),a=t.parent;a;t=a,a=a.parent)for(var r=0;a.children[r]!=t;++r)n+=a.children[r].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var a=0;a<e.children.length;++a){var r=e.children[a],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i].height;if(t<s)break;t-=s}return n+i}function at(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function it(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==it(e,t)}function lt(e){return ot(e.line,e.ch)}function ct(e,t){return it(e,t)<0?t:e}function ut(e,t){return it(e,t)<0?e:t}function dt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Qe(e,n).text.length):pt(t,Qe(e,t.line).text.length)}function pt(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function ht(e,t){for(var n=[],a=0;a<t.length;a++)n[a]=mt(e,t[a]);return n}Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ze.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ze.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ze.prototype.backUp=function(e){this.pos-=e},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(e,t,n){if("string"!=typeof e){var a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&!1!==t&&(this.pos+=a[0].length),a)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ze.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ze.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ft=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,a){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};function bt(e,t,n,a){var r=[e.state.modeGen],o={};Ot(e,t.text,e.doc.mode,n,(function(e,t){return r.push(e,t)}),o,a);for(var i=n.state,s=function(a){n.baseTokens=r;var s=e.state.overlays[a],l=1,c=0;n.state=!0,Ot(e,t.text,s.mode,n,(function(e,t){for(var n=l;c<e;){var a=r[l];a>e&&r.splice(l,1,e,r[l+1],a),l+=2,c=Math.min(e,a)}if(t)if(s.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=i,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var a=yt(e,tt(t)),r=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,a.state),o=bt(e,t,a);r&&(a.state=r),t.stateAfter=a.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var a=e.doc,r=e.display;if(!a.mode.startState)return new gt(a,!0,t);var o=Dt(e,t,n),i=o>a.first&&Qe(a,o-1).stateAfter,s=i?gt.fromSaved(a,i,o):new gt(a,Ye(a.mode),o);return a.iter(o,t,(function(n){xt(e,n.text,s);var a=s.line;n.stateAfter=a==t-1||a%5==0||a>=r.viewFrom&&a<r.viewTo?s.save():null,s.nextLine()})),n&&(a.modeFrontier=s.line),s}function xt(e,t,n,a){var r=e.doc.mode,o=new Ze(t,e.options.tabSize,n);for(o.start=o.pos=a||0,""==t&&Et(r,n.state);!o.eol();)wt(r,o,n.state),o.start=o.pos}function Et(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function wt(e,t,n,a){for(var r=0;r<10;r++){a&&(a[0]=Ke(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof ft?new gt(e,Ge(e.mode,t.state),n,t.lookAhead):new gt(e,Ge(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ft(t,this.maxLookAhead):t};var St=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function kt(e,t,n,a){var r,o,i=e.doc,s=i.mode,l=Qe(i,(t=mt(i,t)).line),c=yt(e,t.line,n),u=new Ze(l.text,e.options.tabSize,c);for(a&&(o=[]);(a||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=wt(s,u,c.state),a&&o.push(new St(u,r,Ge(i.mode,c.state)));return a?o:new St(u,r,c.state)}function Ct(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var a=n[1]?"bgClass":"textClass";null==t[a]?t[a]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[a])||(t[a]+=" "+n[2])}return e}function Ot(e,t,n,a,r,o,i){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Ze(t,e.options.tabSize,a),m=e.options.addModeClass&&[null];for(""==t&&Ct(Et(n,a.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,i&&xt(e,t,a,d.pos),d.pos=t.length,l=null):l=Ct(wt(n,d,a.state,m),o),m){var p=m[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e3);r(h,u),c=h}}function Dt(e,t,n){for(var a,r,o=e.doc,i=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>i;--s){if(s<=o.first)return o.first;var l=Qe(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ft?c.lookAhead:0)<=o.modeFrontier))return s;var u=P(l.text,null,e.options.tabSize);(null==r||a>u)&&(r=s-1,a=u)}return r}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,a=t-1;a>n;a--){var r=Qe(e,a).stateAfter;if(r&&(!(r instanceof ft)||a+r.lookAhead<t)){n=a+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var jt=!1,It=!1;function Nt(){jt=!0}function Rt(){It=!0}function At(e,t,n){this.marker=e,this.from=t,this.to=n}function Ft(e,t){if(e)for(var n=0;n<e.length;++n){var a=e[n];if(a.marker==t)return a}}function _t(e,t){for(var n,a=0;a<e.length;++a)e[a]!=t&&(n||(n=[])).push(e[a]);return n}function Mt(e,t,n){var a=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));a&&a.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],a&&a.add(e.markedSpans)),t.marker.attachLine(e)}function Lt(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==i.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(i.inclusiveRight?o.to>=t:o.to>t);(a||(a=[])).push(new At(i,o.from,s?null:o.to))}}return a}function Pt(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.to||(i.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==i.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t);(a||(a=[])).push(new At(i,s?null:o.from-t,null==o.to?null:o.to-t))}}return a}function $t(e,t){if(t.full)return null;var n=at(e,t.from.line)&&Qe(e,t.from.line).markedSpans,a=at(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!n&&!a)return null;var r=t.from.ch,o=t.to.ch,i=0==it(t.from,t.to),s=Lt(n,r,i),l=Pt(a,o,i),c=1==t.text.length,u=Y(t.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){var m=s[d];if(null==m.to){var p=Ft(l,m.marker);p?c&&(m.to=null==p.to?null:p.to+u):m.to=r}}if(l)for(var h=0;h<l.length;++h){var f=l[h];null!=f.to&&(f.to+=u),null==f.from?Ft(s,f.marker)||(f.from=u,c&&(s||(s=[])).push(f)):(f.from+=u,c&&(s||(s=[])).push(f))}s&&(s=Bt(s)),l&&l!=s&&(l=Bt(l));var g=[s];if(!c){var b,v=t.text.length-2;if(v>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(b||(b=[])).push(new At(s[y].marker,null,null));for(var x=0;x<v;++x)g.push(b);g.push(l)}return g}function Bt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function zt(e,t,n){var a=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||a&&-1!=B(a,n)||(a||(a=[])).push(n)}})),!a)return null;for(var r=[{from:t,to:n}],o=0;o<a.length;++o)for(var i=a[o],s=i.find(0),l=0;l<r.length;++l){var c=r[l];if(!(it(c.to,s.from)<0||it(c.from,s.to)>0)){var u=[l,1],d=it(c.from,s.from),m=it(c.to,s.to);(d<0||!i.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(m>0||!i.inclusiveRight&&!m)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}function qt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function Wt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var a=e.find(),r=t.find(),o=it(a.from,r.from)||Vt(e)-Vt(t);if(o)return-o;var i=it(a.to,r.to)||Ut(e)-Ut(t);return i||t.id-e.id}function Gt(e,t){var n,a=It&&e.markedSpans;if(a)for(var r=void 0,o=0;o<a.length;++o)(r=a[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Wt(n,r.marker)<0)&&(n=r.marker);return n}function Kt(e){return Gt(e,!0)}function Yt(e){return Gt(e,!1)}function Zt(e,t){var n,a=It&&e.markedSpans;if(a)for(var r=0;r<a.length;++r){var o=a[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Wt(n,o.marker)<0)&&(n=o.marker)}return n}function Qt(e,t,n,a,r){var o=Qe(e,t),i=It&&o.markedSpans;if(i)for(var s=0;s<i.length;++s){var l=i[s];if(l.marker.collapsed){var c=l.marker.find(0),u=it(c.from,n)||Vt(l.marker)-Vt(r),d=it(c.to,a)||Ut(l.marker)-Ut(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?it(c.to,n)>=0:it(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?it(c.from,a)<=0:it(c.from,a)<0)))return!0}}}function Xt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function Jt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=Qe(e,t),a=Xt(n);return n==a?t:tt(a)}function nn(e,t){if(t>e.lastLine())return t;var n,a=Qe(e,t);if(!an(e,a))return t;for(;n=Yt(a);)a=n.find(1,!0).line;return tt(a)+1}function an(e,t){var n=It&&t.markedSpans;if(n)for(var a=void 0,r=0;r<n.length;++r)if((a=n[r]).marker.collapsed){if(null==a.from)return!0;if(!a.marker.widgetNode&&0==a.from&&a.marker.inclusiveLeft&&rn(e,t,a))return!0}}function rn(e,t,n){if(null==n.to){var a=n.marker.find(1,!0);return rn(e,a.line,Ft(a.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,r))return!0}function on(e){for(var t=0,n=(e=Xt(e)).parent,a=0;a<n.lines.length;++a){var r=n.lines[a];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t,n=e.text.length,a=e;t=Kt(a);){var r=t.find(0,!0);a=r.from.line,n+=r.from.ch-r.to.ch}for(a=e;t=Yt(a);){var o=t.find(0,!0);n-=a.text.length-o.from.ch,n+=(a=o.to.line).text.length-o.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Qe(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var cn=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function un(e,t,n,a){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),qt(e),Ht(e,n);var r=a?a(e):1;r!=e.height&&et(e,r)}function dn(e){e.parent=null,qt(e)}cn.prototype.lineNo=function(){return tt(this)},Ee(cn);var mn={},pn={};function hn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?pn:mn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function fn(e,t){var n=I("span",null,null,l?"padding-right: .1px":null),a={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,i=void 0;a.pos=0,a.addToken=bn,Re(e.display.measure)&&(i=me(o,e.doc.direction))&&(a.addToken=yn(a.addToken,i)),a.map=[],En(o,a,vt(e,o,t!=e.display.externalMeasured&&tt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(a.bgClass=F(o.styleClasses.bgClass,a.bgClass||"")),o.styleClasses.textClass&&(a.textClass=F(o.styleClasses.textClass,a.textClass||""))),0==a.map.length&&a.map.push(0,0,a.content.appendChild(Ne(e.display.measure))),0==r?(t.measure.map=a.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(a.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=a.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return be(e,"renderLine",e,t.line,a.pre),a.pre.className&&(a.textClass=F(a.pre.className,a.textClass||"")),a}function gn(e){var t=j("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function bn(e,t,n,a,r,o,l){if(t){var c,u=e.splitSpaces?vn(t,e.trailingSpace):t,d=e.cm.state.specialChars,m=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),f=h?h.index-p:t.length-p;if(f){var g=document.createTextNode(u.slice(p,p+f));i&&s<9?c.appendChild(j("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+f,g),e.col+=f,e.pos+=f}if(!h)break;p+=f+1;var b=void 0;if("\t"==h[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(b=c.appendChild(j("span",K(y),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?((b=c.appendChild(j("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),i&&s<9?c.appendChild(j("span",[b])):c.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),i&&s<9&&(m=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||a||r||m||o||l){var x=n||"";a&&(x+=a),r&&(x+=r);var E=j("span",[c],x,o);if(l)for(var w in l)l.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&E.setAttribute(w,l[w]);return e.content.appendChild(E)}e.content.appendChild(c)}}function vn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,a="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),a+=o,n=" "==o}return a}function yn(e,t){return function(n,a,r,o,i,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+a.length;;){for(var d=void 0,m=0;m<t.length&&!((d=t[m]).to>c&&d.from<=c);m++);if(d.to>=u)return e(n,a,r,o,i,s,l);e(n,a.slice(0,d.to-c),r,o,null,s,l),o=null,a=a.slice(d.to-c),c=d.to}}}function xn(e,t,n,a){var r=!a&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!a&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function En(e,t,n){var a=e.markedSpans,r=e.text,o=0;if(a)for(var i,s,l,c,u,d,m,p=r.length,h=0,f=1,g="",b=0;;){if(b==h){l=c=u=s="",m=null,d=null,b=1/0;for(var v=[],y=void 0,x=0;x<a.length;++x){var E=a[x],w=E.marker;if("bookmark"==w.type&&E.from==h&&w.widgetNode)v.push(w);else if(E.from<=h&&(null==E.to||E.to>h||w.collapsed&&E.to==h&&E.from==h)){if(null!=E.to&&E.to!=h&&b>E.to&&(b=E.to,c=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&E.from==h&&(u+=" "+w.startStyle),w.endStyle&&E.to==b&&(y||(y=[])).push(w.endStyle,E.to),w.title&&((m||(m={})).title=w.title),w.attributes)for(var S in w.attributes)(m||(m={}))[S]=w.attributes[S];w.collapsed&&(!d||Wt(d.marker,w)<0)&&(d=E)}else E.from>h&&b>E.from&&(b=E.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==b&&(c+=" "+y[k]);if(!d||d.from==h)for(var C=0;C<v.length;++C)xn(t,0,v[C]);if(d&&(d.from||0)==h){if(xn(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var O=Math.min(p,b);;){if(g){var D=h+g.length;if(!d){var T=D>O?g.slice(0,O-h):g;t.addToken(t,T,i?i+l:l,u,h+T.length==b?c:"",s,m)}if(D>=O){g=g.slice(O-h),h=O;break}h=D,u=""}g=r.slice(o,o=n[f++]),i=hn(n[f++],t.cm.options)}}else for(var j=1;j<n.length;j+=2)t.addToken(t,r.slice(o,o=n[j]),hn(n[j+1],t.cm.options))}function wn(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=an(e,t)}function Sn(e,t,n){for(var a,r=[],o=t;o<n;o=a){var i=new wn(e.doc,Qe(e.doc,o),o);a=o+i.size,r.push(i)}return r}var kn=null;function Cn(e){kn?kn.ops.push(e):e.ownsGroup=kn={ops:[e],delayedCallbacks:[]}}function On(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var a=0;a<e.ops.length;a++){var r=e.ops[a];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function Dn(e,t){var n=e.ownsGroup;if(n)try{On(n)}finally{kn=null,t(n)}}var Tn=null;function jn(e,t){var n=fe(e,t);if(n.length){var a,r=Array.prototype.slice.call(arguments,2);kn?a=kn.delayedCallbacks:Tn?a=Tn:(a=Tn=[],setTimeout(In,0));for(var o=function(e){a.push((function(){return n[e].apply(null,r)}))},i=0;i<n.length;++i)o(i)}}function In(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function Nn(e,t,n,a){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?_n(e,t):"gutter"==o?Ln(e,t,n,a):"class"==o?Mn(e,t):"widget"==o&&Pn(e,t,a)}t.changes=null}function Rn(e){return e.node==e.text&&(e.node=j("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),i&&s<8&&(e.node.style.zIndex=2)),e.node}function An(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var a=Rn(t);t.background=a.insertBefore(j("div",null,n),a.firstChild),e.display.input.setUneditable(t.background)}}function Fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):fn(e,t)}function _n(e,t){var n=t.text.className,a=Fn(e,t);t.text==t.node&&(t.node=a.pre),t.text.parentNode.replaceChild(a.pre,t.text),t.text=a.pre,a.bgClass!=t.bgClass||a.textClass!=t.textClass?(t.bgClass=a.bgClass,t.textClass=a.textClass,Mn(e,t)):n&&(t.text.className=n)}function Mn(e,t){An(e,t),t.line.wrapClass?Rn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ln(e,t,n,a){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=Rn(t);t.gutterBackground=j("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=Rn(t),s=t.gutter=j("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(j("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(j("div",[u],"CodeMirror-gutter-elt","left: "+a.gutterLeft[c]+"px; width: "+a.gutterWidth[c]+"px"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var a=k("CodeMirror-linewidget"),r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,a.test(r.className)&&t.node.removeChild(r);Bn(e,t,n)}function $n(e,t,n,a){var r=Fn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Mn(e,t),Ln(e,t,n,a),Bn(e,t,a),t.node}function Bn(e,t,n){if(zn(e,t.line,t,n,!0),t.rest)for(var a=0;a<t.rest.length;a++)zn(e,t.rest[a],t,n,!1)}function zn(e,t,n,a,r){if(t.widgets)for(var o=Rn(n),i=0,s=t.widgets;i<s.length;++i){var l=s[i],c=j("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),qn(l,c,n,a),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),jn(l,"redraw")}}function qn(e,t,n,a){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=a.wrapperWidth;t.style.left=a.fixedPos+"px",e.coverGutter||(r-=a.gutterTotalWidth,t.style.paddingLeft=a.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-a.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,j("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function Wn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,j("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,a={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(a.left)||isNaN(a.right)||(e.cachedPaddingH=a),a}function Kn(e){return z-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Zn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Qn(e,t,n){var a=e.options.lineWrapping,r=a&&Yn(e);if(!t.measure.heights||a&&t.measure.width!=r){var o=t.measure.heights=[];if(a){t.measure.width=r;for(var i=t.text.firstChild.getClientRects(),s=0;s<i.length-1;s++){var l=i[s],c=i[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var a=0;a<e.rest.length;a++)if(e.rest[a]==t)return{map:e.measure.maps[a],cache:e.measure.caches[a]};for(var r=0;r<e.rest.length;r++)if(tt(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}}function Jn(e,t){var n=tt(t=Xt(t)),a=e.display.externalMeasured=new wn(e.doc,t,n);a.lineN=n;var r=a.built=fn(e,a);return a.text=r.pre,T(e.display.lineMeasure,r.pre),a}function ea(e,t,n,a){return aa(e,na(e,t),n,a)}function ta(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ma(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function na(e,t){var n=tt(t),a=ta(e,n);a&&!a.text?a=null:a&&a.changes&&(Nn(e,a,n,Na(e)),e.curOp.forceUpdate=!0),a||(a=Jn(e,t));var r=Xn(a,t,n);return{line:t,view:a,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function aa(e,t,n,a,r){t.before&&(n=-1);var o,i=n+(a||"");return t.cache.hasOwnProperty(i)?o=t.cache[i]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Qn(e,t.view,t.rect),t.hasHeights=!0),(o=la(e,t,n,a)).bogus||(t.cache[i]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var ra,oa={left:0,right:0,top:0,bottom:0};function ia(e,t,n){for(var a,r,o,i,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,i="left"):t<l?o=1+(r=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-s)-1,t>=l&&(i="right")),null!=r){if(a=e[c+2],s==l&&n==(a.insertLeft?"left":"right")&&(i=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)a=e[2+(c-=3)],i="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)a=e[(c+=3)+2],i="right";break}return{node:a,start:r,end:o,collapse:i,coverStart:s,coverEnd:l}}function sa(e,t){var n=oa;if("left"==t)for(var a=0;a<e.length&&(n=e[a]).left==n.right;a++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function la(e,t,n,a){var r,o=ia(t.map,n,a),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var m=0;m<4;m++){for(;c&&oe(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u));)++u;if((r=i&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():sa(C(l,c,u).getClientRects(),a)).left||r.right||0==c)break;u=c,c-=1,d="right"}i&&s<11&&(r=ca(e.display.measure,r))}else{var p;c>0&&(d=a="right"),r=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==a?p.length-1:0]:l.getBoundingClientRect()}if(i&&s<9&&!c&&(!r||!r.left&&!r.right)){var h=l.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+Ia(e.display),top:h.top,bottom:h.bottom}:oa}for(var f=r.top-t.rect.top,g=r.bottom-t.rect.top,b=(f+g)/2,v=t.view.measure.heights,y=0;y<v.length-1&&!(b<v[y]);y++);var x=y?v[y-1]:0,E=v[y],w={left:("right"==d?r.right:r.left)-t.rect.left,right:("left"==d?r.left:r.right)-t.rect.left,top:x,bottom:E};return r.left||r.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=g),w}function ca(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*a,bottom:t.bottom*a}}function ua(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function da(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ua(e.display.view[t])}function ma(e){da(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pa(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ha(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function fa(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function ga(e,t,n,a,r){if(!r){var o=fa(t);n.top+=o,n.bottom+=o}if("line"==a)return n;a||(a="local");var i=on(t);if("local"==a?i+=Un(e.display):i-=e.display.viewOffset,"page"==a||"window"==a){var s=e.display.lineSpace.getBoundingClientRect();i+=s.top+("window"==a?0:ha());var l=s.left+("window"==a?0:pa());n.left+=l,n.right+=l}return n.top+=i,n.bottom+=i,n}function ba(e,t,n){if("div"==n)return t;var a=t.left,r=t.top;if("page"==n)a-=pa(),r-=ha();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();a+=o.left,r+=o.top}var i=e.display.lineSpace.getBoundingClientRect();return{left:a-i.left,top:r-i.top}}function va(e,t,n,a,r){return a||(a=Qe(e.doc,t.line)),ga(e,a,ea(e,a,t.ch,r),n)}function ya(e,t,n,a,r,o){function i(t,i){var s=aa(e,r,t,i?"right":"left",o);return i?s.left=s.right:s.right=s.left,ga(e,a,s,n)}a=a||Qe(e.doc,t.line),r||(r=na(e,a));var s=me(a,e.doc.direction),l=t.ch,c=t.sticky;if(l>=a.text.length?(l=a.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return i("before"==c?l-1:l,"before"==c);function u(e,t,n){return i(n?e-1:e,1==s[t].level!=n)}var d=ue(s,l,c),m=ce,p=u(l,d,"before"==c);return null!=m&&(p.other=u(l,m,"before"!=c)),p}function xa(e,t){var n=0;t=mt(e.doc,t),e.options.lineWrapping||(n=Ia(e.display)*t.ch);var a=Qe(e.doc,t.line),r=on(a)+Un(e.display);return{left:n,right:n,top:r,bottom:r+a.height}}function Ea(e,t,n,a,r){var o=ot(e,t,n);return o.xRel=r,a&&(o.outside=a),o}function wa(e,t,n){var a=e.doc;if((n+=e.display.viewOffset)<0)return Ea(a.first,0,null,-1,-1);var r=nt(a,n),o=a.first+a.size-1;if(r>o)return Ea(a.first+a.size-1,Qe(a,o).text.length,null,1,1);t<0&&(t=0);for(var i=Qe(a,r);;){var s=Oa(e,i,r,t,n),l=Zt(i,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;i=Qe(a,r=c.line)}}function Sa(e,t,n,a){a-=fa(t);var r=t.text.length,o=se((function(t){return aa(e,n,t-1).bottom<=a}),r,0);return{begin:o,end:r=se((function(t){return aa(e,n,t).top>a}),o,r)}}function ka(e,t,n,a){return n||(n=na(e,t)),Sa(e,t,n,ga(e,t,aa(e,n,a),"line").top)}function Ca(e,t,n,a){return!(e.bottom<=n)&&(e.top>n||(a?e.left:e.right)>t)}function Oa(e,t,n,a,r){r-=on(t);var o=na(e,t),i=fa(t),s=0,l=t.text.length,c=!0,u=me(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Ta:Da)(e,t,n,o,u,a,r);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var m,p,h=null,f=null,g=se((function(t){var n=aa(e,o,t);return n.top+=i,n.bottom+=i,!!Ca(n,a,r,!1)&&(n.top<=r&&n.left<=a&&(h=t,f=n),!0)}),s,l),b=!1;if(f){var v=a-f.left<f.right-a,y=v==c;g=h+(y?0:1),p=y?"after":"before",m=v?f.left:f.right}else{c||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":aa(e,o,g-(c?1:0)).bottom+i<=r==c?"after":"before";var x=ya(e,ot(n,g,p),"line",t,o);m=x.left,b=r<x.top?-1:r>=x.bottom?1:0}return Ea(n,g=ie(t.text,g,1),p,b,a-m)}function Da(e,t,n,a,r,o,i){var s=se((function(s){var l=r[s],c=1!=l.level;return Ca(ya(e,ot(n,c?l.to:l.from,c?"before":"after"),"line",t,a),o,i,!0)}),0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=ya(e,ot(n,c?l.from:l.to,c?"after":"before"),"line",t,a);Ca(u,o,i,!0)&&u.top>i&&(l=r[s-1])}return l}function Ta(e,t,n,a,r,o,i){var s=Sa(e,t,a,i),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,m=0;m<r.length;m++){var p=r[m];if(!(p.from>=c||p.to<=l)){var h=aa(e,a,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,f=h<o?o-h+1e9:h-o;(!u||d>f)&&(u=p,d=f)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function ja(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ra){ra=j("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ra.appendChild(document.createTextNode("x")),ra.appendChild(j("br"));ra.appendChild(document.createTextNode("x"))}T(e.measure,ra);var n=ra.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function Ia(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=j("span","xxxxxxxxxx"),n=j("pre",[t],"CodeMirror-line-like");T(e.measure,n);var a=t.getBoundingClientRect(),r=(a.right-a.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function Na(e){for(var t=e.display,n={},a={},r=t.gutters.clientLeft,o=t.gutters.firstChild,i=0;o;o=o.nextSibling,++i){var s=e.display.gutterSpecs[i].className;n[s]=o.offsetLeft+o.clientLeft+r,a[s]=o.clientWidth}return{fixedPos:Ra(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:a,wrapperWidth:t.wrapper.clientWidth}}function Ra(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Aa(e){var t=ja(e.display),n=e.options.lineWrapping,a=n&&Math.max(5,e.display.scroller.clientWidth/Ia(e.display)-3);return function(r){if(an(e.doc,r))return 0;var o=0;if(r.widgets)for(var i=0;i<r.widgets.length;i++)r.widgets[i].height&&(o+=r.widgets[i].height);return n?o+(Math.ceil(r.text.length/a)||1)*t:o+t}}function Fa(e){var t=e.doc,n=Aa(e);t.iter((function(e){var t=n(e);t!=e.height&&et(e,t)}))}function _a(e,t,n,a){var r=e.display;if(!n&&"true"==Oe(t).getAttribute("cm-not-content"))return null;var o,i,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,i=t.clientY-s.top}catch(e){return null}var l,c=wa(e,o,i);if(a&&c.xRel>0&&(l=Qe(e.doc,c.line).text).length==c.ch){var u=P(l,l.length,e.options.tabSize)-l.length;c=ot(c.line,Math.max(0,Math.round((o-Gn(e.display).left)/Ia(e.display))-u))}return c}function Ma(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,a=0;a<n.length;a++)if((t-=n[a].size)<0)return a}function La(e,t,n,a){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),a||(a=0);var r=e.display;if(a&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)It&&tn(e.doc,t)<r.viewTo&&$a(e);else if(n<=r.viewFrom)It&&nn(e.doc,n+a)>r.viewFrom?$a(e):(r.viewFrom+=a,r.viewTo+=a);else if(t<=r.viewFrom&&n>=r.viewTo)$a(e);else if(t<=r.viewFrom){var o=Ba(e,n,n+a,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=a):$a(e)}else if(n>=r.viewTo){var i=Ba(e,t,t,-1);i?(r.view=r.view.slice(0,i.index),r.viewTo=i.lineN):$a(e)}else{var s=Ba(e,t,t,-1),l=Ba(e,n,n+a,1);s&&l?(r.view=r.view.slice(0,s.index).concat(Sn(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=a):$a(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=a:t<c.lineN+c.size&&(r.externalMeasured=null))}function Pa(e,t,n){e.curOp.viewChanged=!0;var a=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(a.externalMeasured=null),!(t<a.viewFrom||t>=a.viewTo)){var o=a.view[Ma(e,t)];if(null!=o.node){var i=o.changes||(o.changes=[]);-1==B(i,n)&&i.push(n)}}}function $a(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ba(e,t,n,a){var r,o=Ma(e,t),i=e.display.view;if(!It||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=i[l].size;if(s!=t){if(a>0){if(o==i.length-1)return null;r=s+i[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;tn(e.doc,n)!=n;){if(o==(a<0?0:i.length-1))return null;n+=a*i[o-(a<0?1:0)].size,o+=a}return{index:o,lineN:n}}function za(e,t,n){var a=e.display;0==a.view.length||t>=a.viewTo||n<=a.viewFrom?(a.view=Sn(e,t,n),a.viewFrom=t):(a.viewFrom>t?a.view=Sn(e,t,a.viewFrom).concat(a.view):a.viewFrom<t&&(a.view=a.view.slice(Ma(e,t))),a.viewFrom=t,a.viewTo<n?a.view=a.view.concat(Sn(e,a.viewTo,n)):a.viewTo>n&&(a.view=a.view.slice(0,Ma(e,n)))),a.viewTo=n}function qa(e){for(var t=e.display.view,n=0,a=0;a<t.length;a++){var r=t[a];r.hidden||r.node&&!r.changes||++n}return n}function Ha(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Va(e,t){void 0===t&&(t=!0);var n=e.doc,a={},r=a.cursors=document.createDocumentFragment(),o=a.selection=document.createDocumentFragment(),i=e.options.$customCursor;i&&(t=!0);for(var s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var l=n.sel.ranges[s];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();if(i){var u=i(e,l);u&&Ua(e,u,r)}else(c||e.options.showCursorWhenSelecting)&&Ua(e,l.head,r);c||Ga(e,l,o)}}return a}function Ua(e,t,n){var a=ya(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(j("div"," ","CodeMirror-cursor"));if(r.style.left=a.left+"px",r.style.top=a.top+"px",r.style.height=Math.max(0,a.bottom-a.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=va(e,t,"div",null,null),i=o.right-o.left;r.style.width=(i>0?i:e.defaultCharWidth())+"px"}if(a.other){var s=n.appendChild(j("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=a.other.left+"px",s.style.top=a.other.top+"px",s.style.height=.85*(a.other.bottom-a.other.top)+"px"}}function Wa(e,t){return e.top-t.top||e.left-t.left}function Ga(e,t,n){var a=e.display,r=e.doc,o=document.createDocumentFragment(),i=Gn(e.display),s=i.left,l=Math.max(a.sizerWidth,Yn(e)-a.sizer.offsetLeft)-i.right,c="ltr"==r.direction;function u(e,t,n,a){t<0&&(t=0),t=Math.round(t),a=Math.round(a),o.appendChild(j("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(a-t)+"px"))}function d(t,n,a){var o,i,d=Qe(r,t),m=d.text.length;function p(n,a){return va(e,ot(t,n),"div",d,a)}function h(t,n,a){var r=ka(e,d,null,t),o="ltr"==n==("after"==a)?"left":"right";return p("after"==a?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var f=me(d,r.direction);return le(f,n||0,null==a?m:a,(function(e,t,r,d){var g="ltr"==r,b=p(e,g?"left":"right"),v=p(t-1,g?"right":"left"),y=null==n&&0==e,x=null==a&&t==m,E=0==d,w=!f||d==f.length-1;if(v.top-b.top<=3){var S=(c?x:y)&&w,k=(c?y:x)&&E?s:(g?b:v).left,C=S?l:(g?v:b).right;u(k,b.top,C-k,b.bottom)}else{var O,D,T,j;g?(O=c&&y&&E?s:b.left,D=c?l:h(e,r,"before"),T=c?s:h(t,r,"after"),j=c&&x&&w?l:v.right):(O=c?h(e,r,"before"):s,D=!c&&y&&E?l:b.right,T=!c&&x&&w?s:v.left,j=c?h(t,r,"after"):l),u(O,b.top,D-O,b.bottom),b.bottom<v.top&&u(s,b.bottom,null,v.top),u(T,v.top,j-T,v.bottom)}(!o||Wa(b,o)<0)&&(o=b),Wa(v,o)<0&&(o=v),(!i||Wa(b,i)<0)&&(i=b),Wa(v,i)<0&&(i=v)})),{start:o,end:i}}var m=t.from(),p=t.to();if(m.line==p.line)d(m.line,m.ch,p.ch);else{var h=Qe(r,m.line),f=Qe(r,p.line),g=Xt(h)==Xt(f),b=d(m.line,m.ch,g?h.text.length+1:null).end,v=d(p.line,g?0:null,p.ch).start;g&&(b.top<v.top-2?(u(b.right,b.top,null,b.bottom),u(s,v.top,v.left,v.bottom)):u(b.right,b.top,v.left-b.right,b.bottom)),b.bottom<v.top&&u(s,b.bottom,null,v.top)}n.appendChild(o)}function Ka(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Xa(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ya(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qa(e))}function Za(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Xa(e))}),100)}function Qa(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(be(e,"focus",e,t),e.state.focused=!0,A(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Ka(e))}function Xa(e,t){e.state.delayingBlurEvent||(e.state.focused&&(be(e,"blur",e,t),e.state.focused=!1,O(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Ja(e){for(var t=e.display,n=t.lineDiv.offsetTop,a=Math.max(0,t.scroller.getBoundingClientRect().top),r=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var c=t.view[l],u=e.options.lineWrapping,d=void 0,m=0;if(!c.hidden){if(r+=c.line.height,i&&s<8){var p=c.node.offsetTop+c.node.offsetHeight;d=p-n,n=p}else{var h=c.node.getBoundingClientRect();d=h.bottom-h.top,!u&&c.text.firstChild&&(m=c.text.firstChild.getBoundingClientRect().right-h.left-1)}var f=c.line.height-d;if((f>.005||f<-.005)&&(r<a&&(o-=f),et(c.line,d),er(c.line),c.rest))for(var g=0;g<c.rest.length;g++)er(c.rest[g]);if(m>e.display.sizerWidth){var b=Math.ceil(m/Ia(e.display));b>e.display.maxLineLength&&(e.display.maxLineLength=b,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function er(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],a=n.node.parentNode;a&&(n.height=a.offsetHeight)}}function tr(e,t,n){var a=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;a=Math.floor(a-Un(e));var r=n&&null!=n.bottom?n.bottom:a+e.wrapper.clientHeight,o=nt(t,a),i=nt(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,i=nt(t,on(Qe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=i&&(o=nt(t,on(Qe(t,l))-e.wrapper.clientHeight),i=l)}return{from:o,to:Math.max(i,o+1)}}function nr(e,t){if(!ve(e,"scrollCursorIntoView")){var n=e.display,a=n.sizer.getBoundingClientRect(),r=null;if(t.top+a.top<0?r=!0:t.bottom+a.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!h){var o=j("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function ar(e,t,n,a){var r;null==a&&(a=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?ot(t.line,t.ch+1,"before"):t,t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var i=!1,s=ya(e,t),l=n&&n!=t?ya(e,n):s,c=or(e,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-a,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+a}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(mr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(i=!0)),null!=c.scrollLeft&&(hr(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(i=!0)),!i)break}return r}function rr(e,t){var n=or(e,t);null!=n.scrollTop&&mr(e,n.scrollTop),null!=n.scrollLeft&&hr(e,n.scrollLeft)}function or(e,t){var n=e.display,a=ja(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Zn(e),i={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Wn(n),l=t.top<a,c=t.bottom>s-a;if(t.top<r)i.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(i.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,m=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Yn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?i.scrollLeft=0:t.left<m?i.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+m-3&&(i.scrollLeft=t.right+(h?0:10)-p),i}function ir(e,t){null!=t&&(ur(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function sr(e){ur(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lr(e,t,n){null==t&&null==n||ur(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function cr(e,t){ur(e),e.curOp.scrollToPos=t}function ur(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,dr(e,xa(e,t.from),xa(e,t.to),t.margin))}function dr(e,t,n,a){var r=or(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-a,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+a});lr(e,r.scrollLeft,r.scrollTop)}function mr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Hr(e,{top:t}),pr(e,t,!0),n&&Hr(e),_r(e,100))}function pr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hr(e,t,n,a){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!a||(e.doc.scrollLeft=t,Gr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function fr(e){var t=e.display,n=t.gutters.offsetWidth,a=Math.round(e.doc.height+Wn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:a,scrollHeight:a+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gr=function(e,t,n){this.cm=n;var a=this.vert=j("div",[j("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=j("div",[j("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=r.tabIndex=-1,e(a),e(r),he(a,"scroll",(function(){a.clientHeight&&t(a.scrollTop,"vertical")})),he(r,"scroll",(function(){r.clientWidth&&t(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,i&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,a=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?a+"px":"0";var r=e.viewHeight-(t?a:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?a+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?a:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==a&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?a:0,bottom:t?a:0}},gr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gr.prototype.zeroWidthHack=function(){var e=v&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new $,this.disableVert=new $},gr.prototype.enableZeroWidthBar=function(e,t,n){function a(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,a)}e.style.pointerEvents="auto",t.set(1e3,a)},gr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var br=function(){};function vr(e,t){t||(t=fr(e));var n=e.display.barWidth,a=e.display.barHeight;yr(e,t);for(var r=0;r<4&&n!=e.display.barWidth||a!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Ja(e),yr(e,fr(e)),n=e.display.barWidth,a=e.display.barHeight}function yr(e,t){var n=e.display,a=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=a.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=a.bottom)+"px",n.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=a.bottom+"px",n.scrollbarFiller.style.width=a.right+"px"):n.scrollbarFiller.style.display="",a.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=a.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}br.prototype.update=function(){return{bottom:0,right:0}},br.prototype.setScrollLeft=function(){},br.prototype.setScrollTop=function(){},br.prototype.clear=function(){};var xr={native:gr,null:br};function Er(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new xr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?hr(e,t):mr(e,t)}),e),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)}var wr=0;function Sr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wr,markArrays:null},Cn(e.curOp)}function kr(e){var t=e.curOp;t&&Dn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Cr(e)}))}function Cr(e){for(var t=e.ops,n=0;n<t.length;n++)Or(t[n]);for(var a=0;a<t.length;a++)Dr(t[a]);for(var r=0;r<t.length;r++)Tr(t[r]);for(var o=0;o<t.length;o++)jr(t[o]);for(var i=0;i<t.length;i++)Ir(t[i])}function Or(e){var t=e.cm,n=t.display;Pr(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Lr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Dr(e){e.updatedDisplay=e.mustUpdate&&zr(e.cm,e.update)}function Tr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Ja(t),e.barMeasure=fr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ea(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function jr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vr(t,e.barMeasure),e.updatedDisplay&&Wr(t,e.barMeasure),e.selectionChanged&&Ka(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ya(e.cm)}function Ir(e){var t=e.cm,n=t.display,a=t.doc;e.updatedDisplay&&qr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&pr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hr(t,e.scrollLeft,!0,!0),e.scrollToPos&&nr(t,ar(t,mt(a,e.scrollToPos.from),mt(a,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var i=0;i<r.length;++i)r[i].lines.length||be(r[i],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&be(o[s],"unhide");n.wrapper.offsetHeight&&(a.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&be(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Nr(e,t){if(e.curOp)return t();Sr(e);try{return t()}finally{kr(e)}}function Rr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Sr(e);try{return t.apply(e,arguments)}finally{kr(e)}}}function Ar(e){return function(){if(this.curOp)return e.apply(this,arguments);Sr(this);try{return e.apply(this,arguments)}finally{kr(this)}}}function Fr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Sr(t);try{return e.apply(this,arguments)}finally{kr(t)}}}function _r(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,M(Mr,e))}function Mr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,a=yt(e,t.highlightFrontier),r=[];t.iter(a.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(a.line>=e.display.viewFrom){var i=o.styles,s=o.text.length>e.options.maxHighlightLength?Ge(t.mode,a.state):null,l=bt(e,o,a,!0);s&&(a.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!i||i.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),m=0;!d&&m<i.length;++m)d=i[m]!=o.styles[m];d&&r.push(a.line),o.stateAfter=a.save(),a.nextLine()}else o.text.length<=e.options.maxHighlightLength&&xt(e,o.text,a),o.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>n)return _r(e,e.options.workDelay),!0})),t.highlightFrontier=a.line,t.modeFrontier=Math.max(t.modeFrontier,a.line),r.length&&Nr(e,(function(){for(var t=0;t<r.length;t++)Pa(e,r[t],"text")}))}}var Lr=function(e,t,n){var a=e.display;this.viewport=t,this.visible=tr(a,e.doc,t),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Na(e),this.events=[]};function Pr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function $r(e){if(e.hasFocus())return null;var t=R();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var a=window.getSelection();a.anchorNode&&a.extend&&N(e.display.lineDiv,a.anchorNode)&&(n.anchorNode=a.anchorNode,n.anchorOffset=a.anchorOffset,n.focusNode=a.focusNode,n.focusOffset=a.focusOffset)}return n}function Br(e){if(e&&e.activeElt&&e.activeElt!=R()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function zr(e,t){var n=e.display,a=e.doc;if(t.editorIsHidden)return $a(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==qa(e))return!1;Kr(e)&&($a(e),t.dims=Na(e));var r=a.first+a.size,o=Math.max(t.visible.from-e.options.viewportMargin,a.first),i=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(a.first,n.viewFrom)),n.viewTo>i&&n.viewTo-i<20&&(i=Math.min(r,n.viewTo)),It&&(o=tn(e.doc,o),i=nn(e.doc,i));var s=o!=n.viewFrom||i!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;za(e,o,i),n.viewOffset=on(Qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=qa(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=$r(e);return l>4&&(n.lineDiv.style.display="none"),Vr(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Br(c),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,_r(e,400)),n.updateLineNumbers=null,!0}function qr(e,t){for(var n=t.viewport,a=!0;;a=!1){if(a&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))a&&(t.visible=tr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Wn(e.display)-Zn(e),n.top)}),t.visible=tr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!zr(e,t))break;Ja(e);var r=fr(e);Ha(e),vr(e,r),Wr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Hr(e,t){var n=new Lr(e,t);if(zr(e,n)){Ja(e),qr(e,n);var a=fr(e);Ha(e),vr(e,a),Wr(e,a),n.finish()}}function Vr(e,t,n){var a=e.display,r=e.options.lineNumbers,o=a.lineDiv,i=o.firstChild;function s(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=a.view,u=a.viewFrom,d=0;d<c.length;d++){var m=c[d];if(m.hidden);else if(m.node&&m.node.parentNode==o){for(;i!=m.node;)i=s(i);var p=r&&null!=t&&t<=u&&m.lineNumber;m.changes&&(B(m.changes,"gutter")>-1&&(p=!1),Nn(e,m,u,n)),p&&(D(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),i=m.node.nextSibling}else{var h=$n(e,m,u,n);o.insertBefore(h,i)}u+=m.size}for(;i;)i=s(i)}function Ur(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",jn(e,"gutterChanged",e)}function Wr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function Gr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var a=Ra(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=a+"px",i=0;i<n.length;i++)if(!n[i].hidden){e.options.fixedGutter&&(n[i].gutter&&(n[i].gutter.style.left=o),n[i].gutterBackground&&(n[i].gutterBackground.style.left=o));var s=n[i].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=a+r+"px")}}function Kr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),a=e.display;if(n.length!=a.lineNumChars){var r=a.measure.appendChild(j("div",[j("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,i=r.offsetWidth-o;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(o,a.lineGutter.offsetWidth-i)+1,a.lineNumWidth=a.lineNumInnerWidth+i,a.lineNumChars=a.lineNumInnerWidth?n.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",Ur(e.display),!0}return!1}function Yr(e,t){for(var n=[],a=!1,r=0;r<e.length;r++){var o=e[r],i=null;if("string"!=typeof o&&(i=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;a=!0}n.push({className:o,style:i})}return t&&!a&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Zr(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var a=0;a<n.length;++a){var r=n[a],o=r.className,i=r.style,s=t.appendChild(j("div",null,"CodeMirror-gutter "+o));i&&(s.style.cssText=i),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ur(e)}function Qr(e){Zr(e.display),La(e),Gr(e)}function Xr(e,t,a,r){var o=this;this.input=a,o.scrollbarFiller=j("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=j("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=I("div",null,"CodeMirror-code"),o.selectionDiv=j("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=j("div",null,"CodeMirror-cursors"),o.measure=j("div",null,"CodeMirror-measure"),o.lineMeasure=j("div",null,"CodeMirror-measure"),o.lineSpace=I("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=I("div",[o.lineSpace],"CodeMirror-lines");o.mover=j("div",[c],null,"position: relative"),o.sizer=j("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=j("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),o.gutters=j("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=j("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=j("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),i&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&b||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yr(r.gutters,r.lineNumbers),Zr(o),a.init(o)}Lr.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},Lr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)be.apply(null,this.events[e])};var Jr=0,eo=null;function to(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function no(e){var t=to(e);return t.x*=eo,t.y*=eo,t}function ao(e,t){var a=to(t),r=a.x,o=a.y,i=eo;0===t.deltaMode&&(r=t.deltaX,o=t.deltaY,i=1);var s=e.display,c=s.scroller,u=c.scrollWidth>c.clientWidth,m=c.scrollHeight>c.clientHeight;if(r&&u||o&&m){if(o&&v&&l)e:for(var p=t.target,h=s.view;p!=c;p=p.parentNode)for(var f=0;f<h.length;f++)if(h[f].node==p){e.display.currentWheelTarget=p;break e}if(r&&!n&&!d&&null!=i)return o&&m&&mr(e,Math.max(0,c.scrollTop+o*i)),hr(e,Math.max(0,c.scrollLeft+r*i)),(!o||o&&m)&&we(t),void(s.wheelStartX=null);if(o&&null!=i){var g=o*i,b=e.doc.scrollTop,y=b+s.wrapper.clientHeight;g<0?b=Math.max(0,b+g-50):y=Math.min(e.doc.height,y+g+50),Hr(e,{top:b,bottom:y})}Jr<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=c.scrollLeft,s.wheelStartY=c.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=c.scrollLeft-s.wheelStartX,t=c.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(eo=(eo*Jr+n)/(Jr+1),++Jr)}}),200)):(s.wheelDX+=r,s.wheelDY+=o))}}i?eo=-.53:n?eo=15:u?eo=-.7:m&&(eo=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],a=e.ranges[t];if(!st(n.anchor,a.anchor)||!st(n.head,a.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oo(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var a=this.ranges[n];if(it(t,a.from())>=0&&it(e,a.to())<=0)return n}return-1};var oo=function(e,t){this.anchor=e,this.head=t};function io(e,t,n){var a=e&&e.options.selectionsMayTouch,r=t[n];t.sort((function(e,t){return it(e.from(),t.from())})),n=B(t,r);for(var o=1;o<t.length;o++){var i=t[o],s=t[o-1],l=it(s.to(),i.from());if(a&&!i.empty()?l>0:l>=0){var c=ut(s.from(),i.from()),u=ct(s.to(),i.to()),d=s.empty()?i.from()==i.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new oo(d?u:c,d?c:u))}}return new ro(t,n)}function so(e,t){return new ro([new oo(e,t||e)],0)}function lo(e){return e.text?ot(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function co(e,t){if(it(e,t.from)<0)return e;if(it(e,t.to)<=0)return lo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,a=e.ch;return e.line==t.to.line&&(a+=lo(t).ch-t.to.ch),ot(n,a)}function uo(e,t){for(var n=[],a=0;a<e.sel.ranges.length;a++){var r=e.sel.ranges[a];n.push(new oo(co(r.anchor,t),co(r.head,t)))}return io(e.cm,n,e.sel.primIndex)}function mo(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function po(e,t,n){for(var a=[],r=ot(e.first,0),o=r,i=0;i<t.length;i++){var s=t[i],l=mo(s.from,r,o),c=mo(lo(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[i],d=it(u.head,u.anchor)<0;a[i]=new oo(d?c:l,d?l:c)}else a[i]=new oo(l,l)}return new ro(a,e.sel.primIndex)}function ho(e){e.doc.mode=Ve(e.options,e.doc.modeOption),fo(e)}function fo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,_r(e,100),e.state.modeGen++,e.curOp&&La(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function bo(e,t,n,a){function r(e){return n?n[e]:null}function o(e,n,r){un(e,n,r,a),jn(e,"change",e,t)}function i(e,t){for(var n=[],o=e;o<t;++o)n.push(new cn(c[o],r(o),a));return n}var s=t.from,l=t.to,c=t.text,u=Qe(e,s.line),d=Qe(e,l.line),m=Y(c),p=r(c.length-1),h=l.line-s.line;if(t.full)e.insert(0,i(0,c.length)),e.remove(c.length,e.size-c.length);else if(go(e,t)){var f=i(0,c.length-1);o(d,d.text,p),h&&e.remove(s.line,h),f.length&&e.insert(s.line,f)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+m+u.text.slice(l.ch),p);else{var g=i(1,c.length-1);g.push(new cn(m+u.text.slice(l.ch),p,a)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(s.line+1,h);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(d,m+d.text.slice(l.ch),p);var b=i(1,c.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,b)}jn(e,"change",e,t)}function vo(e,t,n){function a(e,r,o){if(e.linked)for(var i=0;i<e.linked.length;++i){var s=e.linked[i];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),a(s.doc,e,l))}}}a(e,null,!0)}function yo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Fa(e),ho(e),xo(e),e.options.direction=t.direction,e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,La(e)}function xo(e){("rtl"==e.doc.direction?A:O)(e.display.lineDiv,"CodeMirror-rtl")}function Eo(e){Nr(e,(function(){xo(e),La(e)}))}function wo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function So(e,t){var n={from:lt(t.from),to:lo(t),text:Xe(e,t.from,t.to)};return Io(e,n,t.from.line,t.to.line+1),vo(e,(function(e){return Io(e,n,t.from.line,t.to.line+1)}),!0),n}function ko(e){for(;e.length&&Y(e).ranges;)e.pop()}function Co(e,t){return t?(ko(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function Oo(e,t,n,a){var r=e.history;r.undone.length=0;var o,i,s=+new Date;if((r.lastOp==a||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Co(r,r.lastOp==a)))i=Y(o.changes),0==it(t.from,t.to)&&0==it(t.from,i.to)?i.to=lo(t):o.changes.push(So(e,t));else{var l=Y(r.done);for(l&&l.ranges||jo(e.sel,r.done),o={changes:[So(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=a,r.lastOrigin=r.lastSelOrigin=t.origin,i||be(e,"historyAdded")}function Do(e,t,n,a){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==a.ranges.length&&n.somethingSelected()==a.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function To(e,t,n,a){var r=e.history,o=a&&a.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Do(e,o,Y(r.done),t))?r.done[r.done.length-1]=t:jo(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,a&&!1!==a.clearRedo&&ko(r.undone)}function jo(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Io(e,t,n,a){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,a),(function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function No(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ro(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var a=[],r=0;r<t.text.length;++r)a.push(No(n[r]));return a}function Ao(e,t){var n=Ro(e,t),a=$t(e,t);if(!n)return a;if(!a)return n;for(var r=0;r<n.length;++r){var o=n[r],i=a[r];if(o&&i)e:for(var s=0;s<i.length;++s){for(var l=i[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else i&&(n[r]=i)}return n}function Fo(e,t,n){for(var a=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)a.push(n?ro.prototype.deepCopy.call(o):o);else{var i=o.changes,s=[];a.push({changes:s});for(var l=0;l<i.length;++l){var c=i[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&B(t,Number(u[1]))>-1&&(Y(s)[d]=c[d],delete c[d])}}}return a}function _o(e,t,n,a){if(a){var r=e.anchor;if(n){var o=it(t,r)<0;o!=it(n,r)<0?(r=t,t=n):o!=it(t,n)<0&&(t=n)}return new oo(r,t)}return new oo(n||t,t)}function Mo(e,t,n,a,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),qo(e,new ro([_o(e.sel.primary(),t,n,r)],0),a)}function Lo(e,t,n){for(var a=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)a[o]=_o(e.sel.ranges[o],t[o],null,r);qo(e,io(e.cm,a,e.sel.primIndex),n)}function Po(e,t,n,a){var r=e.sel.ranges.slice(0);r[t]=n,qo(e,io(e.cm,r,e.sel.primIndex),a)}function $o(e,t,n,a){qo(e,so(t,n),a)}function Bo(e,t,n){var a={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new oo(mt(e,t[n].anchor),mt(e,t[n].head))},origin:n&&n.origin};return be(e,"beforeSelectionChange",e,a),e.cm&&be(e.cm,"beforeSelectionChange",e.cm,a),a.ranges!=t.ranges?io(e.cm,a.ranges,a.ranges.length-1):t}function zo(e,t,n){var a=e.history.done,r=Y(a);r&&r.ranges?(a[a.length-1]=t,Ho(e,t,n)):qo(e,t,n)}function qo(e,t,n){Ho(e,t,n),To(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ho(e,t,n){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=Bo(e,t,n));var a=n&&n.bias||(it(t.primary().head,e.sel.primary().head)<0?-1:1);Vo(e,Wo(e,t,a,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||sr(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),jn(e,"cursorActivity",e))}function Uo(e){Vo(e,Wo(e,e.sel,null,!1))}function Wo(e,t,n,a){for(var r,o=0;o<t.ranges.length;o++){var i=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ko(e,i.anchor,s&&s.anchor,n,a),c=Ko(e,i.head,s&&s.head,n,a);(r||l!=i.anchor||c!=i.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new oo(l,c))}return r?io(e.cm,r,t.primIndex):t}function Go(e,t,n,a,r){var o=Qe(e,t.line);if(o.markedSpans)for(var i=0;i<o.markedSpans.length;++i){var s=o.markedSpans[i],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(r&&(be(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--i;continue}break}if(!l.atomic)continue;if(n){var d=l.find(a<0?1:-1),m=void 0;if((a<0?u:c)&&(d=Yo(e,d,-a,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(m=it(d,n))&&(a<0?m<0:m>0))return Go(e,d,t,a,r)}var p=l.find(a<0?-1:1);return(a<0?c:u)&&(p=Yo(e,p,a,p.line==t.line?o:null)),p?Go(e,p,t,a,r):null}}return t}function Ko(e,t,n,a,r){var o=a||1,i=Go(e,t,n,o,r)||!r&&Go(e,t,n,o,!0)||Go(e,t,n,-o,r)||!r&&Go(e,t,n,-o,!0);return i||(e.cantEdit=!0,ot(e.first,0))}function Yo(e,t,n,a){return n<0&&0==t.ch?t.line>e.first?mt(e,ot(t.line-1)):null:n>0&&t.ch==(a||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Zo(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),H)}function Qo(e,t,n){var a={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return a.canceled=!0}};return n&&(a.update=function(t,n,r,o){t&&(a.from=mt(e,t)),n&&(a.to=mt(e,n)),r&&(a.text=r),void 0!==o&&(a.origin=o)}),be(e,"beforeChange",e,a),e.cm&&be(e.cm,"beforeChange",e.cm,a),a.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function Xo(e,t,n){if(e.cm){if(!e.cm.curOp)return Rr(e.cm,Xo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Qo(e,t,!0))){var a=jt&&!n&&zt(e,t.from,t.to);if(a)for(var r=a.length-1;r>=0;--r)Jo(e,{from:a[r].from,to:a[r].to,text:r?[""]:t.text,origin:t.origin});else Jo(e,t)}}function Jo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=it(t.from,t.to)){var n=uo(e,t);Oo(e,t,n,e.cm?e.cm.curOp.id:NaN),ni(e,t,n,$t(e,t));var a=[];vo(e,(function(e,n){n||-1!=B(a,e.history)||(si(e.history,t),a.push(e.history)),ni(e,t,null,$t(e,t))}))}}function ei(e,t,n){var a=e.cm&&e.cm.state.suppressEdits;if(!a||n){for(var r,o=e.history,i=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(r=s[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(a)return void s.push(r);break}if(jo(r,l),n&&!r.equals(e.sel))return void qo(e,r,{clearRedo:!1});i=r}var u=[];jo(i,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),m=function(n){var a=r.changes[n];if(a.origin=t,d&&!Qo(e,a,!1))return s.length=0,{};u.push(So(e,a));var o=n?uo(e,a):Y(s);ni(e,a,o,Ao(e,a)),!n&&e.cm&&e.cm.scrollIntoView({from:a.from,to:lo(a)});var i=[];vo(e,(function(e,t){t||-1!=B(i,e.history)||(si(e.history,a),i.push(e.history)),ni(e,a,null,Ao(e,a))}))},p=r.changes.length-1;p>=0;--p){var h=m(p);if(h)return h.v}}}}function ti(e,t){if(0!=t&&(e.first+=t,e.sel=new ro(Z(e.sel.ranges,(function(e){return new oo(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){La(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,a=n.viewFrom;a<n.viewTo;a++)Pa(e.cm,a,"gutter")}}function ni(e,t,n,a){if(e.cm&&!e.cm.curOp)return Rr(e.cm,ni)(e,t,n,a);if(t.to.line<e.first)ti(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ti(e,r),t={from:ot(e.first,0),to:ot(t.to.line+r,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ot(o,Qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),n||(n=uo(e,t)),e.cm?ai(e.cm,t,a):bo(e,t,a),Ho(e,n,H),e.cantEdit&&Ko(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function ai(e,t,n){var a=e.doc,r=e.display,o=t.from,i=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=tt(Xt(Qe(a,o.line))),a.iter(l,i.line+1,(function(e){if(e==r.maxLine)return s=!0,!0}))),a.sel.contains(t.from,t.to)>-1&&ye(e),bo(a,t,n,Aa(e)),e.options.lineWrapping||(a.iter(l,o.line+t.text.length,(function(e){var t=sn(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Tt(a,o.line),_r(e,400);var c=t.text.length-(i.line-o.line)-1;t.full?La(e):o.line!=i.line||1!=t.text.length||go(e.doc,t)?La(e,o.line,i.line+1,c):Pa(e,o.line,"text");var u=xe(e,"changes"),d=xe(e,"change");if(d||u){var m={from:o,to:i,text:t.text,removed:t.removed,origin:t.origin};d&&jn(e,"change",e,m),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(m)}e.display.selForContextMenu=null}function ri(e,t,n,a,r){var o;a||(a=n),it(a,n)<0&&(n=(o=[a,n])[0],a=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Xo(e,{from:n,to:a,text:t,origin:r})}function oi(e,t,n,a){n<e.line?e.line+=a:t<e.line&&(e.line=t,e.ch=0)}function ii(e,t,n,a){for(var r=0;r<e.length;++r){var o=e[r],i=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)oi(o.ranges[s].anchor,t,n,a),oi(o.ranges[s].head,t,n,a)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ot(c.from.line+a,c.from.ch),c.to=ot(c.to.line+a,c.to.ch);else if(t<=c.to.line){i=!1;break}}i||(e.splice(0,r+1),r=0)}}}function si(e,t){var n=t.from.line,a=t.to.line,r=t.text.length-(a-n)-1;ii(e.done,n,a,r),ii(e.undone,n,a,r)}function li(e,t,n,a){var r=t,o=t;return"number"==typeof t?o=Qe(e,dt(e,t)):r=tt(t),null==r?null:(a(o,r)&&e.cm&&Pa(e.cm,r,n),o)}function ci(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ui(e){this.children=e;for(var t=0,n=0,a=0;a<e.length;++a){var r=e[a];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}oo.prototype.from=function(){return ut(this.anchor,this.head)},oo.prototype.to=function(){return ct(this.anchor,this.head)},oo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ci.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,a=e+t;n<a;++n){var r=this.lines[n];this.height-=r.height,dn(r),jn(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var a=0;a<t.length;++a)t[a].parent=this},iterN:function(e,t,n){for(var a=e+t;e<a;++e)if(n(this.lines[e]))return!0}},ui.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var a=this.children[n],r=a.chunkSize();if(e<r){var o=Math.min(t,r-e),i=a.height;if(a.removeInner(e,o),this.height-=i-a.height,r==o&&(this.children.splice(n--,1),a.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ci))){var s=[];this.collapse(s),this.children=[new ci(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var i=r.lines.length%25+25,s=i;s<r.lines.length;){var l=new ci(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++a,0,l),l.parent=this}r.lines=r.lines.slice(0,i),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ui(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=B(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var a=new ui(e.children);a.parent=e,e.children=[a,t],e=a}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e);if(r.iterN(e,i,n))return!0;if(0==(t-=i))break;e=0}else e-=o}}};var di=function(e,t,n){if(n)for(var a in n)n.hasOwnProperty(a)&&(this[a]=n[a]);this.doc=e,this.node=t};function mi(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ir(e,n)}function pi(e,t,n,a){var r=new di(e,n,a),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),li(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!an(e,t)){var a=on(t)<e.scrollTop;et(t,t.height+Hn(r)),a&&ir(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&jn(o,"lineWidgetAdded",o,r,"number"==typeof t?t:tt(t)),r}di.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,a=tt(n);if(null!=a&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=Hn(this);et(n,Math.max(0,n.height-o)),e&&(Nr(e,(function(){mi(e,n,-o),Pa(e,a,"widget")})),jn(e,"lineWidgetCleared",e,this,a))}},di.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,a=this.line;this.height=null;var r=Hn(this)-t;r&&(an(this.doc,a)||et(a,a.height+r),n&&Nr(n,(function(){n.curOp.forceUpdate=!0,mi(n,a,r),jn(n,"lineWidgetChanged",n,e,tt(a))})))},Ee(di);var hi=0,fi=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hi};function gi(e,t,n,a,r){if(a&&a.shared)return vi(e,t,n,a,r);if(e.cm&&!e.cm.curOp)return Rr(e.cm,gi)(e,t,n,a,r);var o=new fi(e,r),i=it(t,n);if(a&&L(a,o,!1),i>0||0==i&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=I("span",[o.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Qt(e,t.line,t,n,o)||t.line!=n.line&&Qt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rt()}o.addToHistory&&Oo(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(a){c&&o.collapsed&&!c.options.lineWrapping&&Xt(a)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&et(a,0),Mt(a,new At(o,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){an(e,t)&&et(t,0)})),o.clearOnEnter&&he(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Nt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++hi,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)La(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Pa(c,u,"text");o.atomic&&Uo(c.doc),jn(c,"markerAdded",c,o)}return o}fi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Sr(e),xe(this,"clear")){var n=this.find();n&&jn(this,"clear",n.from,n.to)}for(var a=null,r=null,o=0;o<this.lines.length;++o){var i=this.lines[o],s=Ft(i.markedSpans,this);e&&!this.collapsed?Pa(e,tt(i),"text"):e&&(null!=s.to&&(r=tt(i)),null!=s.from&&(a=tt(i))),i.markedSpans=_t(i.markedSpans,s),null==s.from&&this.collapsed&&!an(this.doc,i)&&e&&et(i,ja(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Xt(this.lines[l]),u=sn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=a&&e&&this.collapsed&&La(e,a,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Uo(e.doc)),e&&jn(e,"markerCleared",e,this,a,r),t&&kr(e),this.parent&&this.parent.clear()}},fi.prototype.find=function(e,t){var n,a;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],i=Ft(o.markedSpans,this);if(null!=i.from&&(n=ot(t?o:tt(o),i.from),-1==e))return n;if(null!=i.to&&(a=ot(t?o:tt(o),i.to),1==e))return a}return n&&{from:n,to:a}},fi.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,a=this.doc.cm;t&&a&&Nr(a,(function(){var r=t.line,o=tt(t.line),i=ta(a,o);if(i&&(ua(i),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!an(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&et(r,r.height+l)}jn(a,"markerChanged",a,e)}))},fi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fi.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ee(fi);var bi=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function vi(e,t,n,a,r){(a=L(a)).shared=!1;var o=[gi(e,t,n,a,r)],i=o[0],s=a.widgetNode;return vo(e,(function(e){s&&(a.widgetNode=s.cloneNode(!0)),o.push(gi(e,mt(e,t),mt(e,n),a,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;i=Y(o)})),new bi(o,i)}function yi(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function xi(e,t){for(var n=0;n<t.length;n++){var a=t[n],r=a.find(),o=e.clipPos(r.from),i=e.clipPos(r.to);if(it(o,i)){var s=gi(e,o,i,a.primary,a.primary.type);a.markers.push(s),s.parent=a}}}function Ei(e){for(var t=function(t){var n=e[t],a=[n.primary.doc];vo(n.primary.doc,(function(e){return a.push(e)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==B(a,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}bi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();jn(this,"clear")}},bi.prototype.find=function(e,t){return this.primary.find(e,t)},Ee(bi);var wi=0,Si=function(e,t,n,a,r){if(!(this instanceof Si))return new Si(e,t,n,a,r);null==n&&(n=0),ui.call(this,[new ci([new cn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ot(n,0);this.sel=so(o),this.history=new wo(null),this.id=++wi,this.modeOption=t,this.lineSep=a,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),bo(this,{from:o,to:o,text:e}),qo(this,so(o),H)};Si.prototype=J(ui.prototype,{constructor:Si,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,a=0;a<t.length;++a)n+=t[a].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Fr((function(e){var t=ot(this.first,0),n=this.first+this.size-1;Xo(this,{from:t,to:ot(n,Qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lr(this.cm,0,0),qo(this,so(t),H)})),replaceRange:function(e,t,n,a){ri(this,e,t=mt(this,t),n=n?mt(this,n):t,a)},getRange:function(e,t,n){var a=Xe(this,mt(this,e),mt(this,t));return!1===n?a:""===n?a.join(""):a.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(at(this,e))return Qe(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fr((function(e,t,n){$o(this,mt(this,"number"==typeof e?ot(e,t||0):e),null,n)})),setSelection:Fr((function(e,t,n){$o(this,mt(this,e),mt(this,t||e),n)})),extendSelection:Fr((function(e,t,n){Mo(this,mt(this,e),t&&mt(this,t),n)})),extendSelections:Fr((function(e,t){Lo(this,ht(this,e),t)})),extendSelectionsBy:Fr((function(e,t){Lo(this,ht(this,Z(this.sel.ranges,e)),t)})),setSelections:Fr((function(e,t,n){if(e.length){for(var a=[],r=0;r<e.length;r++)a[r]=new oo(mt(this,e[r].anchor),mt(this,e[r].head||e[r].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qo(this,io(this.cm,a,t),n)}})),addSelection:Fr((function(e,t,n){var a=this.sel.ranges.slice(0);a.push(new oo(mt(this,e),mt(this,t||e))),qo(this,io(this.cm,a,a.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,a=0;a<n.length;a++){var r=Xe(this,n[a].from(),n[a].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,a=0;a<n.length;a++){var r=Xe(this,n[a].from(),n[a].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[a]=r}return t},replaceSelection:function(e,t,n){for(var a=[],r=0;r<this.sel.ranges.length;r++)a[r]=e;this.replaceSelections(a,t,n||"+input")},replaceSelections:Fr((function(e,t,n){for(var a=[],r=this.sel,o=0;o<r.ranges.length;o++){var i=r.ranges[o];a[o]={from:i.from(),to:i.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&po(this,a,t),l=a.length-1;l>=0;l--)Xo(this,a[l]);s?zo(this,s):this.cm&&sr(this.cm)})),undo:Fr((function(){ei(this,"undo")})),redo:Fr((function(){ei(this,"redo")})),undoSelection:Fr((function(){ei(this,"undo",!0)})),redoSelection:Fr((function(){ei(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,a=0;a<e.done.length;a++)e.done[a].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new wo(this.history),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Fo(this.history.done),undone:Fo(this.history.undone)}},setHistory:function(e){var t=this.history=new wo(this.history);t.done=Fo(e.done.slice(0),null,!0),t.undone=Fo(e.undone.slice(0),null,!0)},setGutterMarker:Fr((function(e,t,n){return li(this,e,"gutter",(function(e){var a=e.gutterMarkers||(e.gutterMarkers={});return a[t]=n,!n&&ae(a)&&(e.gutterMarkers=null),!0}))})),clearGutter:Fr((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&li(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,ae(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!at(this,e))return null;if(t=e,!(e=Qe(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Fr((function(e,t,n){return li(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[a]){if(k(n).test(e[a]))return!1;e[a]+=" "+n}else e[a]=n;return!0}))})),removeLineClass:Fr((function(e,t,n){return li(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[a];if(!r)return!1;if(null==n)e[a]=null;else{var o=r.match(k(n));if(!o)return!1;var i=o.index+o[0].length;e[a]=r.slice(0,o.index)+(o.index&&i!=r.length?" ":"")+r.slice(i)||null}return!0}))})),addLineWidget:Fr((function(e,t,n){return pi(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gi(this,mt(this,e),mt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return gi(this,e=mt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Qe(this,(e=mt(this,e)).line).markedSpans;if(n)for(var a=0;a<n.length;++a){var r=n[a];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=mt(this,e),t=mt(this,t);var a=[],r=e.line;return this.iter(e.line,t.line+1,(function(o){var i=o.markedSpans;if(i)for(var s=0;s<i.length;s++){var l=i[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||a.push(l.marker.parent||l.marker)}++r})),a},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var a=0;a<n.length;++a)null!=n[a].from&&e.push(n[a].marker)})),e},posFromIndex:function(e){var t,n=this.first,a=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+a;if(o>e)return t=e,!0;e-=o,++n})),mt(this,ot(n,t))},indexFromPos:function(e){var t=(e=mt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Si(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var a=new Si(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:e.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],xi(a,yi(this)),a},unlinkDoc:function(e){if(e instanceof Ls&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ei(yi(this));break}if(e.history==this.history){var n=[e.id];vo(e,(function(e){return n.push(e.id)}),!0),e.history=new wo(null),e.history.done=Fo(this.history.done,n),e.history.undone=Fo(this.history.undone,n)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Fe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Fr((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Eo(this.cm))}))}),Si.prototype.eachLine=Si.prototype.iter;var ki=0;function Ci(e){var t=this;if(Ti(t),!ve(t,e)&&!Vn(t.display,e)){we(e),i&&(ki=+new Date);var n=_a(t,e,!0),a=e.dataTransfer.files;if(n&&!t.isReadOnly())if(a&&a.length&&window.FileReader&&window.File)for(var r=a.length,o=Array(r),s=0,l=function(){++s==r&&Rr(t,(function(){var e={from:n=mt(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xo(t.doc,e),zo(t.doc,so(mt(t.doc,n),mt(t.doc,lo(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==B(t.options.allowDropFileTypes,e.type))l();else{var a=new FileReader;a.onerror=function(){return l()},a.onload=function(){var e=a.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},a.readAsText(e)}},u=0;u<a.length;u++)c(a[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var m;if(t.state.draggingText&&!t.state.draggingText.copy&&(m=t.listSelections()),Ho(t.doc,so(n,n)),m)for(var p=0;p<m.length;++p)ri(t.doc,"",m[p].anchor,m[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Oi(e,t){if(i&&(!e.state.draggingText||+new Date-ki<100))Ce(t);else if(!ve(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!m)){var n=j("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Di(e,t){var n=_a(e,t);if(n){var a=document.createDocumentFragment();Ua(e,n,a),e.display.dragCursor||(e.display.dragCursor=j("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,a)}}function Ti(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ji(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],a=0;a<t.length;a++){var r=t[a].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ii=!1;function Ni(){Ii||(Ri(),Ii=!0)}function Ri(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,ji(Ai)}),100))})),he(window,"blur",(function(){return ji(Xa)}))}function Ai(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Fi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_i=0;_i<10;_i++)Fi[_i+48]=Fi[_i+96]=String(_i);for(var Mi=65;Mi<=90;Mi++)Fi[Mi]=String.fromCharCode(Mi);for(var Li=1;Li<=12;Li++)Fi[Li+111]=Fi[Li+63235]="F"+Li;var Pi={};function $i(e){var t,n,a,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var i=0;i<o.length-1;i++){var s=o[i];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);a=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function Bi(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==a){delete e[n];continue}for(var r=Z(n.split(" "),$i),o=0;o<r.length;o++){var i=void 0,s=void 0;o==r.length-1?(s=r.join(" "),i=a):(s=r.slice(0,o+1).join(" "),i="...");var l=t[s];if(l){if(l!=i)throw new Error("Inconsistent bindings for "+s)}else t[s]=i}delete e[n]}for(var c in t)e[c]=t[c];return e}function zi(e,t,n,a){var r=(t=Ui(t)).call?t.call(e,a):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zi(e,t.fallthrough,n,a);for(var o=0;o<t.fallthrough.length;o++){var i=zi(e,t.fallthrough[o],n,a);if(i)return i}}}function qi(e){var t="string"==typeof e?e:Fi[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Hi(e,t,n){var a=e;return t.altKey&&"Alt"!=a&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=a&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Mod"!=a&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=a&&(e="Shift-"+e),e}function Vi(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Fi[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Hi(n,e,t))}function Ui(e){return"string"==typeof e?Pi[e]:e}function Wi(e,t){for(var n=e.doc.sel.ranges,a=[],r=0;r<n.length;r++){for(var o=t(n[r]);a.length&&it(o.from,Y(a).to)<=0;){var i=a.pop();if(it(i.from,o.from)<0){o.from=i.from;break}}a.push(o)}Nr(e,(function(){for(var t=a.length-1;t>=0;t--)ri(e.doc,"",a[t].from,a[t].to,"+delete");sr(e)}))}function Gi(e,t,n){var a=ie(e.text,t+n,n);return a<0||a>e.text.length?null:a}function Ki(e,t,n){var a=Gi(e,t.ch,n);return null==a?null:new ot(t.line,a,n<0?"after":"before")}function Yi(e,t,n,a,r){if(e){"rtl"==t.doc.direction&&(r=-r);var o=me(n,t.doc.direction);if(o){var i,s=r<0?Y(o):o[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=na(t,n);i=r<0?n.text.length-1:0;var u=aa(t,c,i).top;i=se((function(e){return aa(t,c,e).top==u}),r<0==(1==s.level)?s.from:s.to-1,i),"before"==l&&(i=Gi(n,i,1))}else i=r<0?s.to:s.from;return new ot(a,i,l)}}return new ot(a,r<0?n.text.length:0,r<0?"before":"after")}function Zi(e,t,n,a){var r=me(t,e.doc.direction);if(!r)return Ki(t,n,a);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ue(r,n.ch,n.sticky),i=r[o];if("ltr"==e.doc.direction&&i.level%2==0&&(a>0?i.to>n.ch:i.from<n.ch))return Ki(t,n,a);var s,l=function(e,n){return Gi(t,e instanceof ot?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||na(e,t),ka(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==i.level){var d=1==i.level==a<0,m=l(n,d?1:-1);if(null!=m&&(d?m<=i.to&&m<=u.end:m>=i.from&&m>=u.begin)){var p=d?"before":"after";return new ot(n.line,m,p)}}var h=function(e,t,a){for(var o=function(e,t){return t?new ot(n.line,l(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<r.length;e+=t){var i=r[e],s=t>0==(1!=i.level),c=s?a.begin:l(a.end,-1);if(i.from<=c&&c<i.to)return o(c,s);if(c=s?i.from:l(i.to,-1),a.begin<=c&&c<a.end)return o(c,s)}},f=h(o+a,a,u);if(f)return f;var g=a>0?u.end:l(u.begin,-1);return null==g||a>0&&g==t.text.length||!(f=h(a>0?0:r.length-1,a,c(g)))?null:f}Pi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pi.default=v?Pi.macDefault:Pi.pcDefault;var Qi={selectAll:Zo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return Wi(e,(function(t){if(t.empty()){var n=Qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Wi(e,(function(t){return{from:ot(t.from().line,0),to:mt(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return Wi(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Wi(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Wi(e,(function(t){var n=e.charCoords(t.head,"div").top+5,a=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:a}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Xi(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Ji(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,a=e.coordsChar({left:0,top:n},"div");return a.ch<e.getLine(a.line).search(/\S/)?es(e,t.head):a}),U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),a=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),i=P(e.getLine(o.line),o.ch,a);t.push(K(a-i%a))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Nr(e,(function(){for(var t=e.listSelections(),n=[],a=0;a<t.length;a++)if(t[a].empty()){var r=t[a].head,o=Qe(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ot(r.line,r.ch-1)),r.ch>0)r=new ot(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ot(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var i=Qe(e.doc,r.line-1).text;i&&(r=new ot(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+i.charAt(i.length-1),ot(r.line-1,i.length-1),r,"+transpose"))}n.push(new oo(r,r))}e.setSelections(n)}))},newlineAndIndent:function(e){return Nr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var a=0;a<t.length;a++)e.indentLine(t[a].from().line,null,!0);sr(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Xi(e,t){var n=Qe(e.doc,t),a=Xt(n);return a!=n&&(t=tt(a)),Yi(!0,e,a,t,1)}function Ji(e,t){var n=Qe(e.doc,t),a=Jt(n);return a!=n&&(t=tt(a)),Yi(!0,e,n,t,-1)}function es(e,t){var n=Xi(e,t.line),a=Qe(e.doc,n.line),r=me(a,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,a.text.search(/\S/)),i=t.line==n.line&&t.ch<=o&&t.ch;return ot(n.line,i?0:o,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=Qi[t]))return!1;e.display.input.ensurePolled();var a=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=q}finally{e.display.shift=a,e.state.suppressEdits=!1}return r}function ns(e,t,n){for(var a=0;a<e.state.keyMaps.length;a++){var r=zi(t,e.state.keyMaps[a],n,e);if(r)return r}return e.options.extraKeys&&zi(t,e.options.extraKeys,n,e)||zi(t,e.options.keyMap,n,e)}var as=new $;function rs(e,t,n,a){var r=e.state.keySeq;if(r){if(qi(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:as.set(50,(function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())})),os(e,r+" "+t,n,a))return!0}return os(e,t,n,a)}function os(e,t,n,a){var r=ns(e,t,a);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&jn(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(we(n),Ka(e)),!!r}function is(e,t){var n=Vi(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rs(e,"Shift-"+n,t,(function(t){return ts(e,t,!0)}))||rs(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)})):rs(e,n,t,(function(t){return ts(e,t)})))}function ss(e,t,n){return rs(e,"'"+n+"'",t,(function(t){return ts(e,t,!0)}))}var ls=null;function cs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=R(),ve(t,e)))){i&&s<11&&27==e.keyCode&&(e.returnValue=!1);var a=e.keyCode;t.display.shift=16==a||e.shiftKey;var r=is(t,e);d&&(ls=r?a:null,r||88!=a||Me||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!v&&!r&&46==a&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=a||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||us(t)}}function us(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(O(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}A(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function ds(e){16==e.keyCode&&(this.doc.sel.shift=!1),ve(this,e)}function ms(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Vn(t.display,e)||ve(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,a=e.charCode;if(d&&n==ls)return ls=null,void we(e);if(!d||e.which&&!(e.which<10)||!is(t,e)){var r=String.fromCharCode(null==a?n:a);"\b"!=r&&(ss(t,e,r)||t.display.input.onKeyPress(e))}}}var ps,hs,fs=400,gs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function bs(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(ps=hs=null,"triple"):ps&&ps.compare(n,e,t)?(hs=new gs(n,e,t),ps=null,"double"):(ps=new gs(n,e,t),hs=null,"single")}function vs(e){var t=this,n=t.display;if(!(ve(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ds(t,e)){var a=_a(t,e),r=De(e),o=a?bs(a,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),a&&ys(t,r,a,o,e)||(1==r?a?Es(t,a,o,e):Oe(e)==n.scroller&&we(e):2==r?(a&&Mo(t.doc,a),setTimeout((function(){return n.input.focus()}),20)):3==r&&(S?t.display.input.onContextMenu(e):Za(t)))}}function ys(e,t,n,a,r){var o="Click";return"double"==a?o="Double"+o:"triple"==a&&(o="Triple"+o),rs(e,Hi(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,(function(t){if("string"==typeof t&&(t=Qi[t]),!t)return!1;var a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a=t(e,n)!=q}finally{e.state.suppressEdits=!1}return a}))}function xs(e,t,n){var a=e.getOption("configureMouse"),r=a?a(e,t,n):{};if(null==r.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=v?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(v?n.altKey:n.ctrlKey)),r}function Es(e,t,n,a){i?setTimeout(M(Ya,e),0):e.curOp.focus=R();var r,o=xs(e,n,a),s=e.doc.sel;e.options.dragDrop&&Ie&&!e.isReadOnly()&&"single"==n&&(r=s.contains(t))>-1&&(it((r=s.ranges[r]).from(),t)<0||t.xRel>0)&&(it(r.to(),t)>0||t.xRel<0)?ws(e,a,t,o):ks(e,a,t,o)}function ws(e,t,n,a){var r=e.display,o=!1,c=Rr(e,(function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Za(e)),ge(r.wrapper.ownerDocument,"mouseup",c),ge(r.wrapper.ownerDocument,"mousemove",u),ge(r.scroller,"dragstart",d),ge(r.scroller,"drop",c),o||(we(t),a.addNew||Mo(e.doc,n,null,null,a.extend),l&&!m||i&&9==s?setTimeout((function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()}),20):r.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!a.moveOnDrag,he(r.wrapper.ownerDocument,"mouseup",c),he(r.wrapper.ownerDocument,"mousemove",u),he(r.scroller,"dragstart",d),he(r.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return r.input.focus()}),20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Ss(e,t,n){if("char"==n)return new oo(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new oo(ot(t.line,0),mt(e.doc,ot(t.line+1,0)));var a=n(e,t);return new oo(a.from,a.to)}function ks(e,t,n,a){i&&Za(e);var r=e.display,o=e.doc;we(t);var s,l,c=o.sel,u=c.ranges;if(a.addNew&&!a.extend?(l=o.sel.contains(n),s=l>-1?u[l]:new oo(n,n)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==a.unit)a.addNew||(s=new oo(n,n)),n=_a(e,t,!0,!0),l=-1;else{var d=Ss(e,n,a.unit);s=a.extend?_o(s,d.anchor,d.head,a.extend):d}a.addNew?-1==l?(l=u.length,qo(o,io(e,u.concat([s]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==a.unit&&!a.extend?(qo(o,io(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Po(o,l,s,V):(l=0,qo(o,new ro([s],0),V),c=o.sel);var m=n;function p(t){if(0!=it(m,t))if(m=t,"rectangle"==a.unit){for(var r=[],i=e.options.tabSize,u=P(Qe(o,n.line).text,n.ch,i),d=P(Qe(o,t.line).text,t.ch,i),p=Math.min(u,d),h=Math.max(u,d),f=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));f<=g;f++){var b=Qe(o,f).text,v=W(b,p,i);p==h?r.push(new oo(ot(f,v),ot(f,v))):b.length>v&&r.push(new oo(ot(f,v),ot(f,W(b,h,i))))}r.length||r.push(new oo(n,n)),qo(o,io(e,c.ranges.slice(0,l).concat(r),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,x=s,E=Ss(e,t,a.unit),w=x.anchor;it(E.anchor,w)>0?(y=E.head,w=ut(x.from(),E.anchor)):(y=E.anchor,w=ct(x.to(),E.head));var S=c.ranges.slice(0);S[l]=Cs(e,new oo(mt(o,w),y)),qo(o,io(e,S,l),V)}}var h=r.wrapper.getBoundingClientRect(),f=0;function g(t){var n=++f,i=_a(e,t,!0,"rectangle"==a.unit);if(i)if(0!=it(i,m)){e.curOp.focus=R(),p(i);var s=tr(r,o);(i.line>=s.to||i.line<s.from)&&setTimeout(Rr(e,(function(){f==n&&g(t)})),150)}else{var l=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;l&&setTimeout(Rr(e,(function(){f==n&&(r.scroller.scrollTop+=l,g(t))})),50)}}function b(t){e.state.selectingText=!1,f=1/0,t&&(we(t),r.input.focus()),ge(r.wrapper.ownerDocument,"mousemove",v),ge(r.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var v=Rr(e,(function(e){0!==e.buttons&&De(e)?g(e):b(e)})),y=Rr(e,b);e.state.selectingText=y,he(r.wrapper.ownerDocument,"mousemove",v),he(r.wrapper.ownerDocument,"mouseup",y)}function Cs(e,t){var n=t.anchor,a=t.head,r=Qe(e.doc,n.line);if(0==it(n,a)&&n.sticky==a.sticky)return t;var o=me(r);if(!o)return t;var i=ue(o,n.ch,n.sticky),s=o[i];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=i+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(a.line!=n.line)l=(a.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,a.ch,a.sticky),d=u-i||(a.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var m=o[c+(l?-1:0)],p=l==(1==m.level),h=p?m.from:m.to,f=p?"after":"before";return n.ch==h&&n.sticky==f?t:new oo(new ot(n.line,h,f),a)}function Os(e,t,n,a){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(e){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;a&&we(t);var i=e.display,s=i.lineDiv.getBoundingClientRect();if(o>s.bottom||!xe(e,n))return ke(t);o-=s.top-i.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=i.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return be(e,n,e,nt(e.doc,o),e.display.gutterSpecs[l].className,t),ke(t)}}function Ds(e,t){return Os(e,t,"gutterClick",!0)}function Ts(e,t){Vn(e.display,t)||js(e,t)||ve(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function js(e,t){return!!xe(e,"gutterContextMenu")&&Os(e,t,"gutterContextMenu",!1)}function Is(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ma(e)}gs.prototype.compare=function(e,t,n){return this.time+fs>e&&0==it(t,this.pos)&&n==this.button};var Ns={toString:function(){return"CodeMirror.Init"}},Rs={},As={};function Fs(e){var t=e.optionHandlers;function n(n,a,r,o){e.defaults[n]=a,r&&(t[n]=o?function(e,t,n){n!=Ns&&r(e,t,n)}:r)}e.defineOption=n,e.Init=Ns,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ho(e)}),!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){fo(e),ma(e),La(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],a=e.doc.first;e.doc.iter((function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(ot(a,o))}a++}));for(var r=n.length-1;r>=0;r--)ri(e.doc,t,n[r],ot(n[r].line,n[r].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ns&&e.refresh()})),n("specialCharPlaceholder",gn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Is(e),Qr(e)}),!0),n("keyMap","default",(function(e,t,n){var a=Ui(t),r=n!=Ns&&Ui(n);r&&r.detach&&r.detach(e,a),a.attach&&a.attach(e,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ms,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Yr(t,e.options.lineNumbers),Qr(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Ra(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return vr(e)}),!0),n("scrollbarStyle","native",(function(e){Er(e),vr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Yr(e.options.gutters,t),Qr(e)}),!0),n("firstLineNumber",1,Qr,!0),n("lineNumberFormatter",(function(e){return e}),Qr,!0),n("showCursorWhenSelecting",!1,Ha,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Xa(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,_s),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Ha,!0),n("singleCursorHeightPerLine",!0,Ha,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,fo,!0),n("addModeClass",!1,fo,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,fo,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function _s(e,t,n){if(!t!=!(n&&n!=Ns)){var a=e.display.dragFunctions,r=t?he:ge;r(e.display.scroller,"dragstart",a.start),r(e.display.scroller,"dragenter",a.enter),r(e.display.scroller,"dragover",a.over),r(e.display.scroller,"dragleave",a.leave),r(e.display.scroller,"drop",a.drop)}}function Ms(e){e.options.lineWrapping?(A(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(O(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Fa(e),La(e),ma(e),setTimeout((function(){return vr(e)}),100)}function Ls(e,t){var n=this;if(!(this instanceof Ls))return new Ls(e,t);this.options=t=t?L(t):{},L(Rs,t,!1);var a=t.value;"string"==typeof a?a=new Si(a,t.mode,null,t.lineSeparator,t.direction):t.mode&&(a.modeOption=t.mode),this.doc=a;var r=new Ls.inputStyles[t.inputStyle](this),o=this.display=new Xr(e,a,r,t);for(var c in o.wrapper.CodeMirror=this,Is(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Er(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new $,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),i&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ps(this),Ni(),Sr(this),this.curOp.forceUpdate=!0,yo(this,a),t.autofocus&&!b||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Qa(n)}),20):Xa(this),As)As.hasOwnProperty(c)&&As[c](this,t[c],Ns);Kr(this),t.finishInit&&t.finishInit(this);for(var u=0;u<$s.length;++u)$s[u](this);kr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ps(e){var t=e.display;he(t.scroller,"mousedown",Rr(e,vs)),he(t.scroller,"dblclick",i&&s<11?Rr(e,(function(t){if(!ve(e,t)){var n=_a(e,t);if(n&&!Ds(e,t)&&!Vn(e.display,t)){we(t);var a=e.findWordAt(n);Mo(e.doc,a.anchor,a.head)}}})):function(t){return ve(e,t)||we(t)}),he(t.scroller,"contextmenu",(function(t){return Ts(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Ts(e,n)}));var n,a={end:0};function r(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(a=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,a=t.top-e.top;return n*n+a*a>400}he(t.scroller,"touchstart",(function(r){if(!ve(e,r)&&!o(r)&&!Ds(e,r)){t.input.ensurePolled(),clearTimeout(n);var i=+new Date;t.activeTouch={start:i,moved:!1,prev:i-a.end<=300?a:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var a=t.activeTouch;if(a&&!Vn(t,n)&&null!=a.left&&!a.moved&&new Date-a.start<300){var o,i=e.coordsChar(t.activeTouch,"page");o=!a.prev||l(a,a.prev)?new oo(i,i):!a.prev.prev||l(a,a.prev.prev)?e.findWordAt(i):new oo(ot(i.line,0),mt(e.doc,ot(i.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),we(n)}r()})),he(t.scroller,"touchcancel",r),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(mr(e,t.scroller.scrollTop),hr(e,t.scroller.scrollLeft,!0),be(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return ao(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return ao(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ve(e,t)||Ce(t)},over:function(t){ve(e,t)||(Di(e,t),Ce(t))},start:function(t){return Oi(e,t)},drop:Rr(e,Ci),leave:function(t){ve(e,t)||Ti(e)}};var c=t.input.getField();he(c,"keyup",(function(t){return ds.call(e,t)})),he(c,"keydown",Rr(e,cs)),he(c,"keypress",Rr(e,ms)),he(c,"focus",(function(t){return Qa(e,t)})),he(c,"blur",(function(t){return Xa(e,t)}))}Ls.defaults=Rs,Ls.optionHandlers=As;var $s=[];function Bs(e,t,n,a){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=yt(e,t).state:n="prev");var i=e.options.tabSize,s=Qe(o,t),l=P(s.text,null,i);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(a||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==q||c>150)){if(!a)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?P(Qe(o,t-1).text,null,i):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",m=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/i);p;--p)m+=i,d+="\t";if(m<c&&(d+=K(c-m)),d!=u)return ri(o,d,ot(t,0),ot(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var f=o.sel.ranges[h];if(f.head.line==t&&f.head.ch<u.length){var g=ot(t,u.length);Po(o,h,new oo(g,g));break}}}Ls.defineInitHook=function(e){return $s.push(e)};var zs=null;function qs(e){zs=e}function Hs(e,t,n,a,r){var o=e.doc;e.display.shift=!1,a||(a=o.sel);var i=+new Date-200,s="paste"==r||e.state.pasteIncoming>i,l=Fe(t),c=null;if(s&&a.ranges.length>1)if(zs&&zs.text.join("\n")==t){if(a.ranges.length%zs.text.length==0){c=[];for(var u=0;u<zs.text.length;u++)c.push(o.splitLines(zs.text[u]))}}else l.length==a.ranges.length&&e.options.pasteLinesPerSelection&&(c=Z(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,m=a.ranges.length-1;m>=0;m--){var p=a.ranges[m],h=p.from(),f=p.to();p.empty()&&(n&&n>0?h=ot(h.line,h.ch-n):e.state.overwrite&&!s?f=ot(f.line,Math.min(Qe(o,f.line).text.length,f.ch+Y(l).length)):s&&zs&&zs.lineWise&&zs.text.join("\n")==l.join("\n")&&(h=f=ot(h.line,0)));var g={from:h,to:f,text:c?c[m%c.length]:l,origin:r||(s?"paste":e.state.cutIncoming>i?"cut":"+input")};Xo(e.doc,g),jn(e,"inputRead",e,g)}t&&!s&&Us(e,t),sr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Nr(t,(function(){return Hs(t,n,0,null,"paste")})),!0}function Us(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,a=n.ranges.length-1;a>=0;a--){var r=n.ranges[a];if(!(r.head.ch>100||a&&n.ranges[a-1].head.line==r.head.line)){var o=e.getModeAt(r.head),i=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){i=Bs(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qe(e.doc,r.head.line).text.slice(0,r.head.ch))&&(i=Bs(e,r.head.line,"smart"));i&&jn(e,"electricInput",e,r.head.line)}}}function Ws(e){for(var t=[],n=[],a=0;a<e.doc.sel.ranges.length;a++){var r=e.doc.sel.ranges[a].head.line,o={anchor:ot(r,0),head:ot(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Gs(e,t,n,a){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",a?"":"off"),e.setAttribute("spellcheck",!!t)}function Ks(){var e=j("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=j("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),f&&(e.style.border="1px solid black"),Gs(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var a=this.options,r=a[e];a[e]==n&&"mode"!=e||(a[e]=n,t.hasOwnProperty(e)&&Rr(this,t[e])(this,n,r),be(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ui(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ar((function(t,n){var a=t.token?t:e.getMode(this.options,t);if(a.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:a,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,La(this)})),removeOverlay:Ar((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var a=t[n].modeSpec;if(a==e||"string"==typeof e&&a.name==e)return t.splice(n,1),this.state.modeGen++,void La(this)}})),indentLine:Ar((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),at(this.doc,e)&&Bs(this,e,t,n)})),indentSelection:Ar((function(e){for(var t=this.doc.sel.ranges,n=-1,a=0;a<t.length;a++){var r=t[a];if(r.empty())r.head.line>n&&(Bs(this,r.head.line,e,!0),n=r.head.line,a==this.doc.sel.primIndex&&sr(this));else{var o=r.from(),i=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1;for(var l=s;l<n;++l)Bs(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[a].from().ch>0&&Po(this.doc,a,new oo(o,c[a].to()),H)}}})),getTokenAt:function(e,t){return kt(this,e,t)},getLineTokens:function(e,t){return kt(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=mt(this.doc,e);var t,n=vt(this,Qe(this.doc,e.line)),a=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var i=a+r>>1;if((i?n[2*i-1]:0)>=o)r=i;else{if(!(n[2*i+1]<o)){t=n[2*i+2];break}a=i+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var a=[];if(!n.hasOwnProperty(t))return a;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&a.push(r[o[t]]);else if(o[t])for(var i=0;i<o[t].length;i++){var s=r[o[t][i]];s&&a.push(s)}else o.helperType&&r[o.helperType]?a.push(r[o.helperType]):r[o.name]&&a.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==B(a,c.val)&&a.push(c.val)}return a},getStateAfter:function(e,t){var n=this.doc;return yt(this,(e=dt(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return ya(this,null==e?n.head:"object"==typeof e?mt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return va(this,mt(this.doc,e),t||"page")},coordsChar:function(e,t){return wa(this,(e=ba(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=ba(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var a,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),a=Qe(this.doc,e)}else a=e;return ga(this,a,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-on(a):0)},defaultTextHeight:function(){return ja(this.display)},defaultCharWidth:function(){return Ia(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,a,r){var o=this.display,i=(e=ya(this,mt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==a)i=e.top;else if("above"==a||"near"==a){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==a||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?i=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(i=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=i+"px",t.style.left=t.style.right="","right"==r?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&rr(this,{left:s,top:i,right:s+t.offsetWidth,bottom:i+t.offsetHeight})},triggerOnKeyDown:Ar(cs),triggerOnKeyPress:Ar(ms),triggerOnKeyUp:ds,triggerOnMouseDown:Ar(vs),execCommand:function(e){if(Qi.hasOwnProperty(e))return Qi[e].call(null,this)},triggerElectric:Ar((function(e){Us(this,e)})),findPosH:function(e,t,n,a){var r=1;t<0&&(r=-1,t=-t);for(var o=mt(this.doc,e),i=0;i<t&&!(o=Zs(this.doc,o,r,n,a)).hitSide;++i);return o},moveH:Ar((function(e,t){var n=this;this.extendSelectionsBy((function(a){return n.display.shift||n.doc.extend||a.empty()?Zs(n.doc,a.head,e,t,n.options.rtlMoveVisually):e<0?a.from():a.to()}),U)})),deleteH:Ar((function(e,t){var n=this.doc.sel,a=this.doc;n.somethingSelected()?a.replaceSelection("",null,"+delete"):Wi(this,(function(n){var r=Zs(a,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(e,t,n,a){var r=1,o=a;t<0&&(r=-1,t=-t);for(var i=mt(this.doc,e),s=0;s<t;++s){var l=ya(this,i,"div");if(null==o?o=l.left:l.left=o,(i=Qs(this,l,r,n)).hitSide)break}return i},moveV:Ar((function(e,t){var n=this,a=this.doc,r=[],o=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy((function(i){if(o)return e<0?i.from():i.to();var s=ya(n,i.head,"div");null!=i.goalColumn&&(s.left=i.goalColumn),r.push(s.left);var l=Qs(n,s,e,t);return"page"==t&&i==a.sel.primary()&&ir(n,va(n,l,"div").top-s.top),l}),U),r.length)for(var i=0;i<a.sel.ranges.length;i++)a.sel.ranges[i].goalColumn=r[i]})),findWordAt:function(e){var t=Qe(this.doc,e.line).text,n=e.ch,a=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&a!=t.length||!n?++a:--n;for(var o=t.charAt(n),i=ne(o,r)?function(e){return ne(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&i(t.charAt(n-1));)--n;for(;a<t.length&&i(t.charAt(a));)++a}return new oo(ot(e.line,n),ot(e.line,a))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ar((function(e,t){lr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Zn(this),clientWidth:Yn(this)}},scrollIntoView:Ar((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?cr(this,e):dr(this,e.from,e.to,e.margin)})),setSize:Ar((function(e,t){var n=this,a=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=a(e)),null!=t&&(this.display.wrapper.style.height=a(t)),this.options.lineWrapping&&da(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pa(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,be(this,"refresh",this)})),operation:function(e){return Nr(this,e)},startOperation:function(){return Sr(this)},endOperation:function(){return kr(this)},refresh:Ar((function(){var e=this.display.cachedTextHeight;La(this),this.curOp.forceUpdate=!0,ma(this),lr(this,this.doc.scrollLeft,this.doc.scrollTop),Ur(this.display),(null==e||Math.abs(e-ja(this.display))>.5||this.options.lineWrapping)&&Fa(this),be(this,"refresh",this)})),swapDoc:Ar((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yo(this,e),ma(this),this.display.input.reset(),lr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,jn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ee(e),e.registerHelper=function(t,a,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][a]=r},e.registerGlobalHelper=function(t,a,r,o){e.registerHelper(t,a,o),n[t]._global.push({pred:r,val:o})}}function Zs(e,t,n,a,r){var o=t,i=n,s=Qe(e,t.line),l=r&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=Qe(e,n))}function u(o){var i;if("codepoint"==a){var u=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))i=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;i=new ot(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(d?2:1))),-n)}}else i=r?Zi(e.cm,s,t,n):Ki(s,t,n);if(null==i){if(o||!c())return!1;t=Yi(r,e.cm,s,t.line,l)}else t=i;return!0}if("char"==a||"codepoint"==a)u();else if("column"==a)u(!0);else if("word"==a||"group"==a)for(var d=null,m="group"==a,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||u(!h);h=!1){var f=s.text.charAt(t.ch)||"\n",g=ne(f,p)?"w":m&&"\n"==f?"n":!m||/\s/.test(f)?null:"p";if(!m||h||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!h))break}var b=Ko(e,t,o,i,!0);return st(o,b)&&(b.hitSide=!0),b}function Qs(e,t,n,a){var r,o,i=e.doc,s=t.left;if("page"==a){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*ja(e.display),3);r=(n>0?t.bottom:t.top)+n*c}else"line"==a&&(r=n>0?t.bottom+3:t.top-3);for(;(o=wa(e,s,r)).outside;){if(n<0?r<=0:r>=i.height){o.hitSide=!0;break}r+=5*n}return o}var Xs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new $,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Js(e,t){var n=ta(e,t.line);if(!n||n.hidden)return null;var a=Qe(e.doc,t.line),r=Xn(n,a,t.line),o=me(a,e.doc.direction),i="left";o&&(i=ue(o,t.ch)%2?"right":"left");var s=ia(r.map,t.ch,i);return s.offset="right"==s.collapse?s.end:s.start,s}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function nl(e,t,n,a,r){var o="",i=!1,s=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){i&&(o+=s,l&&(o+=s),i=l=!1)}function d(e){e&&(u(),o+=e)}function m(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var o,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(ot(a,0),ot(r+1,0),c(+p));return void(h.length&&(o=h[0].find(0))&&d(Xe(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&u();for(var g=0;g<t.childNodes.length;g++)m(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(i=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;m(t),t!=n;)t=t.nextSibling,l=!1;return o}function al(e,t,n){var a;if(t==e.display.lineDiv){if(!(a=e.display.lineDiv.childNodes[n]))return tl(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(a=t;;a=a.parentNode){if(!a||a==e.display.lineDiv)return null;if(a.parentNode&&a.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==a)return rl(o,t,n)}}function rl(e,t,n){var a=e.text.firstChild,r=!1;if(!t||!N(a,t))return tl(ot(tt(e.line),0),!0);if(t==a&&(r=!0,t=a.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return tl(ot(tt(o),o.text.length),r)}var i=3==t.nodeType?t:null,s=t;for(i||1!=t.childNodes.length||3!=t.firstChild.nodeType||(i=t.firstChild,n&&(n=i.nodeValue.length));s.parentNode!=a;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,a){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],i=0;i<o.length;i+=3){var s=o[i+2];if(s==t||s==n){var u=tt(r<0?e.line:e.rest[r]),d=o[i]+a;return(a<0||s!=t)&&(d=o[i+(a?1:0)]),ot(u,d)}}}var d=u(i,s,n);if(d)return tl(d,r);for(var m=s.nextSibling,p=i?i.nodeValue.length-n:0;m;m=m.nextSibling){if(d=u(m,m.firstChild,0))return tl(ot(d.line,d.ch-p),r);p+=m.textContent.length}for(var h=s.previousSibling,f=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1))return tl(ot(d.line,d.ch+f),r);f+=h.textContent.length}}Xs.prototype.init=function(e){var t=this,n=this,a=n.cm,r=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function i(e){if(o(e)&&!ve(a,e)){if(a.somethingSelected())qs({lineWise:!1,text:a.getSelections()}),"cut"==e.type&&a.replaceSelection("",null,"cut");else{if(!a.options.lineWiseCopyCut)return;var t=Ws(a);qs({lineWise:!0,text:t.text}),"cut"==e.type&&a.operation((function(){a.setSelections(t.ranges,0,H),a.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var i=zs.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var s=Ks(),l=s.firstChild;a.display.lineSpace.insertBefore(s,a.display.lineSpace.firstChild),l.value=zs.text.join("\n");var c=R();_(l),setTimeout((function(){a.display.lineSpace.removeChild(s),c.focus(),c==r&&n.showPrimarySelection()}),50)}}r.contentEditable=!0,Gs(r,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize),he(r,"paste",(function(e){!o(e)||ve(a,e)||Vs(e,a)||s<=11&&setTimeout(Rr(a,(function(){return t.updateFromDOM()})),20)})),he(r,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(r,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(r,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(r,"touchstart",(function(){return n.forceCompositionEnd()})),he(r,"input",(function(){t.composing||t.readFromDOMSoon()})),he(r,"copy",i),he(r,"cut",i)},Xs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Xs.prototype.prepareSelection=function(){var e=Va(this.cm,!1);return e.focus=R()==this.div,e},Xs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Xs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,a=t.doc.sel.primary(),r=a.from(),o=a.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var i=al(t,e.anchorNode,e.anchorOffset),s=al(t,e.focusNode,e.focusOffset);if(!i||i.bad||!s||s.bad||0!=it(ut(i,s),r)||0!=it(ct(i,s),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Js(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Js(t,o);if(!u){var d=l[l.length-1].measure,m=d.maps?d.maps[d.maps.length-1]:d.map;u={node:m[m.length-1],offset:m[m.length-2]-m[m.length-3]}}if(c&&u){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=C(c.node,c.offset,u.offset,u.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Xs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Xs.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Xs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Xs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Xs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&R()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xs.prototype.blur=function(){this.div.blur()},Xs.prototype.getField=function(){return this.div},Xs.prototype.supportsTouch=function(){return!0},Xs.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Nr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,n)},Xs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Xs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=al(t,e.anchorNode,e.anchorOffset),a=al(t,e.focusNode,e.focusOffset);n&&a&&Nr(t,(function(){qo(t.doc,so(n,a),H),(n.bad||a.bad)&&(t.curOp.selectionChanged=!0)}))}}},Xs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,a=this.cm,r=a.display,o=a.doc.sel.primary(),i=o.from(),s=o.to();if(0==i.ch&&i.line>a.firstLine()&&(i=ot(i.line-1,Qe(a.doc,i.line-1).length)),s.ch==Qe(a.doc,s.line).text.length&&s.line<a.lastLine()&&(s=ot(s.line+1,0)),i.line<r.viewFrom||s.line>r.viewTo-1)return!1;i.line==r.viewFrom||0==(e=Ma(a,i.line))?(t=tt(r.view[0].line),n=r.view[0].node):(t=tt(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,c,u=Ma(a,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=tt(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var d=a.doc.splitLines(nl(a,n,c,t,l)),m=Xe(a.doc,ot(t,0),ot(l,Qe(a.doc,l).text.length));d.length>1&&m.length>1;)if(Y(d)==Y(m))d.pop(),m.pop(),l--;else{if(d[0]!=m[0])break;d.shift(),m.shift(),t++}for(var p=0,h=0,f=d[0],g=m[0],b=Math.min(f.length,g.length);p<b&&f.charCodeAt(p)==g.charCodeAt(p);)++p;for(var v=Y(d),y=Y(m),x=Math.min(v.length-(1==d.length?p:0),y.length-(1==m.length?p:0));h<x&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)++h;if(1==d.length&&1==m.length&&t==i.line)for(;p&&p>i.ch&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)p--,h++;d[d.length-1]=v.slice(0,v.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var E=ot(t,p),w=ot(l,m.length?Y(m).length-h:0);return d.length>1||d[0]||it(E,w)?(ri(a.doc,d,E,w,"+input"),!0):void 0},Xs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xs.prototype.reset=function(){this.forceCompositionEnd()},Xs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Xs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Nr(this.cm,(function(){return La(e.cm)}))},Xs.prototype.setUneditable=function(e){e.contentEditable="false"},Xs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Rr(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Xs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Xs.prototype.onContextMenu=function(){},Xs.prototype.resetPosition=function(){},Xs.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new $,this.hasSelection=!1,this.composing=null};function il(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function a(){e.value=s.getValue()}var r;if(e.form&&(he(e.form,"submit",a),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var i=o.submit=function(){a(),o.submit=r,o.submit(),o.submit=i}}catch(e){}}t.finishInit=function(n){n.save=a,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,a(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",a),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var s=Ls((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function sl(e){e.off=ge,e.on=he,e.wheelEventPixels=no,e.Doc=Si,e.splitLines=Fe,e.countColumn=P,e.findColumn=W,e.isWordChar=te,e.Pass=q,e.signal=be,e.Line=cn,e.changeEnd=lo,e.scrollbarModel=xr,e.Pos=ot,e.cmpPos=it,e.modes=$e,e.mimeModes=Be,e.resolveMode=He,e.getMode=Ve,e.modeExtensions=Ue,e.extendMode=We,e.copyState=Ge,e.startState=Ye,e.innerMode=Ke,e.commands=Qi,e.keyMap=Pi,e.keyName=Vi,e.isModifierKey=qi,e.lookupKey=zi,e.normalizeKeyMap=Bi,e.StringStream=Ze,e.SharedTextMarker=bi,e.TextMarker=fi,e.LineWidget=di,e.e_preventDefault=we,e.e_stopPropagation=Se,e.e_stop=Ce,e.addClass=A,e.contains=N,e.rmClass=O,e.keyNames=Fi}ol.prototype.init=function(e){var t=this,n=this,a=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ve(a,e)){if(a.somethingSelected())qs({lineWise:!1,text:a.getSelections()});else{if(!a.options.lineWiseCopyCut)return;var t=Ws(a);qs({lineWise:!0,text:t.text}),"cut"==e.type?a.setSelections(t.ranges,null,H):(n.prevInput="",r.value=t.text.join("\n"),_(r))}"cut"==e.type&&(a.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),f&&(r.style.width="0px"),he(r,"input",(function(){i&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(r,"paste",(function(e){ve(a,e)||Vs(e,a)||(a.state.pasteIncoming=+new Date,n.fastPoll())})),he(r,"cut",o),he(r,"copy",o),he(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!ve(a,t)){if(!r.dispatchEvent)return a.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}})),he(e.lineSpace,"selectstart",(function(t){Vn(e,t)||we(t)})),he(r,"compositionstart",(function(){var e=a.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:a.markText(e,a.getCursor("to"),{className:"CodeMirror-composing"})}})),he(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},ol.prototype.createField=function(e){this.wrapper=Ks(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,a=Va(e);if(e.options.moveInputWithCursor){var r=ya(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),i=t.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+i.top-o.top)),a.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+i.left-o.left))}return a},ol.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&_(this.textarea),i&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",i&&s>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||R()!=this.textarea))try{this.textarea.focus()}catch(e){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ol.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ol.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,a=this.prevInput;if(this.contextMenuPending||!t.state.focused||_e(n)&&!a&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==a&&!t.somethingSelected())return!1;if(i&&s>=9&&this.hasSelection===r||v&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||a||(a="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(a.length,r.length);l<c&&a.charCodeAt(l)==r.charCodeAt(l);)++l;return Nr(t,(function(){Hs(t,r.slice(l),a.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){i&&s>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,n=t.cm,a=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=_a(n,e),c=a.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Rr(n,qo)(n.doc,so(o),H);var u,m=r.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),a.input.focus(),l&&window.scrollTo(null,u),a.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=b,a.selForContextMenu=n.doc.sel,clearTimeout(a.detectingSelectAll),i&&s>=9&&g(),S){Ce(e);var f=function(){ge(window,"mouseup",f),setTimeout(b,20)};he(window,"mouseup",f)}else setTimeout(b,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,a.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,r.style.cssText=m,i&&s<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=c),null!=r.selectionStart)){(!i||i&&s<9)&&g();var e=0,o=function(){a.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Rr(n,Zo)(n):e++<10?a.detectingSelectAll=setTimeout(o,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(o,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Fs(Ls),Ys(Ls);var ll="iter insert remove copy getEditor constructor".split(" ");for(var cl in Si.prototype)Si.prototype.hasOwnProperty(cl)&&B(ll,cl)<0&&(Ls.prototype[cl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Si.prototype[cl]));return Ee(Si),Ls.inputStyles={textarea:ol,contenteditable:Xs},Ls.defineMode=function(e){Ls.defaults.mode||"null"==e||(Ls.defaults.mode=e),ze.apply(this,arguments)},Ls.defineMIME=qe,Ls.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ls.defineMIME("text/plain","null"),Ls.defineExtension=function(e,t){Ls.prototype[e]=t},Ls.defineDocExtension=function(e,t){Si.prototype[e]=t},Ls.fromTextArea=il,sl(Ls),Ls.version="5.64.0",Ls}()},76:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const a=e.env.CLOUD_URL?"cloud":"latest",r={name:"from",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"bucketID",desc:"String-encoded ID of the bucket to query.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"org",desc:"Organization name (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"orgID",desc:"String-encoded organization ID (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"token",desc:"InfluxDB authentication token (only required when querying a different organization or remote InfluxDB instance).",type:"String"}],package:"",desc:"Used to retrieve data from an InfluxDB data source. It returns a stream of tables from the specified bucket. Each unique series is contained within its own table. Each record in the table represents a single point in the series.",example:'from(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/from/`},o={name:"union",args:[{name:"tables",desc:"Specifies the streams to union together. There must be at least two streams.",type:"Array of Strings"}],package:"",desc:"Concatenates two or more input streams into a single output stream. The output schemas of the `union()` function is the union of all input schemas. A sort operation may be added if a specific sort order is needed.",example:"union(tables: [table1, table2])",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/union/`},i=[{name:"aggregate.rate",args:[{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"groupColumns",desc:"List of columns to group by. Defaults to [].",type:"Array of Strings"},{name:"unit",desc:"Time duration to use when calculating the rate. Defaults to `1s`.",type:"Duration"}],package:"experimental/aggregate",desc:"Calculates the rate of change per windows of time.",example:"aggregate.rate(every: 1m, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aggregate/rate/`},{name:"aggregateWindow",args:[{name:"every",desc:"The duration of windows.",type:"Duration"},{name:"fn",desc:"The aggregate function used in the operation.",type:"Unquoted String"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeSrc",desc:'The "time source" column from which time is copied for the aggregate record. Defaults to `"_stop"`.',type:"String"},{name:"timeDst",desc:'The "time destination" column to which time is copied for the aggregate record. Defaults to `"_time"`.',type:"String"},{name:"createEmpty",desc:"For windows without data, this will create an empty window and fill it with a `null` aggregate value.",type:"Boolean"}],package:"",desc:"Applies an aggregate function to fixed windows of time.",example:"aggregateWindow(every: v.windowPeriod, fn: mean)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/aggregatewindow/`},{name:"alerta.alert",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"resource",desc:"Resource associated with the alert.",type:"String"},{name:"event",desc:"Event name.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"severity",desc:"Event severity.",type:"String"},{name:"service",desc:"List of affected services. Default is `[]`.",type:"Array of strings"},{name:"group",desc:'Alerta event group. Default is `""`.',type:"String"},{name:"value",desc:'Event value. Default is `""`.',type:"String"},{name:"text",desc:'Alert text description. Default is `""`.',type:"String"},{name:"tags",desc:"List of event tags. Default is `[]`.",type:"Array of strings"},{name:"attributes",desc:"Alert attributes.",type:"Record"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"},{name:"type",desc:'Event type. Default is `""`.',type:"String"},{name:"timestamp",desc:"time alert was generated. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/alerta",desc:"Sends an alert to Alerta.",example:'alerta.alert(\n    url: "https://alerta.io:8080/alert",\n    apiKey: "0Xx00xxXx00Xxx0x0X",\n    resource: "example-resource",\n    event: "Example event",\n    environment: "",\n    severity: "critical",\n    service: [],\n    group: "",\n    value: "",\n    text: "",\n    tags: [],\n    attributes: {},\n    origin: "InfluxDB",\n    type: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/alert/`},{name:"alerta.endpoint",args:[{name:"url",desc:"Alerta URL.",type:"String"},{name:"apiKey",desc:"Alerta API key.",type:"String"},{name:"environment",desc:'Alert environment. Default is `""`. Valid values are `""`, `"Production"`, or `"Development"`.',type:"String"},{name:"origin",desc:'Alert origin. Default is `"InfluxDB"`.',type:"String"}],package:"contrib/bonitoo-io/alerta",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = alerta.endpoint(\n    url: "https://alerta.io:8080/alert",\n    apiKey: apiKey,\n    environment: "Production",\n    origin: "InfluxDB"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/alerta/endpoint/`},{name:"array.from",args:[{name:"rows",desc:"Array of records to construct a table with.",type:"Array of Objects"}],package:"array",desc:"Constructs a table from an array of objects.",example:'array.from(rows: [{_time: 2020-01-01T00:00:00Z, _value: "foo"},{_time: 2020-01-02T00:00:00Z, _value: "bar"}])',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/array/from/`},{name:"bigpanda.endpoint",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = bigpanda.endpoint(\n    token: token,\n    appKey: "example-app-key"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/endpoint/`},{name:"bigpanda.sendAlert",args:[{name:"url",desc:"BigPanda alerts API URL. Default is the value of the `bigpanda.defaultURL` option.",type:"String"},{name:"token",desc:"BigPanda API Authorization token (API key).",type:"String"},{name:"appKey",desc:"BigPanda App Key.",type:"String"},{name:"status",desc:'BigPanda alert status. Supported statuses are `"ok"`, `"critical"`, `"warning"`, `"acknowledged"`.',type:"String"},{name:"rec",desc:"Additional alert parameters to send to the BigPanda alert API.",type:"Record"}],package:"contrib/rhajek/bigpanda",desc:"Sends an alert to BigPanda.",example:'bigpanda.sendAlert(\n    url: "https://api.bigpanda.io/data/v2/alerts",\n    token: "my5uP3rS3cRe7t0k3n",\n    appKey: "example-app-key",\n    status: "critical",\n    rec: {},\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/sendalert/`},{name:"bigpanda.statusFromLevel",args:[{name:"level",desc:"Alert level.",type:"String"}],package:"contrib/rhajek/bigpanda",desc:"Converts an alert level into a BigPanda status.",example:'bigpanda.statusFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/bigpanda/statusfromlevel/`},{name:"bigtable.from",args:[{name:"token",desc:"The Google Cloud IAM token to use to access the Cloud Bigtable database.",type:"String"},{name:"project",desc:"The project ID of the Cloud Bigtable project to retrieve data from.",type:"String"},{name:"instance",desc:"The instance ID of the Cloud Bigtable instance to retrieve data from.",type:"String"},{name:"table",desc:"The name of the Cloud Bigtable table to retrieve data from.",type:"String"}],package:"experimental/bigtable",desc:"Retrieves data from a Google Cloud Bigtable data source.",example:'bigtable.from(token: "mySuPeRseCretTokEn", project: "exampleProjectID", instance: "exampleInstanceID", table: "example-table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/bigtable/from/`},{name:"bool",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Float"}],package:"",desc:"Converts a single value to a boolean.",example:"bool(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bool/`},{name:"bottom",args:[{name:"n",desc:"The number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right) .Default is `["_value"]`',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the bottom n rows.",example:'bottom(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/bottom/`},{name:"buckets",args:[],package:"",desc:"Returns a list of buckets in the organization.",example:"buckets()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/inputs/buckets/`},{name:"bytes",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to bytes.",example:"bytes(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/bytes/`},{name:"chandeMomentumOscillator",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Applies the technical momentum indicator developed by Tushar Chande.",example:"chandeMomentumOscillator(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/chandemomentumoscillator/`},{name:"columns",args:[{name:"column",desc:"The name of the output column in which to store the column labels.",type:"String"}],package:"",desc:"Lists the column labels of input tables.",example:'columns(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/columns/`},{name:"contains",args:[{name:"value",desc:"The value to search for.",type:"Boolean | Integer | UInteger | Float | String | Time"},{name:"set",desc:"The set of values in which to search.",type:"Boolean | Integer | UInteger | Float | String | Time"}],package:"",desc:"Tests whether a value is a member of a set.",example:"contains(value: 1, set: [1,2,3])",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/tests/contains/`},{name:"count",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the number of records in the specified column.",example:'count(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/count/`},{name:"cov",args:[{name:"x",desc:"One input stream used to calculate the covariance.",type:"Object"},{name:"y",desc:"The other input table used to calculate the covariance.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"}],package:"",desc:"Computes the covariance between two streams by first joining the streams, then performing the covariance operation.",example:'cov(x: table1, y: table2, on: ["_time", "_field"], pearsonr: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cov/`},{name:"covariance",args:[{name:"columns",desc:"A list of columns on which to operate. Exactly two columns must be provided.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"},{name:"valueDst",desc:'The column into which the result will be placed. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the covariance between two columns.",example:'covariance(columns: ["column_x", "column_y"], pearsonr: false, valueDst: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/covariance/`},{name:"csv.from",args:[{name:"file",desc:"The file path of the CSV file to query.",type:"String"},{name:"csv",desc:"Raw CSV-formatted text. CSV data must be in the CSV format produced by the Flux HTTP response standard.",type:"String"}],package:"csv",desc:"Retrieves data from a comma-separated value (CSV) data source.",example:"csv.from(csv: csvData)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/csv/from/`},{name:"csv.from",args:[{name:"url",desc:"The URL to retrieve annotated CSV from.",type:"String"}],package:"experimental/csv",desc:"Retrieves annotated CSV data from a URL.",example:'csv.from(url: "http://example.com/data.csv")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/csv/from/`},{name:"cumulativeSum",args:[{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes a running sum for non-null records in the table. The output table schema will be the same as the input table.",example:'cumulativeSum(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/cumulativesum/`},{name:"date.hour",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the hour of a specified time. Results range from `[0-23]`.",example:"date.hour(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/hour/`},{name:"date.microsecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the microsecond of a specified time. Results range from `[1-999999]`.",example:"date.microsecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/microsecond/`},{name:"date.millisecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the millisecond of a specified time. Results range from `[1-999]`.",example:"date.millisecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/millisecond/`},{name:"date.minute",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the minute of a specified time. Results range from `[0-59]`.",example:"date.minute(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/minute/`},{name:"date.month",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the month of a specified time. Results range from `[1-12]`.",example:"date.month(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/month/`},{name:"date.monthDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the month for a specified time. Results range from `[1-31]`.",example:"date.monthDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/monthday/`},{name:"date.nanosecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the nanosecond of a specified time. Results range from `[1-999999999]`.",example:"date.nanosecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/nanosecond/`},{name:"date.quarter",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the quarter of the year for a specified time. Results range from `[1-4]`.",example:"date.quarter(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/quarter/`},{name:"date.second",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the second of a specified time. Results range from `[0-59]`.",example:"date.second(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/second/`},{name:"date.truncate",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"},{name:"unit",desc:"The unit time to truncate to. Only use `1` and the unit of time to specify the `unit`. For example, `1s`, `1m`, `1h`.",type:"Duration"}],package:"date",desc:"Truncates the time to a specified unit. Results range from `[0-59]`.",example:"date.truncate(t: 2019-07-17T12:05:21.012Z, unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/truncate/`},{name:"date.week",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the ISO week of the year for a specified time. Results range from `[1-53]`.",example:"date.week(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/week/`},{name:"date.weekDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the week for a specified time. Results range from `[0-6]`.",example:"date.weekDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/weekday/`},{name:"date.year",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the year of a specified time.",example:"date.year(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/year/`},{name:"date.yearDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the year for a specified time. Results include leap days and range from `[1-366]`.",example:"date.yearDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/date/yearday/`},{name:"derivative",args:[{name:"unit",desc:"The time duration used when creating the derivative.",type:"Duration"},{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"},{name:"timeColumn",desc:'The column name for the time values. Defaults to `"_time"`.',type:"String"}],package:"",desc:"Computes the rate of change per unit of time between subsequent non-null records. The output table schema will be the same as the input table.",example:'derivative(unit: 1s, nonNegative: true, columns: ["_value"], timeColumn: "_time")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/derivative/`},{name:"dict.fromList",args:[{name:"pairs",desc:"List of records, each containing `key` and `value` properties.",type:"Array of records"}],package:"dict",desc:"Creates a dictionary from a list of records with `key` and `value` properties.",example:'dict.fromList(\n    pairs: [\n        {key: 1, value: "foo"},\n        {key: 2, value: "bar"}\n    ]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/fromlist/`},{name:"dict.get",args:[{name:"dict",desc:"Dictionary to return a value from.",type:"Dictionary"},{name:"key",desc:"Key to return from the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Default value to return if the key does not exist in the dictionary. Must be the same type as values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Returns the value of a specified key in a dictionary or a default value if the key does not exist.",example:'dict.get(\n    dict: [1: "foo", 2: "bar"],\n    key: 1,\n    default: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/get/`},{name:"dict.insert",args:[{name:"dict",desc:"Dictionary to update.",type:"Dictionary"},{name:"key",desc:"Key to insert into the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"},{name:"default",desc:"Value to insert into the dictionary. Must be the same type as existing values in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Inserts a key value pair into a dictionary and returns a new, updated dictionary. If the key already exists in the dictionary, the function overwrites the existing value.",example:'dict.insert(\n    dict: [1: "foo", 2: "bar"],\n    key: 3,\n    value: "baz"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/insert/`},{name:"dict.remove",args:[{name:"dict",desc:"Dictionary to remove a key-value pair from.",type:"Dictionary"},{name:"key",desc:"Key to remove from the dictionary. Must be the same type as existing keys in the dictionary.",type:"String | Boolean | Integer | Uinteger | Float | Time | Bytes"}],package:"dict",desc:"Removes a key value pair from a dictionary and returns an updated dictionary.",example:'dict.remove(\n    dict: [1: "foo", 2: "bar"],\n    key: 1\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/dict/remove/`},{name:"difference",args:[{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'The columns to use to compute the difference. Defaults to `"_value"`.',type:"Array of Strings"},{name:"keepFirst",desc:"Indicates the first row should be kept. If `true`, the difference will be `null`. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Computes the difference between subsequent non-null records in the specified columns.",example:'difference(nonNegative: false, columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/difference/`},{name:"discord.endpoint",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    webhookToken: discordToken,\n    webhookID: "123456789",\n    username: "critBot"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/endpoint/`},{name:"discord.send",args:[{name:"webhookToken",desc:"Discord webhook token.",type:"String"},{name:"webhookID",desc:"Discord webhook ID.",type:"String"},{name:"username",desc:"Override the Discord webhook’s default username.",type:"String"},{name:"content",desc:"Message to send to Discord (2000 character limit).",type:"String"},{name:"avatar_url",desc:"Override the Discord webhook’s default avatar.",type:"String"}],package:"contrib/chobbs/discord",desc:"Sends a single message to a Discord channel using a Discord webhook.",example:'discord.send(\n    webhookToken: "mySuPerSecRetTokEn",\n    webhookID: "123456789",\n    username: "username",\n    content: "This is an example message",\n    avatar_url: "https://example.com/avatar_pic.jpg"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/discord/send/`},{name:"distinct",args:[{name:"column",desc:"Column on which to track unique values.",type:"String"}],package:"",desc:"Returns the unique values for a given column.",example:'distinct(column: "host")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/distinct/`},{name:"doubleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at double the rate of `exponentialMovingAverage()`.",example:"doubleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/doubleema/`},{name:"drop",args:[{name:"columns",desc:"A list of columns to be removed from the table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Removes specified columns from a table. Columns can be specified either through a list or a predicate function. When a dropped column is part of the group key, it will be removed from the key.",example:'drop(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/drop/`},{name:"duplicate",args:[{name:"column",desc:"The column name to duplicate.",type:"String"},{name:"as",desc:"The name assigned to the duplicate column.",type:"String"}],package:"",desc:"Duplicates a specified column in a table.",example:'duplicate(column: "column-name", as: "duplicate-name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/duplicate/`},{name:"duration",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to a duration.",example:"duration(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/duration/`},{name:"elapsed",args:[{name:"unit",desc:"The unit of time to return. Defaults to `1s`.",type:"Duration"},{name:"timeColumn",desc:'The column to use to compute the elapsed time. Defaults to `"_time"`.',type:"String`"},{name:"columnName",desc:'The column to store elapsed times. Defaults to `"elapsed"`.',type:"String"}],package:"",desc:"Returns the time between subsequent records.",example:"elapsed(unit: 1s)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/elapsed/`},{name:"events.duration",args:[{name:"unit",desc:"Duration unit of the calculated state duration. Default is `1ns`.",type:"Duration"},{name:"columnName",desc:'Name of the result column. Default is `"duration"`.',type:"String"},{name:"timeColumn",desc:'Name of the time column. Default is `"_time"`.',type:"String"},{name:"stopColumn",desc:'Name of the stop column. Default is `"_stop"`.',type:"String"},{name:"stop",desc:"The latest time to use when calculating results. If provided, `stop` overrides the time value in the `stopColumn`.",type:"Time"}],package:"contrib/tomhollingworth/events",desc:"Calculates the duration of events. The function determines the time between a record and the subsequent record and associates the duration with the first record (start of the event).",example:'events.duration(\n    unit: 1ns,\n    columnName: "duration",\n    timeColumn: "_time",\n    stopColumn: "_stop",\n    stop: 2020-01-01T00:00:00Z\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/events/duration/`},{name:"experimental.addDuration",args:[{name:"d",desc:"The duration to add.",type:"Duration"},{name:"to",desc:"The time to add the duration to.",type:"Time"}],package:"experimental",desc:"Adds a duration to a time value and returns the resulting time value.",example:"experimental.addDuration(d: 12h, to: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/addduration/`},{name:"experimental.alignTime",args:[{name:"alignTo",desc:"UTC time to align tables to. Default is 1970-01-01T00:00:00Z.",type:"Time"}],package:"experimental",desc:"Aligns input tables to a common start time.",example:"experimental.alignTime(alignTo: v.timeRangeStart)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/aligntime/`},{name:"experimental.chain",args:[{name:"first",desc:"The first query to execute.",type:"Stream of Tables"},{name:"second",desc:"The second query to execute.",type:"Stream of Tables"}],package:"experimental",desc:"Executes two queries sequentially rather than in parallel and outputs the results of the second query.",example:"experimental.chain(first: query1, second: query2)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/chain/`},{name:"experimental.count",args:[],package:"experimental",desc:"Outputs the number of records in each input table and returns the count in the `_value` column. This function counts both null and non-null records.",example:"experimental.count()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/count/`},{name:"experimental.distinct",args:[],package:"experimental",desc:"Returns unique values from the `_value` column. The `_value` of each output record is set to a distinct value in the specified column. `null` is considered a distinct value.",example:"experimental.distinct()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/distinct/`},{name:"experimental.fill",args:[{name:"value",desc:"Value to replace null values with. Data type must match the type of the `_value` column.",type:"Boolean | Integer | UInteger | Float | String | Time | Duration"},{name:"usePrevious",desc:"When `true`, replaces null values with the value of the previous non-null row.",type:"Boolean"}],package:"experimental",desc:"Replaces all null values in the `_value` column with a non-null value.",example:"experimental.fill(value: 0.0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/fill/`},{name:"experimental.first",args:[],package:"experimental",desc:"Returns the first record with a non-null value in the `_value` column.",example:"experimental.first()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/first/`},{name:"experimental.group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:"The mode used to group columns. Only the `extend` mode is available with this function.",type:"String"}],package:"experimental",desc:"Introduces an extend mode to the existing `group()` function.",example:'experimental.group(columns: ["host", "_measurement"], mode: "extend")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/group/`},{name:"experimental.histogram",args:[{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies, including the maximum value of the data set. This value can be set to positive infinity if no maximum is known.",type:"Array of floats"},{name:"normalize",desc:"Convert count values into frequency values between 0 and 1. Default is `false`.",type:"Boolean"}],package:"experimental",desc:"Approximates the cumulative distribution of a dataset by counting data frequencies for a list of bins.",example:"experimental.histogram(\n    bins: [50.0, 75.0, 90.0],\n    normalize: false\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogram/`},{name:"experimental.histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"minValue",desc:"The assumed minimum value of the dataset.",type:"Float"}],package:"experimental",desc:"Approximates a quantile given a histogram with the cumulative distribution of the dataset.",example:"experimental.histogramQuantile(\n    quantile: 0.5,\n    minValue: 0.0\n)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/histogramquantile/`},{name:"experimental.integral",args:[{name:"unit",desc:"Time duration used to compute the integral.",type:"Duration"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"experimental",desc:"Computes the area under the curve per `unit` of time of subsequent non-null records.",example:'integral(\n    unit: 10s,\n    interpolate: ""\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/integral/`},{name:"experimental.join",args:[{name:"left",desc:"First of two streams of tables to join.",type:"Stream of tables"},{name:"right",desc:"Second of two streams of tables to join.",type:"Stream of tables"},{name:"fn",desc:"A function that maps new output rows using left and right input rows.",type:"Function"}],package:"experimental",desc:"Joins two streams of tables on the group key and _time column. Use the fn parameter to map output tables.",example:"experimental.join(left: left, right: right, fn: (left, right) => ({left with lv: left._value, rv: right._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/join/`},{name:"experimental.kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"experimental",desc:"Calculates the Kaufman’s Adaptive Moving Average (KAMA) of input tables using the `_value` column in each table.",example:"experimental.kaufmansAMA(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/kaufmansama/`},{name:"experimental.last",args:[],package:"experimental",desc:"Returns the last record with a non-null value in the `_value` column.",example:"experimental.last()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/last/`},{name:"experimental.max",args:[],package:"experimental",desc:"Returns the record with the highest value in the `_value` column for each input table.",example:"experimental.max()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/max/`},{name:"experimental.mean",args:[],package:"experimental",desc:"Computes the mean or average of non-null values in the `_value` column of each input table.",example:"experimental.mean()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mean/`},{name:"experimental.min",args:[],package:"experimental",desc:"Returns the record with the lowest value in the `_value` column for each input table.",example:"experimental.min()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/min/`},{name:"experimental.mode",args:[],package:"experimental",desc:"Computes the mode or value that occurs most often in the `_value` column in each input table.",example:"experimental.mode()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mode/`},{name:"experimental.objectKeys",args:[{name:"o",desc:"The object to return keys from.",type:"Object"}],package:"experimental",desc:"Returns an array of keys in a specified object.",example:'experimental.objectKeys(o: {key1: "value1", key2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/objectkeys/`},{name:"experimental.quantile",args:[{name:"q",desc:"A value between 0 and 1 thats specifies the quantile.",type:"Float"},{name:"method",desc:"Computation method. Default is `estimate_tdigest`. Available options are `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset.",type:"Float"}],package:"experimental",desc:"Outputs non-null records with values in the `_value` column that fall within the specified quantile or represent the specified quantile.",example:'experimental.quantile(\n    q: 0.99,\n    method: "estimate_tdigest",\n    compression: 1000.0\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/quantile/`},{name:"experimental.set",args:[{name:"o",desc:"An object that defines the columns and values to set.",type:"Object"}],package:"experimental",desc:"Sets multiple static column values on all records.",example:'experimental.set(o: {column1: "value1", column2: "value2"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/set/`},{name:"experimental.skew",args:[],package:"experimental",desc:"Outputs the skew of non-null values in the `_value` column for each input table as a float.",example:"experimental.skew()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/skew/`},{name:"experimental.spread",args:[],package:"experimental",desc:"Outputs the difference between the minimum and maximum values in the `_value` column for each input table.",example:"experimental.spread()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/spread/`},{name:"experimental.stddev",args:[{name:"mode",desc:'The standard deviation mode or type of standard deviation to calculate. Defaults to `"sample"`. Available options are `sample` and `population`.',type:"String"}],package:"experimental",desc:"Computes the standard deviation of non-null values in the `_value` column for each input table.",example:'experimental.stddev(mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/stddev/`},{name:"experimental.subDuration",args:[{name:"d",desc:"The duration to subtract.",type:"Duration"},{name:"from",desc:"The time to subtract the duration from.",type:"Time"}],package:"experimental",desc:"Subtracts a duration from a time value and returns the resulting time value.",example:"experimental.subDuration(d: 12h, from: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/subduration/`},{name:"experimental.sum",args:[],package:"experimental",desc:"Computes the sum of non-null values in the `_value` column for each input table.",example:"experimental.sum()",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/sum/`},{name:"experimental.to",args:[{name:"bucket",desc:"The bucket to write data to. `bucket` and `bucketID` are mutually exclusive.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to write data to. `bucketID` and `bucket` are mutually exclusive.",type:"String"},{name:"org",desc:"The organization name of the specified bucket. `org` and `orgID` are mutually exclusive.",type:"String"},{name:"orgID",desc:"The organization ID of the specified bucket. `orgID` and `org` are mutually exclusive.",type:"String"}],package:"experimental",desc:"Writes data to an InfluxDB v2.0 bucket, but in a different structure than the built-in `to()` function.",example:'experimental.to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/to/`},{name:"exponentialMovingAverage",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data.",example:"exponentialMovingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/exponentialmovingaverage/`},{name:"fill",args:[{name:"column",desc:'The column in which to replace null values. Defaults to `"_value"`.',type:"String"},{name:"value",desc:"The constant value to use in place of nulls.",type:"Value type of `column`"},{name:"usePrevious",desc:"When `true`, assigns the value set in the previous non-null row.",type:"Boolean"}],package:"",desc:"Replaces all null values in an input stream and replace them with a non-null value.",example:'fill(column: "_value", usePrevious: true)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/fill/`},{name:"filter",args:[{name:"fn",desc:"A single argument function that evaluates true or false. Records are passed to the function. Those that evaluate to true are included in the output tables.",type:"Function"},{name:"onEmpty",desc:"Defines the behavior for empty tables. Potential values are `keep` and `drop`. Defaults to `drop`.",type:"String"}],package:"",desc:"Filters data based on conditions defined in the function. The output tables have the same schema as the corresponding input tables.",example:'filter(fn: (r) => r._measurement == "cpu")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/filter/`},{name:"findColumn",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"column",desc:"Name of the column to extract.",type:"String"}],package:"",desc:"Returns an array of values in a specified column from the first table in a stream of tables where the group key values match the specified predicate.",example:'findColumn(fn: (key) => key.host == "host1", column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findcolumn/`},{name:"findRecord",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"idx",desc:"Index of the record to extract.",type:"Integer"}],package:"",desc:"Returns a record at a specified index from the first table in a stream of tables where the group key values match the specified predicate.",example:'findRecord(fn: (key) => key.host == "host1", idx: 0)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/findrecord/`},{name:"first",args:[],package:"",desc:"Selects the first non-null record from an input table.",example:"first()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/first/`},{name:"float",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger | Boolean"}],package:"",desc:"Converts a single value to a float.",example:"float(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/float/`},r,{name:"geo.asTracks",args:[{name:"groupBy",desc:"Columns to group by. They should uniquely identify each track.",type:"Array of Strings"},{name:"orderBy",desc:"Columns to order results by.",type:"Array of Strings"}],package:"experimental/geo",desc:"Groups geo-temporal data into tracks (sequential, related data points).",example:'geo.asTracks(groupBy: ["id","tid"], orderBy: ["_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/astracks/`},{name:"geo.filterRows",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"},{name:"strict",desc:"Enable strict geographic data filtering. Default is `true`",type:"Boolean"}],package:"experimental/geo",desc:"Filters data by a specified geographic region with the option of strict filtering.",example:"geo.filterRows(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0}, strict: true)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/filterrows/`},{name:"geo.gridFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Filters data by a specified geographic region using S2 geometry grid cells.",example:"geo.gridFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/gridfilter/`},{name:"geo.groupByArea",args:[{name:"newColumn",desc:"Name of the new column that stores the unique identifier for a geographic area.",type:"String"},{name:"level",desc:"S2 Cell level used to determine the size of each geographic area.",type:"Integer"},{name:"s2cellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Groups rows by geographic area using S2 geometry grid cells.",example:'geo.groupByArea(newColumn: "geoArea", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/groupbyarea/`},{name:"geo.s2CellIDToken",args:[{name:"point",desc:"Longitude and latitude in decimal degrees (WGS 84) to use when generating the S2 cell ID token. Object must contain `lat` and `lon` properties.",type:"Object"},{name:"token",desc:"S2 cell ID token to update.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Returns an S2 cell ID token.",example:"geo.s2CellIDToken(point: {lat: 37.7858229, lon: -122.4058124}, level: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2cellidtoken/`},{name:"geo.s2CellLatLon",args:[{name:"token",desc:"S2 cell ID token.",type:"String"}],package:"experimental/geo",desc:"Returns the latitude and longitude of the center of an S2 cell.",example:'geo.s2CellLatLon(token: "89c284")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/s2celllatlon/`},{name:"geo.shapeData",args:[{name:"latField",desc:"Name of existing latitude field.",type:"String"},{name:"lonField",desc:"Name of existing longitude field.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Renames existing latitude and longitude fields to `lat` and `lon` and adds an `s2_cell_id` tag.",example:'geo.shapeData(latField: "latitude", lonField: "longitude", level: 10)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/shapedata/`},{name:"geo.ST_Contains",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if the region contains the GIS geometry.",example:"geo.ST_Contains(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_contains/`},{name:"geo.ST_Distance",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the distance between the region and GIS geometry.",example:"geo.ST_Distance(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_distance/`},{name:"geo.ST_DWithin",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"},{name:"distance",desc:"Maximum distance allowed between the region and geometry.",type:"Float"}],package:"experimental/geo",desc:"Tests if a region is within a specified distance from GIS geometry.",example:"geo.ST_DWithin(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433}, distance: 1000.0)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_dwithin/`},{name:"geo.ST_Intersects",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if a region intersects with GIS geometry.",example:'geo.ST_Intersects(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_intersects/`},{name:"geo.ST_Length",args:[{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the spherical length of GIS geometry.",example:'geo.ST_Length(geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_length/`},{name:"geo.ST_LineString",args:[],package:"experimental/geo",desc:"Converts a series of geographic points into linestring",example:"geo.ST_LineString()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/st_linestring/`},{name:"geo.strictFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"}],package:"experimental/geo",desc:"Filters data by latitude and longitude in a specified region.",example:"geo.strictFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/strictfilter/`},{name:"geo.toRows",args:[],package:"experimental/geo",desc:"Pivots geo-temporal data into row-wise sets based on time and other correlation columns.",example:"geo.toRows()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/geo/torows/`},{name:"getColumn",args:[{name:"column",desc:"The name of the column to extract.",type:"String"}],package:"",desc:"Extracts a column from a table given its label. If the label is not present in the set of columns, the function errors.",example:'getColumn(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getcolumn/`},{name:"getRecord",args:[{name:"idx",desc:"The index of the record to extract.",type:"Integer"}],package:"",desc:"Extracts a record from a table given the record’s index. If the index is out of bounds, the function errors.",example:"getRecord(idx: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/getrecord/`},{name:"group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:'The mode used to group columns. The following options are available: by, except. Defaults to `"by"`.',type:"String"}],package:"",desc:"Groups records based on their values for specific columns. It produces tables with new group keys based on provided properties.",example:'group(columns: ["host", "_measurement"], mode:"by")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/group/`},{name:"highestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the average of each group.",example:'highestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestaverage/`},{name:"highestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the last value of each group.",example:'highestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestcurrent/`},{name:"highestMax",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the maximum of each group.",example:'highestMax(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/highestmax/`},{name:"histogram",args:[{name:"column",desc:'The name of a column containing input data values. The column type must be float. Defaults to `"_value"`.',type:"Strings"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. Defaults to `"le"`.',type:"String"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. Defaults to `"_value"`.',type:"String"},{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies. Each element in the array should contain a float value that represents the maximum value for a bin.",type:"Array of Floats"},{name:"normalize",desc:"When `true`, will convert the counts into frequency values between 0 and 1. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Approximates the cumulative distribution function of a dataset by counting data frequencies for a list of buckets.",example:'histogram(column: "_value", upperBoundColumn: "le", countColumn: "_value", bins: [50.0, 75.0, 90.0], normalize: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/histogram/`},{name:"histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. The count column type must be float. Defaults to `"_value"`.',type:"String"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. The count column type must be float. Defaults to `"le"`.',type:"String"},{name:"valueColumn",desc:'The name of the output column which will contain the computed quantile. Defaults to `"_value"`.',type:"String"},{name:"minValue",desc:"The assumed minimum value of the dataset. When the quantile falls below the lowest upper bound, interpolation is performed between `minValue` and the lowest upper bound. When `minValue` is equal to negative infinity, the lowest upper bound is used. Defaults to `0`.",type:"Float"}],package:"",desc:"Approximates a quantile given a histogram that approximates the cumulative distribution of the dataset.",example:'histogramQuantile(quantile: 0.5, countColumn: "_value", upperBoundColumn: "le", valueColumn: "_value", minValue: 0.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/histogramquantile/`},{name:"holtWinters",args:[{name:"n",desc:"Number of values to predict.",type:"Integer"},{name:"seasonality",desc:"Number of points in a season. Defaults to `0`.",type:"Integer"},{name:"interval",desc:"The interval between two data points.",type:"Duration"},{name:"withFit",desc:'Returns "fitted" data points in results when `withFit` is set to `true`. Defaults to `false`.',type:"Boolean"},{name:"timeColumn",desc:'The time column to use. Defaults to `"_time"`.',type:"String"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Applies the Holt-Winters forecasting method to input tables. The Holt-Winters method predicts `n` seasonally-adjusted values for the specified `column` at the specified `interval`.",example:"holtWinters(n: 10, interval: 1d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/holtwinters/`},{name:"hourSelection",args:[{name:"start",desc:"The first hour of the hour range (inclusive). Hours range from `[0-23]`",type:"Integer"},{name:"stop",desc:"The last hour of the hour range (inclusive). Hours range from `[0-23]`.",type:"Integer`"},{name:"timeColumn",desc:'The column that contains the time value. Default is `"_time"`.',type:"String`"}],package:"",desc:"Retains all rows with time values in a specified hour range. Hours are specified in military time.",example:"hourSelection(start: 9, stop: 17)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/hourselection/`},{name:"http.basicAuth",args:[{name:"u",desc:"The username to use in the basic authentication header.",type:"String"},{name:"p",desc:"The password to use in the basic authentication header.",type:"String"}],package:"http",desc:"Returns a Base64-encoded basic authentication header using a specified username and password combination.",example:'http.basicAuth(\n    u: "username",\n    p: "passw0rd"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/basicauth/`},{name:"http.endpoint",args:[{name:"url",desc:"The URL to POST to.",type:"String"}],package:"http",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = http.endpoint(\n    url: "http://localhost:1234/"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/endpoint/`},{name:"http.get",args:[{name:"url",desc:"The URL to send the GET request to.",type:"String"},{name:"headers",desc:"Headers to include with the GET request.",type:"Object"},{name:"timeout",desc:"Timeout for the GET request. Default is `30s`.",type:"Duration"}],package:"experimental/http",desc:"Submits an HTTP GET request to the specified URL and returns the HTTP status code, response body, and response headers.",example:'http.get(url: "https://docs.influxdata.com/influxdb/v2.0/", headers: {foo: "bar"})',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/http/get/`},{name:"http.pathEscape",args:[{name:"inputString",desc:"The string to escape.",type:"String"}],package:"http",desc:"Escapes special characters in a string and replaces non-ASCII characters with hexadecimal representations (%XX).",example:'http.pathEscape(inputString: "/this/is/an/example-path.html")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/pathescape/`},{name:"http.post",args:[{name:"url",desc:"The URL to POST to.",type:"String"},{name:"headers",desc:"Headers to include with the POST request.",type:"Object"},{name:"data",desc:"The data body to include with the POST request.",type:"Bytes"}],package:"http",desc:"Submits an HTTP POST request to the specified URL with headers and data and returns the HTTP status code.",example:'http.post(url: "http://localhost:8086/", headers: {x:"a", y:"b"}, data: bytes(v: "body"))',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/http/post/`},{name:"increase",args:[{name:"columns",desc:'List of columns to use in the operation. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes the total non-negative difference between values in a table.",example:'increase(columns: ["_value"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/increase/`},{name:"influxdb.api",args:[{name:"method",desc:"HTTP request method.",type:"String"},{name:"path",desc:"InfluxDB API path.",type:"String"},{name:"host",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB host URL (Required when executed outside of InfluxDB). Default is `""`.',type:"String"},{name:"headers",desc:"HTTP request headers.",type:"Dictionary"},{name:"query",desc:"URL query parameters.",type:"Dictionary"},{name:"timeout",desc:"HTTP request timeout. Default is `30s`.",type:"Duration"},{name:"body",desc:"HTTP request body as bytes.",type:"Bytes"}],package:"experimental/influxdb",desc:"Submits an HTTP request to the specified InfluxDB API path and returns a record containing the HTTP status code, response headers, and response body as a byte array.",example:'influxdb.api(\n    method: "get",\n    path: "/example",\n    host: "http://localhost:8086",\n    token: "mySupeR53cre7t0k3n",\n    headers: ["header1": "header1Value", "header2": "header2Value"],\n    query: ["ex1": "example1", "ex2": "example2"],\n    timeout: 30s,\n    body: bytes(v: "Example body")\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/influxdb/api/`},{name:"influxdb.cardinality",args:[{name:"bucket",desc:"Bucket to query cardinality from.",type:"String"},{name:"bucketID",desc:"Bucket ID to query cardinality from.",type:"String"},{name:"org",desc:"InfluxDB organization.",type:"String"},{name:"orgID",desc:"InfluxDB organization ID.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query.",type:"String"},{name:"token",desc:"InfluxDB authorization token.",type:"String"},{name:"start",desc:"The earliest time to include when calculating cardinality.",type:"Duration | Time"},{name:"stop",desc:"The latest time to include when calculating cardinality.",type:"Duration | Time"},{name:"predicate",desc:"Predicate function that filters records. Default is `(r) => true.`",type:"Function"}],package:"influxdata/influxdb",desc:"Returns the series cardinality of data in InfluxDB.",example:'influxdb.cardinality(bucket: "example-bucket", start: -1h)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb/cardinality/`},{name:"influxdb.select",args:[{name:"from",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"Earliest time to include in results. Results include points that match the specified start time.",type:"Duration | Time | Integer"},{name:"stop",desc:"Latest time to include in results. Results exclude points that match the specified stop time.",type:"Duration | Time | Integer"},{name:"m",desc:"Name of the measurement to query.",type:"String"},{name:"fields",desc:"List of fields to query. Returns all fields when list is empty or unspecified. Defaults to `[]`.",type:"Array of Strings"},{name:"where",desc:"A single argument predicate function that evaluates true or false and filters results based on tag values. Defaults to `(r) => true`.",type:"Function"},{name:"host",desc:"URL of the InfluxDB instance to query. See InfluxDB URLs.",type:"String"},{name:"org",desc:"Organization name.",type:"String"},{name:"token",desc:"InfluxDB authentication token.",type:"String"}],package:"contrib/jsternberg/influxdb",desc:"an alternate implementation of `from()`, `range()`, `filter()` and `pivot()` that returns pivoted query results and masks the `_measurement`, `_start`, and `_stop` columns.",example:'influxdb.select(\n    from: "example-bucket",\n    start: -1d,\n    stop: now(),\n    m: "example-measurement",\n    fields: [],\n    where: (r) => true,\n    host: "https://example.com",\n    org: "example-org",\n    token: "MySuP3rSecr3Tt0k3n"\n)',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/influxdb/select/`},{name:"int",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Numeric String | Time | Uinteger"}],package:"",desc:"Converts a single value to a integer.",example:"int(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/int/`},{name:"integral",args:[{name:"unit",desc:"The time duration used when computing the integral.",type:"Duration"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeColumn",desc:'Column that contains time values to use in the operation. Defaults to `"_time"`.',type:"String"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"",desc:"Computes the area under the curve per unit of time of subsequent non-null records. The curve is defined using `_time` as the domain and record values as the range.",example:'integral(unit: 10s, column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/integral/`},{name:"interpolate.linear",args:[{name:"every",desc:"Duration of time between interpolated points.",type:"Duration"}],package:"interpolate",desc:"Inserts rows at regular intervals using linear interpolation to determine values for inserted rows.",example:"interpolate.linear(every: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/interpolate/linear/`},{name:"join",args:[{name:"tables",desc:"The map of streams to be joined.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"method",desc:'The method used to join. Possible values are: `inner`, `cross`, `left`, `right`, or `full`. Defaults to `"inner"`.',type:"String"}],package:"",desc:"Merges two or more input streams, whose values are equal on a set of common columns, into a single output stream. The resulting schema is the union of the input schemas. The resulting group key is the union of the input group keys.",example:'join(tables: {key1: table1, key2: table2}, on: ["_time", "_field"], method: "inner")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/join/`},{name:"json.encode",args:[{name:"v",desc:"The value to encode.",type:"Boolean | Duration | Float | Integer | String | Time | UInteger"}],package:"json",desc:"Converts a value into JSON bytes.",example:"json.encode(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/json/encode/`},{name:"json.parse",args:[{name:"data",desc:"JSON data to parse.",type:"Bytes"}],package:"experimental/json",desc:"Takes JSON data as bytes and returns a value.",example:'json.parse(data: bytes(v: "{"a":1,"b":2,"c":3}"))',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/json/parse/`},{name:"kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Calculates Kaufman’s Adaptive Moving Average (KAMA) using values in an input table.",example:"kaufmansAMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmansama/`},{name:"kaufmansER",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates the Kaufman’s Efficiency Ratio (KER) using values in an input table.",example:"kaufmansER(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/kaufmanser/`},{name:"keep",args:[{name:"columns",desc:"Columns that should be included in the resulting table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A predicate function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Returns a table containing only the specified columns, ignoring all others. Only columns in the group key that are also specified in the `keep()` function will be kept in the resulting group key. It is the inverse of `drop`.",example:'keep(columns: ["col1", "col2"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keep/`},{name:"keys",args:[{name:"column",desc:"Column is the name of the output column to store the group key labels. Defaults to `_value`.",type:"String"}],package:"",desc:"Outputs the group key of input tables. For each input table, it outputs a table with the same group key columns, plus a _value column containing the labels of the input table's group key.",example:'keys(column: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keys/`},{name:"keyValues",args:[{name:"keyColumns",desc:"A list of columns from which values are extracted. All columns indicated must be of the same type.",type:"Array of Strings"}],package:"",desc:"Returns a table with the input table's group key plus two columns, `_key` and `_value`, that correspond to unique column + value pairs from the input table.",example:'keyValues(keyColumns: ["usage_idle", "usage_user"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/keyvalues/`},{name:"last",args:[],package:"",desc:"Selects the last non-null record from an input table.",example:"last()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/last/`},{name:"length",args:[{name:"arr",desc:"The array to evaluate.",type:"Array"}],package:"",desc:"Returns the number of items in an array.",example:'length(arr: ["john"])',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/length/`},{name:"limit",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the beginning of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the first `n` records, excluding the offset.",example:"limit(n:10, offset: 0)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/limit/`},{name:"linearBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"width",desc:"The distance between subsequent bin values.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of linearly separated floats.",example:"linearBins(start: 0.0, width: 5.0, count: 20, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/linearbins/`},{name:"logarithmicBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"factor",desc:"The multiplier applied to each subsequent bin.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of exponentially separated floats.",example:"logarithmicBins(start: 1.0, factor: 2.0, count: 10, infinity: true)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/logarithmicbins/`},{name:"lowestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the average of each group.",example:'lowestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestaverage/`},{name:"lowestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the last value of each group.",example:'lowestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestcurrent/`},{name:"lowestMin",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the maximum of each group.",example:'lowestMin(n:10, groupColumns: ["host"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/lowestmin/`},{name:"map",args:[{name:"fn",desc:"A single argument function that to apply to each record. The return value must be an object.",type:"Function"}],package:"",desc:"Applies a function to each record in the input tables.",example:"map(fn: (r) => ({ r with _value: r._value * r._value }))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/map/`},{name:"math.abs",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the absolute value of x.",example:"math.abs(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/abs/`},{name:"math.acos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arccosine of x in radians.",example:"math.acos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acos/`},{name:"math.acosh",args:[{name:"x",desc:"The value used in the operation. Should be greater than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic cosine of x.",example:"math.acosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/acosh/`},{name:"math.asin",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the arcsine of x in radians.",example:"math.asin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asin/`},{name:"math.asinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic sine of x.",example:"math.asinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/asinh/`},{name:"math.atan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arctangent of x in radians.",example:"math.atan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan/`},{name:"math.atan2",args:[{name:"y",desc:"The y coordinate used in the operation.",type:"Float"},{name:"x",desc:"The x coordinate used in the operation.",type:"Float"}],package:"math",desc:"Returns the arc tangent of y/x, using the signs of the two to determine the quadrant of the return value.",example:"math.atan2(y: r.y_coord, x: r.x_coord)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atan2/`},{name:"math.atanh",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic tangent of x.",example:"math.atanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/atanh/`},{name:"math.cbrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cube root of x.",example:"math.cbrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cbrt/`},{name:"math.ceil",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the least integer value greater than or equal to x.",example:"math.ceil(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ceil/`},{name:"math.copysign",args:[{name:"x",desc:"The magnitude used in the operation.",type:"Float"},{name:"y",desc:"The sign used in the operation.",type:"Float"}],package:"math",desc:"Returns a value with the magnitude of x and the sign of y.",example:"math.copysign(x: r._magnitude, r._sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/copysign/`},{name:"math.cos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cosine of the radian argument x.",example:"math.cos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cos/`},{name:"math.cosh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic cosine of x.",example:"math.cosh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/cosh/`},{name:"math.dim",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the maximum of (x - y) or 0.",example:"math.dim(x: r._value1, y: r._value2)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/dim/`},{name:"math.erf",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the error function of x.",example:"math.erf(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erf/`},{name:"math.erfc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the complementary error function of x.",example:"math.erfc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfc/`},{name:"math.erfcinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than 0 and less than 2.",type:"Float"}],package:"math",desc:"Returns the inverse of `math.erfc()`.",example:"math.erfcinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfcinv/`},{name:"math.erfinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse error function of x.",example:"math.erfinv(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/erfinv/`},{name:"math.exp",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x (`e**x`).",example:"math.exp(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp/`},{name:"math.exp2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-2 exponential of x (`2**x`).",example:"math.exp2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/exp2/`},{name:"math.expm1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x minus 1 (`e**x - 1`).",example:"math.expm1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/expm1/`},{name:"math.float64bits",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 binary representation of f, with the sign bit of f and the result in the same bit position.",example:"math.float64bits(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/float64bits/`},{name:"math.floor",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the greatest integer value less than or equal to x.",example:"math.floor(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/floor/`},{name:"math.frexp",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Breaks f into a normalized fraction and an integral power of two.",example:"math.frexp(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/frexp/`},{name:"math.gamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the Gamma function of x.",example:"math.gamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/gamma/`},{name:"math.hypot",args:[{name:"p",desc:"The p value used in the operation.",type:"Float"},{name:"q",desc:"The q value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of `p*p + q*q`, taking care to avoid overflow and underflow.",example:"math.hypot(p: r.opp, p: r.adj)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/hypot/`},{name:"math.ilogb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x as an integer.",example:"math.ilogb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ilogb/`},{name:"math.isInf",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"},{name:"sign",desc:"The sign used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an infinity, according to sign.",example:"math.isInf(f: r._value, sign: r.sign)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isinf/`},{name:"math.isNaN",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an IEEE 754 NaN value.",example:"math.isNaN(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/isnan/`},{name:"math.j0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the first kind.",example:"math.j0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j0/`},{name:"math.j1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the first kind.",example:"math.j1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/j1/`},{name:"math.jn",args:[{name:"n",desc:"The order number.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the first kind.",example:"math.jn(n: 2, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/jn/`},{name:"math.ldexp",args:[{name:"frac",desc:"The fraction used in the operation.",type:"Float"},{name:"exp",desc:"The exponent used in the operation.",type:"Float"}],package:"math",desc:"Returns `frac × 2**exp`. It is the inverse of `math.frexp()`.",example:"math.ldexp(frac: r.frac, exp: r.exp)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/ldexp/`},{name:"math.lgamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm and sign (-1 or +1) of `math.gamma(x:x)`.",example:"math.lgamma(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/lgamma/`},{name:"math.log",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of x.",example:"math.log(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log/`},{name:"math.log10",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the decimal logarithm of `x`.",example:"math.log10(x: 3.14)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log10/`},{name:"math.log1p",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of 1 plus its argument x.",example:"math.log1p(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log1p/`},{name:"math.log2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary logarithm of x.",example:"math.log2(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/log2/`},{name:"math.logb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x.",example:"math.logb(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/logb/`},{name:"math.mInf",args:[{name:"sign",desc:"The sign value used in the operation.",type:"Float"}],package:"math",desc:"Returns positive infinity if `sign >= 0`, negative infinity if `sign < 0`.",example:"math.mInf(sign: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/minf/`},{name:"math.mMax",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the larger of x or y.",example:"math.mMax(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmax/`},{name:"math.mMin",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the smaller of x or y.",example:"math.mMin(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mmin/`},{name:"math.mod",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the floating-point remainder of x/y.",example:"math.mod(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/mod/`},{name:"math.modf",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns integer and fractional floating-point numbers that sum to f. Both values have the same sign as f.",example:"math.modf(f: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/modf/`},{name:"math.NaN",args:[],package:"math",desc:"Returns an IEEE 754 NaN value.",example:"math.NaN()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nan/`},{name:"math.nextafter",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the next representable float value after x towards y.",example:"math.nextafter(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/nextafter/`},{name:"math.pow",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-x exponential of y, `x**y`.",example:"math.pow(x: r.x_value, y: r.y_value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow/`},{name:"math.pow10",args:[{name:"n",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-10 exponential of n, `10**n`.",example:"math.pow10(n: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/pow10/`},{name:"math.remainder",args:[{name:"x",desc:"The numerator used in the operation.",type:"Float"},{name:"y",desc:"The denominator used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 floating-point remainder of `x / y`.",example:"math.remainder(x: r.numerator, y: r.denominator)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/remainder/`},{name:"math.round",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding half away from zero.",example:"math.round(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/round/`},{name:"math.roundtoeven",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding ties to even.",example:"math.roundtoeven(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/roundtoeven/`},{name:"math.signbit",args:[{name:"x",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether x is negative or negative zero.",example:"math.signbit(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/signbit/`},{name:"math.sin",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the sine of the radian argument x.",example:"math.sin(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sin/`},{name:"math.sincos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the values of `math.sin(x:x)` and `math.cos(x:x)`.",example:"math.sincos(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sincos/`},{name:"math.sinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic sine of x.",example:"math.sinh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sinh/`},{name:"math.sqrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of x.",example:"math.sqrt(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/sqrt/`},{name:"math.tan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the tangent of the radian argument x.",example:"math.tan(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tan/`},{name:"math.tanh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic tangent of x.",example:"math.tanh(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/tanh/`},{name:"math.trunc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the integer value of x.",example:"math.trunc(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/trunc/`},{name:"math.y0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the second kind.",example:"math.y0(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y0/`},{name:"math.y1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the second kind.",example:"math.y1(x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/y1/`},{name:"math.yn",args:[{name:"n",desc:"The order number used in the operation.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the second kind.",example:"math.yn(n: 3, x: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/math/yn/`},{name:"max",args:[{name:"column",desc:'The column to use to compute the max. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the highest `_value` from the input table.",example:"max()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/max/`},{name:"mean",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Computes the mean or average of non-null records in the input table.",example:'mean(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mean/`},{name:"median",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Returns the median `_value` of an input table. The `median()` function can only be used with float value types.",example:'median(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/median/`},{name:"min",args:[{name:"column",desc:'The column to use to compute the min. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Selects record with the lowest `_value` from the input table.",example:"min()",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/min/`},{name:"mode",args:[{name:"column",desc:'The column to use to compute the mode. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the mode or value that occurs most often in a specified column.",example:'mode(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/mode/`},{name:"monitor.check",args:[{name:"crit",desc:"Predicate function that determines `crit` status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function that determines `warn` status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function that determines `info` status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function that determines `ok` status. Default is `(r) => false`.",type:"Function"},{name:"messageFn",desc:"A function that constructs a message to append to each row. The message is stored in the `_message` column.",type:"Function"},{name:"data",desc:"Meta data used to identify this check.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Checks input data and assigns a level (`ok`, `info`, `warn`, or `crit`) to each row based on predicate functions.",example:'monitor.check(\n    crit: (r) => r._value > 90.0,\n    warn: (r) => r._value > 80.0,\n    info: (r) => r._value > 60.0,\n    ok:   (r) => r._value <= 20.0,\n    messageFn: (r) => "The current level is ${r._level}",\n    data: {}\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/check/`},{name:"monitor.deadman",args:[{name:"t",desc:"The time threshold for the deadman check.",type:"Time"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.deadman(t: 2019-08-30T12:30:00Z)",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/deadman/`},{name:"monitor.from",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Detects when a group stops reporting data. It takes a stream of tables and reports if groups have been observed since time `t`.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/from/`},{name:"monitor.logs",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results.",type:"Duration | Time | Integer"},{name:"fn",desc:"A single argument predicate function that evaluates `true` or `false`.",type:"Function"}],package:"influxdata/influxdb/monitor",desc:"Retrieves notification events stored in the notifications measurement in the `_monitoring` bucket.",example:"monitor.from(\n    start: -1h,\n    stop: now(),\n    fn: (r) => true\n)",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/logs/`},{name:"monitor.notify",args:[{name:"endpoint",desc:"A function that constructs and sends the notification to an endpoint.",type:"Function"},{name:"data",desc:"Notification data to append to the output.",type:"Record"}],package:"influxdata/influxdb/monitor",desc:"Sends a notification to an endpoint and logs it in the notifications measurement in the `_monitoring` bucket.",example:"monitor.notify(\n    endpoint: endpoint,\n    data: {}\n)",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/notify/`},{name:"monitor.stateChanges",args:[{name:"fromLevel",desc:'The level to detect a change from. Defaults to `"any"`.',type:"String"},{name:"toLevel",desc:'The level to detect a change to. The function output records that change to this level. Defaults to `"any"`.',type:"String"}],package:"influxdata/influxdb/monitor",desc:"Detects state changes in a stream of data with a `_level` column and outputs records that change from `fromLevel` to `toLevel`.",example:'monitor.stateChanges(\n    fromLevel: "any",\n    toLevel: "any"\n)',category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechanges/`},{name:"monitor.stateChangesOnly",args:[],package:"influxdata/influxdb/monitor",desc:"Takes a stream of tables that contains a `_level` column and returns a stream of tables where each record represents a state change.",example:"monitor.stateChangesOnly()",category:"Transformation",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/monitor/statechangesonly/`},{name:"movingAverage",args:[{name:"n",desc:"The frequency of time windows.",type:"Duration"}],package:"",desc:"Calculates the mean of values grouped into `n` number of points.",example:"movingAverage(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/movingaverage/`},{name:"mqtt.to",args:[{name:"broker",desc:"The MQTT broker connection string.",type:"String"},{name:"topic",desc:"The MQTT topic to send data to.",type:"String"},{name:"message",desc:"The message or payload to send to the MQTT broker. The default payload is an output table.",type:"String"},{name:"qos",desc:"The MQTT Quality of Service (QoS) level. Values range from 0-2. Default is 0.",type:"Integer"},{name:"clientid",desc:"The MQTT client ID.",type:"String"},{name:"username",desc:"The username to send to the MQTT broker.",type:"String"},{name:"password",desc:"The password to send to the MQTT broker.",type:"String"},{name:"name",desc:"The name for the MQTT message.",type:"String"},{name:"timeout",desc:"The MQTT connection timeout. Default is 1s.",type:"Duration"},{name:"timeColumn",desc:'The column to use as time values in the output line protocol. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The columns to use as tag sets in the output line protocol. Default is `[]`.",type:"Array of Strings"},{name:"valueColumns",desc:'The columns to use as field values in the output line protocol. Default is `["_value"]`.',type:"Array of Strings"}],package:"experimental/mqtt",desc:"Outputs data to an MQTT broker using MQTT protocol.",example:'mqtt.to(broker: "tcp://localhost:8883", topic: "example-topic", clientid: "exampleID", tagColumns: ["exampleTagKey"], valueColumns: ["_value"])',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/mqtt/to/`},{name:"now",args:[],package:"",desc:"Returns the current time (UTC) or the time defined in the `now` option.",example:"now()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/now/`},{name:"oee.APQ",args:[{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, quality (APQ) and overall equipment effectiveness (OEE) in producing parts.",example:'oee.APQ(\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/apq/`},{name:"oee.computeAPQ",args:[{name:"productionEvents",desc:"Production events stream that contains the production state or start and stop events.",type:"Stream of Tables"},{name:"partEvents",desc:"Part events that contains the running totals of parts produced and parts that do not meet quality standards.",type:"Stream of Tables"},{name:"runningState",desc:"State value that represents a running state.",type:"String"},{name:"plannedTime",desc:"Total time that equipment is expected to produce parts.",type:"Duration | Integer"},{name:"idealCycleTime",desc:"Ideal minimum time to produce one part.",type:"Duration | Integer"}],package:"experimental/oee",desc:"Computes availability, performance, and quality (APQ) and overall equipment effectiveness (OEE) using two separate input streams—production events and part events.",example:'oee.computeAPQ(\n    productionEvents: exampleProductionScheme,\n    partEvents: examplePartsStream,\n    runningState: "running",\n    plannedTime: 8h,\n    idealCycleTime: 2m,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/oee/computeapq/`},{name:"opsgenie.endpoint",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"}],package:"contrib/sranka/opsgenie",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = opsgenie.endpoint(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    entity: "example-entity"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/endpoint/`},{name:"opsgenie.sendAlert",args:[{name:"url",desc:"Opsgenie API URL. Defaults to `https://api.opsgenie.com/v2/alerts`.",type:"String"},{name:"apiKey",desc:"Opsgenie API authorization key.",type:"String"},{name:"message",desc:"Alert message text. 130 characters or less.",type:"String"},{name:"alias",desc:"Opsgenie alias usee to de-deduplicate alerts. 250 characters or less. Defaults to `message`.",type:"String"},{name:"description",desc:"Alert description. 15,000 characters or less.",type:"String"},{name:"priority",desc:"Opsgenie alert priority. Valid values include: P1, P2, P3 (default), P4, and P5.",type:"String"},{name:"responders",desc:"List of responder teams or users. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of Strings"},{name:"tags",desc:"Alert tags.",type:"String"},{name:"entity",desc:"Alert entity used to specify the alert domain.",type:"String"},{name:"actions",desc:"List of actions available for the alert.",type:"Array of strings"},{name:"details",desc:"Additional alert details. Must be a JSON-encoded map of key-value string pairs.",type:"String"},{name:"visibleTo",desc:"List of teams and users the alert will be visible to without sending notifications. Use the `user:` prefix for users and `teams:` prefix for teams.",type:"Array of strings"}],package:"contrib/sranka/opsgenie",desc:"Sends an alert to Opsgenie.",example:'opsgenie.sendAlert(\n    url: "https://api.opsgenie.com/v2/alerts",\n    apiKey: "YoUrSup3R5ecR37AuThK3y",\n    message: "Example message",\n    alias: "Example alias",\n    description: "Example description",\n    priority: "P3",\n    responders: ["user:john@example.com", "team:itcrowd"],\n    tags: ["tag1", "tag2"],\n    entity: "example-entity",\n    actions: ["action1", "action2"],\n    details: "{}",\n    visibleTo: []\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/opsgenie/sendalert/`},{name:"pagerduty.actionFromSeverity",args:[{name:"severity",desc:"The severity to convert to a PagerDuty action.",type:"String"}],package:"pagerduty",desc:"Converts a severity to a PagerDuty action. `ok` converts to `resolve`. All other severities convert to `trigger`.",example:'pagerduty.actionFromSeverity(severity: "ok")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/actionfromseverity/`},{name:"pagerduty.dedupKey",args:[],package:"pagerduty",desc:"uses the group key of an input table to generate and store a deduplication key in the `_pagerdutyDedupKey` column.",example:"pagerduty.dedupKey()",category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/dedupkey/`},{name:"pagerduty.endpoint",args:[{name:"url",desc:"The PagerDuty v2 Events API URL. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"}],package:"pagerduty",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pagerduty.endpoint(\n    url: "https://events.pagerduty.com/v2/enqueue"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/endpoint/`},{name:"pagerduty.sendEvent",args:[{name:"pagerdutyURL",desc:"The URL of the PagerDuty endpoint. Defaults to `https://events.pagerduty.com/v2/enqueue`.",type:"String"},{name:"routingKey",desc:"The routing key generated from your PagerDuty integration.",type:"String"},{name:"client",desc:"The name of the client sending the alert.",type:"String"},{name:"clientURL",desc:"The URL of the client sending the alert.",type:"String"},{name:"dedupkey",desc:"A per-alert ID that acts as deduplication key and allows you to acknowledge or change the severity of previous messages. Supports a maximum of 255 characters.",type:"String"},{name:"class",desc:"The class or type of the event. Classes are user-defined.",type:"String"},{name:"group",desc:"A logical grouping used by PagerDuty. Groups are user-defined.",type:"String"},{name:"severity",desc:'The severity of the event. Supported severities are `"critical"`, `"error"`, `"warning"`, `"info"`.',type:"String"},{name:"eventAction",desc:'Event type to send to PagerDuty. Valid values include `"trigger"`, `"resolve"`, `"acknowledge"`.',type:"String"},{name:"source",desc:"The unique location of the affected system. For example, the hostname or fully qualified domain name (FQDN).",type:"String"},{name:"summary",desc:"A brief text summary of the event used as the summaries or titles of associated alerts. The maximum permitted length is 1024 characters.",type:"String"},{name:"timestamp",desc:"The time the detected event occurred in RFC3339nano format.",type:"String"}],package:"pagerduty",desc:"Sends an alert to PagerDuty.",example:'pagerduty.sendEvent(\n    pagerdutyURL: "https://events.pagerduty.com/v2/enqueue",\n    routingKey: "ExampleRoutingKey",\n    client: "ExampleClient",\n    clientURL: "http://examplepagerdutyclient.com",\n    dedupkey: "ExampleDedupKey",\n    class: "cpu usage",\n    group: "app-stack",\n    severity: "ok",\n    eventAction: "trigger",\n    source: "monitoringtool:vendor:region",\n    summary: "This is an example summary.",\n    timestamp: "2016-07-17T08:42:58.315+0000"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/sendevent/`},{name:"pagerduty.severityFromLevel",args:[{name:"level",desc:"The level to convert to a PagerDuty severity.",type:"String"}],package:"pagerduty",desc:"Converts an InfluxDB status level to a PagerDuty severity.",example:'pagerduty.severityFromLevel(level: "crit")',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pagerduty/severityfromlevel/`},{name:"pearsonr",args:[{name:"x",desc:"First input stream used in the operation.",type:"Object"},{name:"y",desc:"Second input stream used in the operation.",type:"Object"},{name:"on",desc:"List of columns on which to join.",type:"Array of Strings"}],package:"",desc:"Computes the Pearson R correlation coefficient between two streams by first joining the streams, then performing the covariance operation normalized to compute R.",example:'pearsonr(x: table1, y: table2, on: ["_time", "_field"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pearsonr/`},{name:"pivot",args:[{name:"rowKey",desc:"List of columns used to uniquely identify a row for the output.",type:"Array of Strings"},{name:"columnKey",desc:"List of columns used to pivot values onto each row identified by the rowKey.",type:"Array of Strings"},{name:"valueColumn",desc:"The single column that contains the value to be moved around the pivot.",type:"String"}],package:"",desc:"Collects values stored vertically (column-wise) in a table and aligns them horizontally (row-wise) into logical sets.",example:'pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/pivot/`},{name:"prometheus.histogramQuantile",args:[{name:"quantile",desc:"A value between 0.0 and 1.0 indicating the desired quantile.",type:"Float"}],package:"experimental/prometheus",desc:"Calculates quantiles on a set of values assuming the histogram data is scraped or read from a Prometheus data source.",example:"prometheus.histogramQuantile(quantile: 0.99)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/histogramquantile/`},{name:"prometheus.scrape",args:[{name:"url",desc:"The URL to scrape Prometheus-formatted metrics from.",type:"String"}],package:"experimental/prometheus",desc:"Retrieves Prometheus-formatted metrics from a specified URL.",example:'prometheus.scrape(url: "http://localhost:9999/metrics")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/prometheus/scrape/`},{name:"pushbullet.endpoint",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"}],package:"pushbullet",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = pushbullet.endpoint(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/endpoint/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"data",desc:"Data to send to the Pushbullet API. The function JSON-encodes data before sending it to Pushbullet.",type:"Record"}],package:"pushbullet",desc:"Sends a push notification to the Pushbullet API.",example:'pushbullet.pushData(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    data: {\n        "type": "link",\n        "title": "This is a notification!",\n        "body": "This notification came from Flux.",\n        "url": "http://example.com"\n    }\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushdata/`},{name:"pushbullet.pushData",args:[{name:"url",desc:"Pushbullet API URL. Defaults to `https://api.pushbullet.com/v2/pushes`.",type:"String"},{name:"token",desc:'Pushbullet API token to use when interacting with Pushbullet. Defaults to `""`.',type:"String"},{name:"title",desc:"Title of the notification.",type:"String"},{name:"text",desc:"Text to display in the notification.",type:"String"}],package:"pushbullet",desc:"Sends a push notification of type `note` to the Pushbullet API.",example:'pushbullet.pushNote(\n    url: "https://api.pushbullet.com/v2/pushes",\n    token: "",\n    title: "This is a push notification!",\n    text: "This push notification came from Flux."\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/pushbullet/pushnote/`},{name:"quantile",args:[{name:"column",desc:'The column on which to compute the quantile. Defaults to `"_value"`.',type:"String"},{name:"q",desc:"A value between 0 and 1 indicating the desired quantile.",type:"Float"},{name:"method",desc:"Defines the method of computation. The available options are: `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset. A larger number produces a more accurate result at the cost of increased memory requirements. Defaults to 1000.",type:"Float"}],package:"",desc:"This is both an aggregate and selector function depending on the `method` used. When using the `estimate_tdigest` or `exact_mean` methods, it outputs non-null records with values that fall within the specified quantile. When using the `exact_selector` method, it outputs the non-null record with the value that represents the specified quantile.",example:'quantile(column: "_value", q: 0.99, method: "estimate_tdigest", compression: 1000.0)',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/quantile/`},{name:"query.filterFields",args:[{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"}],package:"experimental/query",desc:"Filters input data by field.",example:'query.filterFields(fields: ["field_name"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filterfields/`},{name:"query.filterMeasurement",args:[{name:"measurement",desc:"Measurement to filter by.",type:"String"}],package:"experimental/query",desc:"Filters input data by measurement.",example:'query.filterMeasurement(measurement: "measurement_name")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/filtermeasurement/`},{name:"query.fromRange",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"experimental/query",desc:"Returns all data from a specified bucket within given time bounds.",example:'query.fromRange(bucket: "example-bucket", start: v.timeRangeStart)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/fromrange/`},{name:"query.inBucket",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"},{name:"measurement",desc:"Measurement to filter by.",type:"String"},{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"},{name:"predicate",desc:"A single argument function that evaluates true or false.",type:"Function"}],package:"experimental/query",desc:"Queries data from a specified bucket within given time bounds, filters data by measurement, field, and optional predicate expressions.",example:'query.inBucket(bucket: "example-bucket", start: v.timeRangeStart, measurement: "measurement_name", fields: ["field_name"], predicate: (r) => r.host == "host1")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/query/inbucket/`},{name:"range",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"",desc:"Filters records based on time bounds. Each input table's records are filtered to contain only records that exist within the time bounds. Each input table's group key value is modified to fit within the time bounds. Tables where all records exists outside the time bounds are filtered entirely.",example:"range(start: -15m, stop: now())",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/range/`},{name:"reduce",args:[{name:"fn",desc:"Function to apply to each record with a reducer object. The function expects two objects: `r` and `accumulator`.",type:"Function"},{name:"identity",desc:"Defines the reducer object and provides initial values to use when creating a reducer.",type:"Object"}],package:"",desc:"Aggregates records in each table according to the reducer, `fn`",example:"reduce(fn: (r, accumulator) => ({ sum: r._value + accumulator.sum }), identity: {sum: 0.0})",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/reduce/`},{name:"regexp.compile",args:[{name:"v",desc:"The string value to parse into a regular expression.",type:"String"}],package:"regexp",desc:"Parses a string into a regular expression and returns a regexp object.",example:'regexp.compile(v: "[a-zA-Z]")',category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/compile/`},{name:"regexp.findString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns the left-most regular expression match in a string.",example:'regexp.findString(r: /foo.?/, v: "seafood fool")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstring/`},{name:"regexp.findStringIndex",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns a two-element array of integers defining the beginning and ending indexes of the left-most regular expression match in a string.",example:'regexp.findStringIndex(r: /ab?/, v: "tablet")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/findstringindex/`},{name:"regexp.getString",args:[{name:"r",desc:"The regular expression object to convert to a string.",type:"Regexp"}],package:"regexp",desc:"Returns the source string used to compile a regular expression.",example:"regexp.getString(r: /[a-zA-Z]/)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/getstring/`},{name:"regexp.matchRegexpString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Tests if a string contains any match to a regular expression.",example:'regexp.matchRegexpString(r: /(go){2}/, v: "gogogopher")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/matchregexpstring/`},{name:"regexp.quoteMeta",args:[{name:"v",desc:"String value containing regular expression metacharacters to escape.",type:"String"}],package:"regexp",desc:"Escapes all regular expression metacharacters inside of a string.",example:'regexp.quoteMeta(v: ".+*?()|[]{}^$")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/quotemeta/`},{name:"regexp.replaceAllString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The replacement for matches to `r`",type:"String"}],package:"regexp",desc:"Replaces all regular expression matches in a string with a specified replacement.",example:'regexp.replaceAllString(r: /a(x*)b/, v: "-ab-axxb-", t: "T")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/replaceallstring/`},{name:"regexp.splitRegexp",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"regexp",desc:"Splits a string into substrings separated by regular expression matches and returns an array of `i` substrings between matches.",example:'regexp.splitRegexp(r: /a*/, v: "abaabaccadaaae", i: 5)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/regexp/splitregexp/`},{name:"relativeStrengthIndex",args:[{name:"n",desc:"The number of values to use to calculate the relative strength index (RSI).",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Measures the relative speed and change of values in an input table.",example:"relativeStrengthIndex(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/relativestrengthindex/`},{name:"rename",args:[{name:"columns",desc:"A map of columns to rename and their corresponding new names. Cannot be used with `fn`.",type:"Object"},{name:"fn",desc:"A function mapping between old and new column names. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Renames specified columns in a table. If a column is renamed and is part of the group key, the column name in the group key will be updated.",example:'rename(columns: {host: "server", _field: "my_field"})',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/rename/`},{name:"rows.map",args:[{name:"fn",desc:"A single argument function to apply to each record. The return value must be a record.",type:"Function"}],package:"contrib/jsternberg/rows",desc:"An alternate implementation of `map()` that is faster, but more limited than `map()`.",example:"rows.map( fn: (r) => ({_value: r._value * 100.0}))",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/rows/map/`},{name:"runtime.version",args:[],package:"runtime",desc:"Returns the current Flux version.",example:"runtime.version()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/runtime/version/`},{name:"sample",args:[{name:"n",desc:"Sample every Nth element.",type:"Integer"},{name:"pos",desc:"The position offset from the start of results where sampling begins. `pos` must be less than `n`. If `pos` is less than 0, a random offset is used. Defaults to `-1` (random offset).",type:"Integer"}],package:"",desc:"Selects a subset of the records from the input table.",example:"sample(n:5, pos: -1)",category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/sample/`},{name:"sample.data",args:[{name:"set",desc:"InfluxDB sample dataset to download and output.",type:"String"}],package:"influxdata/influxdb/sample",desc:"Downloads and outputs an InfluxDB sample dataset.",example:'sample.data(set: "usgs")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/data/`},{name:"sample.list",args:[],package:"influxdata/influxdb/sample",desc:"Outputs information about available InfluxDB sample datasets.",example:"sample.list()",category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-sample/list/`},{name:"schema.fieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"predicate",desc:"Predicate function that filters field keys. Defaults is (r) => true.",type:"Function"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a bucket.",example:'schema.fieldKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.fieldsAsCols",args:[],package:"influxdata/influxdb/schema",desc:"Aligns fields within each input table that have the same timestamp.",example:"schema.fieldsAsCols()",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/fieldsascols/`},{name:"schema.measurementFieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"measurement",desc:"The measurement to list field keys from.",type:"String"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of fields in a measurement.",example:'schema.measurementFieldKeys(bucket: "example-bucket", measurement: "example-measurement")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementfieldkeys/`},{name:"schema.measurements",args:[{name:"bucket",desc:"The bucket from which to list measurements.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of measurements in a specific bucket.",example:'schema.measurements(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurements/`},{name:"schema.measurementTagKeys",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag keys.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for a specific measurement.",example:'schema.measurementTagKeys(bucket: "example-bucket", measurement: "mem")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagkeys/`},{name:"schema.measurementTagValues",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag values.",type:"String"},{name:"tag",desc:"The tag from which to return all unique values.",type:"String"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag values for a specific measurement.",example:'schema.measurementTagValues(bucket: "example-bucket", measurement: "mem", tag: "host")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/measurementtagvalues/`},{name:"schema.tagKeys",args:[{name:"bucket",desc:"The bucket from which to list tag keys.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag keys. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of tag keys for all series that match the predicate.",example:'schema.tagKeys(bucket: "example-bucket")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagkeys/`},{name:"schema.tagValues",args:[{name:"bucket",desc:"The bucket from which to list tag values.",type:"String"},{name:"tag",desc:"The tag for which to return unique values.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag values. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/schema",desc:"Returns a list of unique values for a given tag.",example:'schema.tagValues(bucket: "example-bucket", tag: "example-tag")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-schema/tagvalues/`},{name:"secrets.get",args:[{name:"key",desc:"The secret key to retrieve.",type:"String"}],package:"influxdata/influxdb/secrets",desc:"Retrieves a secret from the InfluxDB secret store.",example:'secrets.get(key: "KEY_NAME")',category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/secrets/get/`},{name:"sensu.endpoint",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = sensu.endpoint(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    handlers: [],\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/endpoint/`},{name:"sensu.event",args:[{name:"url",desc:"Base URL of Sensu API without a trailing slash. Example: `http://localhost:8080`.",type:"String"},{name:"apiKey",desc:"Sensu API Key.",type:"String"},{name:"checkName",desc:"Check name. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"},{name:"text",desc:"Event text. Mapped to `output` in the Sensu Events API request.",type:"String"},{name:"handlers",desc:"Sensu handlers to execute. Default is `[]`.",type:"Array of Strings"},{name:"status",desc:"Event status code that indicates state. Default is `0`.",type:"Integer"},{name:"state",desc:'Event state. Default is "passing" for 0 status and "failing" for other statuses.',type:"String"},{name:"namespace",desc:"Sensu namespace. Default is `default`.",type:"String"},{name:"entityName",desc:"Event source. Use alphanumeric characters, underscores (`_`), periods (`.`), and hyphens (`-`).",type:"String"}],package:"contrib/sranka/sensu",desc:"Sends a single event to the Sensu Events API.",example:'sensu.event(\n    url: "http://localhost:8080",\n    apiKey: "mYSuP3rs3cREtApIK3Y",\n    checkName: "checkName",\n    text: "Event output text",\n    handlers: [],\n    status: 0,\n    state: "passing",\n    namespace: "default",\n    entityName: "influxdb"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/sensu/event/`},{name:"set",args:[{name:"key",desc:"The label of the column to modify or set.",type:"String"},{name:"value",desc:"The string value to set.",type:"String"}],package:"",desc:"Assigns a static value to each record in the input table. The key may modify an existing column or add a new column to the tables. If the modified column is part of the group key, the output tables are regrouped as needed.",example:'set(key: "_field", value: "my_field")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/set/`},{name:"skew",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the skew of non-null records as a float.",example:'skew(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/skew/`},{name:"slack.endpoint",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"}],package:"slack",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = slack.endpoint(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/endpoint/`},{name:"slack.message",args:[{name:"url",desc:"The Slack API URL. Defaults to `https://slack.com/api/chat.postMessage`.",type:"String"},{name:"token",desc:'The Slack API token used to interact with Slack. Defaults to `""`.',type:"String"},{name:"channel",desc:"The name of channel to post the message to.",type:"String"},{name:"text",desc:"The text to display in the Slack message.",type:"String"},{name:"color",desc:"The color to include with the message.",type:"String"}],package:"slack",desc:"Sends a single message to a Slack channel.",example:'slack.message(\n    url: "https://slack.com/api/chat.postMessage",\n    token: "mySuPerSecRetTokEn",\n    channel: "#flux",\n    text: "This is a message from the Flux slack.message() function.",\n    color: "good"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/slack/message/`},{name:"sleep",args:[{name:"v",desc:"Defines input tables.",type:"Object"},{name:"duration",desc:"The length of time to delay execution.",type:"Duration"}],package:"",desc:"Delays execution by a specified duration.",example:"sleep(duration: 5s)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/sleep/`},{name:"sort",args:[{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"},{name:"desc",desc:"Sort results in descending order. Default is `false`.",type:"Boolean"}],package:"",desc:"Orders the records within each table. One output table is produced for each input table. The output tables will have the same schema as their corresponding input tables.",example:'sort(columns: ["_value"], desc: false)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/sort/`},{name:"spread",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the difference between the minimum and maximum values in the specified column. Only `uint`, `int`, and `float` column types can be used.",example:'spread(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/spread/`},{name:"sql.from",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"query",desc:"The query to run against the SQL database.",type:"String"}],package:"sql",desc:"Retrieves data from a SQL data source.",example:'sql.from(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", query:"SELECT * FROM example_table")',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/from/`},{name:"sql.to",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"table",desc:"The destination table.",type:"String"},{name:"batchSize",desc:"The number of parameters or columns that can be queued within each call to `Exec`. Defaults to `10000`.",type:"Integer"}],package:"sql",desc:"Writes data to a SQL database.",example:'sql.to(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", table: "example_table")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/sql/to/`},{name:"stateCount",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"The name of the column added to each record that contains the incremented state count.",type:"String"}],package:"",desc:"Computes the number of consecutive records in a given state and stores the increment in a new column.",example:'stateCount(fn: (r) => r._field == "state", column: "stateCount")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/statecount/`},{name:"stateDuration",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"Name of the column added to each record that contains the incremented state duration.",type:"String"},{name:"unit",desc:"Unit of time in which the state duration is incremented.",type:"Duration"}],package:"",desc:"Computes the duration of a given state and stores the increment in a new column.",example:'stateDuration(fn: (r) => r._measurement == "state", column: "stateDuration", unit: 1s)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stateduration/`},{name:"stddev",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"mode",desc:'The standard deviation mode (sample or population). Defaults to `"sample"`.',type:"String"}],package:"",desc:"Computes the standard deviation of non-null records in specified column.",example:'stddev(column: "_value", mode: "sample")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/stddev/`},{name:"string",args:[{name:"v",desc:"The value to convert.",type:"Integer | UInteger | Float | Boolean | Duration | Time"}],package:"",desc:"Converts a single value to a string.",example:"string(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/string/`},{name:"strings.compare",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Compares the lexicographical order of two strings.",example:'strings.compare(v: "a", t: "b")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/compare/`},{name:"strings.containsAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Reports whether a specified string contains characters from another string.",example:'strings.containsAny(v: "abc", chars: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsany/`},{name:"strings.containsStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Reports whether a string contains a specified substring.",example:'strings.containsStr(v: "This and that", substr: "and")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/containsstr/`},{name:"strings.countStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring count.",type:"String"}],package:"strings",desc:"Counts the number of non-overlapping instances of a substring appears in a string.",example:'strings.countStr(v: "Hello mellow fellow", substr: "ello")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/countstr/`},{name:"strings.equalFold",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Reports whether two UTF-8 strings are equal under Unicode case-folding.",example:'strings.equalFold(v: "Go", t: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/equalfold/`},{name:"strings.hasPrefix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"prefix",desc:"The prefix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string begins with a specified prefix.",example:'strings.hasPrefix(v: "go gopher", prefix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hasprefix/`},{name:"strings.hasSuffix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"suffix",desc:"The suffix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string ends with a specified suffix.",example:'strings.hasSuffix(v: "gopher go", suffix: "go")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/hassuffix/`},{name:"strings.index",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of a substring in a string. If the substring is not present, it returns `-1`.",example:'strings.index(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/index-func/`},{name:"strings.indexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of specified characters in a string. If none of the specified characters are present, it returns -1.",example:'strings.indexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/indexany/`},{name:"strings.isDigit",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a digit (0-9).",example:'strings.isDigit(v: "7")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isdigit/`},{name:"strings.isLetter",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a letter (a-z, A-Z).",example:'strings.isLetter(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isletter/`},{name:"strings.isLower",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is lowercase.",example:'strings.isLower(v: "a")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/islower/`},{name:"strings.isUpper",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is uppercase.",example:'strings.isUpper(v: "A")',category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/isupper/`},{name:"strings.joinStr",args:[{name:"arr",desc:"The array of strings to concatenate.",type:"Array of Strings"},{name:"v",desc:"The separator to use in the concatenated value.",type:"String"}],package:"strings",desc:"Concatenates elements of a string array into a single string using a specified separator.",example:'strings.joinStr(arr: ["a", "b", "c"], v: ",")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/joinstr/`},{name:"strings.lastIndex",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of a substring in a string. If the substring is not present, the function returns -1.",example:'strings.lastIndex(v: "go gopher", substr: "go")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindex/`},{name:"strings.lastIndexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of any specified characters in a string. If none of the specified characters are present, the function returns -1.",example:'strings.lastIndexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/lastindexany/`},{name:"strings.repeat",args:[{name:"v",desc:"The string value to repeat.",type:"String"},{name:"i",desc:"The number of times to repeat `v`.",type:"Integer"}],package:"strings",desc:"Returns a string consisting of `i` copies of a specified string.",example:'strings.repeat(v: "ha", i: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/repeat/`},{name:"strings.replace",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for `i` instances of `t`.",type:"String"},{name:"i",desc:"The number of non-overlapping `t` matches to replace.",type:"Integer"}],package:"strings",desc:"Replaces the first `i` non-overlapping instances of a substring with a specified replacement.",example:'strings.replace(v: "oink oink oink", t: "oink", u: "moo", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replace/`},{name:"strings.replaceAll",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for all instances of `t`.",type:"String"}],package:"strings",desc:"Replaces all non-overlapping instances of a substring with a specified replacement.",example:'strings.replaceAll(v: "oink oink oink", t: "oink", u: "moo")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/replaceall/`},{name:"strings.split",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of substrings.",example:'strings.split(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/split/`},{name:"strings.splitAfter",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of substrings.",example:'strings.splitAfter(v: "a flux of foxes", t: " ")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitafter/`},{name:"strings.splitAfterN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of `i` substrings.",example:'strings.splitAfterN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitaftern/`},{name:"strings.splitN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of `i` substrings.",example:'strings.splitN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/splitn/`},{name:"strings.strlen",args:[{name:"v",desc:"The string value to measure.",type:"String"}],package:"strings",desc:"Returns the length of a string.",example:'strings.strlen(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/strlen/`},{name:"strings.substring",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"start",desc:"The starting index of the substring.",type:"Integer"},{name:"end",desc:"The ending index of the substring.",type:"Integer"}],package:"strings",desc:"Returns a substring based on start and end parameters.",example:'strings.substring(v: "influx", start: 0, end: 3)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/substring/`},{name:"strings.title",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to title case.",example:"strings.title(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/title/`},{name:"strings.toLower",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to lower case.",example:"strings.toLower(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/tolower/`},{name:"strings.toTitle",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts all characters in a string to title case.",example:'strings.toTitle(v: "a flux of foxes")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/totitle/`},{name:"strings.toUpper",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to upper case.",example:"strings.toUpper(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/toupper/`},{name:"strings.trim",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"cutset",desc:"The leading and trailing characters to trim from the string value. Only characters that match exactly are trimmed.",type:"String"}],package:"strings",desc:"Removes specified leading and trailing characters from a string.",example:'strings.trim(v: r._value, cutset: "_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trim/`},{name:"strings.trimLeft",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The leading characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified leading characters from a string.",example:'strings.trimLeft(v: ".abc", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimleft/`},{name:"strings.trimPrefix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"prefix",desc:"The prefix to remove.",type:"String"}],package:"strings",desc:"Removes a prefix from a string. Strings that do not start with the prefix are returned unchanged.",example:'strings.trimPrefix(v: r._value, prefix: "abc_")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimprefix/`},{name:"strings.trimRight",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The trailing characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified trailing characters from a string.",example:'strings.trimRight(v: "abc.", cutset: ".")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimright/`},{name:"strings.trimSpace",args:[{name:"v",desc:"The string value to trim.",type:"String"}],package:"strings",desc:"Removes leading and trailing spaces from a string.",example:"strings.trimSpace(v: r._value)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimspace/`},{name:"strings.trimSuffix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"suffix",desc:"The suffix to remove.",type:"String"}],package:"strings",desc:"Removes a suffix from a string. Strings that do not end with the suffix are returned unchanged.",example:'strings.trimSuffix(v: r._value, suffix: "_123")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/strings/trimsuffix/`},{name:"sum",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the sum of non-null records in the specified column.",example:'sum(column: "_value")',category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/sum/`},{name:"system.time",args:[],package:"system",desc:"Returns the current system time.",example:"system.time()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/system/time/`},{name:"table.fill",args:[],package:"experimental/table",desc:"Adds a single row to empty tables in a stream of tables.",example:"table.fill()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/table/fill/`},{name:"tableFind",args:[{name:"fn",desc:"A predicate function for matching keys in a table group key.",type:"Function"}],package:"",desc:"Extracts the first table in a stream of tables whose group key values match a predicate. If no table is found, the function errors.",example:'tableFind(fn: (key) => key._field == "fieldName")',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/stream-table/tablefind/`},{name:"tail",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the end of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the last `n` records, excluding the offset.",example:"tail(n: 10)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tail/`},{name:"tasks.lastSuccess",args:[{name:"orTime",desc:"Default time value returned if the task has never successfully run.",type:"Time"}],package:"influxdata/influxdb/tasks",desc:"Returns the time of last successful run of an InfluxDB task or the value of the `orTime` parameter if the task has never successfully run.",example:"tasks.lastSuccess(orTime: 2020-10-01T00:00:00Z)",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/influxdb-tasks/lastsuccess/`},{name:"teams.endpoint",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"}],package:"contrib/sranka/teams",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = teams.endpoint(\n    url: "https://outlook.office.com/webhook/example-webhook"\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/endpoint/`},{name:"teams.message",args:[{name:"url",desc:"Incoming webhook URL.",type:"String"},{name:"title",desc:"Message card title.",type:"String"},{name:"text",desc:"Message card text.",type:"String"},{name:"summary",desc:'Message card summary. Default is `""`. If no summary is provided, Flux generates the summary from the message text.',type:"String"}],package:"contrib/sranka/teams",desc:"Sends a single message to a Microsoft Teams channel using an incoming webhook.",example:'teams.message(\n    url: "https://outlook.office.com/webhook/example-webhook",\n    title: "Example message title",\n    text: "Example message text",\n    summary: "",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/teams/message/`},{name:"telegram.endpoint",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = telegram.endpoint(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/endpoint/`},{name:"telegram.message",args:[{name:"url",desc:"URL of the Telegram bot endpoint. Default is `https://api.telegram.org/bot`.",type:"String"},{name:"token",desc:"Telegram bot token.",type:"String"},{name:"channel",desc:"Telegram channel ID.",type:"String"},{name:"text",desc:"Message text.",type:"String"},{name:"parseMode",desc:'Parse mode of the message text. Default is `"MarkdownV2"`.',type:"String"},{name:"disableWebPagePreview",desc:"Disable preview of web links in the sent message. Default is `false`.",type:"Boolean"},{name:"silent",desc:"Send message silently. Default is `true`.",type:"Boolean"}],package:"contrib/sranka/telegram",desc:"Sends a single message to a Telegram channel using the sendMessage method of the Telegram Bot API.",example:'telegram.message(\n    url: "https://api.telegram.org/bot",\n    token: "S3crEtTel3gRamT0k3n",\n    channel: "-12345",\n    text: "Example message text",\n    parseMode: "MarkdownV2",\n    disableWebPagePreview: false,\n    silent: true\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/telegram/message/`},{name:"testing.assertEmpty",args:[],package:"testing",desc:"Tests if an input stream is empty.",example:"testing.assertEmpty()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertempty/`},{name:"testing.assertEquals",args:[{name:"name",desc:"Unique name given to the assertion.",type:"String"},{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"}],package:"testing",desc:"Tests whether two streams have identical data.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/assertequals/`},{name:"testing.benchmark",args:[{name:"case",desc:"Test case to benchmark.",type:"Function"}],package:"testing",desc:"Executes a test case without comparing test output with the expected test output.",example:"testing.benchmark(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/benchmark/`},{name:"testing.diff",args:[{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"},{name:"epsilon",desc:"How far apart two float values can be, but still considered equal. Defaults to `0.000000001`.",type:"Float"}],package:"testing",desc:"Produces a diff between two streams.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/diff/`},{name:"testing.inspect",args:[{name:"case",desc:"Test case to inspect.",type:"Function"}],package:"testing",desc:"Returns information about a test case.",example:"testing.inspect(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.load",args:[],package:"testing",desc:"Loads tests data from a stream of tables.",example:"testing.load()",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/inspect/`},{name:"testing.loadMem",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data from memory to emulate query results returned by Flux.",example:"testing.loadMem(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadmem/`},{name:"testing.loadStorage",args:[{name:"csv",desc:"Annotated CSV data to load.",type:"String"}],package:"testing",desc:"Loads annotated CSV test data as if it were queried from InfluxDB.",example:"testing.loadStorage(csv: csvData)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/loadstorage/`},{name:"testing.run",args:[{name:"case",desc:"Test case to run.",type:"Function"}],package:"testing",desc:"Executes a specified test case.",example:"testing.run(case: exampleTestCase)",category:"Tests",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/testing/run/`},{name:"tickscript.alert",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"details",desc:'Function to return the InfluxDB check details using data from input rows. Default is `(r) => ""`.',type:"Function"},{name:"message",desc:'Function to return the InfluxDB check message using data from input rows. Default is `(r) => "Threshold Check: ${r._check_name} is: ${r._level}"`.',type:"Function"},{name:"crit",desc:"Predicate function to determine crit status. Default is `(r) => false`.",type:"Function"},{name:"warn",desc:"Predicate function to determine warn status. Default is `(r) => false`.",type:"Function"},{name:"info",desc:"Predicate function to determine info status. Default is `(r) => false`.",type:"Function"},{name:"ok",desc:"Predicate function to determine ok status. Default is `(r) => false`.",type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Identifies events of varying severity levels and writes them to the statuses measurement in the InfluxDB `_monitoring` system bucket.",example:'tickscript.alert(\n    check,\n    id: (r) => "${r._check_id}",\n    details: (r) => "",\n    message: (r) => "Threshold Check: ${r._check_name} is: ${r._level}",\n    crit: (r) => false,\n    warn: (r) => false,\n    info: (r) => false,\n    ok: (r) => true,\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/alert/`},{name:"tickscript.compute",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"An alias for `tickscript.select()` that changes a column’s name and optionally applies an aggregate or selector function.",example:'tickscript.compute(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/compute/`},{name:"tickscript.deadman",args:[{name:"check",desc:"InfluxDB check data. See `tickscript.defineCheck()`.",type:"Record"},{name:"measurement",desc:"Measurement name. Should match the queried measurement.",type:"String"},{name:"threshold",desc:"Count threshold. The function assigns a `crit` status to input tables with a number of rows less than or equal to the threshold. Default is `0`.",type:"Integer"},{name:"id",desc:'Function that returns the InfluxDB check ID provided by the check record. Default is `(r) => "${r._check_id}"`.',type:"Function"},{name:"message",desc:'Function that returns the InfluxDB check message using data from input rows. Default is `(r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive")`.',type:"Function"},{name:"topic",desc:'Check topic. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Detects low data throughput and writes a point with a critical status to the InfluxDB `_monitoring` system bucket.",example:'tickscript.deadman(\n    check: {},\n    measurement: "example-measurement",\n    threshold: 0,\n    id: (r)=>"${r._check_id}",\n    message: (r) => "Deadman Check: ${r._check_name} is: " + (if r.dead then "dead" else "alive"),\n    topic: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/deadman/`},{name:"tickscript.defineCheck",args:[{name:"id",desc:"InfluxDB check ID.",type:"String"},{name:"name",desc:"InfluxDB check name.",type:"String"},{name:"type",desc:"InfluxDB check type. Default is `custom`. Valid types are `thresold`, `deadman`, and `custom`.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Creates and returns a record with custom check data required by `tickscript.alert()` and `tickscript.deadman()`.",example:'tickscript.defineCheck(\n    id: "000000000000",\n    name: "Example check name",\n    type: "custom"\n)',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/definecheck/`},{name:"tickscript.groupBy",args:[{name:"columns",desc:"List of columns to group by.",type:"Array of Strings"}],package:"contrib/bonitoo-io/tickscript",desc:"Groups results by the _measurement column and other specified columns.",example:'tickscript.groupBy(\n    columns: ["exampleColumn"]\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/groupby/`},{name:"tickscript.join",args:[{name:"tables",desc:"Map of two streams to join.",type:"Record"},{name:"on",desc:'List of columns to join on. Default is `["_time"]`.',type:"Array of Strings"},{name:"measurement",desc:"Measurement name to use in results.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Merges two input streams into a single output stream based on specified columns with equal values and appends a new measurement name.",example:'tickscript.join(\n    tables: {t1: example1, t2: example2}\n    on: ["_time"],\n    measurement: "example-measurement"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/join/`},{name:"tickscript.select",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name and optionally applies an aggregate or selector function to values in the column.",example:'tickscript.select(\n    column: "_value",\n    fn: sum,\n    as: "example-name"\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/select/`},{name:"tickscript.selectWindow",args:[{name:"column",desc:"Column to operate on. Default is `_value`.",type:"String"},{name:"fn",desc:"Aggregate or selector function to apply.",type:"Function"},{name:"as",desc:"New column name.",type:"String"},{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"defaultValue",desc:"Default fill value for null values in `column`. Must be the same data type as `column`.",type:"String | Boolean | Float | Integer | Uinteger | Bytes"}],package:"contrib/bonitoo-io/tickscript",desc:"Changes a column’s name, windows rows by time, and applies an aggregate or selector function the specified column for each window of time.",example:'tickscript.selectWindow(\n    column: "_value",\n    fn: sum,\n    as: "example-name",\n    every: 1m,\n    defaultValue: 0.0,\n)',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/tickscript/selectwindow/`},{name:"time",args:[{name:"v",desc:"The value to convert.",type:"String | Integer | UInteger"}],package:"",desc:"Converts a single value to a time.",example:"time(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/time/`},{name:"timedMovingAverage",args:[{name:"every",desc:"The frequency of time windows.",type:"Duration"},{name:"period",desc:"The length of each averaged time window.",type:"Duration"},{name:"column",desc:'The column on which to compute the moving average. Defaults to `"_value"`',type:"String"}],package:"",desc:"Calculates the mean of values in a defined time range at a specified frequency.",example:"timedMovingAverage(every: 1d, period: 5d)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timedmovingaverage/`},{name:"timeShift",args:[{name:"duration",desc:"The amount of time to add to each time value. May be a negative duration.",type:"String"},{name:"columns",desc:'The list of all columns to be shifted. Defaults to `["_start", "_stop", "_time"]`.',type:"Array of Strings"}],package:"",desc:"Adds a fixed duration to time columns. The output table schema is the same as the input table.",example:'timeShift(duration: 10h, columns: ["_start", "_stop", "_time"])',category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/timeshift/`},{name:"timeWeightedAvg",args:[{name:"unit",desc:"The time duration used when computing the time-weighted average.",type:"Duration"}],package:"",desc:"Computes the time-weighted average of non-null records in a table using linear interpolation.",example:"timeWeightedAvg(unit: 1m)",category:"Aggregates",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/aggregates/timeweightedavg/`},{name:"to",args:[{name:"bucket",desc:"The bucket to which data is written. Mutually exclusive with `bucketID`.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to which data is written. Mutually exclusive with `bucket`.",type:"String"},{name:"org",desc:"The organization name of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `orgID`.",type:"String"},{name:"orgID",desc:"The organization ID of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `org`.",type:"String"},{name:"host",desc:"The remote InfluxDB host to which to write. If specified, a `token` is required.",type:"String"},{name:"token",desc:"The authorization token to use when writing to a remote host. Required when a `host` is specified.",type:"String"},{name:"timeColumn",desc:'The time column of the output. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The tag columns of the output. Defaults to all columns with type `string`, excluding all value columns and the `_field` column if present.",type:"Array of Strings"},{name:"fieldFn",desc:"Function that takes a record from the input table and returns an object. For each record from the input table, `fieldFn` returns an object that maps output the field key to the output value. Default is `(r) => ({ [r._field]: r._value })`",type:"Function"}],package:"",desc:"The `to()` function writes data to an InfluxDB v2.0 bucket.",example:'to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/to/`},{name:"toBool",args:[],package:"",desc:"Converts all values in the `_value` column to a boolean.",example:"toBool()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tobool/`},{name:"today",args:[],package:"",desc:"Returns the `now()` timestamp truncated to the day unit.",example:"today()",category:"Miscellaneous",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/misc/today/`},{name:"toFloat",args:[],package:"",desc:"Converts all values in the `_value` column to a float.",example:"toFloat()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tofloat/`},{name:"toInt",args:[],package:"",desc:"Converts all values in the `_value` column to a integer.",example:"toInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/toint/`},{name:"top",args:[{name:"n",desc:"Number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the top n rows.",example:'top(n:10, columns: ["_value"])',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/top/`},{name:"toString",args:[],package:"",desc:"Converts a value to a string.",example:"toString()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/tostring/`},{name:"toTime",args:[],package:"",desc:"Converts a value to a time.",example:"toTime()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/totime/`},{name:"toUInt",args:[],package:"",desc:"Converts a value to an unsigned integer.",example:"toUInt()",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/touint/`},{name:"tripleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at triple the rate of `exponentialMovingAverage()`.",example:"tripleEMA(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleema/`},{name:"tripleExponentialDerivative",args:[{name:"n",desc:"The number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates a triple exponential derivative (TRIX) of input tables using n points.",example:"tripleExponentialDerivative(n: 5)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/tripleexponentialderivative/`},{name:"truncateTimeColumn",args:[{name:"unit",desc:"The unit of time to truncate to.",type:"Duration"}],package:"",desc:"Truncates all `_time` values to a specified unit.",example:"truncateTimeColumn(unit: 1m)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/truncatetimecolumn/`},{name:"uint",args:[{name:"v",desc:"The value to convert.",type:"Boolean | Duration | Float | Integer | Numeric String | Time"}],package:"",desc:"Converts a single value to a uinteger.",example:"uint(v: r._value)",category:"Type Conversions",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/type-conversions/uint/`},o,{name:"unique",args:[{name:"column",desc:'The column searched for unique values. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Returns all rows containing unique values in a specified column.",example:'unique(column: "_value")',category:"Selectors",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/selectors/unique/`},{name:"usage.from",args:[{name:"start",desc:"Earliest time to include in results.",type:"Time | Duration"},{name:"stop",desc:"Latest time to include in results.",type:"Time | Duration"},{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"raw",desc:"Return raw, high resolution usage data instead of downsampled usage data. Default is `false`.",type:"Boolean"}],package:"experimental/usage",desc:"Returns usage data from an InfluxDB Cloud organization.",example:'usage.from(\n    start: -30d,\n    stop: now(),\n    host: "",\n    orgID: "",\n    token: "",\n    raw: false\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/from/`},{name:"usage.limits",args:[{name:"host",desc:'InfluxDB Cloud region URL (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"orgID",desc:'InfluxDB Cloud organization ID (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"},{name:"token",desc:'InfluxDB Cloud authentication token (Required if executed outside of your InfluxDB Cloud organization or region). Default is `""`.',type:"String"}],package:"experimental/usage",desc:"Returns a record containing usage limits for an InfluxDB Cloud organization.",example:'usage.limits(\n    host: "",\n    orgID: "",\n    token: ""\n)',category:"Inputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/experimental/usage/limits/`},{name:"victorops.endpoint",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"}],package:"contrib/bonitoo-io/victorops",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = victorops.endpoint(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert${apiKey}/${routingKey}",\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/endpoint/`},{name:"victorops.event",args:[{name:"url",desc:"VictorOps REST endpoint integration URL.",type:"String"},{name:"monitoringTool",desc:'Monitoring agent name. Default is `""`.',type:"String"},{name:"messageType",desc:"VictorOps message type (alert behavior). Valid values are `CRITICAL`, `WARNING`, and `INFO`.",type:"String"},{name:"entityID",desc:'Incident ID. Default is `""`.',type:"String"},{name:"entityDisplayName",desc:'Incident display name or summary. Default is `""`.',type:"String"},{name:"stateMessage",desc:'Verbose incident message. Default is `""`.',type:"String"},{name:"timestamp",desc:"Incident start time. Default is `now()`.",type:"Time"}],package:"contrib/bonitoo-io/victorops",desc:"Sends an alert to VictorOps (Now Splunk On-Call).",example:'victorops.event(\n    url: "https://alert.victorops.com/integrations/generic/00000000/alert/${api_key}/${routing_key}",\n    monitoringTool: "",\n    messageType: "CRITICAL",\n    entityID: "",\n    entityDisplayName: "",\n    stateMessage: "",\n    timestamp: now()\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/victorops/event/`},{name:"window",args:[{name:"every",desc:"Duration of time between windows. Defaults to `period` value.",type:"Duration"},{name:"period",desc:"Duration of the window. Period is the length of each interval. It can be negative, indicating the start and stop boundaries are reversed. Defaults to `every` value.",type:"Duration"},{name:"offset",desc:"The offset duration relative to the `location` offset. It can be negative, indicating that the offset goes backwards in time. The default aligns the window boundaries with `now`.",type:"Duration"},{name:"timeColumn",desc:'The column containing time. Defaults to `"_time"`.',type:"String"},{name:"startColumn",desc:'The column containing the window start time. Defaults to `"_start"`.',type:"String"},{name:"stopColumn",desc:'The column containing the window stop time. Defaults to `"_stop"`.',type:"String"},{name:"createEmpty",desc:"Specifies whether empty tables should be created. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Groups records based on a time value. New columns are added to uniquely identify each window. Those columns are added to the group key of the output tables. A single input record will be placed into zero or more output tables, depending on the specific windowing function.",example:"window(every: v.windowPeriod)",category:"Transformations",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/transformations/window/`},{name:"yield",args:[{name:"name",desc:"A unique name for the yielded results.",type:"String"}],package:"",desc:"Indicates the input tables received should be delivered as a result of the query. Yield outputs the input stream unmodified. A query may have multiple results, each identified by the name provided to the `yield()` function.",example:'yield(name: "custom-name")',category:"Outputs",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/built-in/outputs/yield/`},{name:"zenoss.endpoint",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"}],package:"contrib/bonitoo-io/zenoss",desc:"A factory function that outputs another function. The output function requires a `mapFn` parameter. See the documentation link for a full example.",example:'endpoint = zenoss.endpoint(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/endpoint/`},{name:"zenoss.event",args:[{name:"url",desc:"Zenoss router endpoint URL.",type:"String"},{name:"username",desc:'Zenoss username to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"password",desc:'Zenoss password to use for HTTP BASIC authentication. Default is "" (no authentication).',type:"String"},{name:"action",desc:'Zenoss router name. Default is `"EventsRouter"`.',type:"String"},{name:"method",desc:'EventsRouter method. Default is `"add_event"`.',type:"String"},{name:"type",desc:'Event type. Default is `"rpc"`.',type:"String"},{name:"tid",desc:"Temporary request transaction ID. Default is `1`.",type:"Integer"},{name:"summary",desc:'Event summary. Default is `""`.',type:"String"},{name:"device",desc:'Related device. Default is `""`.',type:"String"},{name:"component",desc:'Related component. Default is `""`.',type:"String"},{name:"severity",desc:"Event severity level. Supported values are `Critical`, `Warning`, `Info`, and `Clear`.",type:"String"},{name:"eventClass",desc:'Event class. Default is `""`.',type:"String"},{name:"eventClassKey",desc:'Event class key. Default is `""`.',type:"String"},{name:"collector",desc:'Zenoss collector. Default is `""`.',type:"String"},{name:"message",desc:'Related message. Default is `""`.',type:"String"}],package:"contrib/bonitoo-io/zenoss",desc:"Sends an alert to Zenoss.",example:'zenoss.event(\n    url: "https://example.zenoss.io:8080/zport/dmd/evconsole_router",\n    username: "example-user",\n    password: "example-password",\n    action: "EventsRouter",\n    method: "add_event",\n    type: "rpc",\n    tid: 1,\n    summary: "",\n    device: "",\n    component: "",\n    severity: "Critical",\n    eventClass: "",\n    eventClassKey: "",\n    collector: "",\n    message: ""\n)',category:"Alerting",link:`https://docs.influxdata.com/influxdb/${a}/reference/flux/stdlib/contrib/zenoss/event/`}]}).call(this,n(126))},77:function(e,t,n){"use strict";var a=n(2),r=n(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return r.f?e:null}}},789:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(22),r=n(7),o=n(24),i=n(6);const s="#group,false,false,true,true,false,false,true,true,true,true\n#datatype,string,long,dateTime:RFC3339,dateTime:RFC3339,dateTime:RFC3339,double,string,string,string,string\n#default,_result,,,,,,,,,\n,result,table,_start,_stop,_time,_value,_field,_measurement,bucket_id,org_id\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T10:00:00Z,13352776.313888889,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T11:00:00Z,13360066.18888889,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T12:00:00Z,13011240.197222224,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n,,0,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-14T13:00:00Z,12590111.519444447,gauge,storage_usage_bucket_bytes,d4e6fe5396d18e89,351438333495bd60\n\n#group,false,false,true,true,false,false,true,true,true,true,true\n#datatype,string,long,dateTime:RFC3339,dateTime:RFC3339,dateTime:RFC3339,long,string,string,string,string,string\n#default,_result,,,,,,,,,,\n,result,table,_start,_stop,_time,_value,_field,_measurement,endpoint,org_id,status\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,21667,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,89576,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,1,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,5330,req_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,778,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,4279,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,2,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,389,req_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-28T23:00:00Z,31,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T00:00:00Z,34,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T01:00:00Z,30,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,3,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-05-29T02:00:00Z,15,req_bytes,query_count,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,278,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,1790,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,4,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,145,resp_bytes,http_request,/api/v2/query,351438333495bd60,200\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-03T23:00:00Z,212,resp_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-09T21:00:00Z,1166,resp_bytes,http_request,/api/v2/query,351438333495bd60,404\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,90,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,3,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,4,event_type_limited_write,event,/api/v2/query,351438333495bd60,400\n,,5,2021-05-15T13:33:29.743615351Z,2021-06-14T13:33:29.743615351Z,2021-06-10T19:00:00Z,1,event_type_limited_write,event,/api/v2/query,351438333495bd60,400";let l=null;var c;i.f&&(l=n(12).getOrgsUsage),function(e){e.NEW_USER="NEW_USER",e.DELETED_ALL_DATA="DELETED_ALL_DATA",e.NON_WRITING_USER="NON_WRITING_USER",e.ACTIVE_USER="ACTIVE_USER",e.WRITING_NOT_READING_USER="WRITING_NOT_READING_USER"}(c||(c={}));const u=async(e,t)=>{var n;let r="";if(l){const a=await l({orgID:e,query:{start:null!=t?t:"-30d"}});r=200===(null==a?void 0:a.status)?null===(n=a.data)||void 0===n?void 0:n.trim().replace(/\r\n/g,"\n"):s}else r=s;const{table:o}=Object(a.fromFlux)(r);return o},d=async e=>{var t;try{const n=await u(e),a=null!==(t=n.getColumn("_measurement"))&&void 0!==t?t:[];return a.reduce(((e,t,a)=>"event"===t&&"event_type_limited_write"===n.getColumn("_field")[a]&&n.getColumn("_value","number")[a]>0?e+n.getColumn("_value","number")[a]:e),0)}catch(e){console.error(e)}};let m=!1;t.a=async e=>{let t=[];const n=async()=>{const n=await u(e);n&&(t=(e=>{var t;const n=[],a=null!==(t=e.getColumn("_measurement"))&&void 0!==t?t:[],o=a.find(((t,n)=>"storage_usage_bucket_bytes"===a[n]&&e.getColumn("_value","number")[n]>0)),i=a.find(((t,n)=>"http_request"===a[n]&&["/api/v2/query","/query"].includes(e.getColumn("endpoint","string")[n])&&"req_bytes"===e.getColumn("_field")[n]&&e.getColumn("_value","number")[n]>0)),s=a.find(((t,n)=>"query_count"===a[n]&&e.getColumn("_value","number")[n]>0));return o||i||n.push(c.NEW_USER),!o&&i&&n.push(c.DELETED_ALL_DATA),o&&!i&&n.push(c.NON_WRITING_USER),o&&i&&!s&&n.push(c.WRITING_NOT_READING_USER),o&&i&&s&&n.push(c.ACTIVE_USER),Object(r.a)("cloud.onboarding.set_user_status_success",{context:JSON.stringify(n)}),n})(n))};try{!m&&Object(o.c)("newUsageAPI")&&(await n(),m=!0)}catch(e){console.error(e),Object(r.a)("cloud.onboarding.set_user_status_failure",{context:JSON.stringify(e)})}return{usageDataStates:t}}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n(2),r=n.n(a),o=n(4),i=n(65),s=n(301),l=n(92),c=n(7),u=n(41),d=n(10),m=n(38);const p=(e,t)=>{localStorage.setItem(e,null!=t?t:e),localStorage.removeItem(e)};var h=n(9),f=n(13),g=n(5);const b={generateMap:()=>[],printMap:()=>{},query:(e,t)=>Promise.resolve({}),basic:e=>{},simplify:e=>"",queryAll:()=>{},queryDependents:()=>{},getPanelQueries:e=>({id:"",scope:{},source:"",visual:""}),status:g.RemoteDataState.NotStarted},v=r.a.createContext(b),y=({children:e})=>{var t,n;const{flow:b}=Object(a.useContext)(i.a),{setResult:y,setStatuses:x,statuses:E}=Object(a.useContext)(s.a),{query:w,basic:S}=Object(a.useContext)(l.a),k=null!==(t=Object(o.e)(h.a))&&void 0!==t?t:{id:""},[C,O]=Object(a.useState)(null===(n=null==b?void 0:b.range)||void 0===n?void 0:n.lower),D=Object(o.d)(),T=`queryAll-${null==b?void 0:b.name}`;Object(a.useEffect)((()=>{var e,t;(null===(e=null==b?void 0:b.range)||void 0===e?void 0:e.lower)!==C&&((C||b.readOnly)&&P(),O(null===(t=null==b?void 0:b.range)||void 0===t?void 0:t.lower))}),[b]);((e,t,n=!1)=>{Object(a.useEffect)((()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t))))})("storage",(e=>{e.key===T&&e.newValue===T&&$()}));const j=Object(a.useRef)([]);let I,N;(null==b?void 0:b.range)?(I="selectable-duration"===b.range.type?"-"+b.range.duration:"duration"===b.range.type?"-"+b.range.lower:isNaN(Date.parse(b.range.lower))?null:new Date(b.range.lower).toISOString(),N=b.range.upper?isNaN(Date.parse(b.range.upper))?null:new Date(b.range.upper).toISOString():"now()"):I=N=null;const R=()=>{var e,t;const n=(null!==(t=null===(e=null==b?void 0:b.data)||void 0===e?void 0:e.allIDs)&&void 0!==t?t:[]).reduce(((e,t)=>{var n,a,r;const o=b.data.byID[t];if(!o)return e;const i=e[e.length-1]||{scope:{region:window.location.origin,org:k.id,vars:{timeRangeStart:I,timeRangeStop:N}},source:"",visual:""},s=Object.assign(Object.assign({},i),{id:t,visual:""});return u.c[o.type]?("function"==typeof u.c[o.type].scope&&(s.scope=u.c[o.type].scope(o,(null===(n=e[e.length-1])||void 0===n?void 0:n.scope)||{})),"function"==typeof u.c[o.type].source&&(s.source=u.c[o.type].source(o,""+((null===(a=e[e.length-1])||void 0===a?void 0:a.source)||""),s.scope)),"function"==typeof u.c[o.type].visual&&(s.visual=u.c[o.type].visual(o,""+((null===(r=e[e.length-1])||void 0===r?void 0:r.source)||""),s.scope)),e.push(s),e):(e.push(s),e)}),[]);return j.current=n,n};Object(a.useEffect)((()=>{R()}),[b]);const A=()=>{var e,t,n;return(null!==(t=null===(e=null==b?void 0:b.data)||void 0===e?void 0:e.allIDs)&&void 0!==t?t:[]).join(" ")!==(null!==(n=j.current)&&void 0!==n?n:[]).map((e=>e.id)).join(" ")&&R(),j.current},F=(e,t)=>{Object(c.a)("runQuery",{context:"flows"});const n=Object.assign({region:window.location.origin,org:k.id},t||{});return w(e,n)},_=Object.values(E);let M=g.RemoteDataState.Done;_.every((e=>e===g.RemoteDataState.NotStarted))?M=g.RemoteDataState.NotStarted:_.includes(g.RemoteDataState.Error)?M=g.RemoteDataState.Error:_.includes(g.RemoteDataState.Loading)&&(M=g.RemoteDataState.Loading);const L=e=>{if(M===g.RemoteDataState.Loading)return;let t=A();t.length&&(t=t.slice(t.findIndex((t=>t.id===e))),Object(c.a)("Running Notebook QueryDependents"),x(t.filter((e=>!!(null==e?void 0:e.visual))).reduce(((e,t)=>(e[t.id]=g.RemoteDataState.Loading,e)),{})),Promise.all(t.filter((e=>!!(null==e?void 0:e.visual))).map((e=>F(e.visual,e.scope).then((t=>{x({[e.id]:g.RemoteDataState.Done}),y(e.id,t)})).catch((t=>{y(e.id,{error:t.message}),x({[e.id]:g.RemoteDataState.Error})}))))).then((()=>{Object(c.a)("run_notebook_success"),D(Object(d.c)(Object(f.Fc)(u.d)))})).catch((e=>{throw Object(c.a)("run_notebook_fail"),D(Object(d.c)(Object(f.Ec)(u.d))),e})))},P=()=>{p(T),$()},$=()=>{if(M===g.RemoteDataState.Loading)return;const e=A();e.length&&(Object(c.a)("Running Notebook QueryAll"),x(e.filter((e=>!!(null==e?void 0:e.visual))).reduce(((e,t)=>(e[t.id]=g.RemoteDataState.Loading,e)),{})),Promise.all(e.filter((e=>!!e.visual)).map((e=>F(e.visual,e.scope).then((t=>{y(e.id,t),x({[e.id]:g.RemoteDataState.Done})})).catch((t=>{y(e.id,{error:t.message}),x({[e.id]:g.RemoteDataState.Error})}))))).then((()=>{Object(c.a)("run_notebook_success"),D(Object(d.c)(Object(f.Fc)(u.d)))})).catch((e=>{throw Object(c.a)("run_notebook_fail"),D(Object(d.c)(Object(f.Ec)(u.d))),e})))};return b?(null==b?void 0:b.range)?r.a.createElement(v.Provider,{value:{query:F,basic:(e,t)=>{const n=Object.assign({region:window.location.origin,org:k.id},t||{});return S(e,n)},simplify:e=>Object(l.f)(e,{timeRangeStart:I,timeRangeStop:N}),generateMap:A,printMap:e=>{A().forEach((t=>{console.log(`\n\n%cPanel: %c ${t.id}`,"font-family: sans-serif; font-size: 16px; font-weight: bold; color: #000",t.id===e?"font-weight: bold; font-size: 16px; color: #666":"font-weight: normal; font-size: 16px; color: #888"),console.log(`%c Scope: \n%c ${JSON.stringify(t.scope,null,2)}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Source Query: \n%c ${t.source}`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888"),console.log(`%c Visualization Query: \n%c ${t.visual}\n`,"font-family: sans-serif; font-weight: bold; font-size: 14px; color: #666","font-family: monospace; color: #888")}))},queryAll:P,queryDependents:e=>{p(T),L(e)},getPanelQueries:e=>e?A().find((t=>t.id===e)):null,status:M}},e):null:r.a.createElement(m.a,{message:"Could not find this notebook",testID:"notebook-not-found"})}},792:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(102),s=n(694),l=n(113),c=n(3),u=n(681),d=n(542),m=n(251);class p extends a.PureComponent{constructor(e){super(e),this.handleSubmit=()=>{const{name:e,onCreateVariable:t,onHideOverlay:n}=this.props,{selected:a}=this.state;t({selected:a,name:e,arguments:this.activeVariable}),n()},this.handleChangeType=e=>{const{variableType:t,onTypeUpdate:n}=this.props,{isNameValid:a}=this.state,r={selected:null,hasValidArgs:!1,isNameValid:a};t!==e&&(this.setState(r),n(e))},this.handleSelectMapDefault=e=>{this.setState({selected:[e]})},this.handleChangeArgs=({args:e,isValid:t})=>{const{onQueryUpdate:n,onMapUpdate:a,onConstantUpdate:r}=this.props;switch(e.type){case"query":n(e);break;case"map":a(e);break;case"constant":r(e)}this.setState({hasValidArgs:t})},this.handleNameValidation=e=>{const{variables:t}=this.props,{error:n}=Object(d.a)(t,e);return this.setState({isNameValid:!n}),n},this.handleChangeInput=e=>{const{value:t}=e.target;this.props.onNameUpdate(t)},this.state={isNameValid:!1,hasValidArgs:!1,firstRun:!0,selected:null}}render(){const{name:e,variableType:t,onHideOverlay:n,submitButtonText:a}=this.props,{selected:o}=this.state,i=a||"Create Variable";return r.a.createElement(c.Form,{onSubmit:this.handleSubmit,testID:"variable-form--root"},r.a.createElement(c.Overlay.Body,null,r.a.createElement(c.Grid,null,r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement("div",{className:"overlay-flux-editor--spacing"},r.a.createElement(c.Form.ValidationElement,{label:"Name",value:e,required:!0,prevalidate:!0,validationFunc:this.handleNameValidation},(t=>r.a.createElement(c.Input,{placeholder:"Give your variable a name",testID:"variable-name-input",name:"name",autoFocus:!0,value:e,onChange:this.handleChangeInput,status:t}))))),r.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},r.a.createElement(c.Form.Element,{label:"Type",required:!0},r.a.createElement(c.Dropdown,{button:(e,t)=>r.a.createElement(c.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:e=>r.a.createElement(c.Dropdown.Menu,{onCollapse:e},m.f.map((e=>r.a.createElement(c.Dropdown.Item,{key:e.type,id:e.type,testID:`variable-type-dropdown-${e.type}`,value:e.type,onClick:this.handleChangeType,selected:e.type===t},e.label))))})))),r.a.createElement(c.Grid.Row,null,r.a.createElement(c.Grid.Column,null,r.a.createElement(u.a,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:o,args:this.activeVariable}))))),r.a.createElement(c.Overlay.Footer,null,r.a.createElement(c.Button,{text:"Cancel",color:c.ComponentColor.Tertiary,onClick:n}),r.a.createElement(c.Button,{text:i,type:c.ButtonType.Submit,testID:"variable-form-save",color:c.ComponentColor.Success,status:this.isFormValid?c.ComponentStatus.Default:c.ComponentStatus.Disabled})))}get typeDropdownLabel(){const{variableType:e}=this.props;return m.f.find((t=>t.type===e)).label}get isFormValid(){const{isNameValid:e}=this.state;return this.validArgs&&e}get activeVariable(){const{initialScript:e,variableType:t,query:n,map:a,constant:r}=this.props,{firstRun:o}=this.state;switch(t){case"query":{const t=n;return o&&!t.values.query.length&&(t.values.query=e||""),t}case"map":return a;case"constant":return r}return n}get validArgs(){const{variableType:e,query:t,map:n,constant:a}=this.props;switch(e){case"query":return!!t.values.query;case"constant":return 0!==a.values.length;case"map":return 0!==Object.keys(n.values).length;default:return!1}}}class h extends a.PureComponent{constructor(){super(...arguments),this.handleHideOverlay=()=>{const{onHideOverlay:e,onEditorClose:t}=this.props;t(),e()}}render(){const e=Object.assign(Object.assign({},this.props),{onHideOverlay:this.handleHideOverlay});return r.a.createElement(p,Object.assign({},e))}}const f={onNameUpdate:s.t,onTypeUpdate:s.v,onQueryUpdate:s.u,onMapUpdate:s.s,onConstantUpdate:s.r,onEditorClose:s.l,onCreateVariable:l.c},g=Object(o.c)((e=>({variables:Object(i.k)(e),name:Object(i.d)(e),variableType:Object(i.f)(e),query:Object(i.e)(e),map:Object(i.c)(e),constant:Object(i.b)(e)})),f);t.a=g(h)},82:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const a="This is a test notification",r={},o=["slack","http","pagerduty","sendgrid","aws","mailjet","mailgun","discord","opsgenie","pushbullet","teams","telegram","sensu","zenoss"],i=n(490);i.keys().forEach((e=>{i(e).default((e=>{if(r.hasOwnProperty(e.type))throw new Error(`Endpoint of type [${e.type}] has already been registered`);r[e.type]=Object.assign({},e)}))}))},83:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(170),s=n(30);t.a=({value:e,onChange:t})=>{const n=(e=>{const t=e=>e.map((e=>e.hex)).join(", "),n=t(e);return s.b.find((e=>t(e.colors)===n))||s.b[0]})(e);return r.a.createElement(o.Dropdown,{button:(e,t)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:t},r.a.createElement(i.a,{name:n.name,colors:n.colors.map((e=>e.hex))})),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},s.b.map((({id:e,name:a,colors:s})=>r.a.createElement(o.Dropdown.Item,{key:e,id:e,value:s,selected:n.id===e,onClick:t},r.a.createElement(i.a,{name:a,colors:s.map((e=>e.hex))})))))})}},84:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(8);const s=e=>{const{selected:t,colors:n,onChoose:a,disabled:s,style:l}=e,c=s?o.ComponentStatus.Disabled:o.ComponentStatus.Default;return r.a.createElement(o.Dropdown,{style:l,button:(e,n)=>r.a.createElement(o.Dropdown.Button,{active:e,onClick:n,status:c},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:t.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(t.name)))),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},n.map((e=>r.a.createElement(o.Dropdown.Item,{id:e.name,key:e.name,value:e,selected:e.name===t.name,onClick:a},r.a.createElement("div",{className:"color-dropdown--item"},r.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:e.hex}}),r.a.createElement("div",{className:"color-dropdown--name"},Object(i.capitalize)(e.name)))))))})};s.defaultProps={disabled:!1,style:{flex:"0 0 120px"}};var l=s,c=n(39);var u=({id:e,type:t,name:n,value:a,error:i,onChangeValue:s,onChangeColor:u,onRemove:d,onBlur:m})=>{const p=e===c.a;let h="";h=p?"Base":t===c.c?"Minimum":t===c.b?"Maximum":"Value is >=";const f=!p&&t!==c.c&&t!==c.b,g=i?o.ComponentStatus.Error:o.ComponentStatus.Default,b=p?{flex:"1 0 120px"}:{flex:"0 0 120px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Row,alignItems:o.AlignItems.Center,margin:o.ComponentSize.Small,testID:e},r.a.createElement(o.TextBlock,{text:h,style:{flex:"0 0 90px"}}),!p&&r.a.createElement(o.Input,{style:{flex:"1 0 0"},testID:`threshold-${e}-input`,className:"threshold-setting--value",value:a,status:g,onChange:e=>s(e.target.value),onBlur:m,onKeyDown:e=>{"Enter"===e.key&&m()}}),r.a.createElement(l,{colors:c.k,selected:c.k.find((e=>e.name===n)),onChoose:({name:e,hex:t})=>u(e,t),style:b}),f&&r.a.createElement(o.SquareButton,{icon:o.IconFont.Remove_New,onClick:d,style:{flex:"0 0 30px"}})),i&&r.a.createElement("div",{className:"threshold-setting--error","data-testid":`threshold-${e}-error`},i))};var d=n(73),m=n.n(d);const p=e=>{const t=[...e];return t.sort(((e,t)=>e.id===c.a?-1/0:e.value-t.value)),t},h=(e,t)=>{const n=t-e;let a,r;return a=n>1e3?100:n>100?10:n>50?5:n>10?1:null,r=a?Math.round(Math.random()*(t-e)/a)*a:Number((Math.random()*(t-e)).toFixed(2)),r},f=(e,t)=>{switch(t.type){case"COLOR_CHANGED":{const{id:n,name:a,hex:r}=t,o=e.thresholds.map((e=>e.id===n?Object.assign(Object.assign({},e),{name:a,hex:r}):e));return Object.assign(Object.assign({},e),{thresholds:o,isDirty:!0})}case"VALUE_CHANGED":{const{id:n,value:a}=t,r=Object.assign(Object.assign({},e.inputs),{[n]:a});return Object.assign(Object.assign({},e),{inputs:r,isDirty:!0,isValid:!1})}case"VALUE_BLURRED":{const n=e.thresholds.map((n=>n.id===t.id?Object.assign(Object.assign({},n),{value:parseFloat(e.inputs[t.id])}):n)),a=(e=>{const t=e.find((({type:e})=>e===c.c)),n=e.find((({type:e})=>e===c.b)),a={};for(const{id:r,value:o,type:i}of e)isNaN(o)?a[r]="Please enter a valid number":t&&i!==c.c&&o<t.value?a[r]="Please enter a value greater than the minimum threshold":n&&i!==c.b&&o>n.value&&(a[r]="Please enter a value less than the maximum threshold");return a})(n),r=0===Object.values(a).length;return Object.assign(Object.assign({},e),{thresholds:n,errors:a,isValid:r})}case"THRESHOLD_ADDED":{const t=(e=>{const t=e.map((e=>e.value));let n=Math.min(...t),a=Math.max(...t);(n===1/0||isNaN(n)||n===a)&&(n=c.j,a=c.i);const r=h(n,a),o=c.k[Math.floor(Math.random()*c.k.length)],i=e[0].type,s=i===c.c||i===c.b?c.d:i;return Object.assign(Object.assign({},o),{id:m.a.v4(),type:s,value:r})})(e.thresholds),n=p([...e.thresholds,t]),a=Object.assign(Object.assign({},e.inputs),{[t.id]:String(t.value)});return Object.assign(Object.assign({},e),{thresholds:n,inputs:a,isDirty:!0})}case"THRESHOLD_REMOVED":{const n=e.thresholds.filter((e=>e.id!==t.id));return Object.assign(Object.assign({},e),{thresholds:n,isDirty:!0})}default:const n=t.type;throw new Error(`unhandled action of type "${n}" in ThresholdsSettings`)}};t.a=({thresholds:e,onSetThresholds:t})=>{const n=Object(a.useMemo)((()=>({thresholds:p(JSON.parse(JSON.stringify(e.filter((({type:e})=>"scale"!==e))))),inputs:e.reduce(((e,{id:t,value:n})=>Object.assign(Object.assign({},e),{[t]:String(n)})),{}),errors:{},isDirty:!1,isValid:!0})),[e]),[i,s]=((e,t)=>{const n=Object(a.useRef)(t),r=Object(a.useRef)(!1),o=Object(a.useCallback)(((t,a)=>r.current?(r.current=!1,e(n.current,a)):e(t,a)),[e]),[i,s]=Object(a.useReducer)(o,t);return t!==n.current?(r.current=!0,n.current=t,[t,s]):[i,s]})(f,n);return Object(a.useEffect)((()=>{i.isDirty&&i.isValid&&t(i.thresholds)}),[i,t]),r.a.createElement(o.FlexBox,{direction:o.FlexDirection.Column,alignItems:o.AlignItems.Stretch,margin:o.ComponentSize.Medium,testID:"threshold-settings"},r.a.createElement(o.Button,{shape:o.ButtonShape.StretchToFit,icon:o.IconFont.Plus_New,text:"Add a Threshold",onClick:()=>s({type:"THRESHOLD_ADDED"})}),i.thresholds.map((e=>r.a.createElement(u,{key:e.id,id:e.id,name:e.name,type:e.type,value:i.inputs[e.id],error:i.errors[e.id],onBlur:()=>s({type:"VALUE_BLURRED",id:e.id}),onRemove:()=>s({type:"THRESHOLD_REMOVED",id:e.id}),onChangeValue:t=>s({type:"VALUE_CHANGED",id:e.id,value:t}),onChangeColor:(t,n)=>s({type:"COLOR_CHANGED",id:e.id,name:t,hex:n})}))))}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(2),r=n.n(a),o=n(65);const i=Object(a.createContext)({id:"",menu:[],show:e=>{},hide:()=>{},showSub:e=>{},hideSub:()=>{},register:(e,t)=>{}}),s=({children:e})=>{const{flow:t}=Object(a.useContext)(o.a),[n,s]=Object(a.useState)(""),[l,c]=Object(a.useState)({}),[u,d]=Object(a.useState)(!1),m=l[n]||[];return r.a.createElement(i.Provider,{value:{id:n,menu:m,submenu:u,show:e=>{t.data.allIDs.includes(e)&&e!==n&&(s(e),u&&d(!1))},hide:()=>{s("")},showSub:e=>{d(e)},hideSub:()=>{d(!1),s("")},register:(e,t)=>{l[e]&&l[e]===t||(l[e]=t||[],c(Object.assign({},l)))}}},e)}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(14),r=n(2),o=n.n(r),i=n(87),s=n.n(i),l=n(15);let c=class extends r.PureComponent{constructor(){super(...arguments),this.handleClickOutside=e=>{const t=s.a.findDOMNode(this);t&&t.contains(e.target)||this.props.onClickOutside(e)}}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}render(){return o.a.Children.only(this.props.children)}};c=Object(a.a)([l.a],c)},92:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return k}));var a=n(2),r=n.n(a),o=n(4),i=n(73),s=n(293),l=n(9),c=n(103),u=n(169),d=n(11),m=n(22),p=n(638),h=n(51),f=n(291),g=n(24),b=n(5);const v={basic:(e,t)=>{},query:(e,t)=>Promise.resolve({}),cancel:e=>{}},y=r.a.createContext(v),x=(e,t,n=[])=>e?(t(e)&&n.push(e),Object.values(e).forEach((e=>{Array.isArray(e)?e.forEach((e=>{x(e,t,n)})):"object"==typeof e&&x(e,t,n)})),n):n,E=(e,t,n=[])=>e?(Object.entries(e).forEach((([a,r])=>{if(Array.isArray(r)){let e=0;for(;e<r.length;)t(r[e])?(n.push(r[e]),r.splice(e,1)):(E(r[e],t,n),e++)}else"object"==typeof r&&(r&&t(r)?delete e[a]:E(r,t,n))})),n):n,w=(e,t={})=>{try{const n=Object(g.c)("fastFlows")?k(e):Object(s.t)(e),a=x(n,(e=>{var t;return"MemberExpression"===(null==e?void 0:e.type)&&"v"===(null===(t=null==e?void 0:e.object)||void 0===t?void 0:t.name)})).map((e=>e.property.name)).reduce(((e,n)=>(e[n]=t[n],e)),{}),r=E(n,(e=>"OptionStatement"===e.type&&"v"===e.assignment.id.name)).reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{});Object.keys(r).forEach((e=>{a.hasOwnProperty(e)&&(a[e]=r[e])}));const o=Object.entries(a).map((([e,t])=>`${e}: ${t}`)).join(",\n"),i=Object(g.c)("fastFlows")?k(`option v = {\n${o}\n}\n`):Object(s.t)(`option v = {\n${o}\n}\n`);o.length&&n.body.unshift(i.body[0]),a.hasOwnProperty("windowPeriod")&&((e,t)=>{const n=x(e,(e=>{var t,n;return"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"range"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)})).map((t=>{var n;return((null===(n=t.arguments[0])||void 0===n?void 0:n.properties)||[]).reduce(((t,n)=>("start"===n.key.name&&(t.start=Object(p.b)(e,n.value,Date.now())),"stop"===n.key.name&&(t.stop=Object(p.b)(e,n.value,Date.now())),t)),{start:"",stop:Date.now()})})),a=x(t,(e=>{var t;return"Property"===(null==e?void 0:e.type)&&"windowPeriod"===(null===(t=null==e?void 0:e.key)||void 0===t?void 0:t.name)}));if(!n.length)return void a.forEach((e=>{e.value={type:"DurationLiteral",values:[{magnitude:15e3,unit:"ms"}]}}));const r=n.map((e=>e.start)),o=n.map((e=>e.stop)),i=r.map((e=>o.map((t=>[e,t])))),s=[].concat(...i).map((([e,t])=>t-e)).filter((e=>e>0)),l=Math.min(...s),c=h.d.find((e=>1e3*e.seconds===l));c?a.forEach((e=>{e.value={type:"DurationLiteral",values:[{magnitude:c.windowPeriod,unit:"ms"}]}})):a.forEach((e=>{e.value={type:"DurationLiteral",values:[{magnitude:Math.round(l/360),unit:"ms"}]}}))})(n,i);const l=E(n,(e=>"OptionStatement"===e.type&&"task"===e.assignment.id.name)).reverse().reduce(((e,t)=>{var n,a;return((null===(a=null===(n=t.assignment)||void 0===n?void 0:n.init)||void 0===a?void 0:a.properties)||[]).reduce(((e,t)=>{var n,a,r;return(null===(n=t.key)||void 0===n?void 0:n.name)&&(null===(r=null===(a=t.value)||void 0===a?void 0:a.location)||void 0===r?void 0:r.source)&&(e[t.key.name]=t.value.location.source),e}),e),e}),{});if(Object.keys(l).length){const e=Object.entries(l).map((([e,t])=>`${e}: ${t}`)).join(",\n"),t=Object(g.c)("fastFlows")?k(`option task = {\n${e}\n}\n`):Object(s.t)(`option task = {\n${e}\n}\n`);n.body.unshift(t.body[0])}return Object(s.r)(n)}catch(e){return""}},S=(()=>{const t=new Worker(e,void 0),n={};let a=0;return t.onmessage=e=>{const t=e.data[0],a=e.data[1];n[t]&&(Object.defineProperty(a.table,"length",{get:()=>{var e,t,n,r;return(null!==(r=null===(n=Object.values(null!==(t=null===(e=null==a?void 0:a.table)||void 0===e?void 0:e.columns)&&void 0!==t?t:{})[0])||void 0===n?void 0:n.data)&&void 0!==r?r:[]).length||0}}),Object.defineProperty(a.table,"columnKeys",{get:()=>Object.keys(a.table.columns)}),a.table.getColumn=(e,t)=>{const n=a.table.columns[e];if(!n)return null;const r="number"===t&&"time"===n.type;return t&&t!==n.type&&!r?null:n.data},a.table.addColumn=(e,t,n,r,o)=>(a.table.columns[e]={name:o||e,fluxDataType:t,type:n,data:r},a.table),a.table.getColumnName=e=>{const t=a.table.columns[e];return t?t.name:null},a.table.getColumnType=e=>{const t=a.table.columns[e];return t?t.type:null},a.table.getOriginalColumnType=e=>{const t=a.table.columns[e];return t?t.fluxDataType:null},n[t](a))},e=>new Promise((r=>{n[++a]=r,t.postMessage([a,e])}))})(),k=(()=>{const e={};return t=>{const n=btoa(t);return e[n]||(e[n]=Object(s.t)(t)),e[n]}})();t.b=({children:e})=>{const t=Object(o.e)((e=>Object(u.b)(e))),n=Object(o.e)((e=>Object(d.h)(e,b.ResourceType.Buckets))),p=Object(a.useRef)({}),h=Object(o.e)(l.a),v=Object(o.d)();Object(a.useEffect)((()=>{n===b.RemoteDataState.NotStarted&&v(Object(c.h)())}),[n,v]),Object(a.useEffect)((()=>()=>{Object.values(p.current).forEach((e=>e()))}),[]);const E=(e,n)=>{const a=w(e,(null==n?void 0:n.vars)||{}),r=(null==n?void 0:n.org)||(e=>{var n;const a=x(e,(e=>{var t,n,a,r,o;return"CallExpression"===(null==e?void 0:e.type)&&"Identifier"===(null===(t=null==e?void 0:e.callee)||void 0===t?void 0:t.type)&&"from"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.name)&&"bucket"===(null===(o=null===(r=null===(a=null==e?void 0:e.arguments[0])||void 0===a?void 0:a.properties[0])||void 0===r?void 0:r.key)||void 0===o?void 0:o.name)})).map((e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.arguments[0])||void 0===t?void 0:t.properties[0])||void 0===n?void 0:n.value.value}));return(null===(n=t.find((e=>a.includes(e.name))))||void 0===n?void 0:n.orgID)||h.id})(Object(g.c)("fastFlows")?k(a):Object(s.t)(a)),o=`${(null==n?void 0:n.region)||window.location.origin}/api/v2/query?${new URLSearchParams({orgID:r})}`,l={"Content-Type":"application/json","Accept-Encoding":"gzip"};(null==n?void 0:n.token)&&(l.Authorization=`Token ${n.token}`);const c={query:a,dialect:{annotations:["group","datatype","default"]}},u=new AbortController,d=Object(i.v4)(),m=fetch(o,{method:"POST",headers:l,body:JSON.stringify(c),signal:u.signal}).then((e=>{if(200===e.status)return e.text().then((e=>(p.current[d]&&delete p.current[d],{type:"SUCCESS",csv:e,bytesRead:e.length,didTruncate:!1})));if(e.status===f.b){const t=e.headers.get("Retry-After");return Promise.resolve({type:"RATE_LIMIT_ERROR",retryAfter:t?parseInt(t):null,message:f.c})}return e.text().then((e=>{try{const t=JSON.parse(e),n=t.message||t.error;return{type:"UNKNOWN_ERROR",message:n,code:t.code}}catch(e){return{type:"UNKNOWN_ERROR",message:"Failed to execute Flux query"}}}))})).catch((e=>"AbortError"===e.name?Promise.reject(new b.CancellationError):Promise.reject(e)));return p.current[d]=()=>{u.abort()},{id:d,promise:m,cancel:()=>{C(d)}}},C=e=>{if(!e)return Object.values(p.current).forEach((e=>e())),void(p.current={});p.current.hasOwnProperty(e)&&(p.current[e](),delete p.current[e])};return n!==b.RemoteDataState.Done?null:r.a.createElement(y.Provider,{value:{query:(e,t)=>E(e,t).promise.then((e=>{if("SUCCESS"!==e.type)throw new Error(e.message);return e})).then((e=>Object(g.c)("fastFlows")?S(e.csv):Object(m.fromFlux)(e.csv))).then((t=>({source:e,parsed:t,error:null}))),cancel:C,basic:E}},e)}}).call(this,n(427))},94:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));const a=Math.floor,r=(Math.ceil,Math.abs),o=(Math.imul,Math.round),i=Math.log10,s=(Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),l=(e,t)=>e>t?e:t,c=(Number.isNaN,Math.pow,e=>Math.pow(10,e)),u=(Math.sign,e=>0!==e?e<0:1/e<0)},957:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n.n(a);function o(){return r.a.createElement("div",{id:"notes-portal"})}},958:function(e,t,n){var a=n(959);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},959:function(e,t,n){(t=n(16)(!1)).push([e.i,".limits-increasewrites--body{display:flex;justify-content:center}.limits-increasewrites--form{display:flex;justify-content:center;flex-direction:column;align-items:center}",""]),e.exports=t},960:function(e,t,n){var a=n(961);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},961:function(e,t,n){(t=n(16)(!1)).push([e.i,".edit-annotation-head{height:70px}.edit-annotation-form-footer{display:flex;justify-content:space-between}.annotation-type-option-line{display:flex;width:100%}.edit-annotation-buttons{display:flex;flex:2;justify-content:flex-end}.edit-annotation-cancel{margin-right:10px}",""]),e.exports=t},962:function(e,t,n){var a=n(963);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},963:function(e,t,n){(t=n(16)(!1)).push([e.i,".refresh-form-container{display:flex;align-items:center;justify-content:space-between;padding:12px 64px}.refresh-form-container.reverse{flex-direction:row-reverse}.refresh-form-container-child{flex:1}.refresh-form-container-child.active{display:grid;grid-template-columns:1fr 1fr}.refresh-form-container-child.inactive{display:grid;grid-template-columns:1fr}.refresh-form-column{display:grid}.refresh-timeout-span{flex:1}.refresh-form-buttons{display:grid;grid-template-columns:auto auto;grid-gap:10px;padding:16px 4px 8px 4px}.refresh-form-cancel-button{width:140px;justify-self:end}.refresh-form-activate-button{width:140px}.refresh-form-timeout-dropdown{padding:0 0 0 8px;flex:1}.refresh-form-time-label{font-size:13px}.timerange-dropdown{justify-self:end;width:178px}.refresh-form-timerange-toggle{margin:0px 8px}.refresh-input{width:100px}",""]),e.exports=t},964:function(e,t,n){"use strict";var a=n(2),r=n(184),o=n(4),i=n(9),s=n(789),l=n(24);t.a=Object(a.memo)((()=>{const[e,t]=Object(a.useState)([]),n=Object(r.g)().pathname,c=window.userpilot,u=Object(o.e)(i.a),d=Object(o.e)((e=>e.me));Object(a.useEffect)((()=>{Object(l.c)("newUsageAPI")&&(null==u?void 0:u.id)&&Object(s.a)(u.id).then((({usageDataStates:e})=>t(e)))}),[null==u?void 0:u.id]),Object(a.useEffect)((()=>{c&&(m(),c.reload())}),[n,u,d]);const m=()=>{var t;const n=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname.split(".");u&&d&&c.identify(d.name,Object.assign({email:d.name,orgID:u.id,region:n[0],provider:n[1],company:{id:u.id}},Object(l.c)("newUsageAPI")&&e.length&&{UsageDataStates:e}))};return null}))},98:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(4),s=n(158),l=n(103),c=n(199),u=n(138),d=n(232),m=n(164),p=n(228),h=n(229),f=n(12),g=n(5),b=n(11);const v=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS_LOADING_STATE",payload:e}),y=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS",payload:e});var x=n(206),E=n(140),w=n(146),S=n(113),k=n(159),C=n(7),O=n(15),D=n(3),T=n(196);let j=class extends r.PureComponent{componentDidMount(){const{resources:e}=this.props,t=[],n=Date.now();e.forEach((e=>{t.push(this.getResourceDetails(e))}));const a=e.join(", ");Promise.all(t).then((()=>{Object(C.a)(`GetResources ${a}`,{time:n,resource:a},{duration:Date.now()-n})}))}getResourceDetails(e){switch(e){case g.ResourceType.Dashboards:return this.props.getDashboards();case g.ResourceType.Labels:return this.props.getLabels();case g.ResourceType.Buckets:return this.props.getBuckets();case g.ResourceType.Telegrafs:return this.props.getTelegrafs();case g.ResourceType.Plugins:return this.props.getPlugins();case g.ResourceType.Scrapers:return this.props.getScrapers();case g.ResourceType.Variables:return this.props.getVariables();case g.ResourceType.Tasks:return this.props.getTasks();case g.ResourceType.Authorizations:return this.props.getAuthorizations();case g.ResourceType.Members:return this.props.getMembers();case g.ResourceType.Checks:return this.props.getChecks();case g.ResourceType.NotificationRules:return this.props.getNotificationRules();case g.ResourceType.NotificationEndpoints:return this.props.getEndpoints();case g.ResourceType.Secrets:return this.props.getSecrets();default:throw new Error("incorrect resource type provided")}}render(){const{children:e,remoteDataState:t}=this.props;return o.a.createElement(D.SpinnerContainer,{loading:t,spinnerComponent:o.a.createElement(D.TechnoSpinner,null)},e)}};j=Object(a.a)([O.a],j);const I={getLabels:m.c,getBuckets:l.h,getTelegrafs:w.e,getPlugins:()=>async(e,t)=>{const n=t();Object(b.h)(n,g.ResourceType.Plugins)===g.RemoteDataState.NotStarted&&e(v(g.RemoteDataState.Loading)),e(v(g.RemoteDataState.Loading));const a=await Object(f.getTelegrafPlugins)({},{});if(200===a.status){const t=a.data.plugins;e(y(t))}e(v(g.RemoteDataState.Done))},getVariables:S.f,getScrapers:x.c,getAuthorizations:s.d,getDashboards:u.i,getTasks:E.j,getMembers:p.b,getChecks:c.g,getNotificationRules:h.f,getEndpoints:d.f,getSecrets:k.b},N=Object(i.c)(((e,{resources:t})=>({remoteDataState:Object(T.a)(e,t)})),I);t.a=N(j)}}]);
//# sourceMappingURL=30.1c5c894fc8.js.map