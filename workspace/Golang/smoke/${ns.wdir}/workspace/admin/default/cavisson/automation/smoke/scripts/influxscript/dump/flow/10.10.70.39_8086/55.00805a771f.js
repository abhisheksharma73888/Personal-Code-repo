(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{100:function(e,t,n){var a=n(101);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(17)(a,r);a.locals&&(e.exports=a.locals)},101:function(e,t,n){(t=n(16)(!1)).push([e.i,".flex-upgrade-content{display:flex;align-items:center}",""]),e.exports=t},110:function(e,t,n){"use strict";var a=n(306).CopyToClipboard;a.CopyToClipboard=a,e.exports=a},145:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(110),i=n.n(o),l=n(3);class s extends a.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=()=>{const{onCopy:e}=this.props;e&&e()}}render(){const{text:e,testID:t,size:n}=this.props;return r.a.createElement(i.a,{text:e,onCopy:this.handleCopyAttempt},r.a.createElement(l.Button,{shape:l.ButtonShape.Default,size:n||l.ComponentSize.ExtraSmall,color:l.ComponentColor.Secondary,titleText:"Copy to Clipboard",text:"Copy to Clipboard",onClick:this.handleClickCopy,testID:null!=t?t:"button-copy"}))}}t.a=s},2535:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(4),i=n(184),l=n(3),s=n(791),c=n(764),u=n(145),m=n(443),d=n(637),p=n(292),g=n(1162),b=n(9),f=n(10),h=n(13),y=n(6),O=n(24),v=n(7),C=n(29);var E=()=>{const e=Object(o.e)(C.b),t=Object(o.e)(b.a),n=Object(i.f)(),{status:s,users:c}=Object(a.useContext)(m.a),u=Object(o.d)(),E=()=>{u(Object(f.c)(Object(h.tb)((e=>Object(g.b)(`/orgs/${t.id}/users`,e)))))};let x=()=>{const a={org:t.id,tier:null==e?void 0:e.accountType,email:null==e?void 0:e.email};Object(v.a)("DeleteOrgInitiation Event",a),Object(O.c)("trackCancellations")&&Object(O.c)("rudderstackReporting")&&Object(d.track)("DeleteOrgInitiation",a),n.push(`/orgs/${t.id}/about/delete`)};return c.length>1&&(x=E),r.a.createElement(p.a,{loading:s},r.a.createElement(r.a.Fragment,null,y.f&&"free"===(null==e?void 0:e.accountType)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.FlexBox.Child,null,r.a.createElement("h4",{style:{marginBottom:"4px"}},"Delete Organization"),r.a.createElement("p",{style:{margin:"0px"}},"Delete your Free InfluxDB Cloud account and remove any data that you have loaded.")),r.a.createElement(l.FlexBox.Child,null,r.a.createElement(l.Button,{testID:"delete-org--button",text:"Delete",icon:l.IconFont.Trash_New,onClick:x})))))};var x=()=>{const e=Object(o.e)(C.a),t=Object(o.e)(b.a),n=Object(i.f)(),a=(e,t)=>()=>Object(h.Y)(t,e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.FlexStart,stretchToFitWidth:!1,testID:"organization-profile--panel",margin:l.ComponentSize.Large},r.a.createElement("h4",null,"Organization Profile"),r.a.createElement(l.Heading,{element:l.HeadingElement.H4,weight:l.FontWeight.Regular,style:{marginBottom:"4px"}},"Name"),r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Row,margin:l.ComponentSize.Medium},r.a.createElement(l.Input,{value:t.name,"data-testid":"danger-zone--org-name",testID:"danger-zone--org-name"}),r.a.createElement(l.Button,{testID:"rename-org--button",text:"Rename",icon:l.IconFont.Pencil,onClick:()=>{n.push(`/orgs/${t.id}/about/rename`)}})),r.a.createElement(l.FlexBox.Child,{testID:"common-ids--panel"},r.a.createElement("h4",null,"Common IDs"),r.a.createElement(l.Heading,{element:l.HeadingElement.H4,style:{marginBottom:"4px"},weight:l.FontWeight.Regular},"User ID"),r.a.createElement("div",{className:"code-snippet","data-testid":"code-snippet--userid"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,r.a.createElement("code",null,e.id))),r.a.createElement(l.FlexBox,{className:"code-snippet--footer",margin:l.ComponentSize.Medium},r.a.createElement(u.a,{text:e.id,testID:"copy-btn--userid",onCopy:a("User ID",e.id)}),r.a.createElement("label",{className:"code-snippet--label"},`${e.name} |`," ",r.a.createElement("b",null,"User ID")))),r.a.createElement(l.Heading,{element:l.HeadingElement.H4,style:{marginTop:"16px",marginBottom:"4px"},weight:l.FontWeight.Regular},"Organization ID"),r.a.createElement("div",{className:"code-snippet","data-testid":"code-snippet--orgid"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,r.a.createElement("code",null,t.id))),r.a.createElement(l.FlexBox,{className:"code-snippet--footer",margin:l.ComponentSize.Medium},r.a.createElement(u.a,{text:t.id,onCopy:a("Organization ID",t.id),testID:"copy-btn--orgid"}),r.a.createElement("label",{className:"code-snippet--label","data-testid":"org-profile--name"},`${t.name} |`," ",r.a.createElement("b",null," Organization ID "))))),y.f&&Object(O.c)("uiUnificationFlag")&&r.a.createElement(m.b,null,r.a.createElement(E,null))))},j=n(14),S=n(593),I=n(15),w=n(932),D=n(5),k=n(11);let T=class extends a.PureComponent{constructor(e){super(e),this.saveButtonStatus=e=>this.state.org.name===this.props.startOrg.name||e===l.ComponentStatus.Error?l.ComponentStatus.Disabled:e,this.handleGoBack=()=>{this.props.history.push(`/orgs/${this.props.startOrg.id}/about`)},this.handleValidation=e=>e?this.isUniqueName(e)?void 0:"This org name is taken":"Name is required",this.isUniqueName=e=>!this.props.orgNames.find((t=>t===e)),this.handleInputChange=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.org),{name:t});this.setState({org:n})},this.handleRenameOrg=async()=>{const{onRenameOrg:e,startOrg:t}=this.props,{org:n}=this.state;await e(t.name,n),this.handleGoBack()},this.state={org:this.props.startOrg}}render(){const{org:e}=this.state;return r.a.createElement(l.Form,{onSubmit:this.handleRenameOrg},r.a.createElement(l.Form.ValidationElement,{label:"Name",validationFunc:this.handleValidation,value:e.name},(t=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.FlexBox,{alignItems:l.AlignItems.Center,direction:l.FlexDirection.Column,margin:l.ComponentSize.Large},r.a.createElement(l.Input,{placeholder:"Give your organization a name",name:"name",autoFocus:!0,onChange:this.handleInputChange,value:e.name,status:t,testID:"create-org-name-input"}),r.a.createElement(l.FlexBox,{alignItems:l.AlignItems.Center,direction:l.FlexDirection.Row,margin:l.ComponentSize.Small},r.a.createElement(l.Button,{text:"Cancel",icon:l.IconFont.Remove_New,color:l.ComponentColor.Tertiary,onClick:this.handleGoBack}),r.a.createElement(l.Button,{text:"Change Organization Name",icon:l.IconFont.Checkmark_New,status:this.saveButtonStatus(t),color:l.ComponentColor.Success,type:l.ButtonType.Submit,testID:"rename-org-submit--button"})))))))}};T=Object(j.a)([I.a,Object(j.b)("design:paramtypes",[Object])],T);const N={onRenameOrg:w.c};var R=Object(o.c)((e=>{const{resources:t}=e,{orgs:{org:n}}=t,a=Object(k.a)(e,D.ResourceType.Orgs).filter((e=>e.id!==n.id)).map((e=>e.name));return{startOrg:n,orgNames:a}}),N)(Object(i.j)(T));let F=class extends a.PureComponent{constructor(){super(...arguments),this.handleClose=()=>{const{history:e}=this.props;e.goBack()}}render(){return r.a.createElement(l.Overlay,{visible:!0},r.a.createElement(S.a,{title:"Rename Organization",message:this.message,effectedItems:this.effectedItems,onClose:this.handleClose,confirmButtonText:"I understand, rename my Organization"},r.a.createElement(R,null)))}get message(){return"Updating the name of an Organization can have unintended consequences. Anything that references this Organization by name will stop working including:"}get effectedItems(){return["Queries","Dashboards","Tasks","Telegraf Configurations","Client Libraries"]}};F=Object(j.a)([I.a],F);var z,B=Object(i.j)(F),P=n(127);!function(e){e.NO_OPTION="----",e.USE_CASE_DIFFERENT="It doesn't work for my use case",e.SWITCHING_ORGANIZATION="I want to join my account to another organization",e.ALTERNATIVE_PRODUCT="I found an alternative product",e.RE_SIGNUP="I want to sign up for a new account using a marketplace option",e.OTHER_REASON="Other reason"}(z||(z={}));const _={shortSuggestion:"",isShortSuggestionEnabled:!1,setShortSuggestionFlag:e=>null,setShortSuggestion:e=>null,suggestions:"",setSuggestions:e=>null,reason:"NO_OPTION",setReason:e=>null,getRedirectLocation:()=>U},A={SWITCHING_ORGANIZATION:"/org_cancel",RE_SIGNUP:"/cancel"},U="/mkt_cancel",H=Object(a.createContext)(_);var L=({children:e})=>{const[t,n]=Object(a.useState)(_.shortSuggestion),[o,i]=Object(a.useState)(_.isShortSuggestionEnabled),[l,s]=Object(a.useState)(_.suggestions),[c,u]=Object(a.useState)(_.reason);return r.a.createElement(H.Provider,{value:{shortSuggestion:t,isShortSuggestionEnabled:o,setShortSuggestionFlag:i,setShortSuggestion:n,suggestions:l,setSuggestions:s,reason:c,setReason:u,getRedirectLocation:()=>{var e;return`https://www.influxdata.com${null!==(e=A[c])&&void 0!==e?e:"/mkt_cancel"}`}}},e)};var M=function(){const{shortSuggestion:e,isShortSuggestionEnabled:t,suggestions:n,setShortSuggestionFlag:o,setShortSuggestion:i,setSuggestions:s,reason:c,setReason:u}=Object(a.useContext)(H),m=e=>{const t=z[e]===z.ALTERNATIVE_PRODUCT;t||i(""),o(t),u(e)};return r.a.createElement("div",{className:"cancellation-reasons-form"},r.a.createElement(l.Form.Element,{label:"What is your primary reason for leaving?",required:!0},r.a.createElement(l.Dropdown,{button:(e,t)=>r.a.createElement(l.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},z[c]),menu:e=>r.a.createElement(l.Dropdown.Menu,{onCollapse:e},Object.keys(z).map((e=>r.a.createElement(l.Dropdown.Item,{key:e,id:e,value:e,onClick:m,testID:`variable-type-dropdown-${e}`},z[e]))))})),t&&r.a.createElement(l.Form.Element,{label:"What is the alternative?",className:"element alternate-product--input"},r.a.createElement(l.Input,{type:l.InputType.Text,titleText:"What is the alternative?",onChange:e=>i(e.target.value),value:e})),r.a.createElement(l.Form.Element,{label:"How can we improve?",className:"element improvement-suggestion--input"},r.a.createElement(l.TextArea,{className:"improvement-suggestions-input",onChange:e=>s(e.target.value),testID:"improvement-suggestions-input",value:n,placeholder:"How can we improve?"})))};var W=()=>{const e=Object(i.f)(),[t,n]=Object(a.useState)(!1),s=Object(o.d)(),{reason:c,shortSuggestion:u,suggestions:m,getRedirectLocation:p}=Object(a.useContext)(H),g=Object(o.e)(C.b),y=Object(o.e)(b.a),E=Object(a.useMemo)((()=>Object(O.c)("trackCancellations")?t&&z[c]!==z.NO_OPTION:t),[t,c]);return r.a.createElement(l.Overlay,{visible:!0,testID:"delete-org--overlay"},r.a.createElement(l.Overlay.Container,{maxWidth:400},r.a.createElement(l.Overlay.Header,{title:"Delete Organization",onDismiss:()=>{const t={org:y.id,tier:null==g?void 0:g.accountType,email:null==g?void 0:g.email};Object(v.a)("DeleteOrgDismissed Event",t),Object(O.c)("rudderstackReporting")&&Object(O.c)("trackCancellations")&&Object(d.track)("DeleteOrgDismissed",t),e.goBack()}}),r.a.createElement(l.Overlay.Body,null,r.a.createElement(l.Alert,{color:l.ComponentColor.Danger,icon:l.IconFont.AlertTriangle},"This action cannot be undone"),Object(O.c)("trackCancellations")&&r.a.createElement(l.FlexBox,{alignItems:l.AlignItems.Center,direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexStart,margin:l.ComponentSize.Medium},r.a.createElement(M,null)),r.a.createElement("ul",{style:{margin:"32px 0"}},r.a.createElement("li",null,"The account for this Organization will be deleted immediately. This is irreversible and cannot be undone."),r.a.createElement("li",null,"Before continuing, you are responsible for exporting any data or content - including dashboards, tasks and variable - from the user interface.")),r.a.createElement("span",{onClick:()=>n((e=>!e)),"data-testid":"agree-terms--input"},r.a.createElement(l.FlexBox,{alignItems:l.AlignItems.Center,direction:l.FlexDirection.Row,justifyContent:l.JustifyContent.FlexStart,margin:l.ComponentSize.Medium,stretchToFitWidth:!1},r.a.createElement(l.Input,{className:"agree-terms-input",checked:t,onChange:()=>n((e=>!e)),size:l.ComponentSize.ExtraSmall,titleText:"I understand and agree to these conditions",type:l.InputType.Checkbox,testID:"agree-terms--checkbox"}),r.a.createElement(l.InputLabel,{active:t,size:l.ComponentSize.Small},"I understand and agree to these conditions")))),r.a.createElement(l.Overlay.Footer,null,r.a.createElement(l.Button,{color:l.ComponentColor.Danger,text:"Delete Organization",testID:"delete-organization--button",status:E?l.ComponentStatus.Default:l.ComponentStatus.Disabled,onClick:async()=>{const e={org:y.id,tier:null==g?void 0:g.accountType,email:null==g?void 0:g.email,alternativeProduct:u,suggestions:m,reason:z[c]};Object(v.a)("DeleteOrgExecuted Event",e),Object(O.c)("rudderstackReporting")&&Object(O.c)("trackCancellations")&&Object(d.track)("DeleteOrgExecuted",e);try{const t=await Object(P.a)({});if(Object(v.a)("Delete Org Executed",e),204!==t.status)throw new Error(t.data.message);Object(O.c)("trackCancellations")?window.location.href=p():window.location.href="https://www.influxdata.com/free_cancel/"}catch(e){s(Object(f.c)(Object(h.n)()))}}}))))},$=n(63);t.default=()=>{const e=Object(o.e)(C.b);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Page,{titleTag:Object($.a)(["About","Organization"])},r.a.createElement(c.a,{testID:"about-page--header"}),r.a.createElement(s.a,{activeTab:"about"},r.a.createElement(x,null))),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/orgs/:orgID/about/rename",component:B}),y.f&&"free"===(null==e?void 0:e.accountType)&&r.a.createElement(L,null,r.a.createElement(i.a,{path:"/orgs/:orgID/about/delete",component:W}))))}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const a=e=>e.me,r=e=>e.me.quartzMe,o=e=>{var t,n;const{quartzMe:a}=e.me,r=null!==(t=null==a?void 0:a.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(n=null==a?void 0:a.accountType)&&void 0!==n?n:"free")&&!1===r}},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=o(n(2)),r=o(n(307));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){var e,n;c(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return b(p(n=m(this,(e=d(t)).call.apply(e,[this].concat(i)))),"onClick",(function(e){var t=n.props,o=t.text,i=t.onCopy,l=t.children,s=t.options,c=a.default.Children.only(l),u=(0,r.default)(o,s);i&&i(o,u),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(e)})),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,o=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=s(e,["text","onCopy","options","children"]),r=a.default.Children.only(t);return a.default.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{onClick:this.onClick}))}}],o&&u(n.prototype,o),i&&u(n,i),t}(a.default.PureComponent);t.CopyToClipboard=f,b(f,"defaultProps",{onCopy:void 0,options:void 0})},307:function(e,t,n){"use strict";var a=n(308),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,l,s,c,u=!1;t||(t={}),n=t.debug||!1;try{if(i=a(),l=document.createRange(),s=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(c),l.selectNodeContents(c),s.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(a){n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(l):s.removeAllRanges()),c&&document.body.removeChild(c),i()}return u}},308:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(2),r=n.n(a),o=n(4),i=n(127),l=n(10),s=n(13),c=n(705),u=n(5),m=n(9);const d={email:"",role:"owner"},p={draftInvite:d,handleEditDraftInvite:e=>{},handleInviteUser:()=>{},handleRemoveUser:e=>{},handleResendInvite:e=>{},handleWithdrawInvite:e=>{},invites:[],removeInviteStatus:{id:null,status:u.RemoteDataState.NotStarted},removeUserStatus:{id:null,status:u.RemoteDataState.NotStarted},status:u.RemoteDataState.NotStarted,users:[]},g=r.a.createContext(p),b=r.a.memo((({children:e})=>{var t;const n=Object(o.d)(),p=null===(t=Object(o.e)(m.a))||void 0===t?void 0:t.id,[b,f]=Object(a.useState)([]),[h,y]=Object(a.useState)([]),[O,v]=Object(a.useState)(d),[C,E]=Object(a.useState)(u.RemoteDataState.NotStarted),[x,j]=Object(a.useState)({id:null,status:u.RemoteDataState.NotStarted}),[S,I]=Object(a.useState)({id:null,status:u.RemoteDataState.NotStarted}),w=Object(a.useCallback)((async()=>{var e,t;try{const[n,a]=await Promise.all([Object(i.r)({orgId:p}),Object(i.q)({orgId:p})]);if(200!==n.status)throw new Error(n.data.message);if(200!==a.status)throw new Error(a.data.message);const r=null!==(e=null==n?void 0:n.data)&&void 0!==e?e:[],o=null!==(t=null==a?void 0:a.data)&&void 0!==t?t:[];f(r),y(o),E(u.RemoteDataState.Done)}catch(e){f([]),y([]),E(u.RemoteDataState.Error),console.error(e)}}),[p]);Object(a.useEffect)((()=>{w()}),[w]);const D=Object(a.useCallback)((async()=>{try{const e=await Object(i.A)({orgId:p,data:O});if(201!==e.status)throw new Error(e.data.message);y((t=>[e.data,...t])),n(Object(l.c)(Object(s.pc)())),v(d)}catch(e){n(Object(l.c)(Object(s.oc)())),console.error(e)}}),[n,O,p]),k=Object(a.useCallback)((e=>{v(e)}),[v]),T=Object(a.useCallback)((async e=>{try{const t=await Object(i.B)({orgId:p,inviteId:e});if(200!==t.status)throw new Error(t.data.message);const a=h.map((e=>e.id===t.data.id?t.data:e));y(a),n(Object(l.c)(Object(s.lc)()))}catch(e){n(Object(l.c)(Object(s.kc)())),console.error(e)}}),[n,h,p]),N=Object(a.useCallback)((async e=>{try{j({id:e,status:u.RemoteDataState.Loading});const t=await Object(i.d)({orgId:p,inviteId:e});if(204!==t.status)throw new Error(t.data.message);const a=h.filter((({id:t})=>t!==e));y(a),j({id:null,status:u.RemoteDataState.Done}),n(Object(l.c)(Object(s.nc)()))}catch(t){console.error(t),n(Object(l.c)(Object(s.mc)())),j({id:e,status:u.RemoteDataState.Error})}}),[n,h,p]),R=Object(a.useCallback)((async e=>{try{I({id:e,status:u.RemoteDataState.Loading}),await Object(i.e)({orgId:p,userId:e});const t=b.filter((({id:t})=>e!==t));f(t),I({id:null,status:u.RemoteDataState.Done}),n(Object(l.c)(Object(s.Zc)())),window.dataLayer.push({event:c.b})}catch(t){console.error(t),n(Object(l.c)(Object(s.Yc)())),I({id:e,status:u.RemoteDataState.Error})}}),[n,p,b]);return r.a.createElement(g.Provider,{value:{draftInvite:O,handleEditDraftInvite:k,handleInviteUser:D,handleRemoveUser:R,handleResendInvite:T,handleWithdrawInvite:N,invites:h,removeInviteStatus:x,removeUserStatus:S,status:C,users:b}},e)}));t.b=b},50:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(19),l=n.n(i),s=n(184),c=n(3),u=n(77),m=n(29);t.a=({size:e=c.ComponentSize.Small,className:t,buttonText:n="Upgrade Now",metric:a})=>{const i=Object(o.e)(m.c),d=l()("upgrade-payg--button",{[`${t}`]:t}),p=Object(s.f)();return r.a.createElement(u.a,null,i&&r.a.createElement(c.Button,{icon:c.IconFont.CrownSolid_New,className:d,size:e,shape:c.ButtonShape.Default,onClick:()=>{a&&a(),p.push("/checkout")},text:n,style:{background:"linear-gradient(45deg, rgb(52, 187, 85) 0%, rgb(0, 163, 255) 100%)"},testID:"cloud-upgrade--button"}))}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(2),r=n.n(a),o=n(4),i=n(19),l=n.n(i),s=n(3),c=n(50),u=n(34),m=n(29),d=n(7);const p=({type:e,link:t,className:n,limitText:a})=>r.a.createElement("div",{className:`${n} rate-alert--content__free`},r.a.createElement("span",null,"Oh no! You hit the"," ",r.a.createElement("a",{href:t,className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality"===e?"series cardinality":"query write")," ","limit ",null!=a?a:""," and your data stopped writing. Don’t lose important metrics."),r.a.createElement(s.FlexBox,{justifyContent:s.JustifyContent.Center,className:"rate-alert--button"},r.a.createElement(c.a,{className:"upgrade-payg--button__rate-alert",metric:()=>Object(d.a)(`user.limits.${e}.upgrade`)})));t.b=({className:e})=>{const t=Object(o.d)(),n=Object(o.e)(m.c),a=l()("rate-alert--content",{[`${e}`]:e});return n?r.a.createElement(p,{type:"series cardinality",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:a}):r.a.createElement("div",{className:`${a} rate-alert--content__payg`},r.a.createElement("span",null,"Data in has stopped because you've hit the"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality")," ","limit. Let's get it flowing again."),r.a.createElement(s.FlexBox,{justifyContent:s.JustifyContent.Center,className:"rate-alert--button"},r.a.createElement(s.Button,{className:"rate-alert-overlay-button",color:s.ComponentColor.Primary,size:s.ComponentSize.Small,onClick:()=>{t(Object(u.d)("rate-limit",null,(()=>t(u.b))))},text:"Inspect Series Cardinality"})))}},593:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n.n(r),i=n(3),l=n(15);let s=class extends r.PureComponent{render(){return o.a.createElement(i.Form,{onSubmit:this.props.onConfirm},o.a.createElement(i.Overlay.Body,null,o.a.createElement(i.FlexBox,{alignItems:i.AlignItems.Center,direction:i.FlexDirection.Column,margin:i.ComponentSize.Large},o.a.createElement(i.Alert,{color:i.ComponentColor.Danger,icon:i.IconFont.AlertTriangle},"Bad things could happen if you don't read this!"),o.a.createElement(i.Form.Element,{label:""},o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,this.props.message),o.a.createElement("ul",null,this.props.effectedItems.map((e=>o.a.createElement("li",{key:e},e)))))))),o.a.createElement(i.Overlay.Footer,null,o.a.createElement(i.Button,{color:i.ComponentColor.Danger,text:this.props.confirmButtonText,type:i.ButtonType.Submit,testID:"danger-confirmation--button"})))}};s=Object(a.a)([l.a],s);var c=s;let u=class extends r.PureComponent{constructor(){super(...arguments),this.state={isConfirmed:!1},this.handleCloseOverlay=()=>{this.props.onClose()},this.handleConfirm=()=>{this.setState({isConfirmed:!0})}}render(){return o.a.createElement(i.Overlay.Container,{maxWidth:400},o.a.createElement(i.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleCloseOverlay}),this.overlayContents)}get overlayTitle(){const{title:e}=this.props;return this.state.isConfirmed?e:"Are you sure?"}get overlayContents(){const{message:e,effectedItems:t,confirmButtonText:n}=this.props;return this.state.isConfirmed?this.props.children:o.a.createElement(c,{onConfirm:this.handleConfirm,message:e,effectedItems:t,confirmButtonText:n})}};u=Object(a.a)([l.a],u);t.a=u},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(9),r=n(124),o=n(6);const i=e=>{const t=Object(r.a)().getState(),n=Object(a.a)(t),i=o.f?"InfluxDB Cloud":"InfluxDB";return(n&&n.name?[...e,Object(a.a)(t).name,i]:[...e,i]).join(" | ")}},705:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const a=["owner"],r="cloudApp_user_invitation_sent",o="cloudApp_user_removed"},764:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n(89);t.a=({testID:e="member-page--header"})=>r.a.createElement(o.Page.Header,{fullWidth:!1,testID:e},r.a.createElement(o.Page.Title,{title:"Organization"}),r.a.createElement(i.a,null))},77:function(e,t,n){"use strict";var a=n(2),r=n(6);t.a=class extends a.PureComponent{render(){const{children:e}=this.props;return r.f?e:null}}},791:function(e,t,n){"use strict";var a,r=n(14),o=n(2),i=n.n(o),l=n(4),s=n(21),c=n(3),u=n(6),m=n(9);!function(e){e.Members="members-oss",e.Users="users",e.About="about"}(a||(a={}));var d=({activeTab:e})=>{var t;const n=null===(t=Object(l.e)(m.a))||void 0===t?void 0:t.id,r=[{text:"Members",id:a.Members,enabled:()=>!u.f,link:`/orgs/${n}/members`},{text:"Users",id:a.Users,enabled:()=>u.f,link:`/orgs/${n}/users`},{text:"About",id:a.About,link:`/orgs/${n}/about`}];return i.a.createElement(c.Tabs,{orientation:c.Orientation.Horizontal,size:c.ComponentSize.Large},r.filter((e=>!(null==e?void 0:e.enabled)||e.enabled())).map((t=>{let n=t.id===e;return t.id===a.Members&&"members"===e&&(n=!0),i.a.createElement(c.Tabs.Tab,{key:t.id,text:t.text,id:t.id,linkElement:e=>i.a.createElement(s.a,{to:t.link,className:e}),active:n})})))},p=n(15);let g=class extends o.PureComponent{render(){const{activeTab:e,children:t}=this.props;return i.a.createElement(c.Page.Contents,{fullWidth:!1,scrollable:!0},i.a.createElement(c.Tabs.Container,{orientation:c.Orientation.Horizontal},i.a.createElement(d,{activeTab:e}),i.a.createElement(c.Tabs.TabContents,null,t)))}};g=Object(r.a)([p.a],g);t.a=g},89:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(4),i=n(19),l=n.n(i),s=n(3),c=n(50),u=n(43),m=n(6),d=n(53),p=n(10),g=n(13),b=n(29),f=n(34);n(100);const h={sendNotify:p.c,handleShowOverlay:f.d,handleDismissOverlay:f.b};t.a=Object(o.c)((e=>{const t=Object(u.j)(e);return{status:Object(u.k)(e),resources:t,showUpgrade:Object(b.c)(e)}}),h)((({status:e,alertOnly:t,className:n,resources:o,showUpgrade:i,sendNotify:u,handleShowOverlay:p,handleDismissOverlay:b})=>{const f=()=>{p("write-limit",null,b)};Object(a.useEffect)((()=>{m.f&&"exceeded"===e&&o.includes("write")&&u(i?Object(g.Ud)("",r.a.createElement(d.a,{type:"write",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/optimize-writes/",className:"flex-upgrade-content"})):Object(g.Ud)("Data in has stopped because you've hit the query write limit. Let's get it flowing again: ",r.a.createElement(s.Button,{className:"rate-alert-overlay-button",color:s.ComponentColor.Primary,size:s.ComponentSize.Small,onClick:f,text:"Request Write Limit Increase"})))}),[i,e]);const h=l()("rate-alert",{[`${n}`]:n});return m.f&&"exceeded"===e&&o.includes("cardinality")?r.a.createElement(s.FlexBox,{direction:s.FlexDirection.Column,alignItems:s.AlignItems.Center,margin:s.ComponentSize.Large,className:h},r.a.createElement(s.BannerPanel,{size:s.ComponentSize.ExtraSmall,gradient:s.Gradients.PolarExpress,icon:s.IconFont.Cloud,hideMobileIcon:!0,textColor:s.InfluxColors.Yeti},r.a.createElement(d.b,null))):m.f&&!t?r.a.createElement(c.a,{className:"upgrade-payg--button__header"}):null}))}}]);
//# sourceMappingURL=55.00805a771f.js.map