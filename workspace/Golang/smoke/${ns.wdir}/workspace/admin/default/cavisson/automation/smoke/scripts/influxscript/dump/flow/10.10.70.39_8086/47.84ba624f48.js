(window.webpackJsonp=window.webpackJsonp||[]).push([[47,14],{100:function(e,t,a){var n=a(101);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};a(17)(n,r);n.locals&&(e.exports=n.locals)},101:function(e,t,a){(t=a(16)(!1)).push([e.i,".flex-upgrade-content{display:flex;align-items:center}",""]),e.exports=t},106:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const n=(e,t,a,n="text/plain")=>{const r=((e,t)=>`${e.trim().toLowerCase().replace(/\s/g,"_")}${t}`)(t,a),s=new Blob([e],{type:n}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.target="_blank",o.download=r,document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)},r=(e,t)=>{const a=document.createElement("a");"string"==typeof a.download?(a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)):window.open(e)}},116:function(e,t,a){"use strict";var n=a(14),r=a(2),s=a.n(r),o=a(8),i=a(3),l=a(15),c=a(42);let d=class extends r.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.clear=()=>{this.setState({searchTerm:""},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(o.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t,tabIndex:a=0,autoFocus:n,size:r}=this.props,{searchTerm:o}=this.state;return s.a.createElement(c.a,null,s.a.createElement(i.Input,{icon:i.IconFont.Search_New,placeholder:e,value:o,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input",tabIndex:a,onClear:this.clear,autoFocus:n,size:r}))}};d.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget",autoFocus:!1,tabIndex:0,size:i.ComponentSize.Small},d=Object(n.a)([l.a,Object(n.b)("design:paramtypes",[Object])],d),t.a=d},136:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(4),r=a(2),s=a(8);const o=/\w+\[\]/g,i=/\[\]?\./;class l extends r.PureComponent{constructor(e){super(e),this.createIndex=e=>Object(s.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const a=e[Object(s.sortedIndex)(e,t)];return!(!a||!a.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),a=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=a.slice(e);return t},this.collator=new Intl.Collator("en-us",{numeric:!0})}render(){return this.props.children(this.sorted)}get sorted(){return this.filtered.sort(((e,t)=>this.props.sortByKey?this.collator.compare(Object(s.get)(e,this.props.sortByKey),Object(s.get)(t,this.props.sortByKey)):this.collator.compare(e.name,t.name)))}get filtered(){const{list:e,labels:t,searchKeys:a}=this.props,{formattedSearchTerm:n}=this;if(Object(s.isEmpty)(n))return e;return e.filter((e=>{const r=Object.assign(Object.assign({},e),{labels:Object(s.get)(e,"labels",[]).map((e=>t[e]))});return a.some((e=>{const t=this.getKey(r,e),a=this.isStringArray(t);if(!a&&"object"==typeof t)throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(a){const e=this.createIndex(t);return this.checkIndex(e,n)}return String(t).toLocaleLowerCase().includes(n)}))}))}isStringArray(e){return!!Array.isArray(e)&&!(!Object(s.isEmpty)(e)&&"string"!=typeof e[0])}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(o)?this.getInExactKey(e,t):Object(s.get)(e,t,"")}getInExactKey(e,t){return t.split(i).reduce(((e,t)=>Object(s.flatMap)(e,(e=>Object(s.get)(e,t,[])))),[e])}}const c=e=>({labels:e.resources.labels.byID});function d(){return Object(n.c)(c)(l)}},145:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(110),o=a.n(s),i=a(3);class l extends n.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=()=>{const{onCopy:e}=this.props;e&&e()}}render(){const{text:e,testID:t,size:a}=this.props;return r.a.createElement(o.a,{text:e,onCopy:this.handleCopyAttempt},r.a.createElement(i.Button,{shape:i.ButtonShape.Default,size:a||i.ComponentSize.ExtraSmall,color:i.ComponentColor.Secondary,titleText:"Copy to Clipboard",text:"Copy to Clipboard",onClick:this.handleClickCopy,testID:null!=t?t:"button-copy"}))}}t.a=l},182:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(3),o=a(109),i=a(5);t.a=function({sortDirection:e,sortKey:t,sortType:a,onSelect:n,resourceType:l,width:c=210}){const d=(e=>{switch(e){case i.ResourceType.Dashboards:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Modified (Oldest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Modified (Newest)",sortKey:"meta.updatedAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}];case i.ResourceType.Tasks:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Active",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Inactive",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Completed (Oldest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Completed (Newest)",sortKey:"latestCompleted",sortType:o.a.Date,sortDirection:s.Sort.Descending},{label:"Schedule (Most Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Schedule (Least Often)",sortKey:"every",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Variables:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Type (A → Z)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Type (Z → A)",sortKey:"arguments.type",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Secrets:return[{label:"Name (A → Z)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"id",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Labels:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"properties.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Templates:return[{label:"Name (A → Z)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"meta.name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (A → Z)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"meta.description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Buckets:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Retention (Ascending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Ascending},{label:"Retention (Descending)",sortKey:"retentionRules[0].everySeconds",sortType:o.a.Float,sortDirection:s.Sort.Descending}];case i.ResourceType.Telegrafs:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Description (Ascending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Descending)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Scrapers:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"URL (Ascending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"URL (Descending)",sortKey:"url",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Bucket (Ascending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Bucket (Descending)",sortKey:"bucket",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Authorizations:return[{label:"Description (A → Z)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Description (Z → A)",sortKey:"description",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Status (Active)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Status (Inactive)",sortKey:"status",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Date Created (Oldest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Date Created (Newest)",sortKey:"createdAt",sortType:o.a.String,sortDirection:s.Sort.Descending}];case i.ResourceType.Flows:return[{label:"Name (A → Z)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:o.a.String,sortDirection:s.Sort.Descending},{label:"Created (Oldest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Ascending},{label:"Created (Newest)",sortKey:"createdAt",sortType:o.a.Date,sortDirection:s.Sort.Descending}]}})(l),{label:p}=d.find((n=>n.sortKey===t&&n.sortDirection===e&&n.sortType===a)),h=e=>{const{sortKey:t,sortDirection:a,sortType:r}=e;n(t,a,r)};return r.a.createElement(s.Dropdown,{button:(e,t)=>r.a.createElement(s.Dropdown.Button,{onClick:t,active:e,testID:"resource-sorter--button"},`Sort by ${p}`),menu:n=>r.a.createElement(s.Dropdown.Menu,{onCollapse:n},d.map((n=>r.a.createElement(s.Dropdown.Item,{key:`${n.sortKey}${n.sortDirection}`,value:n,onClick:h,testID:`resource-sorter--${n.sortKey}-${n.sortDirection}`,selected:n.sortKey===t&&n.sortType===a&&n.sortDirection===e},n.label)))),style:{flexBasis:`${c}px`,width:`${c}px`},testID:"resource-sorter"})}},217:function(e,t,a){"use strict";a.r(t),a.d(t,"PinnedItemTypes",(function(){return p})),a.d(t,"PinnedItemsContext",(function(){return h})),a.d(t,"getPinnedItems",(function(){return u})),a.d(t,"addPinnedItem",(function(){return m})),a.d(t,"deletePinnedItemByParam",(function(){return b})),a.d(t,"deletePinnedItem",(function(){return g})),a.d(t,"updatePinnedItemByParam",(function(){return y}));var n=a(2),r=a.n(n),s=a(6),o=a(24);let i,l,c,d;if(s.f){const e=a(332);i=e.getPinned,l=e.putPinned,d=e.postPinned,c=e.deletePinned}var p;!function(e){e.Dashboard="dashboard",e.Cell="cell",e.Notebook="notebook",e.Task="task",e.Alert="alert",e.UploadCSV="uploadCsv",e.UploadLP="uploadLP",e.ClientLibrary="clientLibrary"}(p||(p={}));const h=Object(n.createContext)(null),u=async()=>{const e=await i({});if(200!==e.status)throw new Error("Unable to retrieve pinned items");return e.data},m=async e=>{if(200!==(await d({data:e})).status)throw new Error("Unable to retrieve pinned items")},b=async e=>{if(s.f&&Object(o.c)("pinnedItems"))try{const t=(await u()).find((t=>Object.values(t.metadata).includes(e)));t&&await c({id:t.id})}catch(e){throw new Error("Unable to delete item under those parameters")}},g=async e=>{try{await c({id:e})}catch(e){throw new Error("Unable to delete pinned item")}},y=async(e,t)=>{if(!s.f||!Object(o.c)("pinnedItems"))return;const a=await u(),n=null==a?void 0:a.find((t=>Object.values(t.metadata).includes(e)));if(n)try{await l({id:n.id,data:{metadata:Object.assign(Object.assign({},n.metadata),t)}})}catch(e){throw new Error("Unable to update item with those parameters")}};t.default=Object(n.memo)((({children:e})=>{const[t,a]=Object(n.useState)([]),[s,o]=Object(n.useState)(""),i=Object(n.useCallback)((async e=>{await g(e),a(t.filter((t=>t.id!==e)))}),[t]);return Object(n.useEffect)((()=>{u().then((e=>a(e))).catch((e=>{console.error(e.message),o("Failed to retrieve pinned items.")}))}),[]),r.a.createElement(h.Provider,{value:{pinnedItems:t,deletePinnedItemsHelper:i,pinnedItemsError:s}},e)}))},2550:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(2),s=a.n(r),o=a(184),i=a(4),l=a(15),c=a(351),d=a(974),p=a(3),h=a(442),u=a(109),m=a(5),b=a(43),g=a(24),y=a(6);let f;y.f&&(f=a(217).getPinnedItems);class S extends r.PureComponent{constructor(){super(...arguments),this._isMounted=!0,this.memGetSortedResources=Object(c.a)(u.b),this.state={pages:1,windowSize:0,pinnedItems:[]},this.registerSpinner=e=>{if(this._spinner=e,!e)return;let t=1;const a=[];for(;t>0;)a.push(t),t-=.1;a.reverse(),this._observer=new IntersectionObserver(this.measure,{threshold:a,rootMargin:"60px 0px"}),this._observer.observe(this._spinner)},this.measure=e=>{e.map((e=>e.isIntersecting)).reduce(((e,t)=>e||t),!1)&&this.setState({pages:this.state.pages+1})}}componentDidMount(){Object(g.c)("pinnedItems")&&y.f?f().then((e=>{this._isMounted&&this.setState((t=>Object.assign(Object.assign({},t),{pinnedItems:e,windowSize:15})))})).catch((e=>{console.error(e)})):this.setState((e=>Object.assign(Object.assign({},e),{windowSize:15})))}componentWillUnmount(){this._isMounted=!1}render(){const{dashboards:e,sortDirection:t,sortKey:a,sortType:n,onFilterChange:r}=this.props,o=this.memGetSortedResources(e,a,t,n),{windowSize:i,pages:l,pinnedItems:c}=this.state;return s.a.createElement("div",{style:{height:"100%"}},s.a.createElement("div",{className:"dashboards-card-grid"},o.filter((e=>e.status===m.RemoteDataState.Done)).slice(0,l*i).map((({id:e,name:t,description:a,labels:n,meta:o})=>s.a.createElement(d.a,{key:e,id:e,name:t,labels:n,updatedAt:o.updatedAt,description:a,onFilterChange:r,isPinned:!!c.find((t=>(null==t?void 0:t.metadata.dashboardID)===e))}))),s.a.createElement(h.a,{className:"dashboards--asset-alert",resourceName:"dashboards",limitStatus:this.props.limitStatus})),i*l<e.length&&s.a.createElement("div",{style:{height:"140px",margin:"14px auto"},ref:this.registerSpinner},s.a.createElement(p.TechnoSpinner,null)))}}var D=Object(i.c)((e=>({limitStatus:Object(b.f)(e)})))(S),C=a(975),v=a(164),E=a(138);class O extends r.PureComponent{constructor(){super(...arguments),this.summonImportOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import`)},this.summonImportFromTemplateOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import/template`)}}componentDidMount(){this.props.getDashboards(),this.props.getLabels()}render(){const{status:e,dashboards:t,onFilterChange:a,sortKey:n,sortDirection:r,sortType:o,onCreateDashboard:i,searchTerm:l}=this.props;return e!==m.RemoteDataState.Done||t.length?s.a.createElement(D,{dashboards:t,sortKey:n,sortDirection:r,sortType:o,onFilterChange:a}):s.a.createElement(C.a,{searchTerm:l,onCreateDashboard:i,summonImportFromTemplateOverlay:this.summonImportFromTemplateOverlay,summonImportOverlay:this.summonImportOverlay})}}const I={getDashboards:E.i,onCreateDashboard:E.d,getLabels:v.c};var x=Object(i.c)((e=>({status:e.resources.dashboards.status})),I)(Object(o.j)(O)),T=a(136),w=a(142),j=a(36),N=a(11);const L=Object(T.a)();let k=class extends r.Component{componentDidMount(){const{dashboards:e}=this.props,t=e.map((e=>e.id));this.props.retainRangesDashTimeV1(t),this.props.checkDashboardLimits()}render(){const{searchTerm:e,dashboards:t,filterComponent:a,onFilterChange:n,sortDirection:r,sortType:o,sortKey:i}=this.props;return s.a.createElement(L,{list:t,searchTerm:e,searchKeys:["name","labels[].name"],sortByKey:"name"},(t=>s.a.createElement(x,{searchTerm:e,filterComponent:a,dashboards:t,onFilterChange:n,sortDirection:r,sortType:o,sortKey:i})))}};k=Object(n.a)([l.a],k);const A={retainRangesDashTimeV1:w.c,checkDashboardLimits:j.d};var P=Object(i.c)((e=>({dashboards:Object(N.a)(e,m.ResourceType.Dashboards)})),A)(k),F=a(116),B=a(665),_=a(391),K=a(89),R=a(182),U=a(976),$=a(977),z=a(63),M=a(191),H=a(42);let V=class extends r.PureComponent{constructor(e){super(e),this.handleFilterDashboards=e=>{this.setState({searchTerm:e})},this.handleSort=(e,t,a)=>{this.props.setDashboardSort({sortKey:e,sortDirection:t,sortType:a})},this.summonImportOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import`)},this.summonTemplatePage=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/settings/templates`)},this.state={searchTerm:e.searchTerm}}componentWillUnmount(){this.props.setSearchTerm(this.state.searchTerm)}render(){const{createDashboard:e,sortOptions:t,limitStatus:a}=this.props,{searchTerm:n}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Page,{testID:"empty-dashboards-list",titleTag:Object(z.a)(["Dashboards"])},s.a.createElement(p.Page.Header,{fullWidth:!1},s.a.createElement(p.Page.Title,{title:"Dashboards"}),s.a.createElement(K.a,null)),s.a.createElement(p.Page.ControlBar,{fullWidth:!1},s.a.createElement(H.a,null,s.a.createElement(p.Page.ControlBarLeft,null,s.a.createElement(F.a,{placeholderText:"Filter dashboards...",onSearch:this.handleFilterDashboards,searchTerm:n}),s.a.createElement(R.a,{resourceType:m.ResourceType.Dashboards,sortDirection:t.sortDirection,sortKey:t.sortKey,sortType:t.sortType,onSelect:this.handleSort})),s.a.createElement(p.Page.ControlBarRight,null,s.a.createElement(B.a,{onSelectNew:e,onSelectImport:this.summonImportOverlay,onSelectTemplate:this.summonTemplatePage,resourceName:"Dashboard",limitStatus:a})))),s.a.createElement(H.a,null,s.a.createElement(p.Page.Contents,{className:"dashboards-index__page-contents",fullWidth:!1,scrollable:!0,scrollbarSize:p.ComponentSize.Large,autoHideScrollbar:!0},s.a.createElement(_.a,null,s.a.createElement(P,{searchTerm:n,onFilterChange:this.handleFilterDashboards,sortDirection:t.sortDirection,sortType:t.sortType,sortKey:t.sortKey}))))),s.a.createElement(o.c,null,s.a.createElement(o.a,{path:"/orgs/:orgID/dashboards-list/:dashboardID/export",component:$.a}),s.a.createElement(o.a,{path:"/orgs/:orgID/dashboards-list/import",component:U.a})))}};V=Object(n.a)([l.a,Object(n.b)("design:paramtypes",[Object])],V);const Z={createDashboard:E.d,setDashboardSort:M.setDashboardSort,setSearchTerm:M.setSearchTerm},W=Object(i.c)((e=>{const{sortOptions:t,searchTerm:a}=e.resources.dashboards;return{limitStatus:Object(b.f)(e),sortOptions:t,searchTerm:a}}),Z);t.default=W(V)},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));const n=e=>e.me,r=e=>e.me.quartzMe,s=e=>{var t,a;const{quartzMe:n}=e.me,r=null!==(t=null==n?void 0:n.isRegionBeta)&&void 0!==t&&t;return"free"===(null!==(a=null==n?void 0:n.accountType)&&void 0!==a?a:"free")&&!1===r}},332:function(e,t,a){"use strict";a.r(t),a.d(t,"request",(function(){return s})),a.d(t,"setRequestHandler",(function(){return o})),a.d(t,"setResponseHandler",(function(){return i})),a.d(t,"getPinned",(function(){return l})),a.d(t,"postPinned",(function(){return c})),a.d(t,"putPinned",(function(){return d})),a.d(t,"deletePinned",(function(){return p}));const n=function(e,t){this.requestHandler=e,this.responseHandler=t};n.prototype.request=async function(e,t,a={},n={}){const r=new Headers(a.headers),s=r.get("Content-Type")||"";if(a.auth){const e=btoa(`${a.auth.username}:${a.auth.password}`);r.append("Authorization",`Basic ${e}`)}const o=a.data&&s.includes("json")?JSON.stringify(a.data):a.data,i=a.query?`?${new URLSearchParams(a.query)}`:"",{url:l,query:c,init:d}=this.requestHandler(t,i,{method:e,body:o,credentials:"same-origin",signal:n.signal,headers:r}),p=await fetch(`${l}${c}`,d),{status:h,headers:u}=p,m=u.get("Content-Type")||"";let b;return b=m.includes("json")?await p.json():m.includes("octet-stream")?await p.blob():await p.text(),this.responseHandler(h,u,b)},n.prototype.setRequestHandler=function(e){this.requestHandler=e},n.prototype.setResponseHandler=function(e){this.responseHandler=e};const r=new n(((e,t,a)=>({url:e,query:t,init:a})),((e,t,a)=>({status:e,headers:t,data:a}))),s=r.request.bind(r),o=r.setRequestHandler.bind(r),i=r.setResponseHandler.bind(r),l=(e,t={})=>s("GET","/api/v2private/pinned",e,t),c=(e,t={})=>s("POST","/api/v2private/pinned",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),d=(e,t={})=>s("PUT",`/api/v2private/pinned/${e.id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),p=(e,t={})=>s("DELETE",`/api/v2private/pinned/${e.id}`,e,t)},348:function(e,t,a){"use strict";var n=a(14),r=a(2),s=a.n(r),o=a(4),i=a(3),l=a(8),c=a(19),d=a.n(c),p=a(15);let h=class extends r.Component{constructor(){super(...arguments),this.handleMouseOver=()=>{const{onMouseOver:e,id:t}=this.props;e(t)},this.handleClick=e=>{e.stopPropagation();const{onClick:t,id:a}=this.props;t(a)}}render(){const{name:e,colorHex:t,description:a,id:n}=this.props;return s.a.createElement("div",{className:this.className,onMouseOver:this.handleMouseOver,onClick:this.handleClick,"data-testid":`label-list--item ${e}`},s.a.createElement(i.Label,{name:e,description:a,id:n,color:t}))}get className(){const{active:e}=this.props;return d()("inline-labels--list-item",{active:e})}};h=Object(n.a)([p.a],h);var u=h;let m=class extends r.Component{constructor(){super(...arguments),this.handleMouseOver=()=>{const{onMouseOver:e,id:t}=this.props;e(t)},this.handleClick=e=>{e.stopPropagation(),this.props.onClick()}}render(){const{name:e}=this.props;return s.a.createElement("div",{className:this.className,onMouseOver:this.handleMouseOver,onClick:this.handleClick,"data-testid":"inline-labels--create-new"},'Create "',s.a.createElement("strong",null,`${e}`),'"')}get className(){const{active:e}=this.props;return d()("inline-labels--list-item inline-labels--create-new",{active:e})}};m=Object(n.a)([p.a],m);var b=m;let g=class extends r.Component{render(){return s.a.createElement("div",{className:"inline-labels--list-container"},s.a.createElement(i.DapperScrollbars,{autoSizeHeight:!0,autoHide:!1,style:{width:"100%",maxHeight:"300px"},noScrollX:!0},s.a.createElement("div",{className:"inline-labels--list","data-testid":"inline-labels--list"},this.menuItems)))}get menuItems(){const{filteredLabels:e,onItemClick:t,onUpdateSelectedItemID:a,selectedItemID:n,allLabelsUsed:r,searchTerm:o,onStartCreatingLabel:l}=this.props;return e.length?e.map((e=>e.id===x?s.a.createElement(b,{active:n===e.id,key:e.id,name:e.name,id:e.id,onClick:l,onMouseOver:a}):s.a.createElement(u,{active:n===e.id,key:e.id,name:e.name,id:e.id,description:e.properties.description,colorHex:e.properties.color,onClick:t,onMouseOver:a}))):r?s.a.createElement(i.EmptyState,{size:i.ComponentSize.ExtraSmall,testID:"inline-labels-list--used-all"},s.a.createElement(i.EmptyState.Text,null,"This resource has all available labels,",s.a.createElement("br",null),"start typing to create a new label")):o?void 0:s.a.createElement(i.EmptyState,{size:i.ComponentSize.ExtraSmall,testID:"inline-labels-list--none-exist"},s.a.createElement(i.EmptyState.Text,null,"Start typing to create a new label"))}};g=Object(n.a)([p.a],g);var y,f=g;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(y||(y={}));let S=class extends r.PureComponent{constructor(){super(...arguments),this.handleKeyDown=e=>{const{selectedItemID:t,onAddLabel:a,onStartCreatingLabel:n,onEscapePress:r}=this.props;switch(e.key){case"Enter":if(e.preventDefault(),e.stopPropagation(),t===x){n();break}if(t){a(t);break}case"ArrowUp":this.handleHighlightAdjacentItem(y.Up);break;case"ArrowDown":this.handleHighlightAdjacentItem(y.Down);break;case"Escape":r()}},this.handleHighlightAdjacentItem=e=>{const{selectedItemID:t,filteredLabels:a,onUpdateSelectedItemID:n}=this.props;if(!a.length||!t)return null;const r=a.findIndex((e=>e.id===t));n(a[Math.min(Math.max(r+e,0),a.length-1)].id)},this.handleRefocusInput=e=>{e.target.focus()}}render(){const{searchTerm:e,allLabelsUsed:t,selectedItemID:a,onAddLabel:n,triggerRef:r,onStartCreatingLabel:o,onUpdateSelectedItemID:l,onInputChange:c,filteredLabels:d,visible:p}=this.props;return s.a.createElement(i.Popover,{appearance:i.Appearance.Outline,position:i.PopoverPosition.Below,triggerRef:r,distanceFromTrigger:8,visible:p,showEvent:i.PopoverInteraction.None,hideEvent:i.PopoverInteraction.None,testID:"inline-labels--popover",className:"inline-labels--popover",contents:()=>s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"inline-labels--popover-heading"},"Add Labels"),s.a.createElement(i.Input,{icon:i.IconFont.Search_New,placeholder:"Filter labels...",value:e,onKeyDown:this.handleKeyDown,onChange:c,autoFocus:!0,onBlur:this.handleRefocusInput,testID:"inline-labels--popover-field",maxLength:30}),s.a.createElement(f,{searchTerm:e,allLabelsUsed:t,filteredLabels:d,selectedItemID:a,onItemClick:n,onUpdateSelectedItemID:l,onStartCreatingLabel:o}))})}};S=Object(n.a)([p.a],S);var D=S,C=a(390),v=a(300),E=a(5),O=a(599),I=a(164);const x="add-new-label",T={id:x,name:"",properties:{color:"#000000",description:""},status:E.RemoteDataState.NotStarted};let w=class extends r.Component{constructor(e){super(e),this.popoverTrigger=Object(r.createRef)(),this.handleAddPopoverEventListener=()=>{this.popoverTrigger.current&&this.popoverTrigger.current.addEventListener("click",(()=>{this.setState({isPopoverVisible:!0})}))},this.onClickOutside=e=>{e.target!==this.popoverTrigger.current&&this.hidePopover()},this.handleAddLabel=async e=>{const{onAddLabel:t,labels:a}=this.props,n=a.find((t=>t.id===e));n&&(this.selectAvailableItem(),await t(n))},this.selectAvailableItem=()=>{const{searchTerm:e}=this.state,t=this.filterLabels(e);t.length&&this.handleUpdateSelectedItemID(t[0].id)},this.handleUpdateSelectedItemID=e=>{this.setState({selectedItemID:e})},this.handleInputChange=e=>{const t=e.target.value,a=this.filterLabels(t);if(a.length){const e=a[0].id;this.setState({searchTerm:t,selectedItemID:e})}else this.setState({searchTerm:t})},this.filterLabels=e=>{const t=this.availableLabels.filter((t=>{const a=t.name.toLowerCase(),n=e.toLowerCase();return a.includes(n)}));return!t.reduce(((t,a)=>!0===t||a.name===e),!1)&&e?this.filteredLabelsWithAddButton(t):this.filteredLabelsWithoutAddButton(t)},this.filteredLabelsWithAddButton=e=>{const{searchTerm:t}=this.state,a=Object.assign(Object.assign({},T),{name:t});return e.find((e=>e.id===a.id))?e.map((e=>e.id===a.id?a:e)):[a,...e]},this.filteredLabelsWithoutAddButton=e=>e.filter((e=>e.id!==x)),this.handleCreateLabel=async e=>{const{onCreateLabel:t,onAddLabel:a}=this.props,{name:n,properties:r}=e;await t(n,r);a(this.props.labels.find((t=>t.name===e.name)))},this.handleStartCreatingLabel=()=>{this.setState({isCreatingLabel:O.a.Open,isPopoverVisible:!1})},this.hidePopover=()=>{this.setState({isPopoverVisible:!1})},this.handleStopCreatingLabel=()=>{this.setState({isCreatingLabel:O.a.Closed,searchTerm:""})},this.handleEnsureUniqueLabelName=e=>{const{labels:t}=this.props,a=t.map((e=>e.name));return Object(v.c)(a,e)},this.state={selectedItemID:null,searchTerm:"",isCreatingLabel:O.a.Closed,isPopoverVisible:!1}}componentDidMount(){this.handleAddPopoverEventListener()}render(){const{isCreatingLabel:e,searchTerm:t}=this.state;return s.a.createElement(s.a.Fragment,null,this.popover,s.a.createElement("div",{className:"inline-labels--editor"},s.a.createElement(i.ButtonBase,{color:i.ComponentColor.Secondary,titleText:"Add labels",shape:i.ButtonShape.Square,className:"inline-labels--add",testID:"inline-labels--add",ref:this.popoverTrigger},s.a.createElement("div",{className:"inline-labels--add-icon"})),this.noLabelsIndicator),s.a.createElement(C.a,{isVisible:e===O.a.Open,onDismiss:this.handleStopCreatingLabel,overrideDefaultName:t,onCreateLabel:this.handleCreateLabel,onNameValidation:this.handleEnsureUniqueLabelName}))}get popover(){const{labels:e,selectedLabels:t}=this.props,{searchTerm:a,selectedItemID:n,isPopoverVisible:r}=this.state,o=e.length>0&&e.length===t.length;return s.a.createElement(i.ClickOutside,{onClickOutside:this.onClickOutside},s.a.createElement(D,{searchTerm:a,triggerRef:this.popoverTrigger,selectedItemID:n,onUpdateSelectedItemID:this.handleUpdateSelectedItemID,allLabelsUsed:o,onStartCreatingLabel:this.handleStartCreatingLabel,onInputChange:this.handleInputChange,filteredLabels:this.filterLabels(a),onAddLabel:this.handleAddLabel,visible:r,onEscapePress:this.hidePopover}))}get noLabelsIndicator(){const{selectedLabels:e}=this.props;if(e.length)return;return s.a.createElement("div",{className:"cf-label cf-label--xs cf-label--colorless",onClick:()=>{this.popoverTrigger.current&&this.popoverTrigger.current.click()},"data-testid":"inline-labels--empty"},s.a.createElement("span",{className:"cf-label--name"},"Add a label"))}get availableLabels(){const{selectedLabels:e,labels:t}=this.props;return Object(l.differenceBy)(t,e,(e=>e.name))}};w=Object(n.a)([p.a,Object(n.b)("design:paramtypes",[Object])],w);const j={onCreateLabel:I.a};var N,L=Object(o.c)(null,j)(w),k=a(11);!function(e){e.Editable="editable",e.Readonly="readonly"}(N||(N={}));let A=class extends r.Component{constructor(){super(...arguments),this.handleLabelClick=e=>{const{onFilterChange:t}=this.props;t(e)},this.handleDeleteLabel=e=>{const{onRemoveLabel:t,selectedLabels:a}=this.props;t(a.find((t=>t.id===e)))}}render(){return s.a.createElement("div",{className:"inline-labels"},this.selectedLabels)}get selectedLabels(){const{selectedLabels:e,labels:t,onAddLabel:a}=this.props;return s.a.createElement("div",{className:"inline-labels--container"},this.isEditable&&s.a.createElement(L,{labels:t,selectedLabels:e,onAddLabel:a}),this.currentLabels)}get currentLabels(){const{selectedLabels:e}=this.props,t=this.isEditable?this.handleDeleteLabel:null;if(e.length)return e.map((e=>{const a=Object.assign({},e);return a.hasOwnProperty("properties")||(a.properties={color:"#FF0000",description:""}),s.a.createElement(i.Label,{id:a.id,key:a.id,name:a.name,color:a.properties.color,description:a.properties.description,onDelete:t,onClick:this.handleLabelClick.bind(this,a.name)})}))}get isEditable(){return this.props.editMode===N.Editable}};A.defaultProps={editMode:N.Editable},A=Object(n.a)([p.a],A);t.a=Object(o.c)(((e,t)=>({labels:Object(k.a)(e,E.ResourceType.Labels),selectedLabels:Object(k.g)(e,t.selectedLabelIDs)})))(A)},365:function(e,t,a){"use strict";var n=a(14),r=a(2),s=a.n(r),o=a(3),i=a(185),l=a(300),c=a(15);let d=class extends r.PureComponent{constructor(){super(...arguments),this.handleNameValidation=e=>this.props.onNameValidation(e)}render(){const{id:e,name:t,color:a,onSubmit:n,buttonText:r,description:i,onCloseModal:l,onInputChange:c,onLabelPropertyChange:d,onColorChange:p,isFormValid:h}=this.props;return s.a.createElement(o.Form,{onSubmit:n,testID:"label-overlay-form"},s.a.createElement(o.Overlay.Body,null,s.a.createElement(o.Grid,null,s.a.createElement(o.Grid.Row,null,s.a.createElement(o.Grid.Column,{widthXS:o.Columns.Twelve},s.a.createElement(o.Form.Element,{label:"Preview"},s.a.createElement(o.Form.Box,{className:"label-overlay--preview"},s.a.createElement(o.Label,{size:o.ComponentSize.Small,name:this.placeholderLabelName,description:i,color:this.validatedColor,id:e})))),s.a.createElement(o.Grid.Column,{widthSM:o.Columns.Twelve},s.a.createElement(o.Form.ValidationElement,{label:"Name",value:t,required:!0,validationFunc:this.handleNameValidation},(e=>s.a.createElement(o.Input,{type:o.InputType.Text,placeholder:"Name this Label",name:"name",autoFocus:!0,value:t,onChange:c,status:e,maxLength:50,testID:"create-label-form--name"})))),s.a.createElement(o.Grid.Column,{widthXS:o.Columns.Twelve},s.a.createElement(o.Form.Element,{label:"Description"},s.a.createElement(o.Input,{type:o.InputType.Text,placeholder:"Add a optional description",name:"description",value:i,onChange:d,testID:"create-label-form--description"}))),s.a.createElement(o.Grid.Column,{widthSM:o.Columns.Twelve},s.a.createElement(o.Form.Element,{label:"Color"},s.a.createElement(o.ColorPicker,{color:a,onChange:p})))))),s.a.createElement(o.Overlay.Footer,null,s.a.createElement(o.Button,{text:"Cancel",color:o.ComponentColor.Tertiary,onClick:l,titleText:"Cancel creation of Label and return to list",type:o.ButtonType.Button,testID:"create-label-form--cancel"}),s.a.createElement(o.Button,{text:r,color:o.ComponentColor.Success,type:o.ButtonType.Submit,testID:"create-label-form--submit",status:h?o.ComponentStatus.Default:o.ComponentStatus.Disabled})))}get placeholderLabelName(){const{name:e}=this.props;return e||"Name this Label"}get validatedColor(){const{color:e}=this.props;return Object(l.b)(e)?i.d:e}};d=Object(n.a)([c.a],d),t.a=d},390:function(e,t,a){"use strict";var n=a(14),r=a(2),s=a.n(r),o=a(365),i=a(3),l=a(185),c=a(15),d=a(42);let p=class extends r.Component{constructor(e){super(e),this.handleSubmit=()=>{const{onCreateLabel:e,onDismiss:t}=this.props;try{e(this.state.label)}finally{t(),this.resetForm()}},this.handleInputChange=e=>{const{value:t,name:a}=e.target;this.setState((e=>({label:Object.assign(Object.assign({},e.label),{[a]:t})})))},this.handleLabelPropertyChange=e=>{const{value:t,name:a}=e.target;this.setState((e=>({label:Object.assign(Object.assign({},e.label),{properties:Object.assign(Object.assign({},e.label.properties),{[a]:t})})})))},this.handleColorChange=(e,t)=>{const a=Object.assign(Object.assign({},this.state.label.properties),{color:e}),n=Object.assign(Object.assign({},this.state.label),{properties:a});this.setState({label:n,colorStatus:t})},this.state={label:Object.assign(Object.assign({},l.a),{name:this.props.overrideDefaultName}),colorStatus:i.ComponentStatus.Default}}componentDidUpdate(e){if(e.overrideDefaultName!==this.props.overrideDefaultName&&!1===this.props.isVisible){const e=this.props.overrideDefaultName,t=Object.assign(Object.assign({},this.state.label),{name:e});this.setState({label:t})}}render(){const{isVisible:e,onDismiss:t,onNameValidation:a}=this.props,{label:n}=this.state;return s.a.createElement(i.Overlay,{visible:e},s.a.createElement(i.Overlay.Container,{maxWidth:400},s.a.createElement(i.Overlay.Header,{title:"Create Label",onDismiss:t}),s.a.createElement(d.a,null,s.a.createElement(o.a,{"data-testid":"create-label--overlay",id:n.id,name:n.name,onCloseModal:t,buttonText:"Create Label",onSubmit:this.handleSubmit,isFormValid:this.isFormValid,color:n.properties.color,onNameValidation:a,onInputChange:this.handleInputChange,onLabelPropertyChange:this.handleLabelPropertyChange,onColorChange:this.handleColorChange,description:n.properties.description}))))}get isFormValid(){const{label:e,colorStatus:t}=this.state,{onNameValidation:a}=this.props,n=null===a(e.name)&&!!e.name,r=t===i.ComponentStatus.Default||t===i.ComponentStatus.Valid;return n&&r}resetForm(){this.setState({label:l.a})}};p=Object(n.a)([c.a,Object(n.b)("design:paramtypes",[Object])],p),t.a=p},391:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(36),i=a(3),l=a(6);class c extends n.PureComponent{componentDidMount(){l.f&&this.props.getAssetLimits()}render(){const{status:e}=this.props;return l.f?r.a.createElement(i.SpinnerContainer,{loading:e,spinnerComponent:r.a.createElement(i.TechnoSpinner,null)},this.props.children):this.props.children}}const d={getAssetLimits:o.h},p=Object(s.c)((({cloud:{limits:{status:e}}})=>({status:e})),d);t.a=p(c)},392:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(122);const r=(e,t)=>{const a=Object(n.b)().formatRelative(new Date(e));return t?`${t}${a}`:a}},412:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(244),r=a(157),s=a(5),o=a(224),i=a(453),l=a(7);const c=()=>e=>{e(Object(r.i)(s.RemoteDataState.NotStarted,null))},d=e=>async t=>{try{const a=await Object(n.e)(e);t(Object(r.j)(a))}catch(e){console.error(e)}},p=(e,t)=>async a=>{try{const s=await Object(n.d)(t),o=Object(i.l)(s);a(Object(r.m)(e,o))}catch(t){"dashboard"===e?Object(l.a)("Community template README failed",{context:e}):Object(o.b)(t,{name:`The community template github readme fetch failed for ${e}`}),a(Object(r.m)(e,"###### We can't find the readme associated with this template"))}}},442:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(3),o=a(50),i=a(6);t.a=({limitStatus:e,resourceName:t,className:a})=>i.f&&"exceeded"===e?r.a.createElement(s.GradientBox,{borderGradient:s.Gradients.MiyazakiSky,borderColor:s.InfluxColors.Grey5,className:a},r.a.createElement(s.Panel,{backgroundColor:s.InfluxColors.Grey5,className:"asset-alert"},r.a.createElement(s.Panel.Header,null,r.a.createElement(s.Heading,{element:s.HeadingElement.H4},"Need more ",t,"?")),r.a.createElement(s.Panel.Body,{className:"asset-alert--contents"},r.a.createElement(s.FlexBox,{justifyContent:s.JustifyContent.FlexEnd,alignItems:s.AlignItems.FlexEnd,stretchToFitHeight:!0},r.a.createElement(o.a,{buttonText:`Get more ${t}`,className:"upgrade-payg--button__asset-alert"}))))):null},50:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(19),i=a.n(o),l=a(184),c=a(3),d=a(77),p=a(29);t.a=({size:e=c.ComponentSize.Small,className:t,buttonText:a="Upgrade Now",metric:n})=>{const o=Object(s.e)(p.c),h=i()("upgrade-payg--button",{[`${t}`]:t}),u=Object(l.f)();return r.a.createElement(d.a,null,o&&r.a.createElement(c.Button,{icon:c.IconFont.CrownSolid_New,className:h,size:e,shape:c.ButtonShape.Default,onClick:()=>{n&&n(),u.push("/checkout")},text:a,style:{background:"linear-gradient(45deg, rgb(52, 187, 85) 0%, rgb(0, 163, 255) 100%)"},testID:"cloud-upgrade--button"}))}},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(2),r=a.n(n),s=a(4),o=a(19),i=a.n(o),l=a(3),c=a(50),d=a(34),p=a(29),h=a(7);const u=({type:e,link:t,className:a,limitText:n})=>r.a.createElement("div",{className:`${a} rate-alert--content__free`},r.a.createElement("span",null,"Oh no! You hit the"," ",r.a.createElement("a",{href:t,className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality"===e?"series cardinality":"query write")," ","limit ",null!=n?n:""," and your data stopped writing. Don’t lose important metrics."),r.a.createElement(l.FlexBox,{justifyContent:l.JustifyContent.Center,className:"rate-alert--button"},r.a.createElement(c.a,{className:"upgrade-payg--button__rate-alert",metric:()=>Object(h.a)(`user.limits.${e}.upgrade`)})));t.b=({className:e})=>{const t=Object(s.d)(),a=Object(s.e)(p.c),n=i()("rate-alert--content",{[`${e}`]:e});return a?r.a.createElement(u,{type:"series cardinality",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:n}):r.a.createElement("div",{className:`${n} rate-alert--content__payg`},r.a.createElement("span",null,"Data in has stopped because you've hit the"," ",r.a.createElement("a",{href:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/resolve-high-cardinality/",className:"rate-alert--docs-link",target:"_blank",rel:"noreferrer"},"series cardinality")," ","limit. Let's get it flowing again."),r.a.createElement(l.FlexBox,{justifyContent:l.JustifyContent.Center,className:"rate-alert--button"},r.a.createElement(l.Button,{className:"rate-alert-overlay-button",color:l.ComponentColor.Primary,size:l.ComponentSize.Small,onClick:()=>{t(Object(d.d)("rate-limit",null,(()=>t(d.b))))},text:"Inspect Series Cardinality"})))}},543:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(2),r=a.n(n),s=a(3),o=a(658),i=a(145),l=a(106);class c extends n.PureComponent{constructor(){super(...arguments),this.doNothing=()=>{},this.handleExport=()=>{var e,t,a;const{resource:n,resourceName:r,onDismissOverlay:s}=this.props,o=(null===(a=null===(t=null===(e=null==n?void 0:n.content)||void 0===e?void 0:e.data)||void 0===t?void 0:t.attributes)||void 0===a?void 0:a.name)||r;Object(l.b)(JSON.stringify(n,null,1),o,".json"),s()}}render(){const{isVisible:e,resourceName:t,onDismissOverlay:a,status:n}=this.props;return r.a.createElement(s.Overlay,{visible:e},r.a.createElement(s.Overlay.Container,{maxWidth:800},r.a.createElement(s.Form,{onSubmit:this.handleExport},r.a.createElement(s.Overlay.Header,{title:`Export ${t}`,onDismiss:a}),r.a.createElement(s.Overlay.Body,null,r.a.createElement(s.SpinnerContainer,{loading:n,spinnerComponent:r.a.createElement(s.TechnoSpinner,null)},this.overlayBody)),r.a.createElement(s.Overlay.Footer,null,this.downloadButton,this.copyButton))))}get overlayBody(){return r.a.createElement("div",{className:"export-overlay--text-area","data-testid":"export-overlay--text-area"},r.a.createElement(o.Controlled,{autoFocus:!1,autoCursor:!0,value:this.resourceText,options:{tabIndex:1,mode:"json",readonly:!0,lineNumbers:!0,autoRefresh:!0,theme:"time-machine",completeSingle:!1},onBeforeChange:this.doNothing,onTouchStart:this.doNothing}))}get resourceText(){return JSON.stringify(this.props.resource,null,2)}get copyButton(){return r.a.createElement(i.a,{text:this.resourceText,onCopy:this.props.onCopy,size:s.ComponentSize.Small})}get downloadButton(){return r.a.createElement(s.Button,{text:"Download JSON",onClick:this.handleExport,color:s.ComponentColor.Primary})}}c.defaultProps={isVisible:!0}},607:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n=(e,t=10)=>t<=0?"":window.google_optimize?window.google_optimize.get(e)||null:void setTimeout((()=>n(e,t-1)),100),r=(e,t="optimize.activate")=>((async e=>{window.dataLayer&&await window.dataLayer.push({event:e})})(t),n(e))},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(9),r=a(124),s=a(6);const o=e=>{const t=Object(r.a)().getState(),a=Object(n.a)(t),o=s.f?"InfluxDB Cloud":"InfluxDB";return(a&&a.name?[...e,Object(n.a)(t).name,o]:[...e,o]).join(" | ")}},657:function(e,t,a){(function(t){var a=function(){var e=!0,a=!1,n={},r=function(){"use strict";var e,t,a,n,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:e,text:a}},o=function(n){return n&&n!==t&&s("Expected '"+n+"' instead of '"+t+"'"),t=a.charAt(e),e+=1,t},i=function(){var e,a="";for("-"===t&&(a="-",o("-"));t>="0"&&t<="9";)a+=t,o();if("."===t)for(a+=".";o()&&t>="0"&&t<="9";)a+=t;if("e"===t||"E"===t)for(a+=t,o(),"-"!==t&&"+"!==t||(a+=t,o());t>="0"&&t<="9";)a+=t,o();if(e=+a,isFinite(e))return e;s("Bad number")},l=function(){var e,a,n,i="";if('"'===t)for(;o();){if('"'===t)return o(),i;if("\\"===t)if(o(),"u"===t){for(n=0,a=0;a<4&&(e=parseInt(o(),16),isFinite(e));a+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof r[t])break;i+=r[t]}else i+=t}s("Bad string")},c=function(){for(;t&&t<=" ";)o()};return n=function(){switch(c(),t){case"{":return function(){var e,a={};if("{"===t){if(o("{"),c(),"}"===t)return o("}"),a;for(;t;){if(e=l(),c(),o(":"),Object.hasOwnProperty.call(a,e)&&s("Duplicate key '"+e+"'"),a[e]=n(),c(),"}"===t)return o("}"),a;o(","),c()}}s("Bad object")}();case"[":return function(){var e=[];if("["===t){if(o("["),c(),"]"===t)return o("]"),e;for(;t;){if(e.push(n()),c(),"]"===t)return o("]"),e;o(","),c()}}s("Bad array")}();case'"':return l();case"-":return i();default:return t>="0"&&t<="9"?i():function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}s("Unexpected '"+t+"'")}()}},function(r,o){var i;return a=r,e=0,t=" ",i=n(),c(),t&&s("Syntax error"),"function"==typeof o?function e(t,a){var n,r,s=t[a];if(s&&"object"==typeof s)for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(void 0!==(r=e(s,n))?s[n]=r:delete s[n]);return o.call(t,a,s)}({"":i},""):i}}();var s,o,i=(s={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,a,n,r,s,o){var i=s.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=s[i-1];case 13:this.$={};break;case 14:case 19:this.$=s[i-1];break;case 15:this.$=[s[i-2],s[i]];break;case 16:this.$={},this.$[s[i][0]]=s[i][1];break;case 17:this.$=s[i-2],s[i-2][s[i][0]]=s[i][1];break;case 18:this.$=[];break;case 20:this.$=[s[i]];break;case 21:this.$=s[i-2],s[i-2].push(s[i])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,a=[0],n=[null],r=[],s=this.table,o="",i=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;function p(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}r.push(d),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,u,m,b,g,y,f,S,D,C,v={};;){if(m=a[a.length-1],this.defaultActions[m]?b=this.defaultActions[m]:(null==h&&(h=p()),b=s[m]&&s[m][h]),void 0===b||!b.length||!b[0]){if(!c){for(y in D=[],s[m])this.terminals_[y]&&y>2&&D.push("'"+this.terminals_[y]+"'");var E="";E=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+D.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:d,expected:D})}if(3==c){if(1==h)throw new Error(E||"Parsing halted.");l=this.lexer.yyleng,o=this.lexer.yytext,i=this.lexer.yylineno,d=this.lexer.yylloc,h=p()}for(;!(2..toString()in s[m]);){if(0==m)throw new Error(E||"Parsing halted.");C=1,a.length=a.length-2*C,n.length=n.length-C,r.length=r.length-C,m=a[a.length-1]}u=h,h=2,b=s[m=a[a.length-1]]&&s[m][2],c=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+h);switch(b[0]){case 1:a.push(h),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),a.push(b[1]),h=null,u?(h=u,u=null):(l=this.lexer.yyleng,o=this.lexer.yytext,i=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(f=this.productions_[b[1]][1],v.$=n[n.length-f],v._$={first_line:r[r.length-(f||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(f||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(v,o,l,i,this.yy,b[1],n,r)))return g;f&&(a=a.slice(0,-1*f*2),n=n.slice(0,-1*f),r=r.slice(0,-1*f)),a.push(this.productions_[b[1]][0]),n.push(v.$),r.push(v._$),S=s[a[a.length-2]][a[a.length-1]],a.push(S);break;case 3:return!0}}return!0}},o=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,a,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(!(a=this._input.match(this.rules[s[o]]))||t&&!(a[0].length>t[0].length)||(t=a,n=o,this.options.flex));o++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,a,n){switch(a){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}(),s.lexer=o,s),l=i.parse;return i.parse=function(t){var a=l.call(i,t),n=void 0===r?e("./doug-json-parse"):r;try{n(t)}catch(e){if(/Duplicate key|Bad string|Unexpected/.test(e.message)){var s=t.substring(0,e.at).split("\n"),o=s.length,c=s[o-1].length-1;throw this.parseError(e.message,{line:o,col:c,message:e.message.replace(/./,(function(e){return e.toLowerCase()}))}),SyntaxError(e.message+" on line "+o)}}return a},void 0!==n&&(n.parser=i,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(a){if(!a[1])throw new Error("Usage: "+a[0]+" FILE");if(void 0!==t)var r=e("fs").readFileSync(e("path").join(t.cwd(),a[1]),"utf8");else r=e("file").path(e("file").cwd()).join(a[1]).read({charset:"utf-8"});return n.parser.parse(r)},e.main===a&&n.main(void 0!==t?t.argv.slice(1):e("system").args)),n}();e.exports&&(e.exports=a)}).call(this,a(126))},664:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),r=a(607);const s=({experimentID:e,activationEvent:t,original:a=null,variants:s})=>{const[o,i]=Object(n.useState)("");return Object(n.useEffect)((()=>{i(Object(r.a)(e,t))})),o&&[a,...s][o]||a}},665:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(3),i=a(34),l=a(6);class c extends n.PureComponent{constructor(){super(...arguments),this.handleLimit=()=>{const{resourceName:e,onShowOverlay:t,onDismissOverlay:a}=this.props;t("asset-limit",{asset:`${e}s`},a)},this.handleSelect=e=>{const{onSelectNew:t,onSelectImport:a,onSelectTemplate:n,limitStatus:r="ok"}=this.props;l.f&&"exceeded"===r?this.handleLimit():(e===this.newOption&&t(),e===this.importOption&&a(),e==this.templateOption&&n())}}render(){const{titleText:e,status:t}=this.props;return r.a.createElement(o.Dropdown,{style:{width:"232px"},testID:"add-resource-dropdown",button:(a,n)=>r.a.createElement(o.Dropdown.Button,{testID:"add-resource-dropdown--button",active:a,onClick:n,color:o.ComponentColor.Primary,size:o.ComponentSize.Small,icon:o.IconFont.Plus_New,status:t,style:{textTransform:"uppercase",letterSpacing:"0.07em"}},e||`Create ${this.props.resourceName}`),menu:e=>r.a.createElement(o.Dropdown.Menu,{onCollapse:e,testID:"add-resource-dropdown--menu"},this.optionItems)},this.optionItems)}get optionItems(){const e=this.importOption,t=this.newOption,a=this.templateOption,n="Dashboard"===this.props.resourceName,s=r.a.createElement(o.Dropdown.Item,{id:a,key:a,onClick:this.handleSelect,value:a,testID:"add-resource-dropdown--template"},a);return[r.a.createElement(o.Dropdown.Item,{id:t,key:t,onClick:this.handleSelect,value:t,testID:"add-resource-dropdown--new"},t),r.a.createElement(o.Dropdown.Item,{id:e,key:e,onClick:this.handleSelect,value:e,testID:"add-resource-dropdown--import"},e),...n?[s]:[]]}get newOption(){return`New ${this.props.resourceName}`}get importOption(){return`Import ${this.props.resourceName}`}get templateOption(){return"Add a Template"}}c.defaultProps={status:o.ComponentStatus.Default,titleText:null};const d={onShowOverlay:i.d,onDismissOverlay:i.b},p=Object(s.c)(null,d);t.a=p(c)},685:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(184),o=a(3),i=a(19),l=a.n(i);let c=0;class d extends n.PureComponent{constructor(e){super(e),this.handleWindowDragOver=e=>{e.preventDefault()},this.handleSubmit=()=>{const{handleSubmit:e}=this.props,{uploadContent:t}=this.state;e(t)},this.handleFileClick=e=>{const t=e.currentTarget.files[0];if(!t)return;e.preventDefault(),e.stopPropagation();const a=new FileReader;a.readAsText(t),a.onload=()=>{this.setState({uploadContent:a.result,fileName:t.name},(()=>this.submitOnUpload()))}},this.handleFileDrop=e=>{const t=e.dataTransfer.files[0];if(this.setState({dragClass:"drag-none"}),!t)return;e.preventDefault(),e.stopPropagation();const a=new FileReader;a.readAsText(t),a.onload=()=>{this.setState({uploadContent:a.result,fileName:t.name},(()=>this.submitOnDrop()))}},this.handleFileOpen=()=>{const{uploadContent:e}=this.state;""===e&&this.fileInput.click()},this.handleCancelFile=()=>{const{onCancel:e}=this.props;this.setState({uploadContent:""}),this.fileInput.value="",e&&e()},this.handleDragEnter=e=>{c+=1,e.preventDefault(),this.setState({dragClass:"drag-over"})},this.handleDragLeave=e=>{c-=1,e.preventDefault(),0===c&&this.setState({dragClass:"drag-none"})},this.state={inputContent:null,uploadContent:"",fileName:"",dragClass:"drag-none"}}componentDidMount(){window.addEventListener("dragover",this.handleWindowDragOver),window.addEventListener("drop",this.handleFileDrop),window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave)}componentWillUnmount(){window.removeEventListener("dragover",this.handleWindowDragOver),window.removeEventListener("drop",this.handleFileDrop),window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave)}render(){return r.a.createElement("div",{className:this.containerClass},r.a.createElement("div",{className:this.dragAreaClass,onClick:this.handleFileOpen},this.dragAreaHeader,r.a.createElement("div",{className:this.infoClass}),r.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:e=>this.fileInput=e,className:"drag-and-drop--input",accept:this.fileTypesToAccept,onChange:this.handleFileClick}),this.buttons))}get fileTypesToAccept(){const{fileTypesToAccept:e}=this.props;return e||"*"}get containerClass(){const{dragClass:e}=this.state,{compact:t,className:a}=this.props;return l()("drag-and-drop",{compact:t,[e]:!0,[a]:a})}get infoClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--graphic",{success:e})}get dragAreaClass(){const{uploadContent:e}=this.state;return l()("drag-and-drop--form",{active:!e})}get dragAreaHeader(){const{uploadContent:e,fileName:t}=this.state;return e?r.a.createElement("div",{className:"drag-and-drop--header selected"},t):r.a.createElement("div",{className:"drag-and-drop--header empty"},"Drop a file here or click to upload")}get buttons(){const{uploadContent:e}=this.state,{submitText:t,submitOnDrop:a}=this.props;return e?a?r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(o.Button,{color:o.ComponentColor.Tertiary,text:"Cancel",size:o.ComponentSize.Medium,type:o.ButtonType.Button,onClick:this.handleCancelFile})):r.a.createElement("span",{className:"drag-and-drop--buttons"},r.a.createElement(o.Button,{color:o.ComponentColor.Primary,text:t,size:o.ComponentSize.Medium,type:o.ButtonType.Submit,onClick:this.handleSubmit}),r.a.createElement(o.Button,{color:o.ComponentColor.Tertiary,text:"Cancel",size:o.ComponentSize.Medium,type:o.ButtonType.Submit,onClick:this.handleCancelFile})):null}submitOnDrop(){const{submitOnDrop:e}=this.props;e&&this.handleSubmit()}submitOnUpload(){const{submitOnUpload:e}=this.props;e&&this.handleSubmit()}}d.defaultProps={submitText:"Write this File",submitOnDrop:!1,submitOnUpload:!1,compact:!1,className:""};var p,h=d;!function(e){e.Upload="upload",e.Paste="paste"}(p||(p={}));class u extends n.PureComponent{constructor(){super(...arguments),this.state={selectedImportOption:p.Upload,importContent:""},this.handleChangeTextArea=e=>{const{updateStatus:t=(()=>{})}=this.props,a=e.target.value;this.handleSetImportContent(a),t(o.ComponentStatus.Default)},this.submit=()=>{const{importContent:e}=this.state,{onSubmit:t,match:{params:{orgID:a}}}=this.props;t(e,a),this.clearImportContent()},this.clearImportContent=()=>{this.setState(((e,t)=>{const{status:a=o.ComponentStatus.Default}=t;return a===o.ComponentStatus.Error?Object.assign({},e):{importContent:""}}))},this.onDismiss=()=>{const{onDismissOverlay:e}=this.props;this.clearImportContent(),e()},this.handleSetImportOption=e=>{this.clearImportContent(),this.setState({selectedImportOption:e})},this.handleSetImportContent=e=>{this.setState({importContent:e})}}render(){const{resourceName:e}=this.props,{selectedImportOption:t}=this.state;return r.a.createElement(o.Overlay,{visible:!0,testID:"task-import--overlay"},r.a.createElement(o.Overlay.Container,{maxWidth:800},r.a.createElement(o.Form,{onSubmit:this.submit},r.a.createElement(o.Overlay.Header,{title:`Import ${e}`,onDismiss:this.onDismiss}),r.a.createElement(o.Overlay.Body,null,r.a.createElement("div",{className:"import--options"},r.a.createElement(o.SelectGroup,null,r.a.createElement(o.SelectGroup.Option,{name:"import-mode",id:p.Upload,active:t===p.Upload,value:p.Upload,onClick:this.handleSetImportOption,titleText:"Upload"},"Upload File"),r.a.createElement(o.SelectGroup.Option,{name:"import-mode",id:p.Paste,active:t===p.Paste,value:p.Paste,onClick:this.handleSetImportOption,titleText:"Paste",testID:"select-group--paste-json-button"},"Paste JSON"))),this.importBody),r.a.createElement(o.Overlay.Footer,null,this.submitButton))))}get importBody(){const{selectedImportOption:e,importContent:t}=this.state,{status:a=o.ComponentStatus.Default}=this.props;return e===p.Upload?r.a.createElement(h,{submitText:"Upload",handleSubmit:this.handleSetImportContent,submitOnDrop:!0,submitOnUpload:!0,onCancel:this.clearImportContent}):e===p.Paste?r.a.createElement(o.TextArea,{status:a,value:t,onChange:this.handleChangeTextArea,testID:"import-overlay--textarea"}):void 0}get submitButton(){const{resourceName:e}=this.props,{selectedImportOption:t,importContent:a}=this.state,n=t===p.Paste||t===p.Upload&&a?o.ComponentStatus.Default:o.ComponentStatus.Disabled;return r.a.createElement(o.Button,{text:`Import JSON as ${e}`,testID:`submit-button ${e}`,color:o.ComponentColor.Primary,status:n,type:o.ButtonType.Submit})}}u.defaultProps={isVisible:!0};t.a=Object(s.j)(u)},761:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(184),o=a(4),i=a(8),l=a(3),c=a(76),d=a(9),p=a(11),h=a(201),u=a(5);const m=Object(o.c)((e=>{const{id:t}=Object(d.a)(e);return{orgID:t,buckets:Object(p.a)(e,u.ResourceType.Buckets)}}));t.a=m((({orgID:e,buckets:t,children:a})=>{const o=Object(s.f)(),[d,p]=Object(n.useState)(null),u="boolean"==typeof d?l.RemoteDataState.Done:l.RemoteDataState.NotStarted;Object(n.useEffect)((()=>{m().then((e=>{p(e)})).catch((e=>{throw p(!0),new Error(e)}))}),[t]);const m=async()=>{const a=t.filter((e=>"user"===e.type));if(a.length>4)return!0;const n=await(async(e,t)=>{for(const a of e)if(await t(a))return!0;return!1})(a,(async t=>await(t=>{const a=`\n    import "influxdata/influxdb"\n    influxdb.cardinality(bucket: "${t}", start: -14d)\n    `;return Object(h.a)(e,a).promise.then((e=>{const t=Object(i.get)(e,"csv","1");return Number(t.substr(t.lastIndexOf(",")+1))})).catch((e=>{throw new Error(e)}))})(t.name)>0));return n};return d?r.a.createElement(l.SpinnerContainer,{spinnerComponent:r.a.createElement(l.TechnoSpinner,null),loading:u},a):r.a.createElement(l.SpinnerContainer,{spinnerComponent:r.a.createElement(l.TechnoSpinner,null),loading:u},r.a.createElement(l.EmptyState,{size:l.ComponentSize.Large,className:"dataless-empty-state"},r.a.createElement("div",{className:"dataless-empty-state--image"}),r.a.createElement(l.EmptyState.Text,null,"Looks like you haven’t"," ",r.a.createElement("a",{href:`https://docs.influxdata.com/influxdb/${c.a}/write-data/`,className:"dataless-empty-state--docs-link",target:"blank"},"written")," ","any data yet, let’s get started."),r.a.createElement(l.Button,{text:"Start Writing Data",onClick:()=>{o.push(`/orgs/${e}/load-data/sources`)},testID:"dataless-empty-state--load-data-button",color:l.ComponentColor.Primary,size:l.ComponentSize.Large})))}))},77:function(e,t,a){"use strict";var n=a(2),r=a(6);t.a=class extends n.PureComponent{render(){const{children:e}=this.props;return r.f?e:null}}},89:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(19),i=a.n(o),l=a(3),c=a(50),d=a(43),p=a(6),h=a(53),u=a(10),m=a(13),b=a(29),g=a(34);a(100);const y={sendNotify:u.c,handleShowOverlay:g.d,handleDismissOverlay:g.b};t.a=Object(s.c)((e=>{const t=Object(d.j)(e);return{status:Object(d.k)(e),resources:t,showUpgrade:Object(b.c)(e)}}),y)((({status:e,alertOnly:t,className:a,resources:s,showUpgrade:o,sendNotify:d,handleShowOverlay:u,handleDismissOverlay:b})=>{const g=()=>{u("write-limit",null,b)};Object(n.useEffect)((()=>{p.f&&"exceeded"===e&&s.includes("write")&&d(o?Object(m.Ud)("",r.a.createElement(h.a,{type:"write",link:"https://docs.influxdata.com/influxdb/v2.0/write-data/best-practices/optimize-writes/",className:"flex-upgrade-content"})):Object(m.Ud)("Data in has stopped because you've hit the query write limit. Let's get it flowing again: ",r.a.createElement(l.Button,{className:"rate-alert-overlay-button",color:l.ComponentColor.Primary,size:l.ComponentSize.Small,onClick:g,text:"Request Write Limit Increase"})))}),[o,e]);const y=i()("rate-alert",{[`${a}`]:a});return p.f&&"exceeded"===e&&s.includes("cardinality")?r.a.createElement(l.FlexBox,{direction:l.FlexDirection.Column,alignItems:l.AlignItems.Center,margin:l.ComponentSize.Large,className:y},r.a.createElement(l.BannerPanel,{size:l.ComponentSize.ExtraSmall,gradient:l.Gradients.PolarExpress,icon:l.IconFont.Cloud,hideMobileIcon:!0,textColor:l.InfluxColors.Yeti},r.a.createElement(h.b,null))):p.f&&!t?r.a.createElement(c.a,{className:"upgrade-payg--button__header"}):null}))},974:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(184),i=a(3),l=a(348),c=a(138),d=a(118),p=a(128),h=a(392),u=a(13),m=a(10),b=a(217),g=a(29),y=a(9),f=a(24),S=a(6);class D extends n.PureComponent{constructor(){super(...arguments),this.handleUpdateDashboard=e=>{const{id:t,onUpdateDashboard:a}=this.props;if(a(t,{name:e}),Object(f.c)("pinnedItems")&&S.f)try{Object(b.updatePinnedItemByParam)(t,{name:e}),this.props.sendNotification(Object(u.Pc)("dashboard","updated"))}catch(e){this.props.sendNotification(Object(u.Oc)(e.message,"dashboard"))}},this.handleCloneDashboard=()=>{const{id:e,name:t,onCloneDashboard:a}=this.props;a(e,t)},this.handlePinDashboard=()=>{try{Object(b.addPinnedItem)({orgID:this.props.org.id,userID:this.props.me.id,metadata:{dashboardID:this.props.id,name:this.props.name,description:this.props.description},type:b.PinnedItemTypes.Dashboard}),this.props.sendNotification(Object(u.Pc)("dashboard","added"))}catch(e){this.props.sendNotification(Object(u.Oc)(e.message,"dashboard"))}},this.handleDeleteDashboard=()=>{const{id:e,name:t,onDeleteDashboard:a}=this.props;a(e,t),Object(b.deletePinnedItemByParam)(e)},this.handleClickDashboard=e=>{const{onResetViews:t,history:a,id:n,match:{params:{orgID:r}}}=this.props;let s=`/notebook/from/dashboard/${n}`;Object(f.c)("boardWithFlows")||(s=`/orgs/${r}/dashboards/${n}`),e.metaKey?window.open(s,"_blank"):a.push(s),t()},this.handleUpdateDescription=e=>{const{id:t,onUpdateDashboard:a}=this.props;a(t,{description:e});try{Object(b.updatePinnedItemByParam)(t,{description:e})}catch(e){this.props.sendNotification(Object(u.Oc)(e.message,"dashboard"))}},this.handleAddLabel=e=>{const{onAddDashboardLabel:t,id:a}=this.props;t(a,e)},this.handleRemoveLabel=e=>{const{onRemoveDashboardLabel:t,id:a}=this.props;t(a,e)},this.handleExport=()=>{const{history:e,match:{params:{orgID:t}},id:a}=this.props;e.push(`/orgs/${t}/dashboards-list/${a}/export`)}}render(){const{id:e,name:t,description:a,onFilterChange:n,labels:s,updatedAt:o}=this.props;return r.a.createElement(i.ResourceCard,{key:`dashboard-id--${e}`,testID:"dashboard-card",contextMenu:this.contextMenu},r.a.createElement(i.ResourceCard.EditableName,{onUpdate:this.handleUpdateDashboard,onClick:this.handleClickDashboard,name:t,noNameString:p.e,testID:"dashboard-card--name",buttonTestID:"dashboard-card--name-button",inputTestID:"dashboard-card--input"}),r.a.createElement(i.ResourceCard.EditableDescription,{onUpdate:this.handleUpdateDescription,description:a,placeholder:`Describe ${t}`}),r.a.createElement(i.ResourceCard.Meta,null,Object(h.a)(o,"Last modified ")),r.a.createElement(l.a,{selectedLabelIDs:s,onFilterChange:n,onAddLabel:this.handleAddLabel,onRemoveLabel:this.handleRemoveLabel}))}get contextMenu(){const e=Object(n.createRef)();return r.a.createElement(i.FlexBox,{margin:i.ComponentSize.ExtraSmall},r.a.createElement(i.ConfirmationButton,{color:i.ComponentColor.Colorless,icon:i.IconFont.Trash_New,shape:i.ButtonShape.Square,size:i.ComponentSize.ExtraSmall,confirmationLabel:"Yes, delete this dashboard",onConfirm:this.handleDeleteDashboard,confirmationButtonText:"Confirm",testID:"context-delete-menu"}),r.a.createElement(i.SquareButton,{ref:e,size:i.ComponentSize.ExtraSmall,icon:i.IconFont.CogSolid_New,color:i.ComponentColor.Colorless,testID:"context-menu-dashboard"}),r.a.createElement(i.Popover,{appearance:i.Appearance.Outline,enableDefaultStyles:!1,style:{minWidth:"112px"},contents:()=>r.a.createElement(i.List,null,r.a.createElement(i.List.Item,{onClick:this.handleExport,size:i.ComponentSize.Small,style:{fontWeight:500},testID:"context-export-dashboard"},"Export"),r.a.createElement(i.List.Item,{onClick:this.handleCloneDashboard,size:i.ComponentSize.Small,style:{fontWeight:500},testID:"context-clone-dashboard"},"Clone"),Object(f.c)("pinnedItems")&&S.f&&r.a.createElement(i.List.Item,{onClick:this.handlePinDashboard,disabled:this.props.isPinned,size:i.ComponentSize.Small,style:{fontWeight:500},testID:"context-pin-dashboard"},"Pin")),triggerRef:e}))}}const C={onAddDashboardLabel:c.a,onRemoveDashboardLabel:c.k,onResetViews:d.g,onCloneDashboard:c.b,onDeleteDashboard:c.g,onUpdateDashboard:c.m,sendNotification:m.c},v=Object(s.c)((e=>{const t=Object(g.a)(e);return{org:Object(y.a)(e),me:t}}),C);t.a=v(Object(o.j)(D))},975:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(3),o=a(665),i=a(761),l=a(664),c=a(98),d=a(5);t.a=({searchTerm:e,onCreateDashboard:t,summonImportOverlay:a,summonImportFromTemplateOverlay:n})=>e?r.a.createElement(s.EmptyState,{size:s.ComponentSize.Large,testID:"empty-dashboards-list"},r.a.createElement(s.EmptyState.Text,null,"No Dashboards match your search term")):r.a.createElement(l.a,{experimentID:"H_NofBAhSW-hv6zaYaxeow",original:r.a.createElement(s.EmptyState,{size:s.ComponentSize.Large,testID:"empty-dashboards-list"},r.a.createElement(s.EmptyState.Text,null,"Looks like you don't have any ",r.a.createElement("b",null,"Dashboards"),", why not create one?"),r.a.createElement(o.a,{onSelectNew:t,onSelectImport:a,onSelectTemplate:n,resourceName:"Dashboard"})),variants:[r.a.createElement(c.a,{resources:[d.ResourceType.Buckets],key:"1"},r.a.createElement(i.a,null,r.a.createElement(s.EmptyState,{size:s.ComponentSize.Large,testID:"empty-dashboards-list"},r.a.createElement(s.EmptyState.Text,null,"Looks like you don't have any ",r.a.createElement("b",null,"Dashboards"),", why not create one?"),r.a.createElement(o.a,{onSelectNew:t,onSelectImport:a,onSelectTemplate:n,resourceName:"Dashboard"}))))]})},976:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(184),o=a(8),i=a(4),l=a(685),c=a(13),d=a(138),p=a(10),h=a(3),u=a(657),m=a.n(u);class b extends n.PureComponent{constructor(){super(...arguments),this.state={status:h.ComponentStatus.Default},this.updateOverlayStatus=e=>this.setState((()=>({status:e}))),this.handleImportDashboard=e=>{const{createDashboardFromTemplate:t,notify:a,populateDashboards:n}=this.props;let r;this.updateOverlayStatus(h.ComponentStatus.Default);try{r=m.a.parse(e)}catch(e){return this.updateOverlayStatus(h.ComponentStatus.Error),void a(Object(c.gc)(e.message))}Object(o.isEmpty)(r)&&this.onDismiss(),t(r),n(),this.onDismiss()},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()}}render(){return r.a.createElement(l.a,{isVisible:!0,onDismissOverlay:this.onDismiss,resourceName:"Dashboard",onSubmit:this.handleImportDashboard,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const g={notify:p.c,populateDashboards:d.i,createDashboardFromTemplate:d.e},y=Object(i.c)(null,g);t.a=y(Object(s.j)(b))},977:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(4),o=a(184),i=a(543),l=a(138),c=a(412),d=a(10),p=a(13);t.a=()=>{const{dashboardID:e}=Object(o.h)(),t=Object(s.d)(),a=Object(o.f)();Object(n.useEffect)((()=>{e&&t(Object(l.c)(e))}),[e]);const h=Object(s.e)((e=>e.resources.templates.exportTemplate.status)),u=Object(s.e)((e=>e.resources.templates.exportTemplate.item));return r.a.createElement(i.a,{resourceName:"Dashboard",resource:u,onDismissOverlay:()=>{a.goBack(),t(c.a)},onCopy:()=>{t(Object(d.c)(Object(p.kb)()))},status:h})}}}]);
//# sourceMappingURL=47.84ba624f48.js.map