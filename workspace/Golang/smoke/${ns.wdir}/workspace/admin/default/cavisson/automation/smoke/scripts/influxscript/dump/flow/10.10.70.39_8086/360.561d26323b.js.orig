(window.webpackJsonp=window.webpackJsonp||[]).push([[360],{2573:function(t,e,a){"use strict";a.r(e);var r=a(2),n=a.n(r),s=a(4),o=a(184),u=a(8),c=a(3),i=a(932);class l extends r.PureComponent{constructor(t){super(t),this.handleCreateOrg=async()=>{const{org:t,bucket:e}=this.state,{createOrgWithBucket:a}=this.props;await a(t,e)},this.closeModal=()=>{this.props.history.goBack()},this.handleChangeOrgInput=t=>{const e=t.target.value,a=t.target.name,r=Object.assign(Object.assign({},this.state.org),{[a]:e});if(!e)return this.setState({org:r,orgNameInputStatus:c.ComponentStatus.Error,orgErrorMessage:this.randomErrorMessage(a,"organization")});this.setState({org:r,orgNameInputStatus:c.ComponentStatus.Valid,orgErrorMessage:""})},this.handleChangeBucketInput=t=>{const e=t.target.value,a=t.target.name,r=Object.assign(Object.assign({},this.state.bucket),{[a]:e});if(!e)return this.setState({bucket:r,bucketNameInputStatus:c.ComponentStatus.Error,bucketErrorMessage:this.randomErrorMessage(a,"bucket")});this.setState({bucket:r,bucketNameInputStatus:c.ComponentStatus.Valid,bucketErrorMessage:""})},this.randomErrorMessage=(t,e)=>{const a=[`Imagine that! ${Object(u.startCase)(e)} without a ${t}`,`${Object(u.startCase)(e)} needs a ${t}`,`You're not getting far without a ${t}`,`The ${e} formerly known as...`,`Pick a ${t}, any ${t}`,`Any ${t} will do`];return Object(u.sample)(a)},this.state={org:{name:""},bucket:{name:"",retentionRules:[],readableRetention:"forever"},orgNameInputStatus:c.ComponentStatus.Default,bucketNameInputStatus:c.ComponentStatus.Default,orgErrorMessage:"",bucketErrorMessage:""}}render(){const{org:t,orgNameInputStatus:e,orgErrorMessage:a,bucket:r,bucketNameInputStatus:s,bucketErrorMessage:o}=this.state;return n.a.createElement(c.Overlay,{visible:!0},n.a.createElement(c.Overlay.Container,{maxWidth:500},n.a.createElement(c.Overlay.Header,{title:"Create Organization",onDismiss:this.closeModal,testID:"create-org-overlay--header"}),n.a.createElement(c.Form,{onSubmit:this.handleCreateOrg},n.a.createElement(c.Overlay.Body,null,n.a.createElement(c.Form.Element,{label:"Organization Name",errorMessage:a},n.a.createElement(c.Input,{placeholder:"Give your organization a name",name:"name",autoFocus:!0,value:t.name,onChange:this.handleChangeOrgInput,status:e,testID:"create-org-name-input"})),n.a.createElement(c.Form.Element,{label:"Bucket Name",errorMessage:o},n.a.createElement(c.Input,{placeholder:"Give your bucket a name",name:"name",autoFocus:!1,value:r.name,onChange:this.handleChangeBucketInput,status:s,testID:"create-org-name-input"}))),n.a.createElement(c.Overlay.Footer,null,n.a.createElement(c.Button,{text:"Cancel",color:c.ComponentColor.Tertiary,onClick:this.closeModal}),n.a.createElement(c.Button,{text:"Create",type:c.ButtonType.Submit,color:c.ComponentColor.Primary,status:this.submitButtonStatus,testID:"create-org-submit-button"})))))}get submitButtonStatus(){const{org:t,bucket:e}=this.state;return t.name&&e.name?c.ComponentStatus.Default:c.ComponentStatus.Disabled}}const m={createOrgWithBucket:i.a},g=Object(s.c)(null,m);e.default=g(Object(o.j)(l))}}]);
//# sourceMappingURL=360.561d26323b.js.map